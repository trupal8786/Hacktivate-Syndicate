"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="216e5bfb-4b81-5d44-9ccd-d27fc0d8665a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["7955"],{851930(e,t,i){i.d(t,{I:()=>n,h:()=>o});var s=i(990879);let n=(0,s.NC)("PROGRESS_CLEAR"),o=(0,s.NC)("PROGRESS_SET")},30720(e,t,i){i.d(t,{$x:()=>o,Vt:()=>r,oh:()=>n});var s=i(620749);let n=/https?:\/\/(?![\w.-]+\.(?:auto|map|center)[^\w.-]?)\S*/i;function o(e){try{return new URL(e),!0}catch(e){return!1}}function r(e){return s.I6(e,"url").concat(s.I6(e,"email")).filter(e=>!!o(e.href)&&n.test(e.href))}},937691(e,t,i){i.d(t,{n:()=>r});var s=i(818381),n=i(838719),o=i(35212);let r=new class{constructor(){this.RecentPrototypesSchemaValidator=(0,o.YV)("RecentPrototypesSchemaValidator",e=>e.object({recent_prototypes:s.Ip.ignore(),recent_prototype_repos:s.Ip.ignore()}),null,!1)}getRecentPrototypes(e){return this.RecentPrototypesSchemaValidator.validate(async({xr:t})=>await t.get("/api/recent_prototypes",o.td.toAPIParameters({...e,fuid:(0,n.default)().user_data?.id})))}}},544919(e,t,i){i.d(t,{M:()=>l});var s=i(105652),n=i(56967),o=i(493094),r=i(644350),a=i(141363);function l({enabled:e=!0}={}){let[t]=(0,o.IT)((0,r.VOM)({}),{enabled:e}),i=(0,s.useMemo)(()=>t.transform(e=>(0,a.YN)(e.currentUser.recentFiles)),[t]);return(0,s.useEffect)(()=>{"loaded"===i.status&&(0,n.Wn)(i.data)},[i]),s.useMemo(()=>i.transform(e=>e.recent_files),[i])}},707681(e,t,i){i.d(t,{i:()=>L});var s=i(239976),n=i(105652),o=i(916290),r=i(185805),a=i(395227),l=i(71239),d=i(297151),h=i(195784),c=i(865804),u=i(295815),m=i(354991),p=i(39382),g=i(585255),T=i(289886),f=i(113116),w=i(517436),b=i(375391),y=i(209535),v=i(697764),k=i(544133),x=i(856680),C=i(54352),E=i(855277);i(526865);let R=(0,u.hG)("48px"),M=(0,u.hG)("12px"),P=e=>null!==e?e:void 0;class L extends n.Component{constructor(e){super(e),this.renderIfDocumentComplete=()=>{"complete"===document.readyState&&this.forceRender()},this.updateRcsKeyLocationIfChanged=e=>{let t=e[0];if(t?.boundingClientRect==null)return void this.setState({rcsKeyLocation:null});let i=this.computeLocation(t.boundingClientRect);(null==this.state.rcsKeyLocation||this.state.rcsKeyLocation.top!==i.top||this.state.rcsKeyLocation.left!==i.left)&&this.setState({rcsKeyLocation:i})},this.getRcsKeyElementObserver=new IntersectionObserver(this.updateRcsKeyLocationIfChanged),this.elementMutationObserver=null,this.startScanningForRcsKeyElement=()=>{this.cleanUpRcsKeyElementScanner();let e=this.props.step;if(e.modalType!==C.q3.DRAGGABLE)return;if(!e.onboardingKey)return void this.setState({rcsKeyLocation:null});let t=this.getRcsKeyElement();t?this.getRcsKeyElementObserver.observe(t):(this.elementMutationObserver=new MutationObserver(()=>{let e=this.getRcsKeyElement();e&&(this.getRcsKeyElementObserver.observe(e),this.stopWatchingForElement())}),this.elementMutationObserver.observe(document.body,{childList:!0,subtree:!0}))},this.stopWatchingForElement=()=>{this.elementMutationObserver&&(this.elementMutationObserver.disconnect(),this.elementMutationObserver=null)},this.cleanUpRcsKeyElementScanner=()=>{this.getRcsKeyElementObserver.disconnect(),this.stopWatchingForElement()},this.acceptHeight=e=>this.setState({modalHeight:e}),this.button=null,this.nextButtonRef=e=>{e&&(this.button=e,this.focusButton())},this.focusButton=()=>{this.button&&!this.props.step.UNSAFE_disableFocus&&this.button.focus()},this.computeLocation=e=>{let t=this.props.step;if(t.modalType!==C.q3.DRAGGABLE)return{top:null,left:null,arrowRelativeX:null,arrowRelativeY:null,arrowPosition:null};if(t.pointDirection===C._L.LEFT_TITLE){let t=e.top+e.height/2;return{left:e.left+e.width+16,top:t-20,arrowRelativeX:-18,arrowRelativeY:b.uF/2-9,arrowPosition:b.F_.LEFT_TITLE}}if(t.pointDirection===C._L.RIGHT_TITLE){let t=e.top+e.height/2,i=e.left-this.width-16,s=b.uF/2-9;return{left:i,top:t-20,arrowRelativeX:this.width,arrowRelativeY:s,arrowPosition:b.F_.RIGHT_TITLE}}let i=e.left+e.width/2,s=e.bottom+18,n=i-this.width/2,o=i-(n=Math.min(n=Math.max(n,10),window.innerWidth-10-this.width)),r=b.F_.TOP;return null!=this.state.modalHeight&&window.innerHeight-s<this.state.modalHeight+12&&(s=e.top-this.state.modalHeight-12,r=b.F_.BOTTOM),{left:n,top:s,arrowRelativeX:o,arrowRelativeY:null,arrowPosition:r}},this.getFramePosition=()=>this.state.rcsKeyLocation?this.state.rcsKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null},this.getRcsKeyElement=()=>{let e=this.props.step;return e.modalType===C.q3.DRAGGABLE&&e.onboardingKey?(0,v.xT)(e.onboardingKey):null},this.acceptTitle=e=>{this.setState({title:e,titleSetByStep:this.props.step})},this.forceRender=()=>this.setState({renderCount:this.state.renderCount+1}),this.getPositionAndConstraints=(e,t)=>{let i=this.getFramePosition();if(i.top&&i.left)return{initialPosition:new m.Mi(i.left,i.top)};switch(e){case C.LN.BOTTOM_LEFT:return{initialPosition:t||new m.Mi(M,M),initialConstraints:{x:"left",y:"bottom"}};case C.LN.BOTTOM_RIGHT:return{initialPosition:t||new m.Mi(p.lc,16),initialConstraints:{x:"right",y:"bottom"}};case C.LN.TOP_RIGHT:return{initialPosition:t||new m.Mi(M,R+M),initialConstraints:{x:"right",y:"top"}};case C.LN.CENTER:default:return{initialPosition:t||new m.Mi(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}},this.state={modalHeight:328,rcsKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForRcsKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpRcsKeyElementScanner()}componentDidUpdate(e,t){this.focusButton();let i=this.props.step;if(i.modalType!==C.q3.DRAGGABLE)return;let s=e.step;(s.modalType!==C.q3.DRAGGABLE||i.onboardingKey&&i.onboardingKey!==s.onboardingKey)&&this.startScanningForRcsKeyElement()}get width(){let e=this.props.step;switch(e.modalType){case C.q3.FEATURE_UPDATE:return e.width||740;case C.q3.DRAGGABLE:return e.width||350;default:return 350}}get height(){return this.state.modalHeight||328}static getDerivedStateFromProps(e,t){return e.step!==t.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){let e=this.props.step,t=this.getFramePosition(),i={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},n=(0,s.jsx)(k.Uj.Provider,{value:this.forceRender,children:(0,s.jsx)(e.element,{...i})}),a=()=>{switch(e.modalType){case C.q3.DRAGGABLE:let{initialPosition:i,initialConstraints:a}=this.getPositionAndConstraints(e.defaultLocation,e.initialPosition),l=e.title instanceof Function?e.title():e.title,d=this.state.title||l,h=e.onboardingKey||e.highlightOnlyKey;return(0,s.jsxs)(s.Fragment,{children:[h&&!e.disableHighlight&&(0,s.jsx)(x.x,{target:h}),(0,s.jsxs)(b.Ao,{acceptHeight:this.acceptHeight,animatedIn:!0,arrowPosition:e.hideArrow?void 0:P(t.arrowPosition),arrowRelativeX:e.hideArrow?void 0:P(t.arrowRelativeX),arrowRelativeY:e.hideArrow?void 0:P(t.arrowRelativeY),disableDragging:e.disableDragging,dragHeaderOnly:!!d,headerClassName:e.headerClassName,initialConstraints:a,initialPosition:i,initialWidth:this.width,onClose:this.props.dismissModal,title:d,zIndex:e.zIndex,children:[n,e.disableFooter?null:(0,s.jsxs)(k.iy,{className:e.footerClassName,children:[!e.hideStepCounter&&e.stepCounter&&(0,s.jsx)("div",{className:E.S,children:e.stepCounter}),(0,s.jsxs)("div",{className:E.v0,children:[e.additionalButton&&(0,s.jsx)("div",{className:T.s.ml8.$,children:(0,s.jsx)(j,{additionalButton:e.additionalButton,dismissModal:this.props.dismissModal,dispatch:this.props.dispatch})}),(0,s.jsx)("div",{className:T.s.ml8.$,children:(0,s.jsx)(f.$z,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta,trackingProperties:{trackingDescriptor:e.ctaTrackingDescriptor},disabled:!!e.ctaIsLoading,children:(0,s.jsx)(g.x,{isLoading:!!e.ctaIsLoading,className:E.zP,children:()=>(0,s.jsx)("div",{children:e.ctaText})})})})]})]})]})]});case C.q3.FEATURE_UPDATE:return(0,s.jsx)(O,{width:this.width,onAdditionalExplicitDismiss:this.props.additionalOnExplicitDismiss,onDismissModal:this.props.dismissModal,children:n});case C.q3.WALK_THROUGH:return(0,s.jsxs)(s.Fragment,{children:[!e.disableHighlight&&(0,s.jsx)(x.x,{target:e.onboardingKey}),(0,s.jsx)(y.CR,{additionalOnExplicitDismiss:this.props.additionalOnExplicitDismiss,className:e.className,disableClickOutsideToHide:e.disableClickOutsideToHide,dismissModal:this.props.dismissModal,height:e.height,hideCloseButton:e.hideCloseButton,pointerForegroundColor:e.pointerForegroundColor,shouldCenterArrow:e.shouldCenterArrow,shouldDismissWhenLostDOMTarget:e.shouldDismissWhenLostDOMTarget,targetKey:e.onboardingKey,topPadding:e.topPadding,width:e.width,children:n})]});case C.q3.WELCOME:return(0,s.jsxs)(s.Fragment,{children:[e.fullscreen&&(0,s.jsx)("div",{className:E.qg}),(0,s.jsx)(I,{onDismissModal:this.props.dismissModal,children:(0,s.jsx)(r.i,{children:n})})]});case C.q3.SELF_CONTAINED:return n;case C.q3.POINTER:return(0,s.jsxs)(s.Fragment,{children:[e.showHighlight&&(0,s.jsx)(x.x,{target:e.onboardingKey}),(0,s.jsx)(y.NJ,{dismissModal:this.props.dismissModal,targetKey:e.onboardingKey,width:e.width,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,shouldNotWrapInParagraphTag:e.shouldNotWrapInParagraphTag,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost,children:n})]});case C.q3.ANNOUNCEMENT_POINTER:let c=e.title instanceof Function?e.title():e.title;return(0,s.jsx)(y.OA,{arrowPosition:e.arrowPosition,bottomLeftText:e.stepCounter,ctaText:e.ctaText,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,onClickSecondaryCta:e.preventDismissOnClickSecondaryCta?o.lQ:this.props.dismissModal,secondaryCtaText:e.secondaryCtaText,shouldCenterArrow:e.shouldCenterArrow,shouldCenterModal:e.shouldCenterModal,targetKey:e.onboardingKey,title:c,topPadding:e.topPadding,width:e.width,children:n})}};return(0,c.T8)(a(),e.trackingContextName,e.trackingProperties,e.trackingEnabled)}}function O({children:e,width:t,onAdditionalExplicitDismiss:i,onDismissModal:o}){let r=(0,c.j6)(),u=n.useCallback(({source:e})=>{if("button"===e){let e=r.name;(0,h.Cu)({...r.properties,...null!=e?{trackingContext:e}:{},text:"Close"})}i?.(),o()},[i,o,r]),m=a.hS({open:!0,onClose:u});return(0,s.jsx)(l.bL,{manager:m,width:t??"fit-content",children:(0,s.jsx)(d.vo,{children:(0,s.jsx)(d.nB,{padding:0,children:e})})})}function I({children:e,onDismissModal:t}){let i=a.hS({open:!0,onClose:t,preventUserClose:!0});return(0,s.jsx)(l.bL,{manager:i,width:"fit-content",children:(0,s.jsx)(d.vo,{children:(0,s.jsx)(d.nB,{padding:0,children:e})})})}function j({additionalButton:e,dismissModal:t,dispatch:i}){if(!e)return null;let n=e.textForTracking?{text:e.textForTracking()}:{};return"link"===e.onClickBehavior?(0,s.jsx)(w.pW,{href:e.href,variant:"secondary",trackingProperties:n,newTab:!0,children:e.label}):(0,s.jsx)(f.$z,{onClick:()=>{e.onClick(i),t()},trackingProperties:n,variant:"secondary",children:e.label})}L.displayName="RcsFrame"},399382(e,t,i){i.d(t,{k0:()=>m,kt:()=>c,z$:()=>h});var s=i(239976),n=i(105652),o=i(885705),r=i(706354),a=i(181645),l=i(485587),d=i(539236);let h=n.createContext(null);function c({label:e,context:t,timeoutMs:i,maxTasks:o,children:r,logToFigment:a}){let[l,d]=n.useReducer(e=>e+1,0),[c]=n.useState(()=>new u({label:e,context:t,maxTasks:o,triggerTryVerifyCompleteEffect:d,timeoutMs:i,logToFigment:a}));n.useEffect(()=>{c.mounted=!0,c.tryVerifyComplete()},[c,l]);let p=m({label:e});return n.useEffect(()=>(p.pendOn(c.promise),()=>{c.resolve(),c.cleanup()}),[c,p]),(0,s.jsx)(h.Provider,{value:c,children:r})}class u{constructor({label:e,context:t,maxTasks:i,triggerTryVerifyCompleteEffect:s,timeoutMs:n,logToFigment:o}){let r;this.active=!0,this.mounted=!1,this.timeoutId=null,this.label=e,this.durationTimer=new l.rw({enabled:!0}),this.pendingTasks=new Map,this.completedTasks=new Map,this.context={...t},this.maxTasks=i,this.triggerTryVerifyCompleteEffect=s,this.timeoutMs=n,this.timeoutId=setTimeout(()=>this.enactTimeout(),this.timeoutMs),this.logToFigment=o,this.promise=new Promise(e=>{r=e}),this.resolve=r}addContext(e){Object.assign(this.context,e)}pendOn(e,t){!this.active||this.pendingTasks.has(t)||this.completedTasks.has(t)||(this.pendingTasks.set(t,{taskLabel:e,beginTime:Date.now()}),this.pendingTasks.size+this.completedTasks.size>this.maxTasks&&(g(Error(this.buildErrorMessage(`exceeded child maxTasks limit of ${this.maxTasks} via: `)+[...this.completedTasks.values(),...this.pendingTasks.values()].map(e=>e.taskLabel).join(", ")),{label:this.label,pendingTasks:this.pendingTasks,completedTasks:this.completedTasks}),this.cleanup()),t.finally(()=>{this.handleFulfilledTask(t,e)}))}handleFulfilledTask(e,t){if(!this.pendingTasks.has(e))return;let{beginTime:i}=this.pendingTasks.get(e);this.pendingTasks.delete(e),this.completedTasks.set(e,{taskLabel:t,beginTime:i,endTime:Date.now()}),0===this.pendingTasks.size&&this.triggerTryVerifyCompleteEffect()}tryVerifyComplete(){this.active&&0===this.pendingTasks.size&&(this.durationTimer?this.durationTimer.stop((e,t,i)=>{!function({label:e,logToFigment:t,context:i,duration:s,backgrounded:n,offlined:r,completedTasks:l}){let h=Date.now(),c=h-s,u=Math.max(...[...l.values()].map(({endTime:e})=>e)),m=Array.from(new Set([...l.values()].filter(({endTime:e})=>e===u).map(({taskLabel:e})=>e))).sort(),p=(e,t)=>[e-c,t-c],g=new Set,T=(()=>{let e={};for(let{taskLabel:t,beginTime:i,endTime:s}of l.values()){e[t]||={beginMoment:1/0,duration:0,endMoment:-1/0,isTailTask:!1,numPromises:0,_promiseIntervals:[],promiseIntervals:""};let n=e[t],[o,r]=p(i,s);n.beginMoment=Math.min(n.beginMoment,o),n.endMoment=Math.max(n.endMoment,r),n.duration=n.endMoment-n.beginMoment,s===u&&(n.isTailTask=!0),n.numPromises+=1,n._promiseIntervals.push([o,r]),g.add(t)}return Object.values(e).forEach(e=>{e.promiseIntervals=JSON.stringify(e._promiseIntervals.sort()),delete e._promiseIntervals}),e})(),f=Array.from(g).sort();d.J.logVital(e,{level:o.$.INFO,startTime:c,duration:s,description:`<LoadTimer label="${e}"> incl ${l.size} tasks`,context:{is_load_timer:!0,wasBackgrounded:n,wasOffline:r,load_timer:{label:e,beginTime:c,duration:s,endTime:h,tasks:T,tasksJson:JSON.stringify(T),taskLabels:f.join(","),tailTasks:m.join(","),numTasks:l.size},...i}}),t&&(0,a.sx)("load_timer.duration",{label:e,beginTime:c,duration:s,endTime:h,wasBackgrounded:n,wasOffline:r,taskLabels:f,tailTasks:m,numTasks:l.size,tasks:JSON.stringify(T),context:JSON.stringify(i)})}({label:this.label,logToFigment:this.logToFigment,context:this.context,duration:e,backgrounded:t,offlined:i,completedTasks:this.completedTasks})}):g(Error(this.buildErrorMessage("tried to use this.durationTimer MetricsTimer after it was already cleaned up.")),{label:this.label,pendingTasks:this.pendingTasks,completedTasks:this.completedTasks}),this.resolve(),this.cleanup())}enactTimeout(){this.active&&(this.mounted&&g(Error(this.buildErrorMessage(`abandoned after ${this.timeoutMs}ms timeout`)+` waiting for ${this.pendingTasks.size} tasks: `+[...this.pendingTasks.values()].map(e=>e.taskLabel).join(", ")),{label:this.label,pendingTasks:this.pendingTasks,completedTasks:this.completedTasks}),this.cleanup())}cleanup(){this.active=!1,this.durationTimer?.stop((...e)=>null),this.durationTimer=null,this.pendingTasks.clear(),this.completedTasks.clear(),this.context={},null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}buildErrorMessage(e){return`[FYI this is innocuous and just regards instrumentation; production engineering is experimenting with guard rails] <LoadTimer label="${this.label}"> ${e}`}}function m({label:e,isComplete:t}){let i=n.useContext(h),[s]=n.useState(()=>new p({timer:i,label:e})),[{ltPromise:o,ltResolve:r}]=n.useState(()=>s.makePromiseWithResolvers());return n.useLayoutEffect(()=>{if(void 0!==t)return s.pendOn(o),t&&r(),r},[s,o,r,t]),s}class p{constructor({timer:e,label:t}){this.timer=null,this.timer=e,this.label=t}pendOn(e){null!==this.timer&&this.timer.pendOn(this.label,e)}makePromiseWithResolvers(){let e,t,i=new Promise((i,s)=>{e=i,t=s});return{promise:i,resolve:e,reject:t,ltPromise:i,ltResolve:e,ltReject:t}}}function g(e,{label:t,pendingTasks:i,completedTasks:s}){d.J.addError(e,r.FigmaTeam.PRODUCTION_ENGINEERING,{is_load_timer:!0,load_timer:{label:t,pendingTasks:Array.from(i.values()),completedTasks:Array.from(s.values())}})}}}]);

//# debugId=216e5bfb-4b81-5d44-9ccd-d27fc0d8665a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3acffa74e43501c720601f5497b6b8d90f93cc6d/7955-79e48213c9de7a2b.min.js.map