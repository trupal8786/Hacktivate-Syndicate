"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9d5eabb4-931b-5f75-b6b2-921ce72c5e6f")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["9481"],{726958(e,t){function r(e,t){let r=e.split("."),i=t.split(".");for(let e=0;e<Math.max(r.length,i.length);++e){let t=e<r.length?+r[e]:0,n=e<i.length?+i[e]:0;if(t>n)return -1;if(t<n)return 1}return 0}Object.defineProperty(t,"compareVersions",{enumerable:!0,get:function(){return r}})},800408(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={DARK_THEME_MEDIA_QUERY:function(){return n},getVisibleTheme:function(){return o}};for(var i in r)Object.defineProperty(t,i,{enumerable:!0,get:r[i]});let n=window.matchMedia("(prefers-color-scheme: dark)");function o(e){return"system"===e?n.matches?"dark":"light":"dark"===e?"dark":"light"}},131464(e,t,r){r.d(t,{Kn:()=>h,P3:()=>u,RS:()=>_,VO:()=>d,Xu:()=>m,ck:()=>l,gk:()=>o,go:()=>f,hr:()=>c,i3:()=>w,ig:()=>s,kG:()=>p,nL:()=>n,q_:()=>a,vi:()=>i,zG:()=>g});let i="attachment--thumbnailButton--NAywc",n="attachment--thumbnailButtonFigmake--DIL2p",o="attachment--thumbnailButtonFigmakeRounded--VlRgU",s="attachment--selectedThumbnailButton--bpCAY attachment--thumbnailButton--NAywc",a="attachment--thumbnailImage--KfA-l",l="attachment--thumnailWithLoadingOpacity--4wQGu",d="attachment--lightOverlay--DOocL attachment--overlay--d2SH7",h="attachment--publishedThumbnailContainer--vx1-m",c="attachment--pendingThumbnailContainer--3o-Y7",u="attachment--deleteBadge--hNo6w",m="attachment--darkOverlay--wqi7G attachment--overlay--d2SH7",p="attachment--composerContainer--qVMwI",_="attachment--pendingThumbnailContainerFigmake--AM-Hu",f="attachment--pendingThumbnailContainerSmall--ehHEN",g="attachment--deleteBadgeFigmake--hMqW0",w="attachment--xIcon--fPf1u"},691563(e,t,r){r.d(t,{$N:()=>x,CA:()=>z,C_:()=>S,Fm:()=>W,Gb:()=>B,H:()=>i,KV:()=>K,K_:()=>o,Nz:()=>Y,OF:()=>u,S:()=>V,T7:()=>O,Ud:()=>A,VH:()=>C,V_:()=>P,Vc:()=>U,Ws:()=>m,XH:()=>k,ZR:()=>b,Zr:()=>N,b9:()=>w,c_:()=>a,dQ:()=>d,e7:()=>s,el:()=>l,gy:()=>_,hp:()=>L,i1:()=>G,ij:()=>f,kW:()=>g,mh:()=>D,mp:()=>p,my:()=>n,pd:()=>I,q_:()=>c,rC:()=>v,rX:()=>y,se:()=>R,sz:()=>H,tu:()=>M,u5:()=>F,u_:()=>h,v3:()=>T,wH:()=>E,zn:()=>j});let i="comment_cluster_elements--avatarContainer--AC-0S",n="comment_cluster_elements--avatar--0ro1Q",o="comment_cluster_elements--inCluster--B3g0F",s="comment_cluster_elements--fallbackAvatar--HcDTq",a="comment_cluster_elements--avatarOverflowCounter--UAjz6",l="comment_cluster_elements--notHidden--sFiCV",d="comment_cluster_elements--avatarsRoot--VZMi8",h="comment_cluster_elements--avatarsContainer--N2OeE",c="comment_cluster_elements--avatarsPrimaryContainer--sptCV",u="comment_cluster_elements--avatarsOverflowContainer--JSe0G",m="comment_cluster_elements--avatarsSecondaryContainer--d-w66",p="comment_cluster_elements--avatarsOverflowAvatar--n6fMA",_="comment_cluster_elements--unread--kzruH",f="comment_cluster_elements--avatarPinAnchor--7CCNx",g="comment_cluster_elements--avatarPinContainer--YLI4a",w="comment_cluster_elements--feedPinAnchor--ze8fr",E="comment_cluster_elements--selected--fFYko",T="comment_cluster_elements--pinnedThreadToFileIndicator--35Ro-",v="comment_cluster_elements--withMotion--u7OmK",b="comment_cluster_elements--indicatorShown--1BUm9",y="comment_cluster_elements--dimmed--QIrR7",M="comment_cluster_elements--multipleAvatars--0KQqc",S="comment_cluster_elements--avatarsHoverContainer--7eDqx",I="comment_cluster_elements--minimized--anEpz",C="comment_cluster_elements--preview--yN3Y5",x="comment_cluster_elements--avatarPinPreview--9xi0J",A="comment_cluster_elements--avatarPinPreviewHeader--XAiy8",O="comment_cluster_elements--avatarPinPreviewAuthorName--MHIvY",N="comment_cluster_elements--avatarPinPreviewTimestamp--5KQ7L",R="comment_cluster_elements--avatarPinPreviewText--uWLuT",P="comment_cluster_elements--avatarPinPreviewReplySummary--A-gYh",D="comment_cluster_elements--inlineEmoji--6vtSY",k="comment_cluster_elements--lightBoldStyle--Kq7w4",L="comment_cluster_elements--boldStyle--LD1-V",F="comment_cluster_elements--italicStyle---CfvY",U="comment_cluster_elements--strikethroughStyle--dKGeJ",B="comment_cluster_elements--selectionBox--eEC4l",V="comment_cluster_elements--loadingSpinner--LTwcP",H="comment_cluster_elements--expanded--997II",W="comment_cluster_elements--hoverDisabled--b8-kU",j="comment_cluster_elements--feedPostPinContainer--n7CuF comment_cluster_elements--avatarPinContainer--YLI4a",G="comment_cluster_elements--feedPostPinTopRowContainer--lLN-6",z="comment_cluster_elements--feedPostTitleText--xAvhl",K="comment_cluster_elements--selectionBoxHidden--uL3i3",Y="/** @postcss-export-raw */\n:root {\n  --expandAnimationTime: 100ms;\n}\n.comment_cluster_elements--avatarContainer--AC-0S {\n  display: flex;\n  min-width: 26px;\n  visibility: visible;\n}\n/* Left position is set in javascript */\n.comment_cluster_elements--avatar--0ro1Q {\n  display: none;\n  width: 24px;\n  height: 24px;\n  border-radius: 100%;\n  border: 1px solid var(--color-bg);\n  /* stylelint-disable @figma/color-no-raw -- TODO: refactor with semantic token */\n  background:\n    linear-gradient(136.68deg, rgba(0, 0, 0, 0.05) 11.37%, rgba(255, 255, 255, 0.039) 82.26%),\n    #f0f0f0;\n  /* stylelint-enable @figma/color-no-raw */\n}\n.comment_cluster_elements--inCluster--B3g0F .comment_cluster_elements--avatar--0ro1Q,\n.comment_cluster_elements--inCluster--B3g0F .comment_cluster_elements--fallbackAvatar--HcDTq,\n.comment_cluster_elements--inCluster--B3g0F .comment_cluster_elements--avatarOverflowCounter--UAjz6 {\n  border-width: 2px;\n}\n.comment_cluster_elements--fallbackAvatar--HcDTq {\n  width: 24px;\n  height: 24px;\n  border-radius: 100%;\n  /* TODO(dark mode): avatar text color */\n  /* stylelint-disable-next-line @figma/color-no-raw */\n  color: white;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  font-size: 13px;\n  text-transform: uppercase;\n  border: 1px solid var(--color-bg);\n}\n.comment_cluster_elements--notHidden--sFiCV {\n  display: flex;\n}\n/* Avatar elements */\n.comment_cluster_elements--avatarsRoot--VZMi8 {\n  display: flex;\n  transition:\n    opacity var(--expandAnimationTime) ease-in-out,\n    visibility var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--avatarsContainer--N2OeE {\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  align-items: flex-start;\n  min-width: 26px;\n  min-height: 26px;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--sptCV {\n  display: flex;\n  flex-direction: row-reverse;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--sptCV > .comment_cluster_elements--avatarContainer--AC-0S {\n  margin-left: -6px;\n  margin-right: 0px;\n  transition: margin-left var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: margin-left var(--expandAnimationTime) ease-in-out;\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--sptCV > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n  margin-left: 0;\n}\n.comment_cluster_elements--avatarsOverflowContainer--JSe0G {\n  display: flex;\n  flex-direction: row-reverse;\n  margin-left: -6px;\n  transition: margin-left var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: margin-left var(--expandAnimationTime) ease-in-out;\n  min-width: 4px;\n  /* The overflow container should always be above the secondary container when they overlap */\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--d-w66 {\n  display: flex;\n  flex-direction: row-reverse;\n  margin-left: -26px;\n  max-width: 26px;\n  overflow: hidden;\n  border-radius: 16px 0 0 16px;\n  transition: max-width var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: max-width var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--d-w66 > .comment_cluster_elements--avatarContainer--AC-0S {\n  margin-left: 5px;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--d-w66 > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n  margin-left: 33px !important;\n}\n.comment_cluster_elements--avatarsOverflowAvatar--n6fMA {\n  margin-left: -26px;\n}\n@property --num {\n  syntax: '<integer>';\n  initial-value: 0;\n  inherits: false;\n}\n.comment_cluster_elements--avatarOverflowCounter--UAjz6 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  /* TODO(dark mode): --color-text against --color-bg-secondary */\n  background-color: var(--color-bg-secondary);\n  border: 1px solid var(--color-bg, white);\n  color: var(--color-text, white);\n  font-size: 13px;\n  text-transform: uppercase;\n  font-family: Inter, sans-serif;\n\n  transition: --num var(--expandAnimationTime);\n  -webkit-transition: --num var(--expandAnimationTime);\n  counter-reset: num var(--num);\n  --num: var(--overflowCount);\n  opacity: var(--num);\n  /* The overflow counter should always be on top any avatar placed in the overflow container */\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatarOverflowCounter--UAjz6 {\n  background-color: var(--color-bg-brand-secondary);\n  border-color: var(--color-bg-brand);\n  color: var(--color-text-onbrand, white);\n}\n.comment_cluster_elements--avatarOverflowCounter--UAjz6::after {\n  content: counter(num);\n}\n.comment_cluster_elements--avatarPinAnchor--7CCNx {\n  position: absolute;\n  will-change: transform;\n  /* transform property set programatically in avatar_pin_element_display.tsx */\n  transform-origin: bottom left;\n  user-select: none;\n  -webkit-user-select: none;\n\n  /* avatarPinAnchor is the top level element inside the overlay div.\n     We set a z-index here so that when an avatarPinAnchor contains a focused element,\n     it will appear above other avatarPinAnchors */\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.comment_cluster_elements--avatarPinAnchor--7CCNx:has(.comment_cluster_elements--avatarPinContainer--YLI4a:focus-visible) {\n    /* stylelint-disable-next-line @fpl/no-manual-z-index */\n    z-index: 1;\n  }\n.comment_cluster_elements--feedPinAnchor--ze8fr {\n  /* Simply used to distinguish the top level figma-post-pin element */\n}\n/* Make the comments slightly bigger on devices with coarse pointers (usually mobile) */\n@media (pointer: coarse) {\n  .comment_cluster_elements--avatarPinAnchor--7CCNx {\n    --scale: 1.15;\n  }\n}\n.comment_cluster_elements--avatarPinAnchor--7CCNx:not(.comment_cluster_elements--selected--fFYko) .comment_cluster_elements--avatarPinContainer--YLI4a:hover .comment_cluster_elements--pinnedThreadToFileIndicator--35Ro- {\n  transform: scale(0);\n  opacity: 0;\n  transition: unset;\n  pointer-events: none;\n}\n.comment_cluster_elements--avatarPinContainer--YLI4a {\n  display: flex;\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  min-width: 26px;\n  align-self: flex-start;\n  justify-self: flex-start;\n  flex-direction: row;\n  max-width: 240px;\n  box-sizing: border-box;\n  padding: 3px 3px;\n  font-size: 11px;\n  line-height: 16px;\n  color: var(--color-text);\n  background-color: var(--color-bg, white);\n  border-radius: 16px 16px 16px 0px;\n  box-shadow: var(\n    --elevation-200-canvas,\n    0px 3px 6px rgba(0, 0, 0, 0.3),\n    0 0 1px rgba(0, 0, 0, 0.05)\n  );\n  font-family: Inter, sans-serif;\n  transform-origin: bottom left;\n  transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out,\n    padding var(--expandAnimationTime) ease-in-out,\n    min-width var(--expandAnimationTime) ease-in-out;\n  -webkit-transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out,\n    padding var(--expandAnimationTime) ease-in-out,\n    min-width var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--pinnedThreadToFileIndicator--35Ro- {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  justify-content: center;\n  align-items: center;\n  box-shadow: var(--elevation-200-canvas);\n  display: flex;\n  transform: scale(0);\n  opacity: 0;\n  pointer-events: none;\n}\n.comment_cluster_elements--pinnedThreadToFileIndicator--35Ro-.comment_cluster_elements--withMotion--u7OmK {\n    /* TODO: Confirm with design whether this bezier curve suffices */\n    transition:\n      600ms transform cubic-bezier(0.18, 0.89, 0.32, 1.28),\n      600ms opacity cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  }\n.comment_cluster_elements--pinnedThreadToFileIndicator--35Ro-.comment_cluster_elements--indicatorShown--1BUm9 {\n    opacity: 1;\n    transform: scale(1);\n  }\n.comment_cluster_elements--dimmed--QIrR7 .comment_cluster_elements--avatarPinContainer--YLI4a {\n  opacity: 0.5;\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatarPinContainer--YLI4a {\n  background-color: var(--color-bg-brand);\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatar--0ro1Q {\n  border-color: var(--color-bg-brand); /* border should blend into background */\n  /* stylelint-disable @figma/color-no-raw -- TODO: refactor with semantic token */\n  background:\n    linear-gradient(136.68deg, rgba(0, 0, 0, 0.05) 11.37%, rgba(255, 255, 255, 0.039) 82.26%),\n    var(--color-bg-brand);\n  /* stylelint-enable @figma/color-no-raw*/\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--fallbackAvatar--HcDTq {\n  border-color: var(--color-bg-brand);\n}\n.comment_cluster_elements--multipleAvatars--0KQqc {\n  flex-direction: column;\n}\n.comment_cluster_elements--avatarsHoverContainer--7eDqx.comment_cluster_elements--selected--fFYko .comment_cluster_elements--avatarPinContainer--YLI4a {\n  /* stylelint-disable @figma/color-no-raw -- TODO(dark mode): box shadow */\n  box-shadow:\n    0px 3px 6px rgba(0, 0, 0, 0.3),\n    0 0 1px rgba(0, 0, 0, 0.05),\n    0 0 0 2px var(--color-border-selected);\n  /* stylelint-enable @figma/color-no-raw*/\n}\n.comment_cluster_elements--minimized--anEpz:not(.comment_cluster_elements--selected--fFYko):not(.comment_cluster_elements--preview--yN3Y5) > .comment_cluster_elements--avatarPinContainer--YLI4a {\n  /* If minimized, we also want to animate the transform property */\n  transition-propery: max-width, max-height, padding, min-width, transform;\n  -webkit-transition-propery: max-width, max-height, padding, min-width, transform;\n\n  transform: scale(0.5);\n}\n.comment_cluster_elements--minimized--anEpz:hover .comment_cluster_elements--avatarPinContainer--YLI4a {\n  transform: unset;\n}\n.comment_cluster_elements--minimized--anEpz:hover .comment_cluster_elements--avatarPinContainer--YLI4a .comment_cluster_elements--avatarsRoot--VZMi8 {\n    opacity: 1;\n  }\n.comment_cluster_elements--avatarPinPreview--9xi0J {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  visibility: hidden;\n  max-width: 0px;\n  max-height: 0px;\n  font-size: 11px;\n  transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out,\n    visibility var(--expandAnimationTime) ease-in-out,\n    margin-left var(--expandAnimationTime) ease-in-out;\n  -webkit-transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out,\n    visibility var(--expandAnimationTime) ease-in-out,\n    margin-left var(--expandAnimationTime) ease-in-out;\n  cursor: default;\n}\n.comment_cluster_elements--avatarPinPreviewHeader--XAiy8 {\n  display: flex;\n  font-weight: 400;\n}\n.comment_cluster_elements--avatarPinPreviewAuthorName--MHIvY {\n  font-weight: 500;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  min-width: 15px;\n}\n.comment_cluster_elements--avatarPinPreviewTimestamp--5KQ7L {\n  margin-left: 4px;\n  flex-shrink: 0;\n  color: var(--color-text-secondary);\n}\n.comment_cluster_elements--avatarPinPreviewText--uWLuT {\n  display: flex;\n  overflow: hidden;\n  min-width: 180px;\n  max-width: 180px;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n.comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreviewText--uWLuT {\n  min-width: 200px;\n  max-width: 200px;\n}\n.comment_cluster_elements--avatarPinPreviewReplySummary--A-gYh {\n  display: flex;\n  flex-grow: 1;\n  color: var(--color-text-secondary);\n  -webkit-line-clamp: 1;\n  max-height: 1.5em;\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatarPinPreview--9xi0J {\n  color: var(--color-text-onbrand);\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatarPinPreview--9xi0J .comment_cluster_elements--avatarPinPreviewTimestamp--5KQ7L {\n  color: var(--color-text-onbrand-secondary);\n}\n.comment_cluster_elements--unread--kzruH .comment_cluster_elements--avatarPinPreview--9xi0J .comment_cluster_elements--avatarPinPreviewReplySummary--A-gYh {\n  color: var(--color-text-onbrand-secondary);\n}\n.comment_cluster_elements--inlineEmoji__OLD--HCdyU {\n  vertical-align: text-bottom;\n  height: 17px;\n}\n.comment_cluster_elements--inlineEmoji--6vtSY {\n  font-family:\n    EmojiMart,\n    Segoe UI Emoji,\n    Segoe UI Symbol,\n    Segoe UI,\n    Apple Color Emoji,\n    Twemoji Mozilla,\n    Noto Color Emoji,\n    Android Emoji;\n  font-size: 16px;\n}\n.comment_cluster_elements--lightBoldStyle--Kq7w4 {\n  font-weight: 500;\n}\n.comment_cluster_elements--boldStyle--LD1-V {\n  font-weight: 600;\n}\n.comment_cluster_elements--italicStyle---CfvY {\n  font-style: italic;\n}\n.comment_cluster_elements--strikethroughStyle--dKGeJ {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n/* Selection box */\n.comment_cluster_elements--selectionBox--eEC4l {\n  visibility: hidden;\n  position: absolute;\n  box-sizing: border-box;\n  border: dashed 2px var(--color-border-selected);\n  pointer-events: none;\n}\n/* Loading spinner */\n.comment_cluster_elements--loadingSpinner--LTwcP {\n  border: 2px solid var(--color-border);\n  border-top: 2px solid var(--color-border-brand);\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin: 4px;\n  box-sizing: border-box;\n  animation: comment_cluster_elements--spin--pUvjf 1s linear infinite;\n  flex-shrink: 0;\n}\n@keyframes comment_cluster_elements--spin--pUvjf {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.comment_cluster_elements--preview--yN3Y5 {\n  /* used to distinguish the \"preview\" meta-state in CSS */\n}\n/* Comment preview expanded animation */\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 1;\n  transition: z-index var(--expandAnimationTime) linear;\n  -webkit-transition: z-index var(--expandAnimationTime) linear;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsSecondaryContainer--d-w66 {\n  max-width: 160px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) :not(.comment_cluster_elements--multipleAvatars--0KQqc) .comment_cluster_elements--avatarPinPreview--9xi0J {\n  margin-left: 8px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU):not(.comment_cluster_elements--multipleAvatars--0KQqc)\n  .comment_cluster_elements--avatarsPrimaryContainer--sptCV\n  > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n  margin-left: 0px !important;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsPrimaryContainer--sptCV > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n  margin-left: -2px !important;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsPrimaryContainer--sptCV > .comment_cluster_elements--avatarContainer--AC-0S {\n  margin-left: 5px !important;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsOverflowContainer--JSe0G {\n  margin-left: 5px !important;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarOverflowCounter--UAjz6 {\n  --num: 0;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a {\n  min-width: 240px;\n}\n.comment_cluster_elements--dimmed--QIrR7.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a {\n  opacity: 1;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a:not(.comment_cluster_elements--multipleAvatars--0KQqc) {\n  padding: 10px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a.comment_cluster_elements--multipleAvatars--0KQqc {\n  padding: 16px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinPreview--9xi0J {\n  max-width: 240px;\n  max-height: 156px;\n  visibility: visible;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreview--9xi0J {\n  margin-top: 4px;\n  margin-left: 2px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreviewHeader--XAiy8 {\n  margin-bottom: 4px;\n}\n.comment_cluster_elements--expanded--997II:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreviewText--uWLuT {\n  margin-bottom: 4px;\n}\n.comment_cluster_elements--feedPostPinContainer--n7CuF {\n  top: 0;\n  bottom: unset;\n  border-radius: 0px 16px 16px 4px;\n  padding: 0;\n  flex-direction: column;\n}\n.comment_cluster_elements--feedPostPinTopRowContainer--lLN-6 {\n  display: flex;\n  align-items: center;\n  column-gap: 0px;\n  padding: 2px;\n  height: 32px;\n  box-sizing: border-box;\n}\n.comment_cluster_elements--feedPostTitleText--xAvhl {\n  font-weight: 500;\n}\n/* Hover animations */\n@media (hover: hover) {\n  /* This style essentially does nothing. Safari version 15 and up will not apply styles\n  of the form  `parentClass:hover childClass` if we don't use the direct child selector (>).\n  For some reason, adding this property works as a fix. We are still root causing.\n  Tracked here: https://app.asana.com/0/1147681086502841/1201887604132116/f */\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) > .comment_cluster_elements--avatarPinContainer--YLI4a {\n    pointer-events: all;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsSecondaryContainer--d-w66 {\n    max-width: 160px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) :not(.comment_cluster_elements--multipleAvatars--0KQqc) .comment_cluster_elements--avatarPinPreview--9xi0J {\n    margin-left: 8px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU):not(.comment_cluster_elements--multipleAvatars--0KQqc)\n    .comment_cluster_elements--avatarsPrimaryContainer--sptCV\n    > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n    margin-left: 0px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU)\n    .comment_cluster_elements--avatarsPrimaryContainer--sptCV\n    > .comment_cluster_elements--avatarContainer--AC-0S:last-child {\n    margin-left: -2px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsPrimaryContainer--sptCV > .comment_cluster_elements--avatarContainer--AC-0S {\n    margin-left: 5px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarsOverflowContainer--JSe0G {\n    margin-left: 5px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarOverflowCounter--UAjz6 {\n    --num: 0;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) {\n    /* stylelint-disable-next-line @fpl/no-manual-z-index */\n    z-index: 1;\n    transition: z-index var(--expandAnimationTime) linear;\n    -webkit-transition: z-index var(--expandAnimationTime) linear;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a {\n    min-width: 240px;\n  }\n\n  .comment_cluster_elements--dimmed--QIrR7.comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a {\n    opacity: 1;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU)\n    .comment_cluster_elements--avatarPinContainer--YLI4a:not(.comment_cluster_elements--multipleAvatars--0KQqc):not(.comment_cluster_elements--feedPostPinContainer--n7CuF) {\n    padding: 10px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinContainer--YLI4a.comment_cluster_elements--multipleAvatars--0KQqc {\n    padding: 16px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--avatarPinPreview--9xi0J {\n    max-width: 240px;\n    max-height: 156px;\n    visibility: visible;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreview--9xi0J {\n    margin-top: 4px;\n    margin-left: 2px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreviewHeader--XAiy8 {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--multipleAvatars--0KQqc .comment_cluster_elements--avatarPinPreviewText--uWLuT {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU):not(.comment_cluster_elements--selected--fFYko)\n    > .comment_cluster_elements--selectionBox--eEC4l:not(.comment_cluster_elements--selectionBoxHidden--uL3i3) {\n    visibility: visible;\n  }\n\n  /* Comment pins display a React component <CommentSelectionBox/> when they are selected\n  For post pins, we can just use CSS to make the existing selection box visible when they are selected */\n  .comment_cluster_elements--feedPinAnchor--ze8fr.comment_cluster_elements--selected--fFYko > .comment_cluster_elements--selectionBox--eEC4l:not(.comment_cluster_elements--selectionBoxHidden--uL3i3) {\n    visibility: visible;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--feedPostPinTopRowContainer--lLN-6 {\n    column-gap: 8px;\n    padding: 0;\n    height: 24px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--feedPostPinContainer--n7CuF {\n    padding: 16px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--feedPostPinContainer--n7CuF .comment_cluster_elements--avatarPinPreview--9xi0J {\n    margin-top: 4px;\n    margin-left: 2px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--feedPostPinContainer--n7CuF .comment_cluster_elements--avatarPinPreviewHeader--XAiy8 {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--7eDqx:hover:not(.comment_cluster_elements--hoverDisabled--b8-kU) .comment_cluster_elements--feedPostPinContainer--n7CuF .comment_cluster_elements--avatarPinPreviewText--uWLuT {\n    margin-bottom: 4px;\n  }\n}\n"},381407(e,t,r){r.d(t,{c:()=>i});let i="accessible_area--displayContent--TuRM4"},275581(e,t,r){r.d(t,{Pd:()=>n,S3:()=>l,_H:()=>s,_t:()=>a,io:()=>o,xK:()=>d,zr:()=>i});let i="main_view--root--kqmEx",n="main_view--leftHalf--yW2s8",o="main_view--rightHalf--cto2F",s="main_view--leftPanel--nL5Bv",a="main_view--rightPanels--E7VZR",l="main_view--centerPanel--4p-1f",d="main_view--rightPanel--HuzKW"},933544(e,t,r){r.d(t,{AJ:()=>g,Eg:()=>c,FO:()=>A,G:()=>U,GC:()=>p,HI:()=>d,HM:()=>f,I2:()=>C,Ij:()=>E,Iw:()=>I,MH:()=>k,OK:()=>M,OY:()=>S,Pf:()=>m,QC:()=>o,X7:()=>L,_Z:()=>i,_d:()=>F,d1:()=>s,dQ:()=>a,dy:()=>R,fY:()=>v,hP:()=>u,hz:()=>w,ki:()=>l,kv:()=>h,ky:()=>b,nf:()=>D,oC:()=>y,rd:()=>x,ri:()=>n,sY:()=>N,xJ:()=>P,xZ:()=>T,yT:()=>O,z3:()=>B,zi:()=>_});let i="basic_form--textInput--yi6hu",n="basic_form--labeledInputGroup--ruFib",o="basic_form--hoverLabel__hasValue--o4MD3",s="basic_form--labeledInputGroupDisabled--ELt0v basic_form--labeledInputGroup--ruFib",a="basic_form--hoverLabel--oZFcf",l="basic_form--bigTextInput--JBssQ basic_form--textInput--yi6hu basic_form--bigInput--NJpUL basic_form--input--OZaHD",d="basic_form--checkboxContainer--0sLMQ",h="basic_form--checkbox--m3kFP",c="basic_form--checkboxSvg---ik7P",u="basic_form--checkboxShowFocus--s-DT5",m="basic_form--label--UOWwX",p="basic_form--buttonGroup--3HeVU",_="basic_form--buttonGroup_reversed--MDNs0",f="basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",g="basic_form--btnSecondaryMenu--w9J-g basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",w="basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",E="basic_form--fullWidth--DkyVp",T="basic_form--primaryBtn--jDHWr basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",v="basic_form--primaryBtnBig--rky1J basic_form--primaryBtn--jDHWr basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",b="basic_form--negativeBtn--YJG-- basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",y="basic_form--secondaryNegativeBtn--5onOK basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",M="basic_form--negativeBtnBig--5byWO basic_form--negativeBtn--YJG-- basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",S="basic_form--greenBtn--bxncU basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",I="basic_form--greyBtn--sVLDk basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",C="basic_form--whiteBtn--2ojFb basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",x="basic_form--inverseBtn--uO0k6 basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",A="basic_form--inverseBtnBig--WA0IN basic_form--inverseBtn--uO0k6 basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",O="basic_form--blackBtnBig--4c9D9 basic_form--blackBtn--LDiR2 basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",N="basic_form--greenBtnBig--ytN5- basic_form--greenBtn--bxncU basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",R="basic_form--greenBtnBigSolidWhenDisabled--7-x1M basic_form--greenBtnBig--ytN5- basic_form--greenBtn--bxncU basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",P="basic_form--secondaryBtnBig--QE5oN basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--btnBig--Ikqmc ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk basic_form--bigInput--NJpUL basic_form--input--OZaHD",D="basic_form--link--CEgrw blue_link--blueLink--4ER8T",k="basic_form--inlineLink--aRePo blue_link--blueLink--4ER8T",L="basic_form--bigSelect--8-IWR basic_form--bigTextInput--JBssQ basic_form--textInput--yi6hu basic_form--bigInput--NJpUL basic_form--input--OZaHD",F="basic_form--buttonText--exQkt blue_link--blueLink--4ER8T",U="basic_form--infoIcon--OB83a",B="basic_form--error--awGaP"},534483(e,t,r){r.d(t,{ET:()=>K,Ir:()=>x,QO:()=>y,Rc:()=>F,SH:()=>k,Wb:()=>G,Wy:()=>I,g_:()=>M,i:()=>v,iL:()=>S,j_:()=>E,pr:()=>j,qC:()=>b,yg:()=>O});var i,n=r(239976),o=r(105652),s=r(804902),a=r(297114),l=r(850159),d=r(741542),h=r(574988),c=r(167365),u=r(847965),m=r(63504),p=r(795210),_=r(12358),f=r(487817),g=r(534592),w=r(444483);let E=(0,l.tx)("plan_comparison.campfire.starter.price.free"),T=[(0,l.tx)("plan_comparison.campfire.pro.feature.unlimited_files"),(0,l.tx)("plan_comparison.campfire.pro.feature.prototyping"),(0,l.tx)("plan_comparison.campfire.pro.feature.library"),(0,l.tx)("plan_comparison.campfire.pro.feature.file_handoff")];function v(e){var t,r,i,n;switch(e){case f.Ag.STARTER:return[(0,l.tx)("plan_comparison.campfire.starter.feature.three_files"),(0,l.tx)("plan_comparison.campfire.starter.feature.basic")];case f.Ag.STUDENT:let o;return t=c.ND,o=[...T],(0,d.getFeatureFlags)().bake_edu_limit&&o.push((0,l.tx)("plan_comparison.feature.ai_credits_month",{aiCredits:t})),o;case f.Ag.PRO:return r=c.EK,[...T,(0,l.tx)("plan_comparison.feature.ai_credits",{aiCredits:r})];case f.Ag.ORG:return i=c.tg,[(0,l.tx)("plan_comparison.campfire.org.feature.centralized_admin_hub"),(0,l.tx)("plan_comparison.campfire.org.feature.design_libraries"),(0,l.tx)("plan_comparison.campfire.org.feature.scim"),(0,l.tx)("plan_comparison.campfire.org.feature.more_file_features"),(0,l.tx)("plan_comparison.campfire.org.feature.tools_like_code_connect"),(0,l.tx)("plan_comparison.feature.ai_credits",{aiCredits:i})];case f.Ag.ENTERPRISE:return n=c.Yt,[(0,l.tx)("plan_comparison.campfire.enterprise.feature.customized_workspaces"),(0,l.tx)("plan_comparison.campfire.enterprise.feature.advanced_design_systems"),(0,l.tx)("plan_comparison.campfire.enterprise.feature.scim_seat_and_group_assignment"),(0,l.tx)("plan_comparison.campfire.enterprise.feature.powerful_security_features"),(0,l.tx)("plan_comparison.campfire.enterprise.feature.ai_credits",{aiCredits:n})];default:return[]}}let b="https://www.figma.com/enterprise/",y="Plan comparison chart billing remodel",M="Pricing Component",S="Pricing Component With Product Icons";function I({isStudentUser:e,currentPlanTier:t}){var r,i;let n,o,s,a,d,h,c=(n={planTier:f.Ag.STARTER,name:(0,l.tx)("plan_comparison.campfire.starter.name"),description:(0,l.tx)("plan_comparison.campfire.starter.description"),displayedSeats:null,features:v(f.Ag.STARTER)},o={planTier:f.Ag.STUDENT,name:(0,l.tx)("plan_comparison.campfire.edu.name"),description:(0,l.tx)("plan_comparison.campfire.edu.description"),displayedSeats:null,features:v(f.Ag.STUDENT)},s={planTier:f.Ag.PRO,name:(0,l.tx)("plan_comparison.campfire.pro.name"),description:(0,l.tx)("plan_comparison.campfire.pro.description"),displayedSeats:A(),features:v(f.Ag.PRO)},a={planTier:f.Ag.ORG,name:(0,l.tx)("plan_comparison.campfire.org.name"),description:(0,l.tx)("plan_comparison.campfire.org.description"),displayedSeats:A(),features:v(f.Ag.ORG)},d={planTier:f.Ag.ENTERPRISE,name:(0,l.tx)("plan_comparison.campfire.enterprise.name"),description:(0,l.tx)("plan_comparison.campfire.enterprise.description"),displayedSeats:A(),features:v(f.Ag.ENTERPRISE)},h={[f.Ag.STARTER]:n,[f.Ag.STUDENT]:o,[f.Ag.PRO]:s,[f.Ag.ORG]:a,[f.Ag.ENTERPRISE]:d},[f.Ag.STARTER,f.Ag.STUDENT,f.Ag.PRO,f.Ag.ORG,f.Ag.ENTERPRISE].map(e=>h[e])),u=(r=e,(i=t)===f.Ag.PRO?[f.Ag.PRO,f.Ag.ORG,f.Ag.ENTERPRISE]:i===f.Ag.STUDENT?[f.Ag.STUDENT,f.Ag.PRO,f.Ag.ORG]:r?[f.Ag.STARTER,f.Ag.STUDENT,f.Ag.PRO]:[f.Ag.STARTER,f.Ag.PRO,f.Ag.ORG]);return c.filter(e=>u.includes(e.planTier))}var C=((i=C||{})[i.FIGJAM=0]="FIGJAM",i[i.SLIDES=1]="SLIDES",i[i.DEV_MODE=2]="DEV_MODE",i[i.BUZZ=3]="BUZZ",i[i.DRAW=4]="DRAW",i[i.SITES=5]="SITES",i[i.DESIGN=6]="DESIGN",i[i.MAKE=7]="MAKE",i);function x(e){switch(e){case m.ud.COLLABORATOR:return(0,l.t)("general.bundle.collaborator");case m.ud.DEVELOPER:return(0,l.t)("general.bundle.developer");case m.ud.EXPERT:return(0,l.t)("general.bundle.expert");case m.ud.CONTENT:return(0,l.t)("general.bundle.content");default:return""}}function A(){let e={seatType:m.ud.COLLABORATOR,icon:(0,u.BC)({type:m.ud.COLLABORATOR,size:"24",removeBackgroundColor:!0}),name:x(m.ud.COLLABORATOR)},t={seatType:m.ud.DEVELOPER,icon:(0,u.BC)({type:m.ud.DEVELOPER,size:"24",removeBackgroundColor:!0}),name:x(m.ud.DEVELOPER)},r={seatType:m.ud.EXPERT,icon:(0,u.BC)({type:m.ud.EXPERT,size:"24",removeBackgroundColor:!0}),name:x(m.ud.EXPERT)},i={seatType:m.ud.CONTENT,icon:(0,u.BC)({type:m.ud.CONTENT,size:"24",removeBackgroundColor:!0}),name:x(m.ud.CONTENT)},n=p.N_.sort(_.AG),o={[m.ud.COLLABORATOR]:e,[m.ud.DEVELOPER]:t,[m.ud.EXPERT]:r,[m.ud.CONTENT]:i};return n.map(e=>o[e])}function O(){let e={seatType:m.ud.COLLABORATOR,icon:(0,u.BC)({type:m.ud.COLLABORATOR,size:"32"}),name:(0,l.tx)("plan_comparison.campfire.collab.name"),description:(0,l.tx)("plan_comparison.campfire.collab.description"),supportedProducts:D(m.ud.COLLABORATOR)},t={seatType:m.ud.DEVELOPER,icon:(0,u.BC)({type:m.ud.DEVELOPER,size:"32"}),name:(0,l.tx)("plan_comparison.campfire.dev.name"),description:(0,l.tx)("plan_comparison.campfire.dev.description"),supportedProducts:D(m.ud.DEVELOPER)},r={seatType:m.ud.EXPERT,icon:(0,u.BC)({type:m.ud.EXPERT,size:"32"}),name:(0,l.tx)("plan_comparison.campfire.full.name"),description:(0,l.tx)("plan_comparison.campfire.full.description"),supportedProducts:D(m.ud.EXPERT)},i={seatType:m.ud.CONTENT,icon:(0,u.BC)({type:m.ud.CONTENT,size:"32"}),name:(0,l.tx)("plan_comparison.campfire.content.name"),description:(0,l.tx)("plan_comparison.campfire.content.description"),supportedProducts:D(m.ud.CONTENT)},n={[m.ud.COLLABORATOR]:e,[m.ud.DEVELOPER]:t,[m.ud.EXPERT]:r,[m.ud.CONTENT]:i};return p.N_.sort((e,t)=>-(0,_.AG)(e,t)).map(e=>n[e])}let N={0:(0,n.jsx)(w.cN,{}),1:(0,n.jsx)(w.iK,{}),2:(0,n.jsx)(w.Gv,{}),3:(0,n.jsx)(w.vd,{}),5:(0,n.jsx)(w.cw,{}),4:(0,n.jsx)(w.Wu,{}),6:(0,n.jsx)(w.EB,{}),7:(0,n.jsx)(w._O,{})},R={0:10,1:20,2:30,3:40,5:50,4:60,6:70,7:80};function P(e,t){return R[e]-R[t]}function D(e){switch(e){case m.ud.EXPERT:return[0,1,2,3,4,5,6,7];case m.ud.DEVELOPER:return[0,1,2,3];case m.ud.COLLABORATOR:return[0,1];case m.ud.CONTENT:return[0,1,3,5];default:return[]}}function k(e){return D(e).sort(P).map(e=>N[e])}let L={6:(0,l.tx)("plan_comparison.campfire.design"),2:(0,l.tx)("plan_comparison.campfire.dev_mode"),0:(0,l.tx)("plan_comparison.campfire.figjam"),1:(0,l.tx)("plan_comparison.campfire.slides"),3:(0,l.tx)("plan_comparison.campfire.buzz"),4:(0,l.tx)("plan_comparison.campfire.draw"),5:(0,l.tx)("plan_comparison.campfire.sites"),7:(0,l.tx)("general.figma_rev")};function F(e){let t=[0,1,2,3,4,6,5,7].map(t=>{let r=L[t],i=e.includes(t);return 5!==t||(0,g.oz)()?(0,o.createElement)("li",{className:"x78zum5 x15r87gk x1ah0xmj",key:t},(0,n.jsx)("div",{"aria-hidden":"true",...{className:"xrq0nwi"},children:i?(0,n.jsx)(s.g,{}):(0,n.jsx)(a.q,{style:{"--color-icon":"var(--color-icon-tertiary)"}})}),(0,n.jsx)("div",{...{0:{className:"x4z9k3i x1o2sk6j x1n0bwc9"},1:{className:"x4z9k3i x1o2sk6j"}}[0|!!i],children:(0,n.jsxs)("span",{"aria-hidden":"true",children:[r,5===t&&i&&(0,n.jsx)(z,{}),3===t&&i&&(0,n.jsx)(z,{})]})})):null});return(0,n.jsx)("ul",{...{className:"xe8uvvx x1717udv x1ghz6dp"},children:t.filter(Boolean)})}let U={koQZXg:"xnfn54o",kE3dHu:"xilkfi8",kpe85a:"x1cmmqis",kLKAdn:"x1nn3v0j",kGO01o:"x1120s5i",k63SB2:"x1fcty0u",kGuDYH:"x1j6dyjg",kLWn49:"x1d3mw78",kaIpWk:"x192jxwq",kXLuUW:"x1uuroth",$$css:!0},B={kMwMTN:"xazz677",kWkggS:"x1ghs5zp",$$css:!0},V={kMwMTN:"x41ke8t",kWkggS:"xv3c37r",$$css:!0},H={kMwMTN:"x1akne3o",kWkggS:"x176lpz5",$$css:!0};function W({text:e,isStaticColor:t,isNoColor:r}){return(0,n.jsx)("span",{...h.Ay.props(U,t?V:r?H:B),children:e})}function j(){return(0,n.jsx)(W,{text:(0,l.tx)("plan_comparison.campfire.edu.highlight")})}function G({isStaticColor:e}){return(0,n.jsx)(W,{text:(0,l.tx)("plan_comparison.plans.most_popular"),isStaticColor:e})}function z(){return(0,n.jsx)(W,{text:(0,l.tx)("general.beta"),isNoColor:!0})}function K(){let e=Object.values(C).filter(e=>"number"==typeof e).sort(P);return(0,n.jsx)("div",{"data-testid":"plan-comparison-product-key-header",...{className:"x78zum5 x1q0g3np x6s0dn4 x1r05qx8 xmkeg23 x1y0btm7 x7z60cl x1mxnbhz x1r36162 x1eecynx x1x7x7pv xymwmen"},role:"region","aria-label":(0,l.t)("plan_comparison.campfire.product_key_header"),children:e.map(e=>(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 x8439ig"},children:[(0,n.jsx)("div",{...{className:"x1kky2od xlup9mm x2lah0s"},"aria-hidden":!0,children:N[e]}),(0,n.jsx)("p",{...{className:"xemv814 xyny9ap xuxw1ft"},children:L[e]})]},e))})}},780124(e,t,r){r.d(t,{FO:()=>T,xb:()=>E});var i=r(239976),n=r(105652),o=r(645186),s=r(824272),a=r(50751),l=r(790174),d=r(688357),h=r(850159),c=r(838719),u=r(811474),m=r(317507),p=r(345668),_=r(541367);r(915166);var f=r(403228);let g=(0,c.staticAssetWithUploadsPath)("aae0db2814117595e45cc509d52e79e7cc31333c"),w=(0,c.staticAssetWithUploadsPath)("ae3807b6d650b52da20879078b85a0df23ee056a"),E="dev_handoff_dismissed_inspect_panel_plugins_hint";function T(){let e=(0,_.An)(),t=(0,o.wA)(),r=n.useCallback(()=>{t(m.b({[E]:!0}))},[t]),c=n.useCallback(()=>{(0,p.ax)(d._gJ.PLUGIN),r()},[r]);return e?(0,i.jsx)("div",{className:f.A0,children:(0,i.jsxs)(s.aq,{variant:"default",icon:(0,i.jsxs)("div",{className:f._e,children:[(0,i.jsx)("img",{alt:"",className:f.Kk,src:g}),(0,i.jsx)("div",{className:f.Kk,children:(0,i.jsx)(u.f,{})}),(0,i.jsx)("img",{alt:"",className:f.Kk,src:w})]}),onDismiss:r,children:[(0,i.jsx)(a.Q,{title:(0,h.t)("dev_handoff.inspect_panel.plugins_hint.title"),children:(0,h.tx)("dev_handoff.inspect_panel.plugins_hint")}),(0,i.jsx)(l.$,{onClick:c,children:(0,h.tx)("dev_handoff.inspect_panel.plugins_hint.link")})]})}):null}},967233(e,t,r){r.d(t,{S7:()=>u,WJ:()=>function e(t,r){return!!r&&"CANVAS"!==r.type&&(r.guid===t.guid||e(t,r.parentNode))},_$:()=>c});var i=r(7e3),n=r(688357),o=r(151524),s=r(356484),a=r(985373),l=r(181254),d=r(575425),h=r(645887);function c(e,t,r){if("fullscreen"!==t.view)return;let i=o.D.getState();i.selectedView?.showOverview&&"overview_search_clicked"===r&&(0,l.ds)("Dev Mode Overview Pages Search Clicked",i.openFile?.key,i,{pageId:t.nodeId}),"editorType"in t&&t.editorType===d.nT.Design&&(0,s.Ym)(i,d.nT.Design,r),e(a.sf({...t,showOverview:!1,overviewBackButtonTargetNodeId:void 0}))}function u(e,t,r){let o,s=(o=e.get(r)?.backgroundColor)?h.F.format(o):null,a=n.w3z?.backgroundColorOverride(t);return a?h.F.format((0,i.aH)(a)):s}},546799(e,t,r){r.d(t,{BC:()=>w,EF:()=>C,FJ:()=>y,Oy:()=>S,Y9:()=>p,au:()=>_,cx:()=>E,gX:()=>T,hK:()=>g,t9:()=>v,v6:()=>A,yu:()=>f});var i=r(990879),n=r(741542),o=r(37760),s=r(181645),a=r(463592),l=r(116682),d=r(265773),h=r(830772),c=r(27266),u=r(924114),m=r(856417);let p=(0,i.NC)("REFRESH_FEED"),_=(0,d.nF)((e,t,{loadingKey:r})=>{if(!(0,n.getFeatureFlags)().xr_debounce_threshold)return;let i=m.K.getFeedBellStates();(0,u.N)(i,e,r),i.then(t=>{e.dispatch(g({bellStates:t.data.meta}))})}),f=(0,i.NC)("TEAM_FEED_SET_BELL_STATE"),g=(0,i.NC)("TEAM_FEED_SET_INITIAL_BELL_STATES"),w=(0,d.nF)((e,t)=>{let r=e.getState().user,i=(0,a.WB)(),n=t.uuid;if(!r||!i||!n||t.commentId.startsWith(A))return;let o=i.getIdFromUuid("FeedComment",n).then(e=>l.Ay.del(`/api/feed_posts/comments/${e}`));i.optimisticallyDeleteWithUUID({FeedComment:{[n]:null}},o)}),E=(0,d.nF)((e,t)=>{t.messageMeta=(0,h.Pq)(t.messageMeta);let r=e.getState().user,i=(0,a.WB)(),n=t.uuid;if(!r||!i||!n)return;let o=i.getIdFromUuid("FeedComment",n).then(e=>l.Ay.put(`/api/feed_posts/comments/${e}`,{message_meta:t.messageMeta,attachment_updates:(0,c.Gq)(t.attachmentUpdates)}));(0,s.sx)("Team Feed Comment Edited",{text:(0,h._Z)(t.messageMeta)});let d=(0,h.Rc)(t.messageMeta);i.optimisticallyUpdateWithUUID({FeedComment:{[n]:{messageMeta:d}}},o)}),T=(0,d.nF)((e,t)=>{t.messageMeta=(0,h.Pq)(t.messageMeta);let r=e.getState().user,i=(0,a.WB)();if(!r||!i)return;let n=(0,o.g)(),d=l.Ay.post(`/api/feed_posts/${t.postUuid}/comments`,{message_meta:t.messageMeta,uuid:n,attachment_ids:t.attachmentIds}),c=!!t.messageMeta.find(e=>(0,h.l5)(e)===h.vj.EMOJI),u=!!t.messageMeta.find(e=>(0,h.l5)(e)===h.vj.EDITOR_MENTION);(0,s.sx)("Team Feed Comment Added",{emojiUsed:c,mentionUsed:u,text:(0,h._Z)(t.messageMeta),postUuid:t.postUuid});let m=(0,h.Rc)(t.messageMeta);i.optimisticallyCreateWithUUID({FeedComment:{[n]:{feedPostPublicUuid:t.postUuid,uuid:n,userId:r.id,user:{id:r.id,handle:r.handle,imgUrl:r.img_url},messageMeta:m,createdAt:new Date,reactions:[]}}},d)}),v=(0,d.nF)((e,t)=>{let{commentUuid:r,emoji:i,reactionId:n}=t,o=b(r,i);e.getState().user&&(0,a.WB)().optimisticallyDelete({FeedReaction:{[n]:null}},o)}),b=(e,t)=>(0,a.WB)().getIdFromUuid("FeedComment",e).then(e=>l.Ay.del(`/api/feed_posts/comments/${e}/reactions`,{emoji:t})),y=(0,d.nF)((e,t)=>{let{commentUuid:r,commentId:i,emoji:n}=t,o=e.getState().user;if(!o||i.startsWith(A))return;let l=M(r,n);(0,s.sx)("Team Feed Reaction Added",{commentId:i,type:n});let d=`optimistic-id-comment-${i}-${n}-${o.id}`;(0,a.WB)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:n,feedResourceId:i,feedResourceType:"FeedComment",userId:o.id}}},l)}),M=(e,t)=>(0,a.WB)().getIdFromUuid("FeedComment",e).then(e=>l.Ay.post(`/api/feed_posts/comments/${e}/reactions`,{emoji:t})),S=(0,d.nF)((e,t)=>{let{feedPostUuid:r,emoji:i,reactionId:n}=t,o=I(r,i);e.getState().user&&(0,a.WB)().optimisticallyDelete({FeedReaction:{[n]:null}},o)}),I=(e,t)=>l.Ay.del(`/api/feed_posts/${e}/reactions`,{emoji:t}),C=(0,d.nF)((e,t)=>{let{feedPostUuid:r,feedPostId:i,emoji:n}=t,o=e.getState().user;if(!o)return;let l=x(r,n);(0,s.sx)("Team Feed Reaction Added",{postUuid:r,type:n});let d=`optimistic-id-${r}-${n}-${o.id}`;(0,a.WB)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:n,feedResourceId:i,feedResourceType:"FeedPost",userId:o.id,user:{id:o.id,handle:o.handle,imgUrl:o.img_url}}}},l)}),x=(e,t)=>l.Ay.post(`/api/feed_posts/${e}/reactions`,{emoji:t}),A="pending-feed-comment"},250487(e,t,r){r.d(t,{Kh:()=>g,LV:()=>h,NS:()=>c,Pp:()=>u,Zq:()=>s,a6:()=>d,cb:()=>_,jT:()=>p,oI:()=>l,rO:()=>a,t7:()=>f,yF:()=>m});var i=r(990879),n=r(815810),o=r(265773);let s=(0,i.NC)("VOICE_SET_ACTIVE_CALL"),a=(0,i.NC)("VOICE_JOIN_ACTIVE_CALL"),l=(0,i.NC)("VOICE_LEAVE_ACTIVE_CALL"),d=(0,i.NC)("VOICE_CLEAR_ACTIVE_CALL");(0,i.NC)("VOICE_SHOW_PAYWALL_MODAL");let h=(0,i.NC)("VOICE_SET_VOICE_USERS"),c=(0,o.nF)(async(e,{userIds:t,fileKey:r})=>{if(0!==t.length)try{let{data:i}=await n.n.getUsersUserIds({fileKey:r,userIds:t}),o=i.meta.map(e=>({userID:e.id,name:e.handle,imageURL:e.img_url}));e.dispatch(h(o))}catch{return}}),u=(0,i.NC)("VOICE_TOGGLE_WIDGET"),m=(0,i.NC)("VOICE_TOGGLE_WIDGET_PARTICIPANT_LIST"),p=(0,i.NC)("VOICE_SNAP_WIDGET"),_=(0,i.NC)("VOICE_SET_USER_IDS_INCALL_FROM_PROVIDER"),f=(0,i.NC)("VOICE_SHOW_CAPTIONS"),g=(0,i.NC)("VOICE_CAPTIONS_INSTALL_PROGRESS")},181254(e,t,r){r.d(t,{CM:()=>E,E9:()=>y,GS:()=>b,Hb:()=>_,Nb:()=>g,Nq:()=>m,OH:()=>M,PB:()=>S,QM:()=>p,ak:()=>C,cf:()=>h,ds:()=>T,f5:()=>v,oP:()=>x,pf:()=>I,ys:()=>c});var i=r(688357),n=r(63744),o=r(181645),s=r(472280),a=r(487817),l=r(559365);let d=null;function h(){return d}function c(e){d=e}let u=0;function m(){return u.toString()}function p(){u=0}function _(){u++}let f=(e,t)=>{switch(t?.selectedView?.view){case"prototype":case"mobileViewer":if(t.selectedView.file?.key===e)return t.selectedView.file||null;return null;default:return e&&t.fileByKey[e]||null}};function g(e,t){return e===a._Y.SLIDES&&"fullscreen"===t?{slide_view:n.u7?.singleSlideView()?.isFocusedNodeViewEnabled()?"ssv":"grid"}:{}}let w=(e,t,r,n={})=>{let o=(0,s.v5)(r?.selectedView,t&&t.editor_type),a={...n,...g(o,r?.selectedView?.view)};return a.productType=o,a.fileKey=e||"new",a.fileParentOrgId=t&&t.parent_org_id,a.fileTeamId=t&&t.team_id,t&&t.file_repo_id&&(a.fileRepoId=t.file_repo_id),a.fileTeamId=t&&t.team_id,a.containingFolderId=t&&t.folder_id,a.entrypoint=n.entrypoint,a.figmaBasicsExperiment=t?.track_tags?.figma_basics_experiment,d&&(a.loadID=d,a.reconnectId=m()),a.fileIsIncremental=!!i.h3O?.isIncrementalSession(),a.fileIsValidatingIncremental=!!i.h3O?.isValidatingIncremental(),a.isStagingChanges=!!i.h3O?.isStagingChanges(),a};function E(e,t,r={}){let i=f(e,t);return w(e,i,t,r)}let T=(0,l.nh)((e,t,r,i={},n)=>{let s=f(t,r),a=w(t,s,r,i);(0,o.sx)(e,a,n)}),v=(0,l.nh)((e,t,r,i={},n)=>{let s=w(t.key,t,r,i);(0,o.sx)(e,s,n)}),b=(0,l.nh)((e,t,r,i)=>{let n=f(t,r),s=w(t,n,r,i);o.az.trackDefinedEvent(e,s)});function y(e,t,r={},i){r.productType=t&&(0,s.pi)(t),r.fileKey=t?.key||"new",r.fileParentOrgId=t?.parentOrgId,r.fileTeamId=t?.teamId,r.containingFolderId=t?.folderId,t&&t.fileRepoId&&(r.fileRepoId=t.fileRepoId),(0,o.sx)(e,r,i)}function M(e,t,r={},i){let n=t.map(e=>e.key),s=[],a=[],l=[];t.forEach(e=>{s.push(e.parent_org_id),a.push(e.team_id),l.push(e.folder_id)}),(0,o.sx)(e,{...r,fileKeys:n,fileParentOrgIds:s,fileTeamIds:a,containingFolderIds:l},i)}function S(e,t,r,i={},n){let s=t.map(e=>r.fileByKey[e]),a=[],l=[],d=[];s.forEach(e=>{e&&(a.push(e.parent_org_id),l.push(e.team_id),d.push(e.folder_id))}),(0,o.sx)(e,{...i,fileKeys:t,fileParentOrgIds:a,fileTeamIds:l,containingFolderIds:d},n)}function I(e,t,r={},i){let n=[],s=[],a=[],l=[];t.forEach(e=>{n.push(e.key),s.push(e.parentOrgId),a.push(e.teamId),l.push(e.folderId)}),(0,o.sx)(e,{...r,fileKeys:n,fileParentOrgIds:s,fileTeamIds:a,containingFolderIds:l},i)}function C(e,t,r,i){let n=e.map(e=>e.key),o=[],s=[],a=[];n.forEach((e,r)=>{let i=t[r];o.push(i.key),s.push(i.folder_id),a.push(i.team_id)}),S("File Copied",n,r,{copiedFileKeys:o,copiedContainingFolderIds:s,copiedFileTeamIds:a},i)}function x(e){return{canEdit:e.canEdit,fileKey:e.key,productType:(0,s.pi)(e)}}},5736(e,t,r){r.d(t,{V:()=>w});var i=r(239976),n=r(105652),o=r(645186),s=r(111708),a=r(42053),l=r(684325),d=r(360226),h=r(523454),c=r(844920),u=r(879415),m=r(38900),p=r(936652);let _="app_modal--appModalCachedSubtree--bZ1oS",f=r(914724).n;class g extends n.Component{constructor(){super(...arguments),this.modalStack=[],this.logtimeout=null,this.onClose=()=>{this.props.dispatch((0,m.Lo)())}}componentDidUpdate(){this.logtimeout&&clearTimeout(this.logtimeout),this.logtimeout=setTimeout(()=>{!function(e){if(e.every(e=>E.has(e.modal.type)))return;let t=document.querySelectorAll(`.${_}`);if(t.length===e.length)for(let r=0;r<t.length;++r){let i=t[r].children[0];if(!(i instanceof HTMLElement))continue;let n=e[r].modal,o=i.role,s=i.getAttribute("aria-modal");if("dialog"!==o||"true"!==s){if(E.has(n.type))continue;E.add(n.type),(0,a.x1)("app_modal","AppModal rendered a non-modal element",{type:n.type,showModalsBeneath:!!n.showModalsBeneath,optOutOfPrevModal:!!n.optOutOfPrevModal,isSubModal:!!n.prevModal},{reportAsSentryError:!0})}}}(this.modalStack)},1e3)}renderModal(e,t,r){if(!e||!t)return null;if(!t.isLegacy)return t.render({open:r,onClose:this.onClose,...e.data});{let e=t.render;return(0,i.jsx)(e,{open:r,...this.props})}}render(){if(this.props.currentUserOrgId&&(0,h.dN)(this.props.currentUserOrgId,this.props))return(0,i.jsx)(f,{currentOrgId:this.props.currentUserOrgId});let e=this.props.modalShown;if(!e)return this.modalStack=[],null;if(e.type===u.Lu){let t=(0,p.np)(e.type),r={modal:e,cachedSubtree:new c.H4(this.renderModal.bind(this,e,t)),registeredModal:t};return this.modalStack=[r],r.cachedSubtree.render({isVisible:!0,valueArgs:[!0],displayAs:"block"})}for(;this.modalStack.length;){let t=this.modalStack[this.modalStack.length-1].modal;if(e===t||e.prevModal===t)break;this.modalStack.pop()}if(e!==this.modalStack[this.modalStack.length-1]?.modal){let t=(0,p.np)(e.type);t||(0,a.x1)("app_modal",`No modal registered for type ${e.type}`,{},{reportAsSentryError:!0}),this.modalStack.push({modal:e,cachedSubtree:new c.H4(this.renderModal.bind(this,e,t)),registeredModal:t})}let t=new Set,r=this.modalStack.length-1;for(;r>=0;){let e=this.modalStack[r];if(r===this.modalStack.length-1)t.add(r);else if(e.registeredModal?.supportsBackgroundVisible)t.add(r);else break;if(!e.modal.showModalsBeneath)break;r--}return this.modalStack.map((e,r)=>{let n=t.has(r),o=!0===n||c.Ud;return(0,i.jsx)(l.tH,{boundaryKey:`AppModal${e.modal.type}`,fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING,children:e.cachedSubtree.render({isVisible:o,displayAs:"block",valueArgs:[n],className:_})},e.modal.type)})}}g.displayName="AppModal";let w=(0,s.w)((0,o.Ng)(d.l$)(g),"AppModal"),E=new Set},936652(e,t,r){r.d(t,{Ij:()=>d,Ju:()=>_,ZU:()=>c,np:()=>g,qK:()=>f,xv:()=>m});var i,n=r(239976),o=r(105652),s=r(843489),a=r(181645),l=r(513486);function d(e){return{loading:()=>null,error:l.H4.NONE,componentName:e}}let h=new Map;var c=((i=c||{})[i.NO=0]="NO",i[i.YES=1]="YES",i);function u(e,t,r){if(!t)throw Error("registerModal called for a component without a valid type");if(h.has(t))throw Error(`a modal with type ${t} has already been registered`);return h.set(t,{render:t=>(0,n.jsx)(e,{...t}),isLegacy:!1,supportsBackgroundVisible:1===r,preload:e?.preload}),{type:t}}function m(e){let t=h.get(e);return t?.preload?.(!0)}let p=0;function _(e,t,r){if("string"==typeof t)return u(o.memo(function(r){return(0,s.h)(()=>{(0,a.sx)("modal_shown",{modal_id:t})}),(0,n.jsx)(e,{...r})}),t,r);let i=`id:${e.displayName||p++}`,l=o.memo(function(t){return(0,s.h)(()=>{(0,a.sx)("modal_shown",{modal_id:i})}),(0,n.jsx)(e,{...t,_modalId:{type:i}})});return l.preload=e.preload,u(l,i,t?.supportsBackgroundVisible)}function f(e,t){let r={render:t,isLegacy:!0,supportsBackgroundVisible:!1,preload:t.preload};return h.set(e,r),e}function g(e){return h.get(e)}},787486(e,t,r){r.d(t,{fr:()=>p,ih:()=>d,pf:()=>m});var i=r(105652),n=r(140979),o=r(116682),s=r(290133),a=r(508295);let l=new Date,d={id:"",userId:"",fileKey:"",createdAt:l,allReadAt:l,readCanvasMentions:{},unreadCanvasMentions:{}};class h{constructor(e,t,r){this.args=e,this.subscription=t,this.user=r,this.livegraphClient=null}get fileKey(){return this.args.fileKey}optimistically(e){var t;this.livegraphClient?this.subscription?"loaded"===(t=this.subscription).status&&t.data.file&&t.data.file?.fileCanvasMentions?e(this.subscription.data,this.livegraphClient,this.user):console.error("Unable to perform optimistic mutation to livegraph - partial subscription",JSON.stringify(this.args)):setTimeout(()=>{throw Error(`Unable to perform optimistic mutation to livegraph, no livegraph client ${JSON.stringify(this.args)}`)}):setTimeout(()=>{throw Error("Unable to perform optimistic mutation to livegraph, no livegraph client")})}}class c{constructor(e){this.client=e}get canvasMentionReceipts(){return this}async markAsUnread(e){let t=this.addMentionToUnread(e);return this.client.optimistically(async(r,i,n)=>{let o=r?.file?.currentUserFileCanvasMentionReadStatus,s=new Date;if(o){let{[e]:r,...n}=o.readCanvasMentions;await i.optimisticallyUpdate({FileCanvasMentionReadStatus:{[o.id]:{...o,allReadAt:d.allReadAt,readCanvasMentions:n,unreadCanvasMentions:{...o.unreadCanvasMentions,[e]:s.toUTCString()}}}},t)}else await i.optimisticallyCreate({FileCanvasMentionReadStatus:{[u(s)]:{userId:n.id,fileKey:this.client.fileKey,createdAt:s,updatedAt:s,allReadAt:d.allReadAt,readCanvasMentions:{},unreadCanvasMentions:{[e]:s.toUTCString()}}}},t)}),await t}async markAllAsRead(){let e=this.removeMentionsFromUnread();return this.client.optimistically(async(t,r,i)=>{let n=t?.file?.currentUserFileCanvasMentionReadStatus,o=new Date;n?await r.optimisticallyUpdate({FileCanvasMentionReadStatus:{[n.id]:{...n,allReadAt:o,readCanvasMentions:{},unreadCanvasMentions:{}}}},e):await r.optimisticallyCreate({FileCanvasMentionReadStatus:{[u(o)]:{userId:i.id,fileKey:this.client.fileKey,createdAt:o,updatedAt:o,allReadAt:o,readCanvasMentions:{},unreadCanvasMentions:{}}}},e)}),await e}async markAsRead(e){let t=this.removeMentionsFromUnread(e);return this.client.optimistically(async(r,i,n)=>{let o=r?.file?.currentUserFileCanvasMentionReadStatus,s=new Date,a=e.reduce((e,t)=>({...e,[t]:s.toUTCString()}),{});o?await i.optimisticallyUpdate({FileCanvasMentionReadStatus:{[o.id]:{...o,readCanvasMentions:{...o.readCanvasMentions,...a},unreadCanvasMentions:Object.keys(o.unreadCanvasMentions).filter(t=>!e.includes(t)).reduce((e,t)=>(e[t]=s.toUTCString(),e),{})}}},t):await i.optimisticallyCreate({FileCanvasMentionReadStatus:{[u(s)]:{userId:n.id,fileKey:this.client.fileKey,createdAt:s,updatedAt:s,allReadAt:d.allReadAt,readCanvasMentions:a,unreadCanvasMentions:{}}}},t)}),await t}removeMentionsFromUnread(e){let t=this.client.subscription.data?.file?.currentUserFileCanvasMentionReadStatus;return e?o.Ay.del(`/api/file/${this.client.fileKey}/canvas_mentions/unread`,{canvas_mention_ids:e,...!t&&{all_read_at:d.allReadAt}}):o.Ay.del(`/api/file/${this.client.fileKey}/canvas_mentions/unread`,{...!t&&{all_read_at:d.allReadAt}})}addMentionToUnread(e){let t=this.client.subscription.data?.file?.currentUserFileCanvasMentionReadStatus;return o.Ay.post(`/api/file/${this.client.fileKey}/canvas_mentions/unread`,{canvas_mention_ids:[e],...!t&&{all_read_at:d.allReadAt}})}}function u(e){return`pending-canvas-mention-read-status-${e.getTime()}`}function m(e){let t=(0,n.ZA)(),r=(0,a.iZ)(),{canvasMentionArgs:o,canvasMentionSubscription:s}=e,l=i.useMemo(()=>r?new h(o,s,r):null,[o,s,r]);if(l)return l.livegraphClient=t,new c(l)}function p(){let e=(0,s.GH)();if(!e)throw Error(s.H5);return e.api.canvasMentionReceipts??void 0}},520435(e,t,r){r.d(t,{$0:()=>eh,$M:()=>eP,AY:()=>Y,At:()=>et,C:()=>j,CX:()=>ec,Df:()=>eW,F8:()=>eu,Fm:()=>eT,Jc:()=>eV,Mv:()=>J,NJ:()=>eE,Oo:()=>ew,PB:()=>eR,Q8:()=>ep,QD:()=>eU,QY:()=>K,Qe:()=>ev,RI:()=>eM,RO:()=>eO,RP:()=>ef,Tb:()=>$,U3:()=>eN,UU:()=>ed,We:()=>ey,Z5:()=>eL,_B:()=>el,_v:()=>ee,a$:()=>em,bB:()=>ei,cL:()=>eJ,dB:()=>G,gi:()=>eo,hY:()=>Z,hx:()=>X,i4:()=>eb,js:()=>eX,k7:()=>eB,l5:()=>er,lI:()=>ea,lV:()=>es,li:()=>eG,nL:()=>eS,nb:()=>ek,on:()=>eF,pD:()=>en,pI:()=>eY,q4:()=>eD,rW:()=>Q,sQ:()=>eI,uy:()=>eH,uz:()=>ej,vV:()=>e_,wJ:()=>ez,wg:()=>eg,xH:()=>ex,y3:()=>eK,yH:()=>e$,z$:()=>q});var i=r(688357),n=r(491852),o=r(90708),s=r(393106),a=r(850159),l=r(990879),d=r(741542),h=r(350923),c=r(270168),u=r(55914),m=r(181645),p=r(955721),_=r(463592),f=r(462198),g=r(42053),w=r(116682),E=r(863825),T=r(613629),v=r(265773),b=r(985373),y=r(86782),M=r(803978),S=r(317507),I=r(181254),C=r(38900),x=r(185733),A=r(448775),O=r(389218),N=r(608545),R=r(108115),P=r(817482),D=r(802054),k=r(244953),L=r(947234),F=r(999763),U=r(382847),B=r(476735),V=r(830772),H=r(975592),W=r(27266);async function j(e,t,r,i,n,o,s){await z(s.messageMeta,e,t,r,i,n,o).then(t=>{t&&(e(ee({comment:s.comment,messageMeta:s.messageMeta,attachmentUpdates:s.attachmentUpdates,shareToMention:t,onCommentValidationFailure:void 0})),e(Q()))}).catch(()=>{})}async function G(e,t,r,i,n,o,s,a,l,d){return await z(a.messageMeta,t,r,i,n,o,s).then(r=>{t(eV({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}})),t(es({commentsWriteApi:e,threadId:a.threadId,threadUuid:a.threadUuid,uuid:l,forceWithInvite:r,onCommentValidationFailure:void 0,commentsConfiguration:d}))}).catch(()=>{t(eD({threadId:a.threadId,resetStatusOnly:!0})),t(eV({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}}))})}function z(e,t,r,i,n,o,s){return new Promise(a=>{t((0,C.to)({type:R.mb,data:{messageMeta:e,dispatch:t,usersWithoutAccess:r,externalUsersWithoutAccess:i,uninvitableUsers:n,userGroupsWithoutAccess:o,commentingUserCannotInvite:s,onConfirm:()=>a(!0),onCancel:()=>a(!1)}}))})}let K=(0,v.nF)((e,t)=>{let{receiptsAPI:r,comment:i}=t;r.markAsUnread(i.id).catch(t=>{let r=(0,a.t)("comments.an_error_occurred_while_marking_a_comment_as_unread");try{t=JSON.parse(t),e.dispatch(E.s.error((0,s.J)(t,r)))}catch(t){e.dispatch(E.s.error(r))}})}),Y=(0,v.nF)((e,t)=>{let{receiptsAPI:r,thread:i}=t;r.markAsRead(i.comments.map(e=>e.id)).catch(t=>{let r=(0,a.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(E.s.error((0,s.J)(t,r)))}catch(t){e.dispatch(E.s.error(r))}})}),$=(0,v.nF)((e,t)=>{let{commentReceiptsAPI:r,canvasMentionReceiptsAPI:i}=t;r.markAllAsRead().catch(t=>{let r=(0,a.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(E.s.error((0,s.J)(t,r)))}catch(t){e.dispatch(E.s.error(r))}}),i.markAllAsRead().catch(t=>{let r=(0,a.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(E.s.error((0,s.J)(t,r)))}catch(t){e.dispatch(E.s.error(r))}})});(0,v.nF)((e,t)=>{let{reactionsApi:r,id:i,emoji:n}=t,o=r.removeReaction(i,n),s=(0,a.t)("comments.an_error_occurred_while_removing_a_comment_reaction");e.dispatch((0,E.Q)({promise:o,fallbackError:s}))}),(0,v.nF)((e,t)=>{let r=e.getState(),{reactionsApi:i,id:n,emoji:o}=t,s=i.addReaction(n,o,{prototype_mode:"prototype"===r.selectedView.view,selectedView:r.selectedView.view,quickReply:!1}),l=(0,a.t)("comments.an_error_occurred_while_adding_a_comment_reaction");e.dispatch((0,E.Q)({promise:s,fallbackError:l}))});let q=(0,v.nF)((e,t)=>{let{reactionsApi:r,id:i}=t,{emoji:n}=t,o=e.getState();(0,p.uD)(n)&&null!==(0,p.$f)()&&(n=(0,p.Kh)(n)[0]+(0,p.$f)());let s=r.toggleReaction(i,n,{prototype_mode:"prototype"===o.selectedView.view,selectedView:o.selectedView.view,quickReply:t.quickReply}),l=(0,a.t)("comments.an_error_occurred_while_toggling_a_comment_reaction");e.dispatch((0,E.Q)({promise:s,fallbackError:l}))}),J=(0,v.nF)((e,t)=>{let r,{comment:i}=t,{key:n,id:o,uuid:s,parent_id:l}=i,d=w.Ay.del(`/api/file/${n}/comments/${o}`),h=(0,a.t)("comments.an_error_occurred_while_deleting_this_comment");e.dispatch((0,E.Q)({promise:d,fallbackError:h})),x.O.remove(o),r=s?(0,_.WB)().optimisticallyDeleteWithUUID({Comment:{[s]:null}},d):(0,_.WB)().optimisticallyDelete({Comment:{[o]:null}},d),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"setDeleted",isOptimistic:!!s}),(0,c.f)(r,e.dispatch,e$({comment:{id:o,parent_id:l}}))}),X=(0,v.nF)((e,{thread:{key:t,id:r,uuid:i},resolved:n})=>{let o=e.getState();if(n&&o.comments.activeThread?.id===r&&!o.comments.showResolved&&e.dispatch(ed()),n&&h.zl.set(F.R,!1),(0,d.getFeatureFlags)().comments_undo_resolve&&n){let n={text:(0,a.t)("comments.undo"),action:()=>{e.dispatch(X({thread:{key:t,id:r,uuid:i},resolved:!1}))}};e.dispatch(T.F.enqueue({message:(0,a.t)("comments.comment_resolved"),type:"comment-resolved",button:n,onDismiss:()=>{}}))}x.O.remove(r);let s=n?"true":"false",l=n?(0,a.t)("comments.an_error_occurred_while_resolving_this_comment"):(0,a.t)("comments.an_error_occurred_while_unresolving_this_comment");if(i&&(0,B.L)(r)){let r=(0,_.WB)().getIdFromUuid("Comment",i).then(r=>{let i=w.Ay.put(`/api/file/${t}/comments/${r}`,{resolved_at:s});return e.dispatch((0,E.Q)({promise:i,fallbackError:l})),i});(0,_.WB)().optimisticallyUpdateWithUUID({Comment:{[i]:{uuid:i,resolvedAt:n?new Date:null}}},r),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"setResolvedUsingGetIdFromUUID",isOptimistic:!0})}else{let o=w.Ay.put(`/api/file/${t}/comments/${r}`,{resolved_at:s});e.dispatch((0,E.Q)({promise:o,fallbackError:l})),i?(0,_.WB)().optimisticallyUpdateWithUUID({Comment:{[i]:{uuid:i,resolvedAt:n?new Date:null}}},o):(0,_.WB)().optimisticallyUpdate({Comment:{[r]:{resolvedAt:n?new Date:null}}},o),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"setResolved",isOptimistic:!!i})}}),Z=(0,v.nF)((e,{thread:{key:t,id:r,uuid:i},clientMeta:n})=>{let o;i&&(0,B.L)(r)?(o=(0,_.WB)().getIdFromUuid("Comment",i).then(e=>w.Ay.put(`/api/file/${t}/comments/${e}`,{client_meta:n})),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"setClientMetaWithGetIdFromUUID",isOptimistic:!0})):(o=w.Ay.put(`/api/file/${t}/comments/${r}`,{client_meta:n}),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"setClientMeta",isOptimistic:!!i}));let s=(0,a.t)("comments.an_error_occurred_while_moving_this_comment");e.dispatch((0,E.Q)({promise:o,fallbackError:s})),i?(0,_.WB)().optimisticallyUpdateWithUUID({Comment:{[i]:{uuid:i,clientMeta:{x:n.x,y:n.y,pageId:void 0===n.page_id?null:n.page_id,nodeId:void 0===n.node_id?null:n.node_id,nodeOffset:void 0===n.node_offset?null:n.node_offset,inFrame:void 0===n.in_frame?null:n.in_frame,selectionBoxAnchor:n.selection_box_anchor?n.selection_box_anchor:null,stablePath:n.stable_path?n.stable_path:null}}}},o):(0,_.WB)().optimisticallyUpdate({Comment:{[r]:{clientMeta:{x:n.x,y:n.y,pageId:void 0===n.page_id?null:n.page_id,nodeId:void 0===n.node_id?null:n.node_id,nodeOffset:void 0===n.node_offset?null:n.node_offset,inFrame:void 0===n.in_frame?null:n.in_frame,selectionBoxAnchor:n.selection_box_anchor?n.selection_box_anchor:null,stablePath:n.stable_path?n.stable_path:null}}}},o)}),Q=(0,l.NC)("COMMENTS_SET_COMMENT_CONTENT"),ee=(0,v.nF)((e,t)=>{let r=t.comment.key;if(!r||(0,V.I)(t.messageMeta))return void e.dispatch(Q());let i=(0,V.cs)(t.messageMeta),n=w.Ay.put(`/api/file/${r}/comments/${t.comment.id}`,{message_meta:t.messageMeta,attachment_updates:(0,W.Gq)(t.attachmentUpdates),share_to_mentions:t.shareToMention||!1,pending_mentions:i}).then(({data:t})=>{e.dispatch(Q()),t.message?.warning_message&&0!==t.message.warning_message.length&&e.dispatch(T.F.enqueue({type:"at-mention-error",message:t.message.warning_message}))}).catch(e=>{let r=e.data?.reason?.failure_info;e.data?.reason?.reason==="comment_validation_failure"&&void 0!==r&&t.onCommentValidationFailure&&!t.shareToMention&&t.onCommentValidationFailure(r.users_without_view,r.ext_users_without_view,r.uninvitable_users,r.user_groups_without_access,r.commenting_user_cannot_invite,{comment:t.comment,messageMeta:t.messageMeta})}),o=(0,a.t)("comments.an_error_occurred_while_editing_this_comment");e.dispatch((0,E.Q)({promise:n,fallbackError:o}));let s=t.comment.uuid,l=(0,V.Rc)(t.messageMeta);if(s?(0,_.WB)().optimisticallyUpdateWithUUID({Comment:{[s]:{uuid:s,messageMeta:l,messageMetaStylized:l}}},n):(0,_.WB)().optimisticallyUpdate({Comment:{[t.comment.id]:{messageMeta:l,messageMetaStylized:l}}},n),(0,m.sx)("Livegraph Optimistic Comment Update",{flow:"updateCommentContent",isOptimistic:!!s}),t.attachmentUpdates){let e=(0,P.LO)(t.attachmentUpdates.deleted);e?(0,_.WB)().optimisticallyDelete({CommentAttachment:e},n):(0,_.WB)().emitEvent({type:"EMPTY_SYNC",source:"comment_delete"});let r=(0,P.Mu)(Object.values(t.attachmentUpdates.attachments),t.comment.key,t.comment.id);r?(0,_.WB)().optimisticallyCreate({CommentAttachment:r},n):(0,_.WB)().emitEvent({type:"EMPTY_SYNC",source:"comment_create"})}}),et=(0,v.nF)(async(e,t)=>{let r=e.dispatch(er(t));if(!r||t.thread.isPendingFromSinatra)return;let n=t.thread.comments[0];if(!n)return;let s=e.getState(),a=n.client_meta?.node_id,l=n.client_meta?.stable_path?n.client_meta.stable_path:o.EP;!l&&a&&(l=[a]);let d=t.thread.id,h=t.source,c=t.triggerRef;n.client_meta?.page_id&&"communityHub"===s.selectedView.view&&(d!==s.selectedView.commentThreadId&&e.dispatch(b.sf({...s.selectedView,commentThreadId:d})),s.selectedView.commentThreadId&&(0,m.sx)("Comment Thread Read",{commentThreadId:d,threadType:"community_preview"})),await r,e.dispatch(eT({threadId:d,source:h,triggerRef:c})),t.thread.comments.some(e=>e.isUnread)&&t.receiptsAPI&&!t.thread.isPendingFromSinatra&&!t.thread.isCanvasMention&&(e.dispatch(Y({receiptsAPI:t.receiptsAPI,thread:t.thread})),(0,m.sx)("Comment Thread Read",{commentThreadId:d})),"fullscreen"===s.selectedView.view&&i.glU?.setActiveCommentAnchorData({stablePath:`[${l.join(",")}]`})}),er=(0,v.nF)((e,t)=>{let r=e.getState();if(r.comments.activeThread&&r.comments.activeThread.id!==t.thread.id&&!t.skipDeactivatingExistingActiveComment&&!e.dispatch(ed()))return null;r=e.getState();let{thread:i,viewport:o,config:s,navigate:a,isOrphanedComment:l}=t,{setCurrentPageIdAsync:d,pageIdForNodeId:h}=o;if(!o.getViewportInfo())return null;let c=i.comments[0];if(!c)return null;let m=c.client_meta?.node_id,p=i.page||m&&h(m)||c.client_meta?.page_id,_=[],f=r.mirror?.appModel?.currentPage,g=!1;p&&(g=f!==p,_.push(d(p).then(async()=>{g&&await (0,u.yQ)()})));let w=r.mirror.appModel.currentTool===n.NLJ.COMMENTS;if(!l&&s.repositionViewportOnCommentSelection){let e=a((0,H.E1)(i,o,r.selectedView,g,w),{jump:g,jumpOnAbort:!0});e&&_.push(e)}return Promise.all(_).then()}),ei=(0,v.nF)((e,t)=>{let r=e.getState();r.comments.activeThread?.id===t.thread.id?e.dispatch(ed()):(t.skipDeactivatingExistingActiveComment||e.dispatch(ed()),(0,V.H3)(r.comments)&&(e.dispatch(et(t)),h.zl.set(N.m,null)))}),en=(0,l.NC)("COMMENTS_STOP_EDITING"),eo=(0,l.NC)("COMMENTS_SUBMIT_REPLY"),es=(0,v.nF)((e,t)=>{let r=e.getState(),{commentsWriteApi:i,commentsConfiguration:o}=t,l=r.comments.threads[t.threadId];if(!l)return void e.dispatch(E.s.error((0,a.t)("comments.an_error_occurred_while_adding_a_comment_reply")));let c=o.getExtraReplyParameters?.(),[u,m]=i.reply({threadId:t.threadId,threadUuid:t.threadUuid,uuid:t.uuid,messageMeta:l.reply.messageMeta,attachments:Object.values(l.reply.attachments),...c},{forceWithInvite:t.forceWithInvite||!1,prototypeMode:"prototype"===r.selectedView.view,trackingContext:t.trackingContext});(0,d.getFeatureFlags)().comments_faster_saving_ux&&!(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&e.dispatch(eG({commentUuid:t.uuid})),e.dispatch(eV({threadId:t.threadId,reply:{messageMeta:[],attachments:{}}})),u.then(t=>{if(!t)return;let{data:i}=t;if(i.message?.warning_message&&0!==i.message.warning_message.length&&e.dispatch(T.F.enqueue({type:"at-mention-error",message:i.message.warning_message})),i.message&&i.message.is_new_file_follower){let t=o.showNotificationSettings?{text:(0,a.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(ed()),t.mirror.appModel.showUi||A.Y5.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==n.NLJ.COMMENTS&&A.Y5.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{(0,k.h)()})}}:void 0;e.dispatch(T.F.enqueue({message:(0,a.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:t,onDismiss:()=>{}}))}let s=i.meta;e.dispatch(eq({comment:s,userInitiated:!1})),I.ds("Comment Submitted",s.key,r,{commentId:s.id,parentCommentId:s.id,selectedView:r.selectedView.view,isDevModeFocusView:!!e.getState().selectedView?.devModeFocusId}),(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&s.id&&s.uuid&&e.dispatch(eK({commentId:s.id,commentUuid:s.uuid})),e.getState().userFlags.has_created_comment||e.dispatch(S.b({has_created_comment:!0})),h.zl.set(U.k,s.id)}).catch(r=>{let i=r.data?.reason?.failure_info;if(r.data?.reason?.reason!=="comment_validation_failure"||void 0===i||!t.onCommentValidationFailure||t.forceWithInvite){let i=(0,s.J)(r,(0,a.t)("comments.an_error_occurred"));e.dispatch(E.s.error(i)),e.dispatch(eD({threadId:t.threadId,resetStatusOnly:!0})),e.dispatch(eV({threadId:t.threadId,reply:l.reply}));return}t.onCommentValidationFailure(i.users_without_view,i.ext_users_without_view,i.uninvitable_users,i.user_groups_without_access,i.commenting_user_cannot_invite,{threadId:t.threadId,messageMeta:l.reply.messageMeta,attachments:l.reply.attachments})}).finally(()=>{(0,d.getFeatureFlags)().comments_faster_saving_ux&&!(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&e.dispatch(ez({commentUuid:t.uuid}))}),e.dispatch(eo(t))}),ea=(0,l.NC)("COMMENTS_SUBMIT_NEW_COMMENT"),el=(0,v.nF)((e,t)=>{(0,m.sx)("New comment starting dispatched action",{uuid:t.uuid});let r=e.getState(),i=(0,O.U2)(r.selectedView);if(!i)return Promise.resolve();let o=t.newCommentState||r.comments.newComment,{canvasPosition:l,nodeId:c,nodeOffset:u,inFrame:p,pageId:_,viewport:f,stablePath:g,containingCanvasInfo:w}=t.destination,E=o.selectionBoxAnchor?o.selectionBoxAnchor:void 0;e.dispatch(ed({force:!0})),e.dispatch(eP({resetStatusOnly:!1}));let{messageMeta:v,attachments:b}=o;(0,m.sx)("New comment creating promise",{uuid:t.uuid});let[M,C]=t.commentsWriteApi.create({fileKey:i,messageMeta:v,attachments:Object.values(b),pageId:_,uuid:t.uuid,clientMeta:{x:l.x,y:l.y,node_id:c,node_offset:u,page_id:_,viewport:f,in_frame:p,selection_box_anchor:E,stable_path:g,containing_canvas_info:(0,d.getFeatureFlags)().slides_comment_thumbnail_fix&&w?w:void 0}},{prototypeMode:"prototype"===r.selectedView.view,onValidationError:async(t,r,i,n,s)=>{if(await z(o.messageMeta,e.dispatch,t,r,i,n,s))return{forceWithInvite:!0};if(0!==e.getState().comments.newComment.messageMeta.length){e.dispatch(eP({resetStatusOnly:!0}));let t={text:(0,a.t)("comments.view"),action(t,r){if(e.getState().comments.activeThread?.id===L.hm&&e.getState().comments.newComment.messageMeta.length>0)return e.dispatch(eA()),e.dispatch(T.F.update({id:r,message:(0,a.t)("comments.finish_or_clear_your_active_comment_then_hit_view")})),!1;e.dispatch(eR(o)),e.dispatch(ec())}};e.dispatch(T.F.enqueue({type:`comment-creation-failure: ${C}`,error:!1,message:(0,a.t)("comments.oops_one_of_your_comments_never_posted"),onDismiss:()=>{},button:t,timeoutOverride:1/0}));return}e.dispatch(eR(o)),e.dispatch(ec()),e.dispatch(eA())}});return(0,d.getFeatureFlags)().comments_faster_saving_ux&&!(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&e.dispatch(eG({commentUuid:t.uuid})),e.dispatch(ea(t)),M.then(s=>{if((0,m.sx)("New comment promise resolved",{uuid:t.uuid}),!s)return;let{data:p}=s;if((0,O.U2)(e.getState().selectedView)!==i)return;if(p.message?.warning_message&&0!==p.message.warning_message.length&&e.dispatch(T.F.enqueue({type:"at-mention-error",message:p.message.warning_message})),p.message&&p.message.is_new_file_follower){let r=t.commentsConfiguration.showNotificationSettings?{text:(0,a.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(ed({force:!0})),t.mirror.appModel.showUi||A.Y5.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==n.NLJ.COMMENTS&&A.Y5.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{(0,k.h)()})}}:void 0;e.dispatch(T.F.enqueue({message:(0,a.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:r,onDismiss:()=>{}}))}let f=p.meta;h.zl.set(D.WE,f.id);let w=e.getState().comments.newComment!==o;e.dispatch(eP({resetStatusOnly:w})),(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&f.id&&f.uuid&&e.dispatch(eK({commentId:f.id,commentUuid:f.uuid})),I.ds("Comment Submitted",i,r,{commentId:f.id,locationX:l&&l.x,locationY:l&&l.y,nodeId:c,pageId:_,nodeOffsetX:u&&u.x,nodeOffsetY:u&&u.y,selectedView:r.selectedView.view,stablePath:g,isDevModeFocusView:!!e.getState().selectedView?.devModeFocusId}),e.getState().userFlags.has_created_comment||e.dispatch(S.b({has_created_comment:!0})),e.dispatch((0,y.zq)({lastCreatedCommentId:f.id})),h.zl.set(U.k,f.id)}).catch(r=>{if(e.dispatch(eP({resetStatusOnly:!0})),!(r?.data?.status>=400&&r?.data?.status<500&&r?.data?.message))return e.dispatch(T.F.enqueue({type:`comment-creation-failure: ${C}`,message:(0,a.t)("comments.couldn_t_post_your_comment"),error:!0,button:{text:(0,a.t)("comments.retry"),action(){(0,m.sx)("New comment dispatching retry submission",{uuid:t.uuid}),e.dispatch(el({...t,newCommentState:o}))}}}));{let t=(0,s.J)(r);if(t)return e.dispatch(T.F.enqueue({type:`comment-creation-failure: ${C}`,message:t,error:!0}))}}).finally(()=>{(0,d.getFeatureFlags)().comments_faster_saving_ux&&!(0,d.getFeatureFlags)().comments_faster_saving_ux_v2&&e.dispatch(ez({commentUuid:t.uuid}))})}),ed=(0,v.nF)((e,t)=>{let r=e.getState(),n=t instanceof Object&&t.force,{newComment:s}=r.comments,a=r.comments.activeThread?.id,l=(0,V.Kx)(s.messageMeta)&&0===Object.keys(s.attachments).length;if(!n&&!l&&!(0,V.H3)(r.comments))return e.dispatch(eA()),!1;let d=a&&r.comments.threads[a],c=d&&(0,V.Kx)(d.reply.messageMeta)&&0===Object.keys(d.reply.attachments||{}).length;if(!n&&a&&d&&!c&&(!d.discardAttempts||d.discardAttempts<1))return e.dispatch(eC(a)),!1;let u=r.comments.editingComment;return!n&&u?(e.dispatch(eC(u.id)),!1):("fullscreen"===r.selectedView.view&&i.glU?.setActiveCommentAnchorData({stablePath:o.x7}),"communityHub"===r.selectedView.view&&e.dispatch(b.sf({...r.selectedView,commentThreadId:void 0})),h.zl.set(F.R,!1),e.dispatch(eJ()),e.dispatch(eX()),e.dispatch(eP({resetStatusOnly:!1})),r.tooltip&&e.dispatch(M.jD()),!0)}),eh=(0,l.NC)("COMMENTS_SET_NEW_COMMENT_ACTIVE"),ec=(0,v.nF)((e,t)=>{let r=e.getState();if("fullscreen"===r.selectedView.view)if(r.comments.newComment.anchorPosition){let{x:e,y:n}=r.comments.newComment.anchorPosition,o=t?.stablePath;if(o)i.glU?.setActiveCommentAnchorData({stablePath:`[${o.join(",")}]`});else{let t=i.glU?.getCommentAnchorDataAtPosition(e,n);t&&i.glU?.setActiveCommentAnchorData(t)}}else i.glU?.setActiveCommentAnchorData({stablePath:o.x7});e.dispatch(eh(t))}),eu=(0,l.NC)("COMMENTS_SET_NEW_SELECTION_BOX_ANCHOR_POSITION"),em=(0,v.nF)((e,t)=>{e.getState().userFlags.has_created_selection_comment||e.dispatch(S.b({has_created_selection_comment:!0})),e.dispatch(eu(t))}),ep=(0,l.NC)("COMMENTS_SET_NEW_ANCHOR_POSITION"),e_=(0,v.nF)((e,t)=>{if("fullscreen"===e.getState().selectedView.view){let{x:e,y:r}=t.anchorPosition,n=i.glU?.getCommentAnchorDataAtPosition(e,r);n&&i.glU?.setActiveCommentAnchorData(n)}e.dispatch(ep(t))}),ef=(0,l.NC)("COMMENTS_REMOVE_HOVERED_PIN"),eg=(0,l.NC)("COMMENTS_ADD_HOVERED_PIN"),ew=(0,l.NC)("COMMENTS_REMOVE_EMPHASIZED_PIN"),eE=(0,l.NC)("COMMENTS_ADD_EMPHASIZED_PIN"),eT=(0,l.NC)("COMMENTS_SET_ACTIVE"),ev=(0,v.nF)(e=>{let t=e.getState(),r=t.selectedView;"subView"in r&&("hubFile"===r.subView||"plugin"===r.subView)&&(0,m.sx)("at_mention_search_started",{comment_type:t.comments.activeThread?.id?"community_pinned":"community_general",profile_id:t.user?.community_profile_id,resource_id:"hubFile"===r.subView?r.hubFileId:r.publishedPluginId,resource_type:"hubFile"===r.subView?"hub_file":"plugin"})}),eb=(0,l.NC)("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),ey=(0,l.NC)("COMMENTS_SET_TYPEAHEAD"),eM=(0,l.NC)("COMMENTS_SHOW_EMOJI_PICKER"),eS=(0,l.NC)("COMMENTS_SET_ACTIVE_SORT"),eI=(0,l.NC)("COMMENTS_DISCARD_COMMENT_REPLY_ATTEMPT"),eC=(0,v.nF)((e,t)=>{let r=e.getState().comments,i=r.activeThread?.id,n=i&&r.threads[i];if(n&&n.discardAttempts===V.B2){let e=(0,V._Z)(n.reply.messageMeta),t=(0,V.Kx)(n.reply.messageMeta);(0,g.Lo)("Comment discard active thread attempt","comment info",{threadId:i,messageLength:e.length,isMessageDiscardable:t}),(0,f.kF)("isMessageDiscardable",String(t)),(0,f.kF)("messageType","reply"),(0,f.us)("User attempted to close comments more than max attempt times")}e.dispatch(eI(t))}),ex=(0,l.NC)("COMMENTS_DISCARD_NEW_COMMENT_ATTEMPT"),eA=(0,v.nF)(e=>{let t=e.getState().comments.newComment;if(t.discardAttempt===V.B2){let e=(0,V._Z)(t.messageMeta),r=(0,V.Kx)(t.messageMeta);(0,g.Lo)("Comment discard new comment attempt","comment info",{messageLength:e.length,isMessageDiscardable:r}),(0,f.kF)("isMessageDiscardable",String(r)),(0,f.kF)("messageType","new"),(0,f.us)("User attempted to close comments more than max attempt times")}e.dispatch(ex())}),eO=(0,l.NC)("COMMENTS_SET_SHOW_ONLY_MY_COMMENTS"),eN=(0,l.NC)("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),eR=(0,l.NC)("COMMENTS_REVERT_NEW_COMMENT"),eP=(0,l.NC)("COMMENTS_RESET_NEW_COMMENT"),eD=(0,l.NC)("COMMENTS_RESET_THREAD"),ek=(0,l.NC)("COMMENTS_SET_NEW_COMMENT_ATTACHMENT"),eL=(0,l.NC)("COMMENTS_SET_NEW_COMMENT_MESSAGE"),eF=(0,l.NC)("COMMENTS_SET_NEW_COMMENT"),eU=(0,l.NC)("COMMENTS_SET_REPLY_ATTACHMENT"),eB=(0,l.NC)("COMMENTS_SET_REPLY_MESSAGE"),eV=(0,l.NC)("COMMENTS_SET_REPLY"),eH=(0,l.NC)("COMMENTS_SET_EDITING_ATTACHMENT"),eW=(0,l.NC)("COMMENTS_SET_EDITING"),ej=(0,l.NC)("COMMENTS_SET_ACTIVE_DRAG_TARGET"),eG=(0,l.NC)("COMMENTS_SET_SAVING"),ez=(0,l.NC)("COMMENTS_CLEAR_SAVING"),eK=(0,l.NC)("COMMENTS_STORE_SERVER_ID_FOR_LG_PENDING_UUID"),eY=(0,l.NC)("COMMENTS_CLEAR_LG_PENDING_UUID"),e$=(0,l.NC)("COMMENTS_DEL"),eq=(0,v.nF)((e,t)=>{let r=e.dispatch,i=e.getState(),{comment:n}=t;if(i.user&&i.user.id===n.user_id&&!t.userInitiated)if(n.parent_id){let e=i.comments.threads[n.parent_id];if(e&&e.state===L.EB.BUSY){let i=!function(e,t){if(!e)return!t;if(!t)return!e;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){let i=e[r],n=t[r];if(!i||!n)return!1;let o=new Set(Object.keys(i)),s=Object.keys(n);if(o.size!==s.length||!s.every(e=>o.has(e)&&i[e]===n[e]))return!1}return!0}(t.comment.message_meta,e.reply.messageMeta);r(eD({threadId:n.parent_id,resetStatusOnly:i}))}}else{let e=i.comments.newComment;e&&e.state===L.EB.BUSY&&r(ed({force:!0})),r(eP({resetStatusOnly:!1}))}}),eJ=(0,l.NC)("COMMENTS_RESET"),eX=(0,l.NC)("COMMENTS_RESET_ACTIVE_ID")},434793(e,t,r){r.d(t,{MH:()=>p,NO:()=>u,vi:()=>m});var i=r(239976),n=r(412955),o=r(850159),s=r(741542),a=r(224542),l=r.n(a),d=r(497544),h=r(817482),c=r(131464);function u(){return(0,i.jsx)("div",{className:c.hr,children:(0,i.jsxs)("button",{className:c.vi,children:[(0,i.jsx)("div",{className:c.q_}),(0,i.jsx)("div",{className:c.Xu,children:(0,i.jsx)(d.k,{})})]})})}function m(e){let t=(0,s.getFeatureFlags)().make_text_attachments&&e.isFigmake;return(0,i.jsxs)("div",{className:l()(c.hr,e.isFigmake&&c.RS,t&&c.go),children:[(0,i.jsx)(p,{...e}),(0,i.jsx)("button",{className:l()(c.P3,e.isFigmake&&c.zG),onClick:t=>{e.onDelete(),t.preventDefault()},"aria-label":e.deleteButtonAriaLabel??(0,o.t)("comments.remove_attachment_label"),children:(0,i.jsx)(n.f,{className:c.i3})})]})}function p(e){let t=e.dimensions??void 0,r=e.isFigmake&&(0,s.getFeatureFlags)().make_text_attachments,n=t&&(t.height<256&&t.width<256?t:t.height/t.width>2||t.width/t.height>2?t.width>t.height?{width:256,height:128}:{width:128,height:256}:(0,h.$K)(t.width,t.height,256));return(0,i.jsxs)("button",{"data-testid":"attachment-thumbnail",className:l()(e.isSelected?c.ig:c.vi,e.isFigmake&&c.nL,r&&c.gk),onClick:t=>{e.onClick(e.thumbnailUrl),t.preventDefault()},style:n&&{width:`${n.width}px`,height:`${n.height}px`},onContextMenu:t=>{e.onRightClick&&e.onRightClick(t)},"aria-label":e.ariaLabel,children:[e.showTemporaryPlaceholder?(0,i.jsx)("div",{className:c.q_}):(0,i.jsx)("img",{src:e.thumbnailUrl,crossOrigin:"use-credentials",alt:e.altText||(0,o.t)("comments.attachment_thumbnail_alt_text_default"),className:l()(c.q_,{[c.ck]:e.isFigmake&&e.isUploading})}),(0,i.jsxs)("div",{className:e.overlayText||e.isUploading?c.Xu:c.VO,children:[e.isUploading&&(0,i.jsx)(d.k,{}),e.overlayText]})]})}},128682(e,t,r){r.d(t,{ip:()=>w,u5:()=>p});var i=r(850159),n=r(354991),o=r(27266),s=r(786821),a=r(598365),l=r(694151),d=r(772939),h=r(745106),c=r(608317),u=r(860631),m=r(559717);let p=64;function _(e){let t=document.createElement("template");return t.innerHTML=e,t}class f extends HTMLElement{constructor(){super(...arguments),this._lastAvatars=[],this._avatars=[]}connectedCallback(){this.classList.add(m.u_),requestAnimationFrame(()=>this.render())}set avatars(e){this._avatars=e.slice(0,5)}get avatarElementsById(){return Array.from(this.getElementsByTagName("figma-avatar")).map(e=>e).reduce((e,t)=>(e[t.id]=t,e),{})}get ghostAvatar(){return this.getElementsByClassName(m.v2)[0]}render(){if(this._lastAvatars!==this._avatars){let e=this.avatarElementsById,t=this._avatars.map(t=>{let r=h.M.createAvatarElement(t,e[t.user_id],{isInCluster:!0});return r.classList.add(m.my),r}),r=new Set(this._avatars.map(e=>e.user_id)),i=this.children;if(Array.from(i).forEach(e=>{r.has(e.id)||this.removeChild(e)}),t.forEach((e,t)=>{let r=i[t];r?.id!==e.id&&(r?this.insertBefore(e,r):this.appendChild(e))}),t.length>0?this.style.display="flex":this.style.display="none",1===t.length){let[e]=t,r=e.cloneNode(!0);r.classList.add(m.v2),this.prepend(r)}else{let e=this.ghostAvatar;e&&this.removeChild(e)}this._lastAvatars=this._avatars}}}f.desiredElementName="figma-cluster-avatars",f.styles=[h.M.styles,m.Nz],"customElements"in window&&!customElements.get(f.desiredElementName)&&customElements.define(f.desiredElementName,f);let g=class e extends HTMLElement{constructor(){super(...arguments),this._avatars=[],this._creationChangeType=null,this._threadCount=null,this._pinnedToFileIcon=null}get pinnedThreadToFileIndicator(){return this.getElementsByClassName(m.v3)[0]}get avatarsContainer(){return this.getElementsByTagName(f.desiredElementName)[0]}set avatars(e){this._avatars=e}set creationChangeType(e){this._creationChangeType=e}onRemove(){}static getSortedAvatars(e){return[...e.values()].sort((e,t)=>e.num_unread_comments>0&&t.num_unread_comments>0?e.num_comments>t.num_comments?-1:1:e.num_unread_comments>0?-1:t.num_unread_comments>0?1:e.num_comments>t.num_comments?-1:1).map(e=>({user_id:e.avatar_user_id,initial:e.avatar_user_handle[0],url:(0,l.Sw)(e.avatar_url)}))}set avatarsMap(t){this.avatars=t?e.getSortedAvatars(t):[]}set minimized(e){e?this.setAttribute("minimized","true"):this.removeAttribute("minimized")}set pinnedToFile(e){e?this.setAttribute("pinned-to-file","true"):this.removeAttribute("pinned-to-file")}set unread(e){e?this.setAttribute("unread","true"):this.removeAttribute("unread")}set dimmed(e){e?this.setAttribute("dimmed","true"):this.removeAttribute("dimmed")}set emphasized(e){e?this.setAttribute("emphasized","true"):this.removeAttribute("emphasized")}get clusterCountElement(){return this.getElementsByClassName(m.A3)[0]}get avatarCluster(){return this.getElementsByClassName(m.IS)[0]}set threadCount(e){this._threadCount=e,this.setAttribute("thread-count",`${e}`)}static get observedAttributes(){return["unread","dimmed","emphasized","thread-count","pinned-to-file","minimized"]}setClassOn(e,t,r,i,n){r===t&&(i?e.classList.add(n):e.classList.remove(n))}attributeChangedCallback(e,t,r){if(this.isConnected&&(this.setClassOn(this,"unread",e,r,m.gy),this.setClassOn(this,"dimmed",e,r,m.rX),this.setClassOn(this,"emphasized",e,r,m.hO),(0,s.U6)()&&(this.setClassOn(this,"minimized",e,r,m.pd),this.setClassOn(this.pinnedThreadToFileIndicator,"pinned-to-file",e,r,m.ZR)),"thread-count"===e)){let e=this.clusterCountElement,t=this.avatarCluster;if(!e||!t)return;let i=e.hasAttribute("display-thread-count");e.setAttribute("display-thread-count",r||"0"),(i||"viewport_visible"!==this._creationChangeType)&&this.animateClusterThreadCount()}}connectedCallback(){this.classList.add(m.Di);let t=e.template.content.cloneNode(!0);this.append(t),e.observedAttributes.forEach(e=>{this.attributeChangedCallback(e,null,this.getAttribute(e)||null)}),requestAnimationFrame(()=>this.render())}animateDirectionally(e,t,r){if(!e)return Promise.resolve();let i={x:this.clientWidth/2,y:this.clientHeight/2},o=n.Mi.subtract(e,i),s=`translate3d(${o.x}px, ${o.y}px, 0px) scale(0.2)`;return(0,d.G)(this,[{offset:t,transform:s}],{duration:200}).then(()=>{r&&r()})}animateAggregationChange(e){let{position:t}=e;return"join"===e.type?(this.animateDirectionally(t,1),Promise.resolve()):(this.animateDirectionally(t,0),this.animateClusterThreadCount())}animateClusterThreadCount(){let e=this.clusterCountElement;return e?(e.style.transition="none",e.style.opacity="1",(0,d.G)(e,[],{duration:1e3}).then(()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transition")})):Promise.resolve()}render(){this.isConnected&&(this.avatarsContainer.avatars=this._avatars.slice(0,5),this.avatarsContainer.render(),(0,o.cz)()&&(this.firstElementChild instanceof HTMLElement&&(this.firstElementChild.ariaLabel=(0,i.t)("comments.select_cluster",{numComments:this._threadCount??1}),this.firstElementChild.role="button"),this.avatarsContainer.ariaHidden="true",this.clusterCountElement?.setAttribute("aria-hidden","true")),(0,s.U6)()&&this.addIconWhenPinnedToFileIfAbsent())}positionClusterElement(e,t){let r=t.zoomScale,i=(r-1)*e.x-p/2,n=(r-1)*e.y-p/2;this.style.setProperty("transform",`translate3d(${e.x+i}px, ${e.y+n}px, 0px) scale(var(--scale))`)}static getClusterViewportRect(e,t){if(1===e.threads.length){let r=e.threads[0],i=(0,a.Qt)(r.canvasPosition.x,0,t.zoomScale,1)-t.offsetX*t.zoomScale+t.width/2,n=(0,a.Qt)(r.canvasPosition.y,0,t.zoomScale,1)-t.offsetY*t.zoomScale+t.height/2,o=(0,u.c4)(r.comments),s=c.XC.getPinSize(o.length);return{x:i,y:n-s.height,...s}}return{x:(0,a.Qt)(e.x,0,t.zoomScale,1)-t.offsetX*t.zoomScale+t.width/2-p/2,y:(0,a.Qt)(e.y,0,t.zoomScale,1)-t.offsetY*t.zoomScale+t.height/2-p/2,height:p,width:p}}addIconWhenPinnedToFileIfAbsent(){this._pinnedToFileIcon||(this._pinnedToFileIcon=e.pinnedToFileIcon.content.cloneNode(!0),this.pinnedThreadToFileIndicator.prepend(this._pinnedToFileIcon))}};g.desiredElementName="figma-comment-cluster",g.pinnedToFileIcon=_(`
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="16" height="16" rx="8" fill="white"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.8282 8.00021L13.4799 6.40922L14.3638 5.87889L13.6349 5.15002L10.85 2.36511L10.1211 1.63623L9.59082 2.52012L7.9999 5.17169L4.81792 6.23235L3.75726 6.5859L4.54783 7.37647L6.23213 9.06078L3.14622 12.1467L2.79266 12.5002L3.49977 13.2074L3.85332 12.8538L6.93924 9.76788L8.62354 11.4522L9.41411 12.2428L9.76765 11.1821L10.8282 8.00021ZM8.97708 10.3915L9.87954 7.684L9.99652 7.33305L9.99646 7.33309L9.87948 7.68404L8.97704 10.3915L8.97708 10.3915ZM12.751 5.68039L12.751 5.68035L10.3197 3.24899L10.3196 3.24906L12.751 5.68039ZM8.31613 6.12037L8.66702 6.00341L8.66701 6.00343L8.31606 6.12041L5.6085 7.02293L5.60849 7.02292L8.31613 6.12037Z" fill="#007BE5"/>
    </svg>
    `),g.template=_(`
    <div class="${m.IS}" data-testid="avatar-cluster" tabindex="0">
        <div class="${m.v3}" data-testid="cluster-pinned-to-file-indicator"></div>
        <figma-cluster-avatars></figma-cluster-avatars>
        <div class="${m.A3}" data-threadCount="0"/>
    </div>
    `),g.styles=[...f.styles];let w=g;"customElements"in window&&!customElements.get(w.desiredElementName)&&customElements.define(w.desiredElementName,w)},802054(e,t,r){r.d(t,{WE:()=>A,Zb:()=>D,iZ:()=>R,ux:()=>x});var i=r(523924),n=r(267995),o=r(350923),s=r(701328),a=r.n(s),l=r(429163),d=r(958964),h=r(838719),c=r(780165),u=r(435626),m=r(947234),p=r(27266),_=r(209114),f=r(598365),g=r(429982),w=r(918330),E=r(694151),T=r(471532),v=r(985475),b=r(772939),y=r(128682),M=r(608317),S=r(860631),I=r(559717),C=r(691563);let x=(0,o.eU)(!1),A=(0,o.eU)(null),O=`
.overlay {
  height: 0px;
  width: 0px;
  position: relative;
  transform: translate(0px,0px);
}
.overlayPassthrough {
  pointer-events: none;
}
`,N=`[data-testid="${M.tR}"],[data-testid="avatar-cluster"]`,R=null,P=class e extends HTMLElement{constructor(){super(),this.createdAt=new Date,this.ds={clusters:S.Ko,selectedPinId:null,emphasizedPinIds:[],dimUnselectedPins:!1},this._lastRenderedDataset=null,this._lastDatasetChangeAnimatedAt=Date.now(),this.isZoomingOut=!1,this.shouldDisablePointerEvents=!1,this._lastRenderedShouldDisablePointerEvents=!1,this.onElementClicked=null,this.onElementContextMenu=null,this.onElementDragEnd=null,this.onElementDragMove=null,this.onElementDragStart=null,this.lastRenderedViewport=null,this.currentViewport=void 0,this.getWrapperOffset=void 0,this.focusOneOfIDs=new Set,this.clientConfig=null,this.draggingElement=null,this.hasHighlightedPinnedThreads=!1,this.clusterElementsById=new Map,this.onFrame=()=>{n.fZ&&n.fZ?.startProfile(d.z8,100),this.currentViewport&&this.lastRenderedViewport&&(this.render(this.currentViewport,this.lastRenderedViewport),this._lastRenderedDataset=this.ds,this.lastRenderedViewport=this.currentViewport,this._lastRenderedShouldDisablePointerEvents=this.shouldDisablePointerEvents),n.fZ&&n.fZ?.stopProfile(d.z8,100)},this.attachShadow({mode:"open"});const e=document.createElement("style");e.nonce=(0,h.default)().csp_nonce,e.textContent=[O,I.Nz,C.Nz].join("\n"),this.shadowRoot?.append(e),this.wrapper=document.createElement("div"),this.wrapper.classList.add("overlay"),this.wrapper.setAttribute("data-testid","clustered-comments-wrapper"),this.wrapper.setAttribute("aria-hidden","true"),this.shadowRoot?.append(this.wrapper),this.slidingWindow=new v.R([],{x:0,y:0,width:0,height:0},0),R=this}createTextMeasureElement(e){let t=document.createElement("div");return t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.width="180px",e.appendChild(t),t}onViewportUpdate(e){this.currentViewport=e,(0,w.H)()}set wrapperOffsetFn(e){this.getWrapperOffset=e}set initialViewport(e){let t=(0,f.qc)(e),r=(0,f.kE)(78,e.zoomScale);this.slidingWindow.updateWindow(t,r),this.renderWrapperPosition(e),this.currentViewport=e,this.lastRenderedViewport=e}set data(e){this.ds=e,(0,w.H)()}clusterComesFromFrameMove(e,t){if(!e.anchoredNode)return!1;let r=e.pins.map(e=>e.id).sort();for(let i of t)if(e.anchoredNode===i.anchoredNode&&a()(r,i.pins.map(e=>e.id).sort()))return!0;return!1}processDatasetUpdate(e){let{added:t,removed:r}=(0,c.Zv)(this.ds.clusters.leafNodes,this._lastRenderedDataset?.clusters.leafNodes),i=this.ds.clusters.all().reduce((e,t)=>(e.set(t.id,t),e),new Map),n=(this._lastRenderedDataset?.clusters?.all()||[]).reduce((e,t)=>(e.set(t.id,t),e),new Map),o=[...i.values()].filter(e=>!n.has(e.id)),s=!1,a=[...i.values()].filter(e=>{let t=n.get(e.id);return!!t&&(e.isPinnedToFile||this.ds.clusters.minimizeUnpinned||null!==this.ds.selectedPinId||this.hasHighlightedPinnedThreads?(0,S.xN)(e,t):(s=!0,!0))});s&&(this.hasHighlightedPinnedThreads=!0);let l=[...n.values()].filter(e=>!i.has(e.id));if(0===this.slidingWindow.numValues()&&null===this._lastRenderedDataset)this.bulkAddClusters(o,e);else for(let r of o){let i=t.has(r.id)?"data":"aggregation";this.clusterComesFromFrameMove(r,l)&&(i="frame_move"),this.addCluster(r,e,i)}let d=l.filter(e=>this.slidingWindow.isValueInWindow(e)).length>200;for(let t of l){let i=r.has(t.id)?"data":"aggregation";this.clusterComesFromFrameMove(t,o)&&(i="frame_move"),this.removeCluster(t,e,i,d)}for(let t of a)this.updateCluster(t,e);(this.ds.selectedPinId!==this._lastRenderedDataset?.selectedPinId||this.ds.dimUnselectedPins!==this._lastRenderedDataset?.dimUnselectedPins)&&this.updateSelectedStates(this.ds.selectedPinId,this.ds.dimUnselectedPins),this.ds.emphasizedPinIds!==this._lastRenderedDataset?.emphasizedPinIds&&this.updateEmphasizedElements(this.ds.emphasizedPinIds,this._lastRenderedDataset?.emphasizedPinIds),this.isZoomingOut&&(this.isZoomingOut=!1,this.updateViewportVisibleClusters(e))}getSelectedState(e,t,r){if(t)if(e.pins.find(e=>e.id===t))return S.LX.ACTIVE;else return S.LX.DIMMED;return!r&&e.pins.find(e=>!e.isResolved)?S.LX.NORMAL:S.LX.DIMMED}updateSelectedStates(e,t){if(e){let t=this.ds.clusters.all().find(t=>t.id===e),r=this.clusterElementsById.get(e);r&&t?.isSinglePin&&r.updatePinSelectedState(S.LX.ACTIVE)}for(let r of this.slidingWindow.allValuesInWindow()){let i=this.clusterElementsById.get(r.id);if(!i)continue;let n=this.getSelectedState(r,e,t);r.isSinglePin?i.updatePinSelectedState(n):i.dimmed=n===S.LX.DIMMED}}updateEmphasizedElements(e,t){let r=new Set(e),i=new Set(t||[]);this.slidingWindow.allValuesInWindow().forEach(e=>{let t=this.clusterElementsById.get(e.id);i.size>0&&t&&e.pins.find(e=>i.has(e.id))&&(e.isSinglePin?t.removeEmphasisStyle():t.emphasized=!1),r.size>0&&t&&e.pins.find(e=>r.has(e.id))&&(e.isSinglePin?t.addEmphasisStyle():t.emphasized=!0)})}processViewportUpdate(e,t){t?.zoomScale!==e.zoomScale&&this.cancelAllDragging(),this.isZoomingOut||this.updateViewportVisibleClusters(e),t?.zoomScale!==e.zoomScale&&this.updateElementTransforms(e),this.renderWrapperPosition(e)}render(e,t){l.rH.start("comments-render");let r=!1;a()(t,e)||(this.processViewportUpdate(e,t),r=!0),this._lastRenderedDataset!==this.ds&&(this.processDatasetUpdate(e),r=!0),r&&_.ye&&_.ye.setNumberOfRenderedComments(this.clusterElementsById.size),(e.isPanning!==t?.isPanning||e.isZooming!==t?.isZooming||this.shouldDisablePointerEvents!==this._lastRenderedShouldDisablePointerEvents)&&(e.isPanning||e.isZooming||this.shouldDisablePointerEvents?this.wrapper.classList.add("overlayPassthrough"):this.wrapper.classList.remove("overlayPassthrough")),l.rH.stop("comments-render")}renderWrapperPosition(e){this.wrapper.style.top=`${e.y+e.height/2}px`,this.wrapper.style.left=`${e.x+e.width/2}px`;let t=this.getWrapperOffset(e),r=(0-e.offsetX)*e.zoomScale+t.x,i=(0-e.offsetY)*e.zoomScale+t.y,n=`translate(${r}px, ${i}px)`;this.wrapper.style.transform=n}setSelectedFocusThreadIds(e){this.focusOneOfIDs=e}focusOneOfSelectedThreads(){if(0!==this.focusOneOfIDs.size){for(let e of this.slidingWindow.allValuesInWindow())if(e.pins.map(e=>e.id).some(e=>this.focusOneOfIDs.has(e))){let t=this.shadowRoot?.getElementById(e.id)?.querySelector(N);if(t instanceof HTMLElement){t.focus(),this.focusOneOfIDs.clear();return}}}}updateElementTransforms(e){for(let t of this.slidingWindow.allValuesInWindow()){let r=this.clusterElementsById.get(t.id);if(r&&1===t.pins.length){let i=t.pins[0];r.position=i,r.zoomScale=e.zoomScale,r.selectionBoxAnchor=i.selectionBoxAnchor,r.otherBoundingBoxes=i.otherBoundingBoxes,r.render()}else r&&r.positionClusterElement(t,e)}}bulkAddClusters(e,t){for(let r of(this.slidingWindow.bulkAddValues(e),e))this.slidingWindow.isValueInWindow(r)&&this.addClusterToDom(r,t,"initial")}updateCluster(e,t){e.isSinglePin?(this.slidingWindow.removeValue(e),this.slidingWindow.addValue(e),this.updateAvatarPin(e,t)):(this.removeCluster(e,t,"update"),this.addCluster(e,t,"update"))}addCluster(e,t,r){this.slidingWindow.addValue(e)&&this.addClusterToDom(e,t,r)}removeCluster(e,t,r,i){let n=this.slidingWindow.isValueInWindow(e);this.slidingWindow.removeValue(e),n&&this.removeClusterFromDom(e,t,r,i)}static applyClusterToAvatarPin(e,t,r,i,n,o=!1){let s=e.pins[0],a=s.avatars.reduce((e,t)=>e+t.num_comments,0)-1,l=s.avatars.map(e=>({initial:e.avatar_user_handle[0],user_id:e.avatar_user_id,url:(0,E.Sw)(e.avatar_url)})),d=S.LX.NORMAL;i?d=i===s.id?S.LX.ACTIVE:S.LX.DIMMED:(n||s.isResolved)&&(d=S.LX.DIMMED),r.data={id:s.id,avatars:l,createdAt:s.createdAt,preview:{author:s.avatars[0].avatar_user_handle,messageMeta:s.previewMessageMeta||[],updatedAt:new Date(Date.parse(s.updatedAt)),unread:!!s.isUnread,replies:a,numUnreadReplies:s.numUnreadReplies,draft:s.isDraft,feedPostTitle:s.type===u.kT.FEED_POST?s.feedPostTitle:void 0,pinVerticalStagger:s.type===u.kT.FEED_POST?s.pinVerticalStagger:void 0,numAttachments:s.numAttachments,isPinnedToFile:s.isPinnedToFile},pending:s.pending,type:s.type},r.minimized=!s.isPinnedToFile&&o,r.updatePinSelectedState(d),r.isDraggable=s.isDraggable,r.onmouseenter=s.onMouseEnter,r.onmouseleave=s.onMouseLeave,r.position=s,r.zoomScale=t.zoomScale,r.selectionBoxAnchor=s.selectionBoxAnchor,r.otherBoundingBoxes=s.otherBoundingBoxes,r.render()}updateAvatarPin(t,r){let i=this.clusterElementsById.get(t.id);if(!i){this.slidingWindow.isValueInWindow(t)&&this.addClusterToDom(t,r,"initial");return}e.applyClusterToAvatarPin(t,r,i,this.ds.selectedPinId,this.ds.dimUnselectedPins,this.ds.clusters.minimizeUnpinned)}onPinElementClicked(e){this.onElementClicked&&this.onElementClicked(e)}onPinElementDragEnd(e,t){this.onElementDragEnd&&this.onElementDragEnd(e),this.draggingElement=null}onPinElementDragMove(e){this.onElementDragMove&&this.onElementDragMove(e)}onPinElementDragStart(e,t){this.draggingElement&&(this.draggingElement.cancelDrag(),console.error("Started dragging a new element without ending another drag")),this.draggingElement=t,this.onElementDragStart&&this.onElementDragStart(e)}onPinContextMenu(e,t){this.onElementContextMenu&&this.onElementContextMenu(e,t)}cancelAllDragging(){this.draggingElement?.cancelDrag(),this.draggingElement=null}addClusterToDom(t,r,n){let s;if(this.clusterElementsById.get(t.id))return;let a=null;if(t.isSinglePin){let n=t.pins[0],o=new M.XC;switch(n.type){case u.kT.COMMENT_THREAD:o=new M.aT;break;case u.kT.FEED_POST:o=new M.b1;break;case u.kT.LITMUS_COMMENT_THREAD:break;default:(0,i.xb)(n)}e.applyClusterToAvatarPin(t,r,o,this.ds.selectedPinId,this.ds.dimUnselectedPins,this.ds.clusters.minimizeUnpinned),(0,p.cz)()&&(o.onkeydown=e=>{"Enter"===e.key&&(g.nt.accessibleCommentsInPrototype.getValue()&&(e.preventDefault(),e.stopPropagation()),this.onPinElementClicked(t.id))}),o.onPinClick=this.onPinElementClicked.bind(this),o.onEndDrag=this.onPinElementDragEnd.bind(this),o.onStartDrag=this.onPinElementDragStart.bind(this),o.onUpdateDrag=this.onPinElementDragMove.bind(this),o.onPinContextClick=this.onPinContextMenu.bind(this),o.isDraggable=n.isDraggable,o.renderer=this,s=o,a=this._lastRenderedDataset?.clusters.getParentOf(n.id)||null}else{let e=S.LX.NORMAL,i=new y.ip;i.avatarsMap=t.avatarMap,i.pinnedToFile=t.isPinnedToFile,i.minimized=!t.isPinnedToFile&&this.ds.clusters.minimizeUnpinned,i.positionClusterElement(t,r),i.unread=t.isUnread,i.threadCount=t.pins.length,(0,p.cz)()&&(i.id=(0,S.Ao)(t,t.cluster.threads.length),i.onkeydown=t.onKeyDown),i.onclick=t.onClick,i.creationChangeType=n,this.ds.selectedPinId?e=t.pins.some(e=>e.id===this.ds.selectedPinId)?S.LX.ACTIVE:S.LX.DIMMED:this.ds.dimUnselectedPins&&(e=S.LX.DIMMED);let o=null;for(var l=0;l<t.pins.length;l++){let e=t.pins[l],r=this._lastRenderedDataset?.clusters.getParentOf(e.id);if(o&&r!==o){o=null;break}o=r}o&&(a=o),i.dimmed=e===S.LX.DIMMED,i.render(),s=i}let d=o.zl.get(x);if(t.isSinglePin&&!d){let e=o.zl.get(A),r=t.pins[0],i=!!r?.isOurs,n=!!e&&e===r?.id;i&&n&&(s.setAttribute("data-onboarding-key",T.UU),o.zl.set(x,!0))}if(this.clusterElementsById.set(t.id,s),this.wrapper.append(s),!this.ds.clusters.applyInstant&&"data"===n&&s.animateDatasetChange&&t.isSinglePin)s.animateDatasetChange({type:"create",isMutatedByCurrentUser:t.pins[0]?.isOurs}),this._lastDatasetChangeAnimatedAt=Date.now();else if(!this.ds.clusters.applyInstant&&a&&"aggregation"===n){let e=(r.zoomScale-1)*a.x,t=(r.zoomScale-1)*a.y;s.animateAggregationChange?.({type:"split",position:{x:a.x+e,y:a.y+t}}).then(()=>{(0,p.cz)()&&this.focusOneOfSelectedThreads()})}}removeClusterFromDom(e,t,r,i){let n,o=this.clusterElementsById.get(e.id);if(!o)return;let s=this.ds?.clusters.getParentOf(e.pins[0].id)||null;if(e.pins.length>1){let t=s?new Set(s.pins.map(e=>e.id)):new Set;e.pins.every(e=>t.has(e.id))||(s=null)}if(!(i||this.ds.clusters.applyInstant)){if("data"===r&&o.animateDatasetChange)n=o.animateDatasetChange({type:"destroy"});else if(s&&"aggregation"===r){let e=(t.zoomScale-1)*s.x,r=(t.zoomScale-1)*s.y;n=o.animateAggregationChange?.({type:"join",position:{x:s.x+e,y:s.y+r}})}}(0,b.b)(n,()=>{o.onRemove(),o.remove()}),this.clusterElementsById.delete(e.id)}updateViewportVisibleClusters(e){let t=(0,f.qc)(e),r=(0,f.kE)(78,e.zoomScale),i=this.slidingWindow.updateWindow(t,r);i.additions.forEach(t=>this.addClusterToDom(t,e,"viewport_visible")),i.removals.forEach(t=>{this.removeClusterFromDom(t,e,"viewport_visible")})}updatePinDragLocation(e,t){let r=this.clusterElementsById.get(e);r&&r.updateDragLocation(t)}getPinViewportRect(e){if(e===m.hm)return{x:0,y:0,height:32,width:M.XC.getPinSize(1).width};let t=this.clusterElementsById.get(e);if(!t)return null;let r=t.unhoveredSize;return{width:r.width,height:-1*r.height,x:t.x,y:t.y}}getFocusedPin(){return this.shadowRoot?.activeElement}getFocusedClusterId(){return this.getFocusedPin()?.parentElement?.getAttribute("id")}blurFocusedPin(){let e=this.getFocusedPin();e instanceof HTMLElement&&e.blur()}getRenderedElementsCount(){return this.clusterElementsById.size}getPinElementByClusterId(e){let t=this.clusterElementsById.get(e)?.querySelector(N);return t instanceof HTMLElement?t:null}focusPinById(e){let t=this.getPinElementByClusterId(e);t?.focus()}};P.desiredElementName="clustered-pins";let D=P},290133(e,t,r){r.d(t,{$J:()=>a.qZS,GH:()=>c,H5:()=>l,I_:()=>u,kR:()=>h});var i=r(105652),n=r(706354),o=r(741542),s=r(462198),a=r(644350);let l="You are trying to use comments functionality but didn't wire a provider for comments",d=(0,i.createContext)(void 0),h=d.Provider;function c(){let e=(0,i.useContext)(d),[t,r]=(0,i.useState)(null);return(0,o.getFeatureFlags)().usecommentscontext_warn_no_provider&&null===t&&void 0===e&&r(Error("useCommentsContext called outside of a LoadedCommentsContextProvider")),(0,i.useEffect)(()=>{t&&(0,s.$D)(n.FigmaTeam.WAYFINDING,t)},[t]),e}function u(){let e=c();if(!e)throw Error(l);return e.api}},34183(e,t,r){r.d(t,{AK:()=>m,Le:()=>c,Tv:()=>p,jp:()=>d,n6:()=>_,qN:()=>h,wq:()=>u});var i=r(105652),n=r(955721),o=r(668522),s=r(290133),a=r(290589);let l={};function d(){var e,t;let r,n,a;return e=(0,s.GH)(),t=e=>e.file?.currentUserFileFollower||null,r=(0,i.useMemo)(()=>e?.status!=="loaded"?l:t(e.data),[e,t]),n=e?.status||"loading",a=e?.errors||[],(0,i.useMemo)(()=>r===l||"loading"===n?(0,o.Xm)():"errors"===n?{status:n,data:null,errors:a}:{status:"loaded",errors:a,data:r},[n,a,r])}function h(){let e=(0,s.GH)();return!!e&&e.isUnresolvedLoaded}function c(){let e=(0,s.GH)();return!!e&&e.isUnresolvedLoaded}function u(){let e=(0,s.GH)();return e?e.threads:(0,o.Xm)()}function m(e){let t=(0,s.GH)();return(0,i.useMemo)(()=>{if(!t)throw Error(s.H5);if("loaded"!==t.status||!t.data||!t.api.reactionsApi)return 0;let r=t.api.reactionsApi?.getReactions(e);return r?.length||0},[e,t])}function p(e,t){let r=(0,s.GH)();return(0,i.useMemo)(()=>{if(!r)throw Error(s.H5);return"loaded"===r.status&&r.data?{status:"loaded",data:function(e,t){if(!t)return{typed:[],users:[],yours:0,total:0};let r={};return t.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()).reduce((t,i)=>{let[o,s]=(0,n.Kh)(i.emoji);t.total++;let a=r[o];if(!a){let e={count:0,selected:!1,users:[],emoji:o,skinTonesToUsers:{}};t.typed.push(e),a=e,r[o]=e}let l={id:i.user.id,handle:i.user.handle,img_url:i.user.imgUrl};return null!==s&&(void 0===a.skinTonesToUsers[s]&&(a.skinTonesToUsers[s]=[]),a.skinTonesToUsers[s].push(l)),a.count++,a.users.push(l),a.selected=a.selected||i.userId===e,t},{typed:[],yours:0,total:0,users:[]})}(t,r.api.reactionsApi?.getReactions(e)),errors:r.errors}:(0,o.Xm)()},[e,t,r])}function _(){var e=u(),t=(0,a.wI)();if("loaded"!==e.status)return 0;let r=0;for(let i of e.data)if((i.anchored||i.isCanvasMention||t)&&!i.comments[0].resolved_at)for(let e of i.comments)e.isUnread&&r++;return r}},46960(e,t,r){r.d(t,{a:()=>o,s:()=>s});var i=r(105652),n=r(539503);let o=i.createContext(n.y);function s(){return i.useContext(o)}},640965(e,t,r){r.d(t,{hJ:()=>o,mW:()=>n,qN:()=>i});let i={CREATION_DATE:"creationDate",RECENT:"recent",UNREAD:"unread",SLIDE:"slide",ASSET:"asset"},n={RESOLVED:"resolved",YOURS:"yours",LATEST_MAKE_VERSION:"latestMakeVersion",CURRENT_MAKE_PAGE:"currentMakePage",CURRENT_PAGE:"currentPage",CURRENT_NODE:"currentNode",CURRENT_SLIDE:"currentSlide",CURRENT_DEV_MODE_FOCUS:"currentDevModeFocus",CURRENT_ASSET:"currentAsset",CURRENT_TEST:"currentTest",CURRENT_BUILD:"currentBuild"},o={COMMENTS_ONLY:"commentsOnly",POSTS_ONLY:"postsOnly",ALL:"all"}},244953(e,t,r){r.d(t,{Z:()=>s,h:()=>o});let{useRegisterMenu:i,open:n}=(0,r(108370).K)(),o=n,s=i},435626(e,t,r){r.d(t,{IT:()=>n,Qd:()=>i,kT:()=>s});let i="at-mentions-typeahead",n=1;var o,s=((o=s||{})[o.FEED_POST=0]="FEED_POST",o[o.COMMENT_THREAD=1]="COMMENT_THREAD",o[o.LITMUS_COMMENT_THREAD=2]="LITMUS_COMMENT_THREAD",o)},975592(e,t,r){r.d(t,{E1:()=>m,MJ:()=>T,lg:()=>E,pV:()=>c});var i=r(688357),n=r(63744),o=r(491852),s=r(295815),a=r(354991),l=r(608317),d=r(575425),h=r(598365);function c(e,t){let r=Math.min(Math.max(e.x,t.x),t.x+t.width),i=Math.min(Math.max(e.y,t.y),t.y+t.height);return new a.Mi(r,i)}r(526865);let u=(0,s.hG)("240px")+(0,s.hG)("16px");function m(e,t,r,n,o){return"fullscreen"===r.view&&i.glU?p(e,t,r,n,o):Promise.resolve(_(e,t,r))}let p=(e,t,r,i,n)=>{let o=e.page,s=f(e);return s&&o?(0,h.QZ)({nodeId:o,nodeAbsoluteBounds:s,alwaysPan:!1,viewportRect:g(t,r,n),noPanViewportMultiplier:.9*!i,panJustEnoughViewportMultiplier:1.5*!i}):Promise.resolve(null)},_=(e,t,r)=>{var i,n;let o,s;if(!e.canvasPosition||"communityHub"!==r.view&&"prototype"!==r.view)return null;let a=t.getViewportInfo(),l=(0,h.Z0)(a,e.canvasPosition),d=e.comments[0]?.client_meta?.selection_box_anchor,c=d?(0,h.Z0)(a,d):l;if(i=Math.min(l.x,c.x),n=Math.min(l.y,c.y),o=a.width,s=a.height,!(i-64>0)||!(i+64<o)||!(n-64>0)||!(n+64<s)){let t=e.canvasPosition.x,i=e.canvasPosition.y,n=a.zoomScale;if(d){t=(e.canvasPosition.x+d.x)/2,i=(e.canvasPosition.y+d.y)/2;let o=Math.abs(e.canvasPosition.x-d.x),s=Math.abs(e.canvasPosition.y-d.y),l=(a.width-128)/o,h=(a.height-128)/s;"prototype"!==r.view&&(n=Math.min(a.zoomScale,l,h))}return{centerX:t,centerY:i,scale:n}}return null},f=e=>{let{canvasPosition:t,selectionAnchorCanvasPosition:r}=e;if(!t)return null;let{width:i,height:n}=l.XC.getPinSize(new Set(e.comments.map(e=>e.user_id)).size),o={origin:{x:t.x,y:t.y-n},size:{x:i,y:n}};if(!r)return o;{let e=Math.min(r.x,o.origin.x),t=Math.max(r.x,o.origin.x+o.size.x),i=Math.min(r.y,o.origin.y);return{origin:{x:e,y:i},size:{x:t-e,y:Math.max(r.y,o.origin.y+o.size.y)-i}}}},g=(e,t,r)=>{let s=e.getViewportInfo(),a={origin:{x:0,y:0},size:{x:s.width,y:s.height}};if("fullscreen"===t.view&&t.editorType===d.nT.Whiteboard&&r&&(a.size.x-=u),"fullscreen"===t.view&&t.editorType===d.nT.Slides&&i.Ez5&&n.u7?.singleSlideView().isFocusedNodeViewEnabled()){let e=i.Ez5.editorPreferences().speakerNotesHeight.getCopy()+(o.CNR?.dragHandleTotalHeight()??0);a.size.y-=e}let l=i.Ez5?.uiState().editorBannerHeight.getCopy()??0;return l&&(a.origin.y+=l,a.size.y-=l),a},w=null;function E(e){w=e}function T(e){w?.(e)}},27266(e,t,r){r.d(t,{$m:()=>b,BL:()=>E,Gq:()=>w,MV:()=>_,RO:()=>T,Vk:()=>f,b7:()=>g,cz:()=>M,f$:()=>y,m:()=>p});var i=r(105652),n=r(645186),o=r(523924),s=r(491852),a=r(850159),l=r(350923),d=r(554326),h=r(435626),c=r(575425),u=r(578880),m=r(947234);function p(e){switch(e){case h.kT.COMMENT_THREAD:return!0;case h.kT.LITMUS_COMMENT_THREAD:case h.kT.FEED_POST:return!1;default:(0,o.xb)(e)}}function _(e){switch(e){case h.kT.COMMENT_THREAD:case h.kT.LITMUS_COMMENT_THREAD:return!0;case h.kT.FEED_POST:return!1;default:(0,o.xb)(e)}}function f(e){switch(e){case h.kT.COMMENT_THREAD:case h.kT.LITMUS_COMMENT_THREAD:return!0;case h.kT.FEED_POST:return!1;default:(0,o.xb)(e)}}function g(e){switch(e){case h.kT.COMMENT_THREAD:return!0;case h.kT.LITMUS_COMMENT_THREAD:case h.kT.FEED_POST:return!1;default:(0,o.xb)(e)}}function w(e){if(e)return{added:Object.values(e.attachments).map(e=>e.id),deleted:e.deleted}}function E(e){switch(e){case m.Dw.new:case m.Dw.reply:case m.Dw.edit:case m.Dw.quickReply:return!1;case m.Dw.feed:case m.Dw.feedPopover:return!0;default:(0,o.xb)(e)}}function T(){let[e,t]=i.useState(null);return[e,()=>{null==e||e.endsWith("\xa0")?t((0,a.t)("comments.accessibility_reply_added")):t((0,a.t)("comments.accessibility_reply_added")+"\xa0")}]}function v(e){return e===c.nT.Cooper||e===c.nT.Figmake||e===c.nT.Sites}function b(){return!v((0,l.md)(u.u8))}function y(){let e=(0,n.d4)(e=>e.prototype);return(0,l.md)(d.tM)===s.NLJ.COMMENTS||e?.showComments}function M(){return!v(l.zl.get(u.u8))}},232525(e,t,r){r.d(t,{fB:()=>a,xq:()=>s});var i=r(491852),n=r(42053),o=r(575425);function s(e){switch(e){case o.nT.Design:return i._YF.DESIGN;case o.nT.Whiteboard:return i._YF.WHITEBOARD;case o.nT.DevHandoff:return i._YF.DEV_HANDOFF;case o.nT.Slides:return i._YF.SLIDES;case o.nT.Sites:return i._YF.SITES;case o.nT.Cooper:return i._YF.COOPER;case o.nT.Illustration:return i._YF.ILLUSTRATION;case o.nT.Figmake:return i._YF.FIGMAKE;default:return(0,n.x1)("editorType","Unknown editor type",{editorType:e}),i._YF.DESIGN}}function a(e){switch(e){case i._YF.DESIGN:return o.nT.Design;case i._YF.WHITEBOARD:return o.nT.Whiteboard;case i._YF.DEV_HANDOFF:return o.nT.DevHandoff;case i._YF.SLIDES:return o.nT.Slides;case i._YF.SITES:return o.nT.Sites;case i._YF.FIGMAKE:return o.nT.Figmake;case i._YF.COOPER:return o.nT.Cooper;case i._YF.ILLUSTRATION:return o.nT.Illustration;default:return(0,n.x1)("editorType","Unknown editor type",{editorType:e}),o.nT.Design}}},871823(e,t,r){r.d(t,{e_:()=>s,yR:()=>a,yU:()=>l});var i=r(105652),n=r(645186),o=r(86782);function s(){return(0,n.d4)(e=>!!e.screenreader.enabled)}function a(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.screenreader.enabled),r=(0,n.d4)(e=>e.user||void 0);return[t,(0,i.useCallback)((t,i)=>{e((0,o.X7)({enabled:t,scope:i,user:r}))},[e,r])]}function l(){let e=(0,n.wA)(),t=(0,i.useCallback)(t=>{e((0,o.DS)({isQuickActionsAdaptForScreenReader:t}))},[e]);return[!!(0,n.d4)(e=>e.screenreader.isQuickActionsAdaptForScreenReader),t]}},937925(e,t,r){r.d(t,{s:()=>f});var i=r(105652),n=r(645186),o=r(193838),s=r(63744),a=r(990483),l=r(921282),d=r(288425),h=r(448775),c=r(773201),u=r(149340),m=r(267488),p=r(272004),_=r(932630);function f(e){let t="ui3"===(0,o.DP)().version,r=(0,m.J)(),f=(0,_.DP)(),g=(0,n.d4)(e=>e.theme?.enhancedContrast),w=(0,c._6)(),E=(0,d.f3)();(0,i.useEffect)(()=>{l.eD&&t&&l.eD.setTabColor(r)},[r,t]);let T=E??e??f;(0,i.useEffect)(()=>{"fullscreen"===w.view&&h.Y5.isReady()&&s.GT?.setEditorTheme((0,u.i_)(T)||"")},[w.view,T]);let v=(0,a.ce)();(0,i.useEffect)(()=>{v&&(0,a.Fe)(T)},[v,T]);let b=(0,i.useRef)(document.body);return(0,p.Z)(T,b,w,g)}},271044(e,t,r){r.d(t,{w:()=>o,y:()=>s});var i=r(741542),n=r(450996);function o(){let e=(0,n.U5)();return(0,i.getFeatureFlags)().xr_debounce_threshold&&e}function s(){return(0,i.getFeatureFlags)().xr_debounce_threshold}},932630(e,t,r){r.d(t,{DP:()=>l,am:()=>a,dB:()=>d,yM:()=>h});var i=r(105652),n=r(645186),o=r(149340),s=r(146656);function a(){let e=(0,n.d4)(e=>e.theme.themePreference);return s.C_.includes(e)?e:"light"}function l(){return(0,n.d4)(e=>e.theme?.visibleTheme)}function d(){let e=l(),[t,r]=(0,i.useState)(e??o.n4.matches?"dark":"light");return(0,i.useEffect)(()=>{if(e)return void r(e);let t=e=>{r(e.matches?"dark":"light")};return o.n4.addEventListener("change",t),()=>o.n4.removeEventListener("change",t)},[e]),t}function h(){return(0,i.useContext)(o.uW)}},494854(e,t,r){r.d(t,{C:()=>m});var i=r(105652),n=r(706354),o=r(741542),s=r(779757),a=r(870527),l=r(140979),d=r(668522),h=r(462198),c=r(487817),u=r(644350);function m({plan:e,planUser:t}){let r=!1,m=e?.planRecordId,p=t?.planUserRecordId,_=t?.permission,f={[c.Xn.ADMIN]:c.jt.MEMBERS,[c.Xn.MEMBER]:c.jt.MEMBERS,[c.Xn.GUEST]:c.jt.GUESTS}[_],g=(0,l.bc)((0,u.wM3)({planId:m,planUserId:p}),{enabled:(0,o.getFeatureFlags)().policy_acknowledgement_enforcement&&!!m&&!!p&&!!f}),w=(0,i.useRef)(!1),E="errors"===g.status;return((0,i.useEffect)(()=>{E&&!w.current&&((0,h.$D)(n.FigmaTeam.SCALE,Error("usePolicyAcknowledgementStatus: Unable to determine plan, plan user, or user role"),{extra:{planId:m,planUserId:p,userRole:f}}),w.current=!0)},[E,m,p,f]),E||"loaded"!==g.status)?s.Qw.loaded({showModal:!1,is_plan_policy_enforcement_enabled:r}):g.transform(e=>{let t=(0,d.oA)(e?.policyAcknowledgementConfigs)??[],i=(0,a.A)(),n=t.find(e=>{if(!e.enabledAt)return!1;r=!0;let t=e.audience;if(t&&t!==c.jt.ALL&&t!==f)return!1;let n=e.planUserPolicyAcknowledgement?(0,d.oA)(e.planUserPolicyAcknowledgement):void 0;if(null===n)return!0;let o=n?.acknowledgedAt,s=o?(0,a.A)(o):null,l=e.cadenceSeconds;return null!=s&&null!=l&&i.isAfter(s.add(Number(l),"second"))});return n?{showModal:!0,is_plan_policy_enforcement_enabled:!0,policyText:n.text,policyTitle:n.title??"",policyAckConfigId:n.id}:{showModal:!1,is_plan_policy_enforcement_enabled:r}})}},899545(e,t,r){r.d(t,{A:()=>n});var i=r(105652);function n({numSteps:e,onComplete:t}){if(e<1)throw Error("Cannot create sequence with less than 1 step");let[r,n]=(0,i.useState)(0),o=(0,i.useCallback)(()=>{n(r=>r===e-1?(t(),r):r+1)},[e,t]),s=(0,i.useCallback)(()=>{n(e=>e>0?e-1:e)},[]),a=(0,i.useCallback)(t=>{t>=0&&t<e&&n(t)},[e]),l=(0,i.useCallback)(()=>{n(0)},[]);return(0,i.useMemo)(()=>({currentStep:r,goTo:a,next:o,back:s,reset:l}),[r,a,o,s,l])}},360226(e,t,r){r.d(t,{d1:()=>s,l$:()=>l,xA:()=>a,yt:()=>o});var i=r(487817),n=r(389218);function o(e){if("fullscreen"===e.selectedView.view){let t=e.selectedView.fileKey;if(t)return e.fileByKey[t]??null}return null}function s(e){let t=(0,n.U2)(e.selectedView);return t?e.fileByKey[t]??null:null}function a({state:e,openNewFileIn:t,folderData:r,trackingInfo:n,editorType:o=i._Y.DESIGN,fullscreenEditorType:s,fileName:a,callback:l,figjamAiNewFileData:d,slidesAiNewFileData:h,figjamMakeSomethingUseCase:c,newFileDataLocalStorageKey:u,figmakeInitialMessage:m}){let p=null;return"DRAFTS_FOLDER"!==r&&(p=r.id),{folder_id:p,org_id:e.currentUserOrgId,openNewFileIn:t,trackingInfo:n||null,editorType:o,fullscreenEditorType:s,fileName:a,figjamAiNewFileData:d,slidesAiNewFileData:h,figjamMakeSomethingUseCase:c,newFileDataLocalStorageKey:u,figmakeInitialMessage:m,callback:l,team_id:e.currentTeamId}}function l(e){return{...e,optimist:void 0}}},211748(e,t,r){r.d(t,{I2:()=>l,TD:()=>d,Ty:()=>s,pP:()=>a,yO:()=>h});var i=r(181645),n=r(230191),o=r(487817);function s(e,t,r){if(e&&t){let i=r[e],n=i&&i[t.id];return!!(n&&n.permission===o._D.GUEST)}return!1}function a(e,t,r){if(e)if(!r)return"org_member";else return"org_guest";return t?"team_user":"personal_user"}let l="comments",d="share_modal";class h{constructor(e,t,r,i,n,o){this.entrypoint=e,this.openFileKey=t,this.state={sessionId:null,queryCount:0,resultsCount:0},this.userContext=r,this.currentOrgId=i,this.openFileTeamId=n,this.richTextLibrary=o}resetState(){this.state={sessionId:null,queryCount:0,resultsCount:0},this.prevQuery=void 0}startSession(){this.state={sessionId:(0,n.MZ)(),queryCount:0,resultsCount:0},(0,i.sx)("contacts_session_start",{session_id:this.state.sessionId,entrypoint:this.entrypoint,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId,rich_text_library:this.richTextLibrary})}trackQueryResult(e,t){null===this.state.sessionId&&this.startSession(),this.prevQuery!==e&&(this.state.queryCount+=1,this.state.resultsCount+=t,(0,i.sx)("contacts_query_result",{session_id:this.state.sessionId,entrypoint:this.entrypoint,query:e,characters_entered:e.length,num_results:t,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId,rich_text_library:this.richTextLibrary}),this.prevQuery=e)}trackResultClicked(e,t,r,n){(0,i.sx)("contacts_result_clicked",{session_id:this.state.sessionId,entrypoint:this.entrypoint,query:e,characters_entered:e.length,position:t+1,num_results:r,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId,isInvite:!!n,rich_text_library:this.richTextLibrary}),this.endSession("result_selected",!0)}endSession(e,t){null!==this.state.sessionId&&((0,i.sx)("contacts_session_end",{session_id:this.state.sessionId,num_queries_to_backend:this.state.queryCount,total_contacts_suggested:this.state.resultsCount,entrypoint:this.entrypoint,exitpoint:e,result_selected:t??!1,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId,rich_text_library:this.richTextLibrary}),this.resetState())}}},471838(e,t,r){r.d(t,{U:()=>m});var i,n,o=r(350923),s=r(870527),a=r(524495),l=r(559365);(i=n||(n={})).getBillingTrial=function(e){return{...e,status:(0,i.getBillingTrialStatus)(e)}},i.getBillingTrialStatus=(0,l.Do)(e=>(0,i.isDeactivated)(e)?a.Q.DEACTIVATED:(0,i.isExpired)(e)?a.Q.EXPIRED:(0,i.isValidated)(e)?a.Q.ACTIVE:a.Q.PENDING),i.isDeactivated=(0,l.Do)(e=>!!e.deactivatedAt),i.isExpired=(0,l.Do)(e=>(0,s.A)().utc().isAfter((0,s.A)(e.trialPeriodEnd).utc())),i.isValidated=(0,l.Do)(e=>{let t=e.metadata;return!!t?.validated_at||!!t?.validatedAt});var d=r(487817),h=r(644350),c=r(638517),u=r(431860);let m=(0,o.Iz)(e=>(0,u.Z1)(h.BXv.Query({resourceId:e,resourceType:d.Il.ORG}),e=>{let t=e.billingTrialForResource;return t?c.A.getOrgTrial(n.getBillingTrial(t)):null}))},707099(e,t,r){function i(e){return document.querySelector(`[data-element-target=${e}]`)}function n(e,t){return!!t&&e instanceof Node&&t.contains(e)}r.d(t,{Tc:()=>i,n3:()=>n})},555111(e,t,r){r.d(t,{y:()=>o});var i=r(181645),n=r(448775);let o=new class{constructor(){this.timer=null,this.startTime=0,this.elapsed=0,this.fileKey=null,this.localSession=null,this.installListeners=()=>{window.addEventListener("pagehide",this.trackBounce),window.addEventListener("popstate",this.trackBounce),window.addEventListener("visibilitychange",this.pauseOrResume)},this.removeListeners=()=>{window.removeEventListener("pagehide",this.trackBounce),window.removeEventListener("popstate",this.trackBounce),window.removeEventListener("visibilitychange",this.pauseOrResume)},this.trackSearchResultRetained=()=>{this.localSession&&(0,i.sx)("search_result_retained",this.getEventPayload())},this.trackBounce=()=>{this.localSession&&(0,i.sx)("search_result_bounced",this.getEventPayload(),{forwardToDatadog:!0,sendAsBeacon:!0}),this.stopTimer()},this.pauseOrResume=()=>{if(document.hidden)this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.elapsed+=performance.now()-this.startTime;else{if(this.timer)return;3e5<this.elapsed?this.stopTimer():(this.timer=window.setTimeout(this.stopTimer,3e5-this.elapsed),this.startTime=performance.now())}},this.stopTimer=()=>{this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.removeListeners()}}startTimer(e,t){this.stopTimer(),t&&(this.fileKey=e,this.localSession=t,this.startTime=performance.now(),this.elapsed=0,this.timer=window.setTimeout(()=>{this.trackSearchResultRetained(),this.stopTimer()},3e5),this.installListeners())}getEventPayload(){return this.localSession?{file_key:this.fileKey,session_id:this.localSession.id,session_expires_at:new Date(this.localSession.expires).toISOString(),session_entry_point:this.localSession.entryPoint,active_time_spent:Math.round(this.elapsed+performance.now()-this.startTime),fullscreen_is_ready:n.Y5.isReady()}:{}}}},616861(e,t,r){r.d(t,{H:()=>d});var i=r(645186),n=r(673890),o=r(575425),s=r(45484),a=r(666554),l=r(480136);function d(e){let t=(0,s.Av)(),r=(0,a.jK)(),d=(0,i.d4)(e=>e.selectedView?.editorType);switch(e){case n.yw.LEGACY:return(({displayP3SupportReport:e,userColorProfile:t,editorType:r})=>{if(r===o.nT.Whiteboard);else if(t===l.M.DISPLAY_P3&&(0,s.tK)(e))return n.RY.DISPLAY_P3;return n.RY.SRGB})({displayP3SupportReport:t,userColorProfile:r.colorProfilePreference,editorType:d});case n.yw.SRGB:case n.yw.DISPLAY_P3:return function({displayP3SupportReport:e,documentColorProfile:t,editorType:r}){if(r===o.nT.Whiteboard)return n.RY.SRGB;switch(t){case n.yw.SRGB:break;case n.yw.DISPLAY_P3:return"ClientNotSupported"===e.status||"MonitorNotSupported"===e.status?n.RY.SRGB:n.RY.DISPLAY_P3}return n.RY.SRGB}({displayP3SupportReport:t,documentColorProfile:e,editorType:d})}}},719933(e,t,r){r.d(t,{A:()=>s,j:()=>a});var i=r(673890),n=r(480136);function o(e,t){switch(e){case"DOCUMENT":return t;case"SRGB":case"CMYK":return i.RY.SRGB;case"DISPLAY_P3_V4":return i.RY.DISPLAY_P3}}function s(e,t){if(1===e.length)return o(e[0].colorProfile??"DOCUMENT",t);{let r=e[0]?.colorProfile??"DOCUMENT";for(let t of e)if((t.colorProfile??"DOCUMENT")!==r){r="DOCUMENT";break}return o(r,t)}}function a(e,t){switch(e){case i.yw.LEGACY:return t===n.M.DISPLAY_P3?i.RY.DISPLAY_P3:i.RY.SRGB;case i.yw.SRGB:return i.RY.SRGB;case i.yw.DISPLAY_P3:return i.RY.DISPLAY_P3}}},45484(e,t,r){r.d(t,{Av:()=>_,Pv:()=>c,VG:()=>a,p3:()=>u,tK:()=>p});var i=r(105652),n=r(673890),o=r(921282),s=r(559365);function a(e){switch(e){case n.RY.SRGB:return"srgb";case n.RY.DISPLAY_P3:return"display-p3";default:throw Error(`unrecognized color profile: ${e}`)}}let l=new Map,d=(0,s.nh)(e=>{if(l.has(e))return l.get(e);let t=(e=>{try{if(e===n.RY.SRGB)return!0;let t=document.createElement("canvas").getContext("webgl");if(!t)throw Error("failed to create webgl canvas context to determine support");if(!("drawingBufferColorSpace"in t))throw Error("webgl context does not contain drawingBufferColorSpace attribute");let r=a(e);if(t.drawingBufferColorSpace=r,t.drawingBufferColorSpace!==r)throw Error(`webgl context does not support color space: ${r}`);return!0}catch(e){return!1}})(e);return l.set(e,t),t}),h=(0,s.nh)(e=>{try{if(e===n.RY.SRGB)return!0;let t=document.createElement("canvas"),r=a(e),i=t.getContext("2d",{colorSpace:r});if(i)if("getContextAttributes"in i){if(i.getContextAttributes().colorSpace!==r)throw Error("2d canvas context does not match the desired color space")}else throw Error("2d canvas context does not support getContextAttributes");else throw Error("failed to create 2d canvas context to determine support");if(u()){let e=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1,{colorSpace:r});if(!("colorSpace"in e)||e.colorSpace!==r)throw Error(`image does not support color space: ${r}`)}return!0}catch(e){return!1}}),c=()=>"u">typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("color","color(display-p3 1 1 1)"),u=()=>!c();async function m(){if(!o.eD)return;let e=await o.eD.getActiveNSScreens();if(e){for(let t of e)if(!t.isCurrentWindow&&t.canRepresentDisplayGamutP3)return t.localizedName}}function p(e){switch(e.status){case"SupportedNatively":case"SupportedWithPolyfill":return!0;case"MonitorNotSupported":case"ClientNotSupported":return!1}}function _(){let e=i.useMemo(()=>d(n.RY.DISPLAY_P3),[]),t=i.useMemo(()=>h(n.RY.DISPLAY_P3),[]),r=i.useMemo(()=>c(),[]),s=(()=>{let[e,t]=i.useState();return i.useEffect(()=>{m().then(t)},[]),e})(),a=(()=>{let[e,t]=i.useState(window.matchMedia("(color-gamut: p3)").matches);return i.useEffect(()=>{let e=setInterval(()=>{t(window.matchMedia("(color-gamut: p3)").matches)},5e3);return()=>{clearInterval(e)}},[]),e})();if(e&&t)if(!a)return{status:"MonitorNotSupported",diagnostics:{alternativeMonitorName:s}};else if(r)return{status:"SupportedNatively",diagnostics:null};else return{status:"SupportedWithPolyfill",diagnostics:null};return{status:"ClientNotSupported",diagnostics:{client:o.eD?"desktop-app":"browser"}}}},671198(e,t,r){let i;r.d(t,{AU:()=>l,T6:()=>u,lS:()=>i,on:()=>a});var n=r(151524),o=r(520435);let s={mousedown:new Set,mousemove:new Set,mouseup:new Set};function a(e,t){s[e].add(t)}function l(e,t){s[e].delete(t)}function d(e){return(t,r)=>{for(let i of s[e])i({x:t,y:r})}}function h(e,t,r){n.D.dispatch(o.vV({anchorPosition:{x:t,y:r}})),n.D.dispatch(o.CX({stablePath:e}))}function c(){let e=document.querySelector("button[data-kb-comment-insertion-button]");return null!==e&&document.activeElement===e}function u(){i={handleMouseDown:d("mousedown"),handleMouseMove:d("mousemove"),handleMouseUp:d("mouseup"),createNewCommentAtPosition:h,isInvisibleCommentInsertionButtonFocused:c}}},782225(e,t,r){r.d(t,{E:()=>_,z:()=>f});var i=r(105652),n=r(645186),o=r(63744),s=r(850159),a=r(181645),l=r(870527),d=r(587047),h=r(613629),c=r(506026),u=r(38900),m=r(206322),p=r(550554);function _(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.versionHistory.compareId),r=(0,n.d4)(e=>(0,m.HF)(t,e.versionHistory)),o=(0,n.d4)(e=>e.modalShown);return i.useCallback(t=>{f(t,e,r,o)},[e,r,o])}function f(e,t,r,i){if(i)return;let n=(0,d.F)(r?.user.handle);if(n&&r?.touched_at&&o.GT&&o.GT.getChunkChangeMap().has(e)){if(!o.GT.getChangesToCompareFromHistoryChangesState().has(e))return void t(h.F.dequeue({matchType:"view_changes"}));t(h.F.dequeue({})),t(h.F.enqueue({message:(0,s.t)("collaboration.feedback.compare_changes_modal.action_text",{lastEditedBy:n,lastEditedAt:(0,l.A)(r.touched_at).fromNow()}),type:"view_changes",button:{text:(0,s.t)("collaboration.feedback.compare_changes_modal.action_button"),action:()=>{(0,a.sx)("version_diffing_performance_metrics",{name:"diffing_modal_cta_clicked",entrypoint:"figma_design_version_history"}),t(u.to({type:p.m,data:{nodeId:e}}))}},icon:""!==r.user.img_url?c.zX.FROM_URL:c.zX.NONE,iconShape:c.Ox.CIRCLE,iconURL:r.user.img_url}))}}},28183(e,t,r){r.d(t,{Q:()=>m,a:()=>p});var i=r(688357),n=r(350923),o=r(3752),s=r(999355),a=r(732545),l=r(462198),d=r(472280),h=r(197911),c=r(950079),u=r(338524);class m{constructor(){this._fullscreenCrashed=!1,this._receivedFailedAllocation=!1,this._lastAction=null,this._lastWebContextMessage=null,this._fileLoadTime=null}oomState(e){let t=(0,u.le)(),r=this._fileLoadTime,i=r?window.performance.now()-r:0;return{...e,totalMemoryInBytes:t,fileLoaded:!!r,timeSinceFileLoad:i,is64BitBrowser:o.A.is64BitBrowser,lastAction:this._lastAction,lastWebContextMessage:this._lastWebContextMessage}}documentIsLoaded(){this._fileLoadTime=window.performance.now()}resetOOMState(){this._fileLoadTime=null,this._lastAction=null}recordActionForReportingOOM(e){this._lastAction=e}}class p extends m{get _state(){if(!this._store)throw Error("Calling _state without a valid store");return this._store.getState()}constructor(e){super(),this._store=e}openFileKey(){return this._state.openFile?.key||null}allocationFailed(e,t,r,o,m,p,_,f,g,w,E){if(this._receivedFailedAllocation)return;(0,l.kF)("wasm_oom","yes"),this._receivedFailedAllocation=!0;let T=(0,u.le)(),v=(p/1024).toFixed(1),b=(r/1024/1024).toFixed(1),y=(T/1024/1024).toFixed(1);console.log(`malloc of size ${v}KB failed
        (high water mark was ${b}MB,
        total reserved memory was ${y}MB)`);let M=this.oomState({heapMemoryMode:e,heapMemoryLimit:t,mallocHighWatermark:r,currentAllocatedBytes:o,maxAllocatedBytes:m,failedSize:p,fontBytes:_,migration:f,migrationFrom:g,migrationTo:w,...(0,a.Y)(E)});(0,s.Y7)({...M,progressBarMode:i.Oin[this._state.progressBarState.mode],multiplayerSessionState:i.kul[this._state.mirror.appModel.multiplayerSessionState],editingFileKey:this.openFileKey(),isReadOnly:this._state.mirror.appModel.isReadOnly,appType:"editor",productType:(0,d.v5)(this._state.selectedView,null)});let S=n.zl.get(h.qm);c.y.showMemoryCrashModal({isBranching:S},this.openFileKey(),this._store)}}},774413(e,t,r){r.d(t,{M:()=>U});var i=r(669965),n=r(267995),o=r(688357),s=r(63744),a=r(461700),l=r(370053),d=r(673890),h=r(890279),c=r(906326),u=r(375619),m=r(546312),p=r(575945),_=r(47475),f=r(120538),g=r(491852),w=r(819543),E=r(115615),T=r(430318),v=r(217820),b=r(968379),y=r(741542),M=r(3752),S=r(513427),I=r(925278),C=r(113826),x=r(951276),A=r(951949),O=r(496172),N=r(214990),R=r(611241);let P=!1,D=(0,b.v)();async function k(){if(!M.A.isMacDebugApp&&!P){let e=R.Q.getLoadTimeTracker();e&&(e.fullscreenEvents.loadAndStartFullscreenIfNecessary=Math.round(performance.now())),P=!0,await (0,O.e3)(A.t,"prototype-lib"),D.resolve()}}let L=new Promise(()=>{}),F={"fullscreen-app":null,"prototype-lib":null};async function U(e,t){(0,C.eA)(e.prototypeApp,e.viewerJsKiwiSerialization,e.deprecatedJsSceneHooks);let r="prototype-lib";return null==F[r]?F[r]=(async()=>{if(R.r.reset(),R.r.start("initializePrototypeLib"),(0,N.g)({canLoadImageResource:!1,canLoadFontResource:!0,isInPrototypeViewer:!0,actionStateDisableUpdates:!0,appCanInteractWithWidgetEmbedsAndLinkPreviews:!1,appIsReadOnly:!0,appIsRecovery:!1,appCanRenderHyperlinkHoverUI:!1,appCanRenderMultiplayerOrSelectionUI:!1,appCanRenderScrollbars:!1,appCanRenderSceneGraphUI:!1,onlyRenderTopLevelFrameOfSelection:!1,clickOnlyComments:!1,allowToggleCommentsWhenLoggedOut:!1,requireInteractionForFocus:!1,requestVariableMirroring:!1,requestAssetMirroring:!1}),await k(),!m.bp)throw Error("PrototypeLib: error during initialization");let e=R.Q.getLoadTimeTracker(),t=[g.jXp.LOCAL,g.jXp.GOOGLE],r=(0,I.yF)(t).then(t=>{e&&e.handleFontListLoaded((t.indexFontsList?.length||0)+(t.localFontsList?.length||0)),(0,I.LQ)(t)});return L=(0,y.getFeatureFlags)().prototype_async_font_loading?Promise.resolve():r,R.r.end("initializePrototypeLib"),console.debug("[prototype lib] Ready for interactions",performance.now()),e&&(e.fullscreenEvents.fullscreenIsReady=Math.round(performance.now())),R.r.loadTimer.report(),{...(0,i.KO)(),...(0,n.KO)(),...(0,o.KO7)(),...(0,s.KO)(),...(0,a.KO)(),...(0,l.KO)(),...(0,d.KO)(),...(0,h.KO)(),...(0,c.KO)(),...(0,u.KO)(),...(0,m.KO)(),...(0,p.KO)(),...(0,_.KO)(),...(0,f.KO)(),...(0,g.KO7)(),...(0,w.KO)(),...(0,E.KO)(),...(0,T.KO)()}})():n.jW&&!(0,S.nl)()?(0,v.jS)({callMain:()=>{n.jW?.refreshJsCppBindings()},tsApisForCpp:A.t,registerRefreshCallback:e=>{(0,x.vw)("prototype-lib",e)}}):(0,S.nl)()&&((0,x.f_)("prototype-lib"),await k()),{cppModules:await F[r],fontListPromise:L}}},113826(e,t,r){let i,n,o;function s(e,t,r){i=e,n=t,o=r}r.d(t,{cp:()=>n,eA:()=>s,fO:()=>o,k9:()=>i})},951276(e,t,r){r.d(t,{LO:()=>o,f_:()=>l,vw:()=>a});var i=r(741542),n=r(921282);let o={getFeatureFlags:()=>(0,i.getFeatureFlags)(),desktopAppGetAPIVersion:()=>n.eD?n.eD.getVersion():0},s={};function a(e,t){s[e]=t}function l(e){let t=s[e];t?t():console.warn(`The binary ${e} hasn't been loaded yet; nothing to refresh`)}},951949(e,t,r){r.d(t,{t:()=>eg});var i=r(479039),n=r(322968),o=r(355731);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{dispatchAction(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getCustomDeletedKeyboardShortcuts(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}getCustomKeyboardShortcuts(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}getDisplayStringFromKey(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getKeyboardShortcutFromText(){if(this.shouldThrow)throw Error("Method not implemented.");return null}getTextFromKeyboardShortcut(){if(this.shouldThrow)throw Error("Method not implemented.");return""}constructor(e=!1){s(this,"shouldThrow",void 0),this.shouldThrow=e}}class l{addToDistribution(){if(this.shouldThrow)throw Error("Method not implemented.")}createDistribution(){if(this.shouldThrow)throw Error("Method not implemented.")}flushAnalyticsForTests(){if(this.shouldThrow)throw Error("Method not implemented.")}getDistributionAnalyticsProperties(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.");return""}handleAllocationFailureWithNative(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}logNumericMetric(){if(this.shouldThrow)throw Error("Method not implemented.")}logStringMetric(){if(this.shouldThrow)throw Error("Method not implemented.")}pauseOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}recordRenderingEvent(){if(this.shouldThrow)throw Error("Method not implemented.")}removeDistribution(){if(this.shouldThrow)throw Error("Method not implemented.")}reportAnimationFromCpp(){if(this.shouldThrow)throw Error("Method not implemented.")}reportAnimationFromTs(){if(this.shouldThrow)throw Error("Method not implemented.")}reportBranchingLoadTime(){if(this.shouldThrow)throw Error("Method not implemented.")}reportConsecutiveFlushes(){if(this.shouldThrow)throw Error("Method not implemented.")}reportConsecutiveImageChangeSkips(){if(this.shouldThrow)throw Error("Method not implemented.")}reportContextLost(){if(this.shouldThrow)throw Error("Method not implemented.")}reportContextRestore(){if(this.shouldThrow)throw Error("Method not implemented.")}reportContextRestored(){if(this.shouldThrow)throw Error("Method not implemented.")}reportDirtyAfterLoad(){if(this.shouldThrow)throw Error("Method not implemented.")}reportIndependentLayerActive(){if(this.shouldThrow)throw Error("Method not implemented.")}reportIndependentLayerAdded(){if(this.shouldThrow)throw Error("Method not implemented.")}reportIndependentLayerAnimationActive(){if(this.shouldThrow)throw Error("Method not implemented.")}reportIndependentLayerRemoved(){if(this.shouldThrow)throw Error("Method not implemented.")}reportMultiplayerRoundTripTime(){if(this.shouldThrow)throw Error("Method not implemented.")}reportNonIndependentLayerAnimationActive(){if(this.shouldThrow)throw Error("Method not implemented.")}reportPerfEvent(){if(this.shouldThrow)throw Error("Method not implemented.")}reportQuantizedColorEqualsUse(){if(this.shouldThrow)throw Error("Method not implemented.")}reportRenderLayerCount(){if(this.shouldThrow)throw Error("Method not implemented.")}reportRenderedTileBytesUsed(){if(this.shouldThrow)throw Error("Method not implemented.")}resetDefinedAnalyticsForDocument(){if(this.shouldThrow)throw Error("Method not implemented.")}resetDistribution(){if(this.shouldThrow)throw Error("Method not implemented.")}resumeOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}saveRenderingTrace(){if(this.shouldThrow)throw Error("Method not implemented.")}slogFromFullscreen(){if(this.shouldThrow)throw Error("Method not implemented.")}startOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}startPerfTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}stopOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}stopPerfTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}trackDefinedEventFromFullscreen(){if(this.shouldThrow)throw Error("Method not implemented.")}trackFromFullscreen(){if(this.shouldThrow)throw Error("Method not implemented.")}tryGetAttributesOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.");return""}tryReportError(){if(this.shouldThrow)throw Error("Method not implemented.")}trySetAttributeOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}tryStopOpsTimer(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}constructor(e=!1){s(this,"shouldThrow",void 0),this.shouldThrow=e}}class d{getDefaultHighlighterStrokeWeight(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getDefaultPencilStrokeWeight(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}constructor(e=!1){s(this,"shouldThrow",void 0),this.shouldThrow=e}}class h{showUI3Colors(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showUI3ColorsInitialValue(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){s(this,"shouldThrow",void 0),this.shouldThrow=e}}class c{readSync(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}writeSync(){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}constructor(e=!1){s(this,"shouldThrow",void 0),this.shouldThrow=e}}var u=r(320766);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p{closeQuickActions(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){m(this,"shouldThrow",void 0),this.shouldThrow=e}}class _{createMouseBehavior(){if(this.shouldThrow)throw Error("Method not implemented.");return null}tableUiAddButtonHoveredRadius(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}tableUiReorderHandleHoveredLength(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}constructor(e=!1){m(this,"shouldThrow",void 0),this.shouldThrow=e}}class f{getObservableArray(){if(this.shouldThrow)throw Error("Method not implemented.");return null}getObservableCounter(){if(this.shouldThrow)throw Error("Method not implemented.");return null}jsEchoBoolArrayValue(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoCallbackValue(){if(this.shouldThrow)throw Error("Method not implemented.");return()=>{}}jsEchoDeeplyNestedJsValue(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoFastParseableStructValue(){if(this.shouldThrow)throw Error("Method not implemented.");return{arrayBoolValue:[],arrayIntValue:[],arrayStringValue:[],boolValue:!1,doubleValue:0,guidValue:"-1:-1",int64Value:"0",intValue:0,jsValue:void 0,structValue:{value:0},strValue:"",uint64Value:"0",uintValue:0}}jsEchoInt64Struct(){if(this.shouldThrow)throw Error("Method not implemented.");return{ivalue:"0",uvalue:"0"}}jsEchoInt64Value(){if(this.shouldThrow)throw Error("Method not implemented.");return"0"}jsEchoIntArrayValue(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoIntMapValue(){if(this.shouldThrow)throw Error("Method not implemented.");return new Map}jsEchoIntSetValue(){if(this.shouldThrow)throw Error("Method not implemented.");return new Set}jsEchoJsValue(){if(this.shouldThrow)throw Error("Method not implemented.")}jsEchoJsonValue(){if(this.shouldThrow)throw Error("Method not implemented.");return""}jsEchoNonFastParseableStructValue(){if(this.shouldThrow)throw Error("Method not implemented.");return{arrayBoolValue:[],arrayIntValue:[],arrayStringValue:[],boolValue:!1,doubleValue:0,guidValue:"-1:-1",int64Value:"0",intValue:0,jsonValue:"",jsValue:void 0,structValue:{value:0},strValue:"",uint64Value:"0",uintValue:0}}jsEchoOptionalJsValue(){if(this.shouldThrow)throw Error("Method not implemented.");return null}jsEchoOptionalStringStruct(){if(this.shouldThrow)throw Error("Method not implemented.");return{valueOpt2:null}}jsEchoOptionalStringValue(){if(this.shouldThrow)throw Error("Method not implemented.");return null}jsEchoStringValue(){if(this.shouldThrow)throw Error("Method not implemented.");return""}jsEchoUint64Value(){if(this.shouldThrow)throw Error("Method not implemented.");return"0"}jsEchoUintValue(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}jsValueTestsDone(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){m(this,"shouldThrow",void 0),this.shouldThrow=e}}class g{rejectThumbnailRequest(){if(this.shouldThrow)throw Error("Method not implemented.")}resolveThumbnailForNodeRequest(){if(this.shouldThrow)throw Error("Method not implemented.")}resolveThumbnailRequest(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){m(this,"shouldThrow",void 0),this.shouldThrow=e}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E{getCanvasColorProfile(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getDefaultDocumentColorProfile(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getUserColorProfile(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}constructor(e=!1){w(this,"shouldThrow",void 0),this.shouldThrow=e}}class T{cancelCurrentImageWorkers(){if(this.shouldThrow)throw Error("Method not implemented.")}decodeImage(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}encodeImage(){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}init(){if(this.shouldThrow)throw Error("Method not implemented.")}scaleImage(){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}constructor(e=!1){w(this,"shouldThrow",void 0),this.shouldThrow=e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{sendRenderTreeToRenderWorkerForCanvasRendering(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){v(this,"shouldThrow",void 0),this.shouldThrow=e}}class y{convertToBitmapViaRenderWorker(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}isRenderWorkerSupported(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){v(this,"shouldThrow",void 0),this.shouldThrow=e}}var M=r(510137);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I{resetMirrorCache(){if(this.shouldThrow)throw Error("Method not implemented.")}syncChangedSubscribedConsumptions(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){S(this,"shouldThrow",void 0),this.shouldThrow=e}}class C{resetMirrorCache(){if(this.shouldThrow)throw Error("Method not implemented.")}syncAddedOrChangedAssets(){if(this.shouldThrow)throw Error("Method not implemented.")}syncRemovedAssets(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){S(this,"shouldThrow",void 0),this.shouldThrow=e}}var x=r(115615);class A{alert(){if(this.shouldThrow)throw Error("Method not implemented.")}clearClipboardContents(){if(this.shouldThrow)throw Error("Method not implemented.")}destroyWindow(){if(this.shouldThrow)throw Error("Method not implemented.")}execCommandCopy(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}focusView(){if(this.shouldThrow)throw Error("Method not implemented.")}initPrefersReducedMotion(){if(this.shouldThrow)throw Error("Method not implemented.")}readClipboardContents(){if(this.shouldThrow)throw Error("Method not implemented.");return null}setCanvasView(){if(this.shouldThrow)throw Error("Method not implemented.")}setExpectingCopyCutEvent(){if(this.shouldThrow)throw Error("Method not implemented.")}setExpectingPasteEvent(){if(this.shouldThrow)throw Error("Method not implemented.")}setExpectingTextInput(){if(this.shouldThrow)throw Error("Method not implemented.")}setTextCaretBounds(){if(this.shouldThrow)throw Error("Method not implemented.")}setTitle(){if(this.shouldThrow)throw Error("Method not implemented.")}title(){if(this.shouldThrow)throw Error("Method not implemented.");return""}tryToDetectLineDataOnClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}tryToDetectSpreadsheetDataOnClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}tryToReadFilesFromClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return null}tryToReadFromClipboardAsBlobInHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return null}tryToReadSubstringFromClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return null}usingMultiTouchPointerEvents(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}viewWithFocus(){if(this.shouldThrow)throw Error("Method not implemented.");return null}windowHandleBeforeTick(){if(this.shouldThrow)throw Error("Method not implemented.")}windowSetupComplete(){if(this.shouldThrow)throw Error("Method not implemented.")}writeClipboardContents(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}writeToClipboardAsBlobInHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"shouldThrow",void 0),this.shouldThrow=e}}var O=r(850159),N=r(181645),R=r(151524),P=r(848390),D=r(462198),k=r(42053),L=r(613629),F=r(703493),U=r(739501),B=r(260957);class V extends u.EU{constructor(){super(...arguments),this.fileArrayToString=null,this.session={user:null},this.fromFullscreen=new U.b(""),this.viewport=new U.b(""),this.assetsPanelKeyboardEvents=(0,B.o)()}saveUseNumbersForOpacityPreference(e){throw Error("Method not implemented.")}onCreateSticky(){throw Error("Method not implemented.")}isReady(){return!1}setIsReady__TEST_ONLY(e){}figFileLoaded(){}resetLoadedFigFile(){}loadAndStartFullscreenIfNecessary(){return Promise.reject()}setFigmascopeSelectedGuidCallback(e){}fileLoadTime(){return null}toggleDowntimeBanner(){}getCurrentFileName(){throw Error("Method not implemented.")}getThumbnailMenuItemName(){return""}getFileThumbnailMenuItemName(){return""}handleFileThumbnailMenuItem(){}disableFileThumbnailMenu(){return!1}disableShowRotationOriginMenuItem(){return!1}getPageThumbnailMenuItemName(){return""}handlePageThumbnailMenuItem(){}disablePageThumbnailMenu(){return!1}handleSketchImportEvent(){return!1}reparentRootElement(){}isRootElementVisible(){return!1}updateSelectionProperties(){}deselectProperty(){}updateAppModel(){}onReady(){return Promise.reject()}openFilePromise(){return Promise.reject()}openFileKeyPromise(){return Promise.reject()}sourceFileKeyPromise(){return Promise.reject()}currentOrgId(){return""}currentTeamId(){return""}triggerActionEnum(){}triggerActionEnumInUserEditScope(){}triggerAction(){}triggerActionInUserEditScope(){}commit(){return -1}getViewportInfo(){}isInDrafts(){return!1}showUI(){return!1}dispatch(){}dispatchIfSaved(){}restoreSoftDeletedNode(){}forwardKeyboardEvent(){}setMissingFont(){}selectMissingFontNodes(){}onWatchedNodeBoundsChange(){}onFrame(){}pinchZoomFixDisabled(){return!1}allowWebGestures(){}cancelPendingGestures(){}takePencilSample(){}memorySpikeOnFileLoadBytes(){throw Error("FigmaApp.memorySpikeOnFileLoadBytes: method not implemented")}takeIndirectPinchGesture(){}}class H extends _{createMouseBehavior(e){return{handleMouseLeave:()=>{},handleMouseMove:()=>{},handleMouseDown:()=>{},handleMouseDrag:()=>{},handleMouseUp:()=>{},handleBeforeFrame:()=>{},handleContextMenuOpen:()=>{},render:()=>{},renderUnderEditModeUI:()=>{},reset:()=>{},name:()=>""}}tableUiReorderHandleHoveredLength(){return 0}tableUiAddButtonHoveredRadius(){return 0}}class W{libraryPreviewVariableSetsUpdated(e){throw Error("Method not implemented.")}libraryPreviewVariablesUpdated(e){throw Error("Method not implemented.")}libraryPreviewVariableOverridesUpdated(e){throw Error("Method not implemented.")}libraryPreviewCleared(){throw Error("Method not implemented.")}subscribedVariableOverridesUpdated(e){throw Error("Method not implemented.")}subscribedVariableOverridesDeleted(e){throw Error("Method not implemented.")}localVariableSetUpdated(e){throw Error("VariablesMirrorBinding.localVariableSetUpdated not implemented.")}subscribedVariableSetUpdated(e,t){throw Error("VariablesMirrorBinding.subscribedVariableSetAdded not implemented.")}localVariableSetDeleted(e){throw Error("VariablesMirrorBinding.deleteVariableSet not implemented.")}subscribedVariableSetDeleted(e){throw Error("VariablesMirrorBinding.subscribedVariableSetDeleted not implemented.")}localVariablesUpdated(e){throw Error("VariablesMirrorBindings.localVariableUpdated not implemented.")}localVariablesDeleted(e){throw Error("VariablesMirrorBindings.variableDeleted not implemented.")}localVariableOverridesDeleted(e){throw Error("VariablesMirrorBindings.localVariableOverridesDeleted not implemented.")}localVariableOverridesUpdated(e){throw Error("VariablesMirrorBindings.localVariableOverridesUpdated not implemented.")}variableResolvedValueUpdated(e,t){throw Error("VariablesMirrorBindings.variableResolvedValueUpdated not implemented.")}explicitModeUpdated(e,t){throw Error("VariablesMirrorBindings.explicitModeUpdated not implemented.")}resetMirrorCache(){throw Error("VariablesMirrorBInding.resetMirrorCache not implemented.")}}class j{recordInteractionUpgraded(e,t){throw Error("StateManagementBindings.recordInteractionUpgraded not yet implemented")}}var G=r(950079),z=r(2102),K=r(861569),Y=r(80359),$=r(113826),q=r(250076),J=r(827710),X=r(109055),Z=r(364101),Q=r(621028),ee=r(214990),et=r(955396),er=r(156242),ei=r(680642),en=r(745466),eo=r(81312),es=r(28183),ea=r(611241),el=r(914600),ed=r(559884),eh=r(23026),ec=r(956857),eu=r(163300),em=r(951276);class ep extends l{logNumericMetric(e,t){ea.r.logValue(e,t)}startPerfTimer(e){ea.r.start(e)}stopPerfTimer(e){ea.r.end(e)}slogFromFullscreen(e,t,r,i,n,o,s){return(0,k.fj)(e,t,r,i,n,o,s)}trackDefinedEventFromFullscreen(e,t){N.az.trackDefinedFullscreenEvent(e,(0,q.r)(t))}resetDefinedAnalyticsForDocument(){N.az.resetDefinedAnalyticsForDocument()}}class e_ extends V{isUserPresent(){return!1}}class ef extends es.Q{allocationFailed(e,t,r,i,n,o){this._receivedFailedAllocation||(this._receivedFailedAllocation=!0,ea.r.reportOOM(o),R.D?.dispatch(L.F.enqueue({get message(){return(0,O.t)("proto.lib.device_low_memory")}})))}}let eg={PrototypeApp:()=>$.k9,PrototypingFormatter:()=>J.u,ViewerJsKiwiSerialization:()=>$.cp,DeprecatedJsSceneHooks:()=>$.fO,CommonApp:()=>({...em.LO,...(0,ee.N)(),appType:()=>x.uC.PrototypeLib}),AccessibleAreasBindings:()=>Z.H,ActionBindings:()=>new u.Tu,OOMHelpers:()=>new ef,PlatformInfo:()=>el.y,FontManagerJs:()=>ei.Z1,FigmaApp:()=>new e_,Async:()=>Q.V,WebReporting:()=>new ep,JsKiwiSerialization:()=>new n.s,SceneGraphHookBindings:()=>eh.uo,BoundsWatcherTs:F.Iu,WebGPUTsContext:()=>Y.NP,TsGlContextBindings:K.X,ScreenBindings:()=>z.N,ThumbnailRequestManager:()=>new g,CurrentUserInfo:()=>new er.L(R.D),TsRequestPromiseManager:o.pL,HTMLWindowBindings:()=>new A,AutoLayoutBindings:()=>new M.WF,WebUserSyncing:()=>new u.Lz,EmojiWheelBindings:()=>new u.eZ,CodeVfsBindings:()=>new M.tM,JsBindingsTestHelpers:()=>new f,WebSelection:()=>new u.TC,Comments:()=>new u.tg,WidgetBindings:()=>new M.nn,ImageIo:()=>new T,ImageTsBindings:()=>new M.V3,VideoTsBindings:()=>new M.Zs,PdfImportBindings:()=>new u.w4,CanvasSearchBindings:()=>new u.tO,AccessibilityBindings:()=>new M.dJ,SummaryBindings:()=>new M.d1,TsFontManualLoader:()=>new u.yy,StylesCheckBindings:()=>new M.pG,HandoffScenegraphBindings:()=>new M.RU,BuzzScenegraphBindings:()=>new M.Wt,RichTextBindings:()=>new M.yR,WebMultiplayer:()=>new u.lM,PluginCallbacks:()=>new u.c2,AutosaveSessionBindings:()=>new u.di,InteractionBindings:()=>new H,SpellCheckAPIBindings:()=>new u.Vm,VariablesBindingsWeb:()=>new u.Ag,VariablesMirrorBindings:()=>new W,AssetMirrorBindings:()=>new C,AssetConsumptionMirrorBindings:()=>new I,HandoffBindings:()=>new u.p6,HandoffCallbacks:()=>new u.rf,JSTextLayout:()=>eu.Q,ScaleToolAPIBindings:()=>ed.h,EmojiTsBindings:()=>new u.k0,NodeChatMessageHelper:()=>new u.IW,MentionsTsBindings:()=>new u.l5,LinterBindings:()=>new u.ZD,EditScopeWebBindings:()=>new M.RN,StateManagementBindings:()=>new j,ColorManagementBindings:()=>new E,KeyboardShortcutBindings:()=>new a,WhiteboardTemplatePreviewTsBindings:()=>new u.Fe,FrameDistributionTrackerBindings:()=>new M.uH,WhiteboardTsBindings:()=>new u.Z3,AiAssistantTsBindings:()=>new M.Au,CodeBlockBindings:()=>new M.vv,ColorRampBindings:()=>new M.qV,OpenFileBindings:()=>new M.hv,WhiteboardAnalyticsTsBindings:()=>new M.b_,ExperimentBuildersTsBindings:()=>new M.be,ZipImpl:()=>new c,CoreUtils:()=>new i.f,MissingFontsTrackerJs:()=>new M.Gh,StatsigConfigBindings:()=>new en._v,WhiteboardThemeTsBindings:()=>new h,QuickActionsBindings:()=>new u.$C,BranchingWebBindings:()=>et.B,SafeModeOptions:()=>P.iw,DSAWebBindings:()=>new u.xJ,WhiteboardDltConstantBindings:()=>new d,SlidesTsBindings:()=>new M.Iz,CooperTsBindings:()=>new u.A1,DeprecatedXHRSendBindings:()=>eo.yx,ComponentPropBindings:()=>X.XA,FullscreenWebSocketTsCallbacks:()=>new u._L,AutosuggestTextBindings:()=>new u.rm,VariablesJsRuntimeAliasTsBindings:()=>new M.qP,SitesBindings:()=>new u.DG,SitesJsBindings:()=>new M.M0,UndoRedoEventsBindings:()=>new u.S_,UserActionTimingBindings:()=>new M.uG,ScenegraphStringManagementBindings:()=>ec.Bm,SlotsBindingsWeb:()=>new M.gQ,DesignSystemsLoggingBindings:()=>new u.en,ExportTsBindings:()=>new u.um,ImageToolsBindingsJs:()=>new p,RenderWorkerExportBindings:()=>new y,RenderWorkerCanvasRenderingBindings:()=>new b,InteractionInstrumentationBindings:()=>new u.j2,jsHelpers:{reportError:D.Cp,preventEnteringCpp:()=>G.y.preventEnteringCpp(),fatalCppError(e,t){G.y.fatalCppError(e,t)}},ThumbhashBindings:()=>new M.Bz}},748375(e,t,r){r.d(t,{Ji:()=>_});var i=r(239976),n=r(105652),o=r(3752),s=r(921282),a=r(838719),l=r(139955),d=r(243251),h=r(267925),c=r(12956),u=r(264113);let m=["msclkid"],p=(0,u.ck)(),_=n.memo(function(){if(function(){if((0,d.V)()||s.eD||o.A.isAndroidMirrorApp||o.A.isInNativeApp||o.A.isMobileApp||a.isGovEnvironment())return!1;let e=a.initialOptions();if(!e.google_tag_manager_iframe_url||e.is_embed||p)return!1;let t=e.iso_code;return!!t&&!c.s3.includes(t)}()){let e,t;return(0,i.jsx)("iframe",{"aria-hidden":"true",tabIndex:-1,name:"gtm-iframe",title:"Google Tag Manager iframe",src:`${a.initialOptions().google_tag_manager_iframe_url}?${(e=new URLSearchParams({referrer:function(e){if(0===e.length)return e;let t=new URL(e);return("figma.com"===t.hostname||t.hostname.endsWith(".figma.com"))&&(t.pathname=""),t.toString()}((0,l.Je)()),"temp-cache-bust":"1"}),(t=a.initialOptions()).iso_code&&t.viewer_region&&e.append("gpc_code",`${t.iso_code?.toLowerCase()}_${t.viewer_region?.toLowerCase()}`),m.forEach(t=>{let r=(0,h.QL)(t);r&&/^[a-zA-Z0-9_\-\:]*$/.test(r)&&e.append(t,r)}),e).toString()}`,style:{width:"0",height:"0",display:"none",visibility:"hidden"}})}return null},()=>!0)},613118(e,t,r){r.d(t,{XM:()=>s,e2:()=>l,gR:()=>o});var i=r(645186),n=r(688357);function o(e){return e.mirror.appModel.votingSessionInfo.votingStage===n.W8Y.JOINED}function s(){return(0,i.d4)(o)}function a(e){return e.mirror.appModel.votingSessionInfo.votingStage===n.W8Y.NOT_JOINED&&!e.voting.hasDismissedJoinConfirmation}function l(){return(0,i.d4)(a)}},394390(e,t,r){r.d(t,{p:()=>n});var i=r(645186);function n(){return(0,i.d4)(e=>e.sharingAttributionContextKey||null)}},368686(e,t,r){r.d(t,{N:()=>n});var i=r(105652);function n(e,t=!0){(0,i.useEffect)(()=>{if(!t)return;let r=!0,i=performance.now(),n=t=>{if(!r)return;let o=t-i;i=t,e(o),requestAnimationFrame(n)};return requestAnimationFrame(n),()=>{r=!1}},[t,e])}},508295(e,t,r){r.d(t,{J$:()=>n,Pc:()=>s,TA:()=>o,iZ:()=>a,pS:()=>l});var i=r(645186);function n(){return a()?.created_at||null}function o(){return a()?.id||null}function s(){return(0,i.d4)(e=>e.user)}function a(){return(0,i.d4)(e=>e.user)}function l(e){return!!e.password_token||e.google_sso_only||e.saml_sso_only}},639336(e,t,r){r.d(t,{K:()=>o,j:()=>s});var i=r(455269),n=r(834861);function o(e,t,r,n,s,a=[]){if(e.length>r)return s({type:i.Wn.MAX_UPLOADS_EXCEEDED,params:{maxNum:r}}),[];let l=[],d=e.filter(e=>!a.some(t=>t&&t.name===e.name&&t.lastModified===e.lastModified)||(l.push(e.name),!1));if(t+d.length>r)return s({type:i.Wn.MAX_UPLOADS_EXCEEDED,params:{maxNum:r}}),[];let h=!1,c=!1,u=!1,m=d.filter(e=>n.includes(e.type)?i.VY.includes(e.type)?!(e.size>i.yi)||(h=!0,!1):i.xp.includes(e.type)?!(e.size>i.id)||(c=!0,!1):(u=!0,!1):(u=!0,!1));return l.length>0&&s({type:i.Wn.DUPLICATE_FILE_UPLOAD,params:{numFiles:l.length,fileNames:l.join(", ")}}),u&&s({type:i.Wn.INVALID_FILE_TYPE}),h&&s({type:i.Wn.MAX_VIDEO_SIZE_EXCEEDED,params:{maxFileSizeMB:100}}),c&&s({type:i.Wn.MAX_IMAGE_SIZE_EXCEEDED,params:{maxFileSizeMB:30}}),m}function s(e){return new Promise((t,r)=>{let i=document.createElement("video");i.preload="auto",i.addEventListener("error",e=>{r(e.message)}),i.addEventListener("loadeddata",()=>{setTimeout(()=>t(i),1e3)}),i.src=e,i.currentTime=0,i.load(),setTimeout(()=>{r("Video load timeout during thumbnail generation")},1e4)}).catch(()=>{let e,t;return(e=document.createElement("canvas")).width=1600,e.height=900,(t=e.getContext("2d"))&&(t.fillStyle="black",t.fillRect(0,0,e.width,e.height)),Promise.resolve(e)}).then(e=>{let t=document.createElement("canvas").getContext("2d");if(!t)return Promise.resolve(new Uint8Array);let r=t.canvas;r.width=e instanceof HTMLCanvasElement?e.width:e.videoWidth,r.height=e instanceof HTMLCanvasElement?e.height:e.videoHeight,t.drawImage(e,0,0,r.width,r.height);let i=new Uint8Array(t.getImageData(0,0,r.width,r.height).data.buffer);return n.EC.encodeInPlace(r.width,r.height,i,!1,100,!1)})}},840712(e,t,r){r.d(t,{M8:()=>u,MH:()=>c,fG:()=>_,mp:()=>p,oQ:()=>g});var i=r(318768),n=r(434533),o=r(295807),s=r(646350),a=r(762064);class l{constructor(e,t,r,i,n,s,a={list:o.U2.getAtMentions,search:o.U2.searchAtMentions}){this.api=a,this.orgId=e,this.teamId=t,this.fileKey=r,this.maxResultsCount=void 0!==i?i:5,this.includeHiResAvatars=n,this.checkPermissions=s}async list(e){try{let{data:{meta:t}}=await this.api.list({fileKey:this.fileKey,teamId:this.teamId,orgId:this.orgId,includeHiResAvatars:this.includeHiResAvatars,checkPermissions:this.checkPermissions,limit:this.maxResultsCount,inFigmaDesignEditor:e});return t}catch(e){console.error("An error ocurred while trying to fetch contacts.",e)}return[]}async search(e,t){try{let{data:{meta:r}}=await this.api.search({query:e,fileKey:this.fileKey,teamId:this.teamId,orgId:this.orgId,includeHiResAvatars:this.includeHiResAvatars,checkPermissions:this.checkPermissions,limit:this.maxResultsCount,inFigmaDesignEditor:t});return r}catch(e){console.error("An error ocurred while searching for contacts.",e)}return[]}maxResultsLength(){return this.maxResultsCount}}class d{constructor(e,t){this.newLibrary=new a.Kp,this.fileKey=e,this.opts=t}async list(){return await this.newLibrary.searchFlat("",this.fileKey,this.opts)}async search(e){return await this.newLibrary.searchFlat(e,this.fileKey,this.opts)}maxResultsLength(){return 5}}class h{constructor(e,t,r,i={list:o.U2.getShareModalContacts,search:o.U2.searchShareModalContacts}){this.api=i,this.orgId=e,this.teamId=t,this.maxResultsCount=void 0!==r?r:5}async list(){try{let{data:{meta:e}}=await this.api.list({teamId:this.teamId,orgId:this.orgId,limit:this.maxResultsCount});return e}catch(e){console.error("An error ocurred while trying to fetch contacts for share modal.",e)}return[]}async search(e){try{let{data:{meta:t}}=await this.api.search({query:e,teamId:this.teamId,orgId:this.orgId,limit:this.maxResultsCount});return t}catch(e){console.error("An error ocurred while searching for contacts for share modal.",e)}return[]}maxResultsLength(){return this.maxResultsCount}}class c{async list(){return await Promise.resolve([])}async search(e){try{let{data:{meta:t}}=await s.$W.getCommunityMentions({query:e});return t.results.map(e=>e.model)}catch{console.error("An error ocurred while searching for mentions.")}return[]}maxResultsLength(){return 10}}class u{constructor(e,t,r={list:o.U2.getFeedAtMentions,search:o.U2.searchFeedAtMentions}){this.api=r,this.orgId=e,this.feedPostPublicUuid=t}async list(){try{let{data:{meta:e}}=await this.api.list({orgId:this.orgId,feedPostPublicUuid:this.feedPostPublicUuid});return e}catch(e){console.error("An error ocurred while trying to fetch contacts.",e)}return[]}async search(e){try{let{data:{meta:t}}=await this.api.search({query:e,orgId:this.orgId,feedPostPublicUuid:this.feedPostPublicUuid});return t}catch(e){console.error("An error ocurred while searching for contacts.",e)}return[]}maxResultsLength(){return 5}}let m=new class{constructor(e){this.searchLibrary=e}set(e){this.searchLibrary.set(e)}list(){return Promise.resolve(this.searchLibrary.list().sort((e,t)=>e.handle<t.handle?-1:1))}async search(e){return(await this.searchLibrary.search(e)).map(e=>e.item)}maxResultsLength(){return 5}}(new n.KH({keys:[{name:"handle",weight:.9},{name:"email",weight:.1}],threshold:.2,tokenize:!0,shouldSort:!0}));function p({currentOrgId:e,teamId:t,users:r,fileKey:i,maxResultsCount:n,api:o,includeHiResAvatars:s=!1,checkPermissions:a,isShareModal:c=!1,feedPostUuid:p,userGroupAtMentionsEnabled:_=!1}){if(c)return{library:new h(e,t,n)};if(p&&e)return{library:new u(e,p)};if(i)if(_)return{library:new d(i,{userLimit:n,checkPermissions:a})};else return{library:new l(e,t,i,n,s,a,o)};return r.length&&m.set(r),{library:m}}async function _(e,t,r){let i;return(i=""===e?(await t.library.list(r)).slice(0,t.library.maxResultsLength()):(await t.library.search(e,r)).slice(0,t.library.maxResultsLength())).length?{type:"mentions",mentions:i,index:0,maxMentions:t.library.maxResultsLength(),query:e}:null}let f=/_/g;function g(e){let t=e.replace(f,"-"),r=i.dN.searchSynchronized(t,{maxResults:10})||[];return r.length?{type:"emojis",emojis:r,index:0,maxEmojis:10,query:e}:null}},343401(e,t,r){r.d(t,{C0:()=>u,Qt:()=>m,zW:()=>p});var i=r(105652),n=r(645186),o=r(487817),s=r(554865),a=r(94241),l=r(508295),d=r(840712);let h=null,c=async e=>{if(h?.fileKey===e&&performance.now()-h.timeCached<3e5)return await h.usersPromise;let t=s.G.getFileUsers({fileKey:e}).then(e=>({users:e.data.meta.users,pendingEmails:e.data.meta.pending_emails,protoUsers:e.data.meta.proto_users||[]}));return h={fileKey:e,timeCached:performance.now(),usersPromise:t},await h.usersPromise};function u(){h=null}function m(e){let t=(0,n.d4)(a.sS),[r,o]=i.useState(null);return i.useEffect(()=>{if(!t||!e)return void o(null);let r=!0;return c(t).then(e=>{r&&o(e)}).catch(()=>{o(null)}),()=>{r=!1}},[t,e]),r}function p({maxResultsCount:e,api:t,includeHiResAvatars:r,checkPermissions:s,feedPostUuid:h,userGroupAtMentionsEnabled:c}={}){let u=(0,a.q5)(),m=u?.teamId,_=u?.key,f=u?.parentOrgId||null,g=(0,l.iZ)(),w=(0,n.d4)(e=>e.orgUsersByOrgId),E=(0,n.d4)(e=>e.contacts.users),T=!1;if(f&&g){let e=w[f],t=e&&e[g.id];T=!!t&&t.permission===o._D.GUEST}let v=i.useMemo(()=>{let e=[];return _&&(f&&T||!m)&&(e=[...E],g&&e.push(g)),e},[f,g,_,m,T,E]);return i.useMemo(()=>(0,d.mp)({currentOrgId:f,teamId:m,users:v,fileKey:_,maxResultsCount:e,api:t,includeHiResAvatars:!!r,checkPermissions:s,feedPostUuid:h,userGroupAtMentionsEnabled:c}),[f,m,v,_,e,t,r,s,h,c])}},329174(e,t,r){r.d(t,{_:()=>d,e:()=>a});var i=r(239976),n=r(850159),o=r(921424),s=r(677267);let a="seen_synchronous_collaboration_onboarding";function l(e){let t=(0,n.tx)("collaboration.spotlight.2_0.nudge_spotlight.description",{spotlightMeButtonText:(0,i.jsx)("b",{className:s.bv,children:(0,n.tx)("collaboration.spotlight.tooltip.spotlight_me")})});return(0,i.jsxs)("div",{className:s.RG,children:[(0,i.jsx)("p",{children:t}),(0,i.jsx)("div",{className:s.ue,children:(0,i.jsx)(o.M7,{className:s.dO,onClick:e.dismissModal,children:(0,n.tx)("collaboration.spotlight.nudge_spotlight.got_it")})})]})}function d({dismissModal:e}){return(0,i.jsx)(l,{dismissModal:e})}},638517(e,t,r){r.d(t,{A:()=>i});var i,n=r(487817);let o=[n.Lc.ORGANIZATION,n.Lc.ENTERPRISE];var s=r(739673),a=r(886213),l=i||(i={});function d(e){return!!e.planType&&o.includes(e.planType)&&e.resourceType===n.Il.ORG}l.getOrgTrial=function(e){return d(e)?e:null},l.getEstimatedEditorCount=function(e){let t=e.metadata?.editorCount;return t?parseInt(t,10):0},l.validateOrgTrialMutation=a.M4.Mutation(async e=>{await s.Eh.validateTrial(e)}),l.isOrgTrial=d},844920(e,t,r){r.d(t,{H4:()=>h,Ud:()=>d,VF:()=>c});var i=r(239976),n=r(105652),o=r(523924),s=r(224542),a=r.n(s),l=r(554612);let d=Symbol("NotVisibleRunAnyway");class h{constructor(e){this._callback=e,this._previousValue=null}render({isVisible:e,className:t,displayAs:r,valueArgs:n=[]}){let o=!0===e||e===d?this._previousValue=this._callback(...n):this._previousValue,s=!0===e;return o instanceof Array?o.map((e,n)=>e&&(0,i.jsx)(u,{isVisible:s,className:t,displayAs:r,children:e},e.key??n)):o&&(0,i.jsx)(u,{isVisible:s,className:t,displayAs:r,children:o},o.key??void 0)}}function c(e){let{isVisible:t,children:r}=e,n=!0===t?r:null;return n&&(0,i.jsx)(u,{isVisible:!0,children:n})}class u extends n.Component{constructor(){super(...arguments),this.ref=e=>{this.el=e}}componentDidUpdate(e){this.el&&(!e.isVisible&&this.props.isVisible&&l.F2.focusSubtreeIfNecessary(this.el),e.isVisible&&!this.props.isVisible&&l.F2.blurSubtreeIfNecessary(this.el))}getClassNameForDisplayAs(){let{displayAs:e}=this.props;switch(e){case"block":return"";case"contents":return"displayContents";default:(0,o.xb)(e)}}render(){let{isVisible:e}=this.props,t=a()(this.props.className?this.props.className:"cachedSubtree",this.getClassNameForDisplayAs());return(0,i.jsx)("div",{ref:this.ref,className:t,style:{display:e?"":"none"},children:this.props.children})}}u.defaultProps={displayAs:"contents"},u.displayName="CachedSubtreeComponent"},149340(e,t,r){r.d(t,{Dh:()=>_,FB:()=>p,ON:()=>u,Q5:()=>g,an:()=>w,gF:()=>C,i_:()=>v,ju:()=>T,n4:()=>m,pw:()=>I,rf:()=>M,sT:()=>y,uW:()=>S,w2:()=>b,wi:()=>E,yt:()=>f});var i=r(105652),n=r(688357),o=r(90242),s=r(513427),a=r(573598),l=r(99101),d=r(575425),h=r(27261),c=r(534592);"u"<typeof mpGlobal&&!(0,s.Lg)()&&console.warn("mpGlobal not defined!");let u="u">typeof mpGlobal?mpGlobal.DEBUG_THEME_PREFERENCE_KEY:"test-theme-preference",m="u">typeof mpGlobal?mpGlobal.DARK_THEME_MEDIA_QUERY:window.matchMedia("(prefers-color-scheme: dark)");function p(){return"u">typeof mpGlobal?mpGlobal.themePreferenceFromLocalStorage(o.x4):null}let _=window.matchMedia("(prefers-contrast: more)"),f="global-debug-enhanced-contrast-preference";function g(){if(o.x4){let e=o.x4?.getItem(f);if(null!==e)return e?.toLowerCase()==="true"}return _.matches}let w="global-debug-link-underline-preference";function E(){let e=!1;if(o.x4){let t=o.x4?.getItem(w);null!==t&&t?.toLowerCase()==="true"&&(e=!0)}return C(e),e}function T(e,t){return e?"fullscreen"===e.view&&e.editorType===d.nT.Whiteboard?"whiteboard":"fullscreen"===e.view&&e.editorType===d.nT.DevHandoff?"dev-handoff":"prototype"===e.view&&e.file?.editor_type==="slides"||"fullscreen"===e.view&&e.editorType===d.nT.Slides&&t!==n.nQ7.DESIGN?"piper":"fullscreen"===e.view&&e.editorType===d.nT.Cooper&&t!==n.nQ7.DESIGN?"cooper":"fullscreen"===e.view&&e.editorType===d.nT.Illustration?"sulli":(0,c.Vj)(e)||(0,h.Jh)(e)?"seascape":"design":"design"}function v(e){return"u">typeof mpGlobal?mpGlobal.getVisibleTheme(e):"light"}function b(e){return"u">typeof mpGlobal?mpGlobal.getBackgroundColorForTheme(e):"1E1E1E"}function y(e){return e?.view==="fullscreen"&&e.editorType===d.nT.Whiteboard}let M=new Proxy({},{get:()=>null}),S=(0,i.createContext)(M);function I(e,t,r,i="colorBg"){let n=(e&&e[i])??a.UE;return(0,l.ql)(n,t,r)}function C(e){let t="data-underline-links";e?document.body.setAttribute(t,""):document.body.removeAttribute(t)}},425594(e,t,r){r.d(t,{h:()=>b,q:()=>w});var i=r(706354),n=r(741542),o=r(3752),s=r(181645),a=r(921282),l=r(838719),d=r(751016),h=r(462198),c=r(181254),u=r(560637),m=r(921370),p=r(128274),_=r(829068),f=r(341913),g=r(650938);let w=.05,E=`Something there is that doesn't love a wall,
That sends the frozen-ground-swell under it,
And spills the upper boulders in the sun;
And makes gaps even two can pass abreast.
The work of hunters is another thing:
I have come after them and made repair
Where they have left not one stone on a stone,
But they would have the rabbit out of hiding,
To please the yelping dogs. The gaps I mean,
No one has seen them made or heard them made,
But at spring mending-time we find them there.
I let my neighbor know beyond the hill;
And on a day we meet to walk the line
And set the wall between us once again.
We keep the wall between us as we go.
To each the boulders that have fallen to each.
And some are loaves and some so nearly balls
We have to use a spell to make them balance:
\u2018Stay where you are until our backs are turned!\u2019
We wear our fingers rough with handling them.
Oh, just another kind of out-door game,
One on a side. It comes to little more:
There where it is we do not need the wall:
He is all pine and I am apple orchard.
My apple trees will never get across
And eat the cones under his pines, I tell him.
He only says, \u2018Good fences make good neighbors.\u2019
Spring is the mischief in me, and I wonder
If I could put a notion in his head:
\u2018Why do they make good neighbors? Isn't it
Where there are cows? But here there are no cows.
Before I built a wall I'd ask to know
What I was walling in or walling out,
And to whom I was like to give offense.
Something there is that doesn't love a wall,
That wants it down.\u2019 I could say \u2018Elves\u2019 to him,
But it's not elves exactly, and I'd rather
He said it for himself. I see him there
Bringing a stone grasped firmly by the top
In each hand, like an old-stone savage armed.
He moves in darkness as it seems to me,
Not of woods only and the shade of trees.
He will not go behind his father's saying,
And he likes having thought of it so well
He says again, \u2018Good fences make good neighbors.\u2019`.split(/\n/g).map(e=>e.trim()),T=0,v=class e{constructor(e){this.isMuted=!1,this.handlingTokenExpiration=!1,this.decryptedUserMap={},this.averageRecentVoiceLevel={},this.volumeDataInterval=null,this.micStateInterval=null,this.streamingAudioForCaptions=!1,this._microphonePermissionDenied=!0,this.captionsToggleEnabled=!1,this.volumeLevelsStore=(0,_._)({}),this.activeSpeakerIdStore=(0,_._)(null),this.recentlySpokeIdStore=(0,_._)(null),this.setMicrophone=async e=>{try{this.unpublishedLocalAudioTrack?.setDevice(e.deviceId),await this.localAudioTrack?.setDevice(e.deviceId),this.microphone=e}catch(e){throw e}},this.setPlaybackDevice=async e=>{try{this.client?.remoteUsers.forEach(t=>t.audioTrack?.setPlaybackDevice(e.deviceId)),this.playbackDevice=e}catch(e){throw e}},this.getMicrophones=e=>this.AgoraRTC.getMicrophones(e),this.getPlaybackDevices=e=>this.AgoraRTC?.getPlaybackDevices(e),this.currentMicrophone=async()=>this.microphone||(await this.getMicrophones())?.[0],this.currentPlaybackDevice=async()=>this.playbackDevice||(await this.getPlaybackDevices())?.[0],this.getParticipantIds=async()=>{if(!this.client||!this.userId)throw Error("Client not yet instantiated");let e=[];for(let t of this.client.remoteUsers){let r=await this.getDecryptedUserId(t.uid);r&&e.push(r)}return e.push(this.userId),e},this.startPollingMicState=()=>{a.eD&&(this.microphonePermissionDenied&&a.eD.setUsingMicrophone(!1),this.micStateInterval=setInterval(()=>{this.client&&(a.eD?.setIsInVoiceCall("DISCONNECTED"!==this.client.connectionState),a.eD?.setUsingMicrophone(!!this.isPublishingLocalTrack()))},5e3))},this.stopPollingMicState=()=>{this.micStateInterval&&(clearInterval(this.micStateInterval),this.micStateInterval=null)},this.isPublishingLocalTrack=()=>this.client?.localTracks.some(e=>e.getTrackId()===this.localAudioTrack?.getTrackId()),this.startPollingVolumeData=()=>{this.volumeDataInterval||(this.volumeDataInterval=setInterval(async()=>{if(!this.client||!this.userId)return;let e={};for(let e in this.averageRecentVoiceLevel)this.averageRecentVoiceLevel[e]*=.8;for(let t of this.client.remoteUsers){let r=await this.getDecryptedUserId(t.uid);if(!r)continue;let i=t.audioTrack?.getVolumeLevel()||0,n=this.averageRecentVoiceLevel[r];this.averageRecentVoiceLevel[r]=(n||0)+i,e[r]={isMuted:!t.audioTrack,volumeLevel:i}}let t=this.localAudioTrack?.getVolumeLevel()||0;this.averageRecentVoiceLevel[this.userId]=this.isMuted?0:(this.averageRecentVoiceLevel[this.userId]||0)+t,e[this.userId]={isMuted:this.isMuted,volumeLevel:t},this.checkLocalVolumeLevels(),this.volumeLevelsStore.set(e),this.updateActiveSpeakers(),this.updateRecentlySpoke()},200))},this.stopPollingVolumeData=()=>{this.volumeDataInterval&&(clearInterval(this.volumeDataInterval),this.volumeDataInterval=null)},this.checkLocalVolumeLevels=()=>{this.isMuted&&this.unpublishedLocalAudioTrack&&this.unpublishedLocalAudioTrack.getVolumeLevel()>.6&&this.callEventCallback?.(g.$E.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED)},this.updateActiveSpeakers=()=>{let e=Object.entries(this.averageRecentVoiceLevel).filter(e=>e[1]>w).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0]);this.activeSpeakerIdStore.set(e)},this.updateRecentlySpoke=()=>{let e=Object.entries(this.averageRecentVoiceLevel).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0]);this.recentlySpokeIdStore.set(e)},this.onCallDisconnect=()=>{u.R9.sendVoiceMetadata(""),this.stopPollingVolumeData(),a.eD?.setIsInVoiceCall(!1),a.eD?.setUsingMicrophone(!1),this.localAudioTrack?.setEnabled(!1),this.unpublishedLocalAudioTrack?.setEnabled(!1)},this.attachDeviceListeners=e=>{e.onMicrophoneChanged=e=>{this.microphone?.deviceId===e.device.deviceId&&"INACTIVE"===e.state&&this.getMicrophones().then(e=>{this.microphone=e.length>0?e[0]:null})},e.onPlaybackDeviceChanged=e=>{this.playbackDevice?.deviceId===e.device.deviceId&&"INACTIVE"===e.state&&o.A.chrome&&this.getPlaybackDevices().then(e=>{this.playbackDevice=e.length>0?e[0]:null})}},this.audioCaptionQueues=new m.b,this.audioCaptionStream=new p.T,this.AgoraRTC=e,this.AgoraRTC.setLogLevel(3*!(0,n.getFeatureFlags)().voice_agora_debug_level_logs),this.AgoraRTC.setArea(["OVERSEA"]),this.localAudioTrack=null,this.unpublishedLocalAudioTrack=null,this.microphone=null,this.playbackDevice=null,this.attachDeviceListeners(e),(0,n.getFeatureFlags)().voice_debug_captions_enabled&&setTimeout(()=>{setInterval(()=>{this.audioCaptionStream.addNewCaption(this.userId?this.userId:"dummyUserId",Date.now(),E[T++%E.length])},1501)},1500)}static createInstance(){return this.instance?Promise.resolve():new Promise((t,r)=>{let i=document.createElement("script");i.src=(0,l.staticAssetWithUploadsPath)("0706b46bdc09a419282285b791ea1dd3c019ecd6"),i.setAttribute("nonce",(0,l.initialOptions)().csp_nonce),i.onload=()=>{let r=window.AgoraRTC;this.instance=new e(r),t()},i.onerror=()=>{r(Error("Provider audio script load error"))},document.body.appendChild(i)})}static getInstance(){return this.instance}static leave(){this.instance?.leave()}async join({appId:t,callId:r,token:i,callUserId:n,userId:l,encryptionKey:d,userEncryptionKey:h,setParticipantIdsCallback:u,callEventCallback:m,store:p,fileKey:_}){if(await this.setMicrophonePermissions(),!this.getSystemCompatibility())throw Error("System incompatible");this.setParticipantIdsCallback=u,this.userId=l,this.userEncryptionKey=h,this.callEventCallback=m;try{let e="vp8";o.A.safari&&+o.A.version>=13&&(e="h264"),await this.client?.leave(),this.client=this.AgoraRTC.createClient({mode:"live",codec:e}),this.AgoraRTC.setParameter("AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL",200),this.userId=l,this.handlingTokenExpiration=!1,this.client.setEncryptionConfig("aes-256-xts",d),this.attachClientListeners(r,i,l,d,m),await this.client.join(t,r,i,n),a.eD?.setIsInVoiceCall(!0),await this.client.setClientRole("host"),this.microphonePermissionDenied||(this.localAudioTrack=await this.AgoraRTC.createMicrophoneAudioTrack({AEC:!0,AGC:!0,ANS:!0,microphoneId:this.microphone?.deviceId}),this.unpublishedLocalAudioTrack=await this.AgoraRTC.createMicrophoneAudioTrack({AEC:!0,AGC:!0,ANS:!0,microphoneId:this.microphone?.deviceId})),this.localAudioTrack&&await this.client.publish(this.localAudioTrack),await this.unmute()}catch(n){(0,s.sx)("Voice Call - Error",{callId:r,token:i,userId:l,encryptionKey:d,message:`${n.message}`,agora_exception:!1,agora_recovery:!1,join:!0},{forwardToDatadog:!0});let t=Error(`Error joining call: ${n.message}`);throw await e.leave(),t}finally{(0,c.ds)("voice_user_joined",_,p.getState(),{callId:r,userId:l,encryptionKey:d,captions_enabled:this.captionsToggleEnabled}),(this.client?.connectionState!=="DISCONNECTED"||this.isPublishingLocalTrack())&&this.startPollingMicState()}}get uid(){return this.client?.uid}async renewToken(e){await this.client?.renewToken(e),this.handlingTokenExpiration=!1,(0,s.sx)("Voice Call - Token Renewed",{token:e,userId:this.client?.uid&&this.decryptedUserMap[this.client?.uid]})}async leave(){await this.client?.leave(),this.stopPollingMicState(),this.audioCaptionQueues.clear(),this.audioCaptionStream.clear()}async mute(){await this.localAudioTrack?.setEnabled(!1),this.audioCaptionQueues.removeTrack(this.userId,this.localAudioTrack?.getMediaStreamTrack()),a.eD?.setUsingMicrophone(!1),this.isMuted=!0}async unmute(){await this.localAudioTrack?.setEnabled(!0),(0,f.WO)()&&this.streamingAudioForCaptions&&this.audioCaptionQueues.addTrack(this.userId,this.localAudioTrack?.getMediaStreamTrack()),a.eD?.setUsingMicrophone(!0),this.isMuted=!1}streamAudioForCaptions(e){!(0,f.WO)()||this.streamingAudioForCaptions!==e&&(this.streamingAudioForCaptions=e,this.audioCaptionQueues.clear(),this.streamingAudioForCaptions&&(this.client?.remoteUsers.forEach(async e=>{let t=await this.getDecryptedUserId(e.uid);this.audioCaptionQueues.addTrack(t,e.audioTrack?.getMediaStreamTrack())}),this.localAudioTrack&&!this.isMuted&&this.audioCaptionQueues.addTrack(this.userId,this.localAudioTrack.getMediaStreamTrack())))}getSystemCompatibility(){return this.AgoraRTC.checkSystemRequirements()}isLocalUserSpeaking(){return!!this.userId&&this.averageRecentVoiceLevel[this.userId]>.1}attachClientListeners(e,t,r,i,n){this.client?.removeAllListeners(),this.client?.on("user-published",async(e,t)=>{if(await this.client?.subscribe(e,t),"audio"===t){let t=e.audioTrack||null;if(t?.play(),this.playbackDevice&&t?.setPlaybackDevice(this.playbackDevice.deviceId),(0,f.WO)()&&t&&this.streamingAudioForCaptions){let r=await this.getDecryptedUserId(e.uid);this.audioCaptionQueues.addTrack(r,t.getMediaStreamTrack())}}}),this.client?.on("user-unpublished",async(e,t)=>{if(!a.eD||"audio"!==t)return;let r=await this.getDecryptedUserId(e.uid);if(!r)return;let i=new Set;for(let t of this.client?.remoteUsers||[]){let n=await this.getDecryptedUserId(t.uid),o=e.audioTrack?.getMediaStreamTrack().id;n===r&&o&&i.add(o)}this.audioCaptionQueues.removeUnpublishedTrack(r,i)});let o=!0;this.client?.on("network-quality",function(n){o&&(n.downlinkNetworkQuality>=4||n.uplinkNetworkQuality>=4)?((0,s.sx)("Voice Call - Bad Call Quality",{callId:e,token:t,userId:r,encryptionKey:i,message:`Bad call quality detected. downlink = ${n.downlinkNetworkQuality}, uplink = ${n.uplinkNetworkQuality}`,agora_exception:!1,agora_recovery:!1,join:!1},{forwardToDatadog:!0}),o=!1):o=!0}),this.client?.on("user-joined",async e=>{this.setParticipantIdsCallback?.(await this.getParticipantIds());let t=await this.getDecryptedUserId(e.uid);t!==this.userId&&n(g.$E.USER_JOINED,t)}),this.client?.on("user-left",async e=>{this.setParticipantIdsCallback?.(await this.getParticipantIds());let t=await this.getDecryptedUserId(e.uid);t!==this.userId&&n(g.$E.USER_LEFT,t)}),this.client?.on("connection-state-change",async t=>{let r;switch(t){case"CONNECTED":if(u.R9.sendVoiceMetadata(e),this.setParticipantIdsCallback?.(await this.getParticipantIds()),this.startPollingVolumeData(),this._microphonePermissionDenied){r=g.$E.CONNECTED_WITH_MIC_DISABLED;break}r=g.$E.CONNECTED;break;case"DISCONNECTED":this.onCallDisconnect(),r=g.$E.DISCONNECTED;break;case"CONNECTING":r=g.$E.CONNECTING;break;case"DISCONNECTING":r=g.$E.DISCONNECTING;break;case"RECONNECTING":r=g.$E.RECONNECTING}void 0!==r&&n(r)}),this.client?.on("exception",o=>{let a;switch(o.code){case 2001:if(this.microphonePermissionDenied)break;a=g.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;break;case 2002:a=g.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;break;case 2003:if(this.microphonePermissionDenied)break;a=g.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;break;case 2005:a=g.$E.WARNING_RECV_AUDIO_DECODE_FAILED;break;case 4001:if(this.microphonePermissionDenied)break;a=g.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER;break;case 4002:a=g.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER;break;case 4003:if(this.microphonePermissionDenied)break;a=g.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER;break;case 4005:a=g.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER}a&&n(a),o.code>=3e3?(console.error(o),(0,s.sx)("Voice Call - Error",{callId:e,token:t,userId:r,encryptionKey:i,message:o.msg,code:o.code,agora_exception:!1,agora_recovery:!0,join:!1},{forwardToDatadog:!0})):(0,s.sx)("Voice Call - Error",{callId:e,token:t,userId:r,encryptionKey:i,message:o.msg,code:o.code,agora_exception:!0,agora_recovery:!1,join:!1},{forwardToDatadog:!0})}),this.client?.on("token-privilege-will-expire",()=>{if(!this.handlingTokenExpiration){if(this.handlingTokenExpiration=!0,!this.client?.remoteUsers.length){n(g.$E.CALL_INACTIVE),(0,s.sx)("Voice Call - Token Will Expire",{callId:e,token:t,userId:r,encryptionKey:i,callInactive:!0});return}n(g.$E.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT),(0,s.sx)("Voice Call - Token Will Expire",{callId:e,token:t,userId:r,encryptionKey:i})}}),this.client?.on("token-privilege-did-expire",()=>{n(g.$E.TOKEN_EXPIRED),(0,s.sx)("Voice Call - Token Did Expire",{callId:e,token:t,userId:r,encryptionKey:i})})}async getDecryptedUserId(e){try{return this.decryptedUserMap[e]||(this.decryptedUserMap[e]=await (0,d.We)(this.userEncryptionKey,e.toString())),this.decryptedUserMap[e]}catch{(0,h.$D)(i.FigmaTeam.UNOWNED,Error(`Failed to decrypt encrypted user: ${e}`)),this.callEventCallback?.(g.$E.ERROR)}}async setMicrophonePermissions(){if(a.eD){this._microphonePermissionDenied=!await a.eD.requestMicrophonePermission();return}try{await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),this._microphonePermissionDenied=!1}catch(e){this._microphonePermissionDenied=!0}}get microphonePermissionDenied(){return this._microphonePermissionDenied}};v.instance=null;let b=v},524495(e,t,r){r.d(t,{Q:()=>n});var i,n=((i=n||{}).PENDING="Pending",i.ACTIVE="Active",i.EXPIRED="Expired",i.DEACTIVATED="Deactivated",i)},507018(e,t,r){r.d(t,{_x:()=>P,mN:()=>R});var i=r(442549),n=r(350923),o=r(90242),s=r(295815),a=r(151524),l=r(354991),d=r(613629),h=r(506026),c=r(166745),u=r(169611),m=r(706418),p=r(999682),_=r(448775),f=r(682894),g=r(598365),w=r(279117),E=r(88107),T=r(596034),v=r(541367),b=r(375391),y=r(680706),M=r(180319),S=r(293866),I=r(620496);r(526865);var C=r(842988);let x="plugin-positions",A=(0,s.jz)("48px");function O(e,t,r){return Math.max(t,Math.min(r,e))}let N=class e{constructor(t,r,i,n,s,a,l,d,h,c,u,m,_,f){this.vmType=t,this.pluginID=r,this.titleIconURL=i,this.title=n,this.permissions=s,this.isWidget=a,this.widgetCommand=l,this.shouldShowVisualBell=d,this.cancelCallback=h,this.messageHandler=c,this.allowedDomains=u,this.isLocal=m,this.triggeredFrom=_,this.capabilities=f,this.outerIframe=null,this.innerIframe=null,this.innerIframeHtml="",this.showingInnerIframe=!1,this.iframeTitle="",this.iframeWidth=300,this.iframeHeight=200,this.iframeInitialPosition=null,this.includeThemeColors=!1,this.lastNotificationTimeout=-1,this.hideVisibleUI=!1,this.iframeId=null,this.storeModalPosition=e=>{let t=(0,o.TQ)();if(t){let r={};try{r=JSON.parse(t.getItem(x)||"")}catch(e){}r&&"object"==typeof r||(r={}),r[this.pluginID]={x:e.x,y:e.y},t.setItem(x,JSON.stringify(r))}this.iframeInitialPosition=e,this.updateUI()},this.tearDown=e=>{this._destroyIframe(),this.timeout&&clearTimeout(this.timeout),this.hideProgress(),this.cancelNonErrorPersistentVisualBells(),this.cancelAllCustomNotifyVisualBells()},this.getMostRecentContextMenuClickPosition=({dropdownShown:e})=>e&&e.type===p.W_&&e.data?.clientX!=null&&e.data?.clientY!=null?{x:e.data.clientX,y:e.data.clientY}:null,this.timeout=null,this.showProgress(),e.instance=this}static getInstance(){return e.instance}updateUI(){if(n.zl.set(S.d,{titleIconURL:this.titleIconURL,titleIconSvgSrc:this.titleIconURL?void 0:C.A,title:this.iframeTitle||(0,T.WW)(this.title,this.vmType)}),this.iframeId===y.Wh.MODAL){let e={displayed:this.showingInnerIframe,width:this.iframeWidth,height:this.iframeHeight,initialPosition:this.iframeInitialPosition||new l.Mi(0,0),cancelCallback:this.cancelCallback,onDragEnd:this.storeModalPosition};n.zl.set(I.z,e)}this.outerIframe?.updateState({visible:this.showingInnerIframe,width:this.iframeWidth,height:this.iframeHeight})}loadModalPosition(){let e=(0,o.TQ)();if(e)try{let t=JSON.parse(e.getItem(x)||"")[this.pluginID];return new l.Mi(O(t.x,0,window.innerWidth-this.iframeWidth),O(t.y,0,window.innerHeight-this.iframeHeight))}catch(e){}return null}makeIframe(e){let{html:t,title:r,width:o,height:s,position:a,includeThemeColors:l,iframeId:d}=e;this._destroyIframe(),this.innerIframeHtml=t,this.iframeId=d,this.outerIframe=M.Y.getInstance(this.iframeId),this.iframeId===y.Wh.BUZZ_LEFT_PANEL&&n.zl.set(u.FP,this.iframeId);let h=i.v.getFeatureGate("ext_plugin_iframe_allow_lna");this.outerIframe.removeAllChildren(),this.innerIframe=this.outerIframe.createInnerIframe(this.innerIframeHtml,this.messageHandler,{name:this.title,isWidget:this.isWidget,cameraAccess:this.permissions.includes("camera"),microphoneAccess:this.permissions.includes("microphone"),displayCaptureAccess:this.permissions.includes("displaycapture"),clipboardWriteAccess:this.permissions.includes("clipboardwrite"),localNetworkAccess:h,includeThemeColors:l,allowedDomains:this.allowedDomains,isLocal:this.isLocal,pluginId:this.pluginID}),null!=r&&(this.iframeTitle=r),this.includeThemeColors=!!l,this.setInitialPosition({width:o,height:s,position:a}),this.updateUI()}buildXYPosition(e,t){let r=_.Y5.getViewportInfo(),i=(0,g.$g)(r,{x:e,y:t});return new l.Mi(Math.round(i.x),Math.round(i.y))}buildCodegenDefaultPosition(){let e=document.getElementById("preferences-inspection-panel"),t=e?.getBoundingClientRect(),r=(0,m.sX)(),i=Math.max(window.innerWidth-r-this.iframeWidth,0);t&&(i=Math.max(t.left-1-this.iframeWidth,0));let n=Math.max((window.innerHeight-this.iframeHeight)/2,0);return t?f.z4.getIsExtension()?new l.Mi(t.x+t.width-this.iframeWidth,t.y-this.iframeHeight-b.uF-(e?.parentElement?.parentElement?parseFloat(window.getComputedStyle(e.parentElement.parentElement).paddingTop):0)):new l.Mi(i,t.y):new l.Mi(i,n)}setInitialPosition(e){let{width:t,height:r,position:i}=e;this.iframeWidth=this.getClampedWidth(t),this.iframeHeight=this.getClampedHeight(r);let n=new l.Mi(Math.max((window.innerWidth-this.iframeWidth)/2,0),Math.max((window.innerHeight-this.iframeHeight)/2,0));if("default"===i)this.iframeInitialPosition=n;else if("last"===i)this.iframeInitialPosition=this.loadModalPosition()||n;else if("codegen-default"===i)this.iframeInitialPosition=this.buildCodegenDefaultPosition();else if("object"==typeof i&&i.hasOwnProperty("x")&&i.hasOwnProperty("y"))this.iframeInitialPosition=this.buildXYPosition(i.x,i.y);else{let e=this.getMostRecentContextMenuClickPosition(a.D.getState());e?this.iframeInitialPosition=new l.Mi(e.x,e.y):this.iframeInitialPosition=this.loadModalPosition()||n}this.storeModalPosition(this.iframeInitialPosition)}isInnerIframeActive(){return!!this.innerIframeHtml}innerIframeHtmlMatches(e){return null!=this.innerIframeHtml.match(e)}destroyIframe(){this._destroyIframe()}switchContainer(e){if(!this.isInnerIframeActive())throw Error("Cannot switch container when no plugin is active");let t={html:this.innerIframeHtml,iframeId:e,title:this.iframeTitle,width:this.iframeWidth,height:this.iframeHeight,position:"default",includeThemeColors:this.includeThemeColors};this._destroyIframe(),this.makeIframe(t),this.showIframe()}_destroyIframe(){this.hideIframe(),this.innerIframeHtml="",this.innerIframe&&(this.innerIframe.destroy(),this.innerIframe=null),this.iframeId===y.Wh.BUZZ_LEFT_PANEL&&n.zl.set(u.FP,null),this.isPanelIframe()||n.zl.set(I.z,e=>({...e,cancelCallback:void 0,onDragEnd:void 0})),this.outerIframe=null}isPanelIframe(){return this.iframeId===y.Wh.BUZZ_LEFT_PANEL||this.iframeId===y.Wh.INSPECT}setIframeSize(e,t){if(!this.outerIframe)throw Error("No UI to resize. Did you forget to create a UI by calling showUI?");Number.isNaN(e)||(this.iframeWidth=this.getClampedWidth(e)),Number.isNaN(t)||(this.iframeHeight=this.getClampedHeight(t)),this.updateUI()}setIframePosition(e,t){if(!this.outerIframe)throw Error("No UI to reposition. Did you forget to create a UI by calling showUI?");this.iframeInitialPosition=this.buildXYPosition(e,t),this.storeModalPosition(this.iframeInitialPosition),this.updateUI()}getIframePosition(){if(!this.outerIframe||!this.iframeInitialPosition)throw Error("Cannot get the UI position. Did you forget to create a UI by calling showUI?");let e=this.iframeInitialPosition,t=_.Y5.getViewportInfo(),{x:r,y:i}=(0,g.Nd)(t,e);return{canvasSpace:new l.Mi(r,i),windowSpace:e}}getClampedWidth(e){return this.iframeId===y.Wh.INSPECT?(0,m.sX)():null==e?300:O(e,70,window.innerWidth-50)}getClampedHeight(e){return null==e?200:this.isPanelIframe()?e:O(e,0,window.innerHeight-A-b.uF)}getIsInsert(){return this.isWidget&&this.widgetCommand?.hasOwnProperty("context")&&"insert"===this.widgetCommand.context}getIframeId(){return this.iframeId}showIframe(){if(!this.hideVisibleUI){if(!this.outerIframe)throw Error("No UI to show. Did you forget to create a UI by calling showUI?");this.hideProgress(),this.isPanelIframe()&&n.zl.set(E.d4,"RUNNING"),this.showingInnerIframe=!0,this.updateUI()}}hideIframe(){this.showingInnerIframe=!1,this.updateUI(),this.showProgress()}setHideVisibleUI(e){this.hideVisibleUI=e,e?this.hideProgress():this.showProgress()}postMessageToIframe(e,t){if(!this.outerIframe||!this.innerIframe)throw Error("No UI to send a message to. Did you forget to create a UI by calling showUI?");this.innerIframe.postMessage(e,t)}handleThemeUpdate(){this.innerIframe&&this.includeThemeColors&&this.innerIframe.handleThemeUpdate()}showPluginVisualBell(e,t,r,i){if(this.hideVisibleUI)return;this.hideProgress();let n=r.timeout>3e3,o={type:t,message:e,timeoutOverride:r.timeout,timeoutType:"exact",button:r.button,onDismiss:n?()=>{}:void 0,onDequeue:i,error:r.error};this.titleIconURL&&(o.icon=h.zX.FROM_URL,o.iconURL=this.titleIconURL),_.Y5.dispatch(d.F.enqueue(o)),this.showingInnerIframe||this.showProgress(),this.lastNotificationTimeout=Math.max(this.lastNotificationTimeout,Date.now())+r.timeout}cancelPluginVisualBell(e){_.Y5.dispatch(d.F.dequeue({matchType:e}))}cancelNonErrorPersistentVisualBells(){_.Y5.dispatch(d.F.dequeue({shouldDequeueFunc:e=>"plugins-runtime-error"!==e.type&&(0,c.R)(e)===1/0}))}cancelAllCustomNotifyVisualBells(){_.Y5.dispatch(d.F.dequeue({shouldDequeueFunc:e=>{let t=RegExp("message-from-plugin-*"),r=!!e.type&&t.test(e.type),i=void 0!==e.button;return r&&i}}))}hideProgress(){(0,T.pN)({shouldShowVisualBell:this.shouldShowVisualBell})}showProgress({isBackground:e}={}){if("codegen"!==this.triggeredFrom&&"design-linter"!==this.triggeredFrom&&"ai-assistant"!==this.triggeredFrom&&(this.terminateInspectPluginIfNoIframe(),_.Y5&&_.Y5.isReady()&&this.shouldShowVisualBell&&!this.hideVisibleUI)){let t=e?50:this.isPanelIframe()?4e3:void 0;(0,T.Ym)({name:this.title,isInsert:this.getIsInsert(),cancelCallback:this.cancelCallback,vmType:this.vmType,delayOverride:t,isBackground:e})}}terminateInspectPluginIfNoIframe(){!this.timeout&&(0,w.$u)(this.capabilities)&&!this.capabilities?.includes("codegen")&&(0,v.$A)(a.D.getState().selectedView)&&"related-link-preview"!==this.triggeredFrom&&(this.timeout=setTimeout(()=>{if(!this.showingInnerIframe){this.cancelCallback({message:"Inspect panel plugins must have an iFrame when running",isError:!0}),this.timeout=null;return}},1e4))}};N.instance=null;let R=N;class P{tearDown(){}makeIframe(e){}isInnerIframeActive(){return!1}destroyIframe(){}setIframeSize(e,t){}setIframePosition(e,t){}getIframePosition(){return{windowSpace:new l.Mi(0,0),canvasSpace:new l.Mi(0,0)}}showIframe(){}hideIframe(){}setHideVisibleUI(e){}postMessageToIframe(e,t){}showPluginVisualBell(e,t,r){}cancelPluginVisualBell(e){}switchContainer(e){}get isInspectPanel(){return!1}}},947234(e,t,r){r.d(t,{Dw:()=>d,EB:()=>a,Eq:()=>s,hm:()=>l});var i,n,o,s=((i=s||{}).prevButton="prevButton",i.nextButton="nextButton",i.accessibilityCommentPin="accessibilityCommentPin",i),a=((n=a||{})[n.BUSY=0]="BUSY",n[n.READY=1]="READY",n);let l="new-comment-id";var d=((o=d||{}).new="newCommentComposer",o.reply="replyCommentComposer",o.edit="editCommentComposer",o.feed="FeedPostThreadCommentComposer",o.feedPopover="FeedPostPopoverModalThreadCommentComposer",o.quickReply="quickReplyCommentComposer",o)},343038(e,t,r){r.d(t,{J:()=>n});var i=r(35212);let n=new class{constructor(){this.FeedCommentAttachmentSchemaValidator=(0,i.vh)()}post(e,t,r,i,n,o){return this.FeedCommentAttachmentSchemaValidator.validate(async({xr:s})=>await s.post("/api/feed_comment_attachment",{media_type:e,image_sha1:t,thumbnail_sha1:r,uploaded_at:i,metadata:n,locality:o}))}delete(e){return i._5.validate(async({xr:t})=>await t.del(`/api/feed_comment_attachment/${e}`))}put(e,t){return i._5.validate(async({xr:r})=>await r.put(`/api/feed_comment_attachment/${e}`,{alt_text:t}))}}},751524(e,t,r){r.d(t,{l:()=>n});var i=r(35212);let n=new class{constructor(){this.FileCommentAttachmentSchemaValidator=(0,i.vh)()}post(e,t,r,i,n,o){return this.FileCommentAttachmentSchemaValidator.validate(async({xr:s})=>await s.post(`/api/file/${e}/file_comment_attachments`,{media_type:t,image_sha1:r,thumbnail_sha1:i,uploaded_at:n,metadata:o}))}delete(e,t){return i._5.validate(async({xr:r})=>await r.del(`/api/file/${e}/file_comment_attachments/${t}`))}put(e,t,r){return i._5.validate(({xr:i})=>i.put(`/api/file/${e}/file_comment_attachments/${t}`,{alt_text:r}))}}},132668(e,t,r){r.d(t,{Z:()=>l});var i=r(818381),n=r(35212),o=r(135857);let s=i.z.object({js_url:i.z.string(),css_url:i.z.string()}),a=i.z.object({js_url:i.z.string().nullable().optional(),css_url:i.z.string().nullable().optional()}),l=new class{constructor(){this.GetCachedPreviewUrlsValidator=(0,n.YV)("GetCachedPreviewUrlsValidator",(0,o.D)(s),null),this.GetLatestCachedPreviewUrlsValidator=(0,n.YV)("GetLatestCachedPreviewUrlsValidator",(0,o.D)(a),null)}getCachedPreviewUrls(e){return this.GetCachedPreviewUrlsValidator.validate(async({xr:t})=>await t.get(`/api/make/${e.fileKey}/cached_preview_urls`,{source_code_hash:e.sourceCodeHash}))}getLatestCachedPreviewUrls(e){return this.GetLatestCachedPreviewUrlsValidator.validate(async({xr:t})=>await t.get(`/api/make/${e.fileKey}/latest_cached_preview_urls`))}}},653554(e,t,r){r.d(t,{A:()=>n});var i=r(35212);let n=new class{constructor(){this.AcknowledgePolicySchemaValidator=(0,i.vh)()}acknowledgePolicy(e){return this.AcknowledgePolicySchemaValidator.validate(async({xr:t})=>await t.post(`/api/policy_configs/${e.policyAckConfigId}/acknowledge`,i.td.toAPIParameters({})))}}},968360(e,t,r){r.d(t,{W:()=>d,_:()=>l});var i=r(105652),n=r(952650),o=r(536224),s=r(831101),a=r(887705);function l(e,t){return(0,i.useMemo)(()=>{let r=new Map,i=new Map;function s(e){return t?(...r)=>{let i=new o.M4;i.start();let s=e(...r);i.stop(),(0,n.f)(t,{elapsedTime:i.getElapsedTime(),numNodes:s.size})}:e}let l=s(t=>{let n=(0,a.e)(e,[t],r,!1);for(let e of n){let t=r.get(e);for(let r of i.get(e)||[])r(t)}return n}),d=s(t=>{let n=(0,a.e)(e,t,r,!0);for(let e of n){let t=r.get(e);for(let r of i.get(e)||[])r(t)}return n});return{adjacencies:r,invalidators:i,subscribe:(e,t)=>{let r=i.get(e);return r||i.set(e,r=[]),r.push(t),()=>{let n=r?.indexOf(t);void 0===n||n<0||(r?.splice(n,1),r?.length===0&&i.delete(e))}},updateSubtree:l,updateDirtyNodes:d}},[e,t])}function d(e,t){e??="-1:-1";let r=(0,i.useCallback)(r=>t.subscribe(e,r),[t,e]),n=(0,i.useCallback)(()=>(0,s.J4)(t.adjacencies.get(e)),[t,e]);return(0,i.useSyncExternalStore)(r,n)}},181919(e,t,r){r.d(t,{m:()=>a,v:()=>l});var i=r(239976),n=r(185805),o=r(502217),s=r(381407);function a({children:e,...t}){let r=(0,o.OC)();return(0,i.jsx)(n.i,{children:(0,i.jsx)("div",{...t,className:s.c,ref:r,children:e})})}function l({isAccessible:e,children:t,...r}){let a=(0,o.jL)(!e);return(0,i.jsx)(n.i,{children:(0,i.jsx)("div",{...r,className:s.c,ref:a,children:t})})}},831101(e,t,r){r.d(t,{J4:()=>o,vF:()=>n});var i,n=((i=n||{})[i.INCLUDE=0]="INCLUDE",i[i.CHILDREN=1]="CHILDREN",i[i.OMIT=2]="OMIT",i);function o(e){return e&&0===e.inclusion?e:void 0}},452994(e,t,r){r.d(t,{x:()=>o});var i=r(239976),n=r(381407);function o({children:e,...t}){return(0,i.jsx)("div",{...t,className:n.c,"data-fullscreen-bubble-phase":!0,children:e})}},807546(e,t,r){r.d(t,{h:()=>h});var i=r(239976),n=r(645186),o=r(850159),s=r(901326),a=r(54352),l=r(707681),d=r(975516);function h(e){let{isShowing:t,onClickPrimaryCta:r,onClose:h,onManualDismiss:c,testId:u,additionalOnExplicitDismiss:m,userFlagOnShow:p,..._}=e,f=(0,s.wm)(()=>(function(e){if(e.modalType===a.q3.DRAGGABLE){let{currentStepIndex:t,totalNumSteps:r}=e,i=t===r-1;return{...e,ctaText:e.ctaText||(i?(0,o.t)("rcs.rcs_shared.done"):(0,o.t)("rcs.rcs_shared.next")),stepCounter:e.totalNumSteps>1?(0,o.t)("rcs.rcs_shared.step_counter",{currentStepNum:t+1,totalNumSteps:r}):void 0}}return e})(_),[_]),g=(0,n.wA)();return(0,i.jsx)(d.M,{userFlagOnShow:p,isShowing:t,testId:u,children:(0,i.jsx)(l.i,{step:f,onClickPrimaryCta:r,onClose:h,dismissModal:c,dispatch:g,additionalOnExplicitDismiss:m})})}},838585(e,t,r){r.d(t,{X:()=>v,b:()=>T});var i=r(239976),n=r(105652),o=r(523924),s=r(224542),a=r.n(s),l=r(865804),d=r(295815),h=r(289886),c=r(660983),u=r(975516),m=r(249396),p=r(481877),_=r(216684),f=r(534380),g=r(533937),w=r(911470),E=r(808407);function T(e){let{onClose:t}=e,r=(0,n.useRef)(null),s=n.useMemo(()=>(e=>{switch(e){case g.Q.BOTTOM_RIGHT:return{bottom:"24px",right:w.helpWidgetSizePlusMargin};case g.Q.CENTER:return{top:"50%",left:"50%"};case g.Q.EDITOR_TOP_LEFT:return{top:`${(0,d.hG)(w.designToolbarHeight)+12}px`,left:"calc(var(--left-panel-width) + 12px)"};case g.Q.UI3_EDITOR_TOP_LEFT:return{top:"calc(var(--editor-banner-height) + 12px)",left:"calc(var(--left-panel-width) + 24px)"};default:(0,o.xb)(e)}})(e.position),[e.position]);(0,p.j)(()=>e.onClose("escape_button_pressed"));let u=e.clickOutsideToHide??(void 0===e.primaryCta&&void 0===e.secondaryCta),T=(0,n.useCallback)(()=>t("clicked_outside"),[t]);(0,_.l)(u,r,T);let v=h.s.fixed.borderBox.bRadius2.pb16.pl16.pr16.zIndexSecondaryModal.fontInter.flex.flexColumn.if(e.emphasized,h.s.colorBgBrand.colorTextOnbrand,h.s.colorBg.colorText).if(!!e.media,h.s.pt12,h.s.pt16).$,b=c.sx.add({width:`${e.width??300}px`,boxShadow:"var(--elevation-400-menu-panel)",...s}).$;return(0,i.jsx)(l.fu,{name:e.trackingContextName,properties:e.trackingProperties,children:(0,i.jsx)(f.M,{className:a()(v,E.P),style:b,ref:r,transformString:e.position===g.Q.CENTER?"translate(-50%, -50%)":void 0,children:(0,i.jsx)(m.b,{...e})})})}function v(e){return(0,i.jsx)(u.M,{isShowing:e.isShowing,userFlagOnShow:e.userFlagOnShow,testId:e.testId,forceEditorTheme:e.forceEditorTheme,children:(0,i.jsx)(T,{...e})})}},796e3(e,t,r){r.d(t,{Lp:()=>c,Oz:()=>m,Ru:()=>f,sg:()=>p,tH:()=>_,wc:()=>g});var i,n=r(741542),o=r(350923),s=r(701328),a=r.n(s),l=r(181645),d=r(304499),h=r(55511),c=((i=c||{}).None="No Diff",i.Layer="Layer Diff",i.Tree="Tree Diff",i.Full="Full Diff",i);function u(e){return"Layer Diff"===e?"layer":"tree"}let m=(0,o.FZ)((0,o.eU)(null),(e,t,r)=>{let i,n,o=new Date;if("clear"===t.type)return e&&l.az.trackDefinedEvent("figmascope.diff_end",{type:u(e.type),duration_seconds:(o.getTime()-e.time.getTime())/1e3}),null;if("start"===t.type?(i=t.id,n=t.diffType):"refresh"===t.type&&e&&(i=e.object.id,n=e.type),!i||!n)return null;let s=r(d.Cc).getObject(i)?.freeze();return s?(l.az.trackDefinedEvent("figmascope.diff_start",{type:u(n)}),{type:n,object:s,time:new Date}):null}),p=(0,o.eU)(e=>{let t=e(d.lX);return t?{type:"Full Diff",resource:t}:e(m)??{type:"No Diff"}}),_=(0,o.eU)(e=>{let t=e(h.AJ),r=e(p);switch(r.type){case"Layer Diff":return r.object;case"Tree Diff":return r.object.findDescendant(e=>e.id===t,{includeSelf:!0})??null;case"Full Diff":for(let e of r.resource.rootObjects){let r=e.findDescendant(e=>e.id===t,{includeSelf:!0});if(r)return r}return null;default:return null}});function f(e,t,r=!1){if(!e&&t)return"REMOVED";if(!t&&e)return"CREATED";if(e?.value&&t?.value&&(e.value.type!==t.value.type||!a()(e.value.value,t.value.value)))return(0,n.getFeatureFlags)().figmascope_ignore_untracked_diffs&&(e?.label==="guid"||e?.label==="position")?r?"CHILD_MODIFIED":void 0:"MODIFIED";if(r&&(!(0,n.getFeatureFlags)().figmascope_ignore_untracked_diffs||e?.label!=="Untracked fields"&&e?.label!=="Derived properties"))return"CHILD_MODIFIED"}function g(e,t,r=!1){if(!e)return"REMOVED";if(!t)return"CREATED";let i=e.rawProperties,o=t.rawProperties;if(i.length!==o.length)return"MODIFIED";for(let e=0;e<i.length;e++)if((!(0,n.getFeatureFlags)().figmascope_ignore_untracked_diffs||i[e]?.label!=="Untracked fields"&&i[e]?.label!=="Derived properties")&&void 0!==function e(t,r){let i=f(t,r);if(void 0!==i)return i;let n=t.children,o=r.children;if(n.length!==o.length)return"CHILD_MODIFIED";for(let t=0;t<n.length;t++)if(void 0!==e(n[t],o[t]))return"CHILD_MODIFIED"}(i[e],o[e]))return"MODIFIED";return r?"CHILD_MODIFIED":void 0}},942689(e,t,r){r.d(t,{L:()=>s,l:()=>a});var i=r(741542),n=r(350923),o=r(961693);let s=(0,n.t_)(()=>new o._);function a(e,t){(0,i.getFeatureFlags)().internal_only_debug_tools&&n.zl.set(s,r=>(r.add(e,t),r))}},304499(e,t,r){r.d(t,{Cc:()=>d,lX:()=>h,lu:()=>a});var i=r(350923),n=r(372996),o=r(528984);let s=(0,i.eU)((0,n.Ok)()),a=(0,i.eU)(e=>e(s),(e,t,r)=>{let i=e(s);i.status===o.r.SUCCESS&&(i.value.primaryResource.teardown(),i.value.diffResource?.teardown()),t(s,r)}),l=(0,i.eU)(e=>{let t=e(a);if(t.status!==o.r.SUCCESS)throw Error("FigmaScope internal code is running but no FigmaScope resources are set. This is a bug - please report in #figmascope.");return t.value}),d=(0,i.mg)(l,e=>e.primaryResource),h=(0,i.mg)(l,e=>e.diffResource)},55511(e,t,r){r.d(t,{AJ:()=>f,H$:()=>M,JN:()=>w,Sd:()=>E,bA:()=>v,gg:()=>T,jI:()=>g,q:()=>b});var i=r(239976),n=r(105652),o=r(645186),s=r(350923),a=r(901326),l=r(985373),d=r(448775),h=r(773201),c=r(454036),u=r(842602),m=r(885374),p=r(304499),_=r(466798);let{valueAtom:f,undoAtom:g,redoAtom:w,historyAtom:E}=(0,s.xP)(c.SW.fromString("0:0")),T=(0,s.eU)(e=>{let t=e(p.Cc),r=e(f);return t.getObject(r)}),v=(0,_.Sv)("followSelection",!1);function b({children:e,appSelection:t,setAppSelection:r}){let n=(0,s.md)(p.Cc);return r&&n instanceof m.G2?(0,i.jsx)(S,{resource:n,appSelection:t,setAppSelection:r,children:e}):(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)(y,{})]})}function y(){let e=(0,o.wA)(),t=(0,h._6)(),[r,i]=(0,s.fp)(f),a=n.useRef(!0);return n.useEffect(()=>{(0,u.E)(t)&&(a.current?(a.current=!1,t.selection&&i(c.SW.fromString(t.selection))):r!==t.selection&&e(l.sf({...t,selection:r})))},[t,r,i,e]),null}let M=n.createContext({selectInApp:void 0,canSelectInApp:void 0});function S({resource:e,appSelection:t,setAppSelection:r,children:o}){let l=e.scene,h=(0,s.md)(v),[u,m]=(0,s.fp)(f),p=n.useRef(u),_=n.useRef(null),g=n.useRef(h),w=n.useCallback(e=>{let t=l.getNodeByGuid(c.c1.fromString(e));t&&m(t.id)},[m,l]);n.useEffect(()=>{d.Y5.setFigmascopeSelectedGuidCallback(w)},[w]);let E=u?l.getNodeById(u):null,T=(0,a.k9)(()=>E?I(E):null,[E]);n.useEffect(()=>{let e=t?.guids.includes(u);if(t!==_.current||h!==g.current){if(h||null===_.current){if(!t?.guids||0===t.guids.length)return;e||w(t.guids[0])}_.current=t,g.current=h}else u!==p.current&&(h&&r&&!e&&T&&r(T),p.current=u)},[t,T,u,h,r,w]);let b=n.useMemo(()=>({canSelectInApp:e=>!!I(e),selectInApp:e=>{let t=I(e);t&&r(t)}}),[r]);return(0,i.jsx)(M.Provider,{value:b,children:o})}function I(e){if(!e.isInternalOnly)return{selectionType:"canvas",guids:[e.guid]};if(e.isStyle&&e.isLocalAsset){let t=e.nodeChange.styleType;if(t)return{selectionType:"local_style",guids:[e.guid],styleType:t}}return null}},466798(e,t,r){r.d(t,{Sv:()=>d,Y6:()=>a,hX:()=>s,lY:()=>l});var i,n,o=r(350923),s=((i=s||{}).Position="Position",i.Name="Name",i.Memory="Memory",i.NodeId="Node ID",i),a=((n=a||{}).Search="Search",n.Filter="Filter",n);let l=(0,o.E3)("figmascope-settings",{});function d(e,t){return(0,o.eU)(r=>r(l)[e]??t,(t,r,i)=>r(l,t=>({...t,[e]:i})))}},687030(e,t,r){r.d(t,{O:()=>i});let i=(0,r(350923).eU)(0)},14796(e,t,r){r.d(t,{A9:()=>h,IO:()=>s,X9:()=>a,_Y:()=>c,fQ:()=>u,l3:()=>d,nE:()=>o});var i=r(350923),n=r(466798);function o(e,t,r){let i={...e},n=!1;for(let e of t)n=n||i[e]!==r,i[e]=r;return n?i:e}function s(e,t){let r={...e},i=!1;for(let e of t)i=i||e in r,delete r[e];return i?r:e}function a(e,t,r,i=1){let n=[t,...r];return e[t]?i?s(e,n):o(e,n,!1):o(e,n,!0)}function l(e){return function(e=1,t=(0,i.eU)({})){return(0,i.eU)(e=>e(t),(r,i,n,o)=>{i(t,a(r(t),n,o??[],e))})}(0,(0,i.eU)(t=>t(n.lY)[e]??{},(t,r,i)=>r(n.lY,t=>({...t,[e]:i}))))}let d=l("middlePanelExpandedProperties"),h=l("middlePanelPinnedProperties"),c=l("rightPanelExpandedProperties"),u=l("rightPanelPinnedProperties")},626022(e,t,r){r.d(t,{G:()=>s,o:()=>a});var i=r(239976),n=r(105652),o=r(584376);let s=n.createContext(()=>!1);function a({children:e,className:t,style:r}){let a=n.useRef(null),l=n.useCallback(()=>!!a.current?.contains(document.activeElement),[]);return(0,i.jsx)(o.dP,{ref:a,className:t,style:r,allowVim:!0,children:(0,i.jsx)(s.Provider,{value:l,children:e})})}},105553(e,t,r){r.d(t,{P:()=>M});var i=r(239976),n=r(105652),o=r(174822),s=r(980973),a=r(594293),l=r(335127),d=r(350923),h=r(901326),c=r(163423),u=r.n(c),m=r(181645),p=r(295815),_=r(289886),f=r(397383),g=r(796e3),w=r(851207),E=r(14796),T=r(156066),v=r(122390);r(526865);let b=(0,p.jz)("18px"),y=(0,p.jz)("32px"),M=n.memo(function({panel:e,items:t,diffItems:r,extraItems:l}){var h,c,u,m,p;let[_,f]=(0,d.fp)("middle"===e?E.l3:E._Y),[g,T]=(0,d.fp)("middle"===e?E.A9:E.fQ),v=(h=t,c=r,u=l,m=_,p=g,n.useMemo(()=>{let e=[];for(let t of u??[])e=e.concat(R(t,0,void 0,m,p));let t=O(h??[],void 0,p),r=null!=c,i=O(c??[],void 0,p);for(let n of(0,a.TR)(t,i,e=>x(e,void 0)))e=r?e.concat(P(n.left,n.right,0,void 0,m,p)):e.concat(R(n.left??n.right,0,void 0,m,p));return e},[h,c,u,m,p])),M=n.createRef();function I(e){if(void 0!==v[e]){let t=v[e].value;if(t&&"nodeThumbnail"===t.type){let e=(0,w.D)(t.value);if(e)return e.renderHeight+y}}return b}return n.useEffect(()=>{M.current?.resetAfterIndex(0)},[M,v]),(0,i.jsx)(o.A,{disableWidth:!0,children:({height:t})=>(0,i.jsx)(s._m,{ref:M,itemSize:I,itemCount:v.length,height:t,itemKey:e=>v[e].expansionKey,itemData:{panel:e,displayedProperties:v,togglePropertyExpanded:f,togglePropertyPinned:T},width:"100%",children:S})})});function S({style:e,index:t,data:{panel:r,displayedProperties:o,togglePropertyExpanded:s,togglePropertyPinned:a}}){let d=o[t],c=(0,l.ZC)(d),[u,m]=n.useState(!1),p=n.useRef(void 0);n.useEffect(()=>{c&&null!=(0,g.Ru)(c,d)&&(clearTimeout(p.current),m(!0),p.current=setTimeout(()=>m(!1),250))},[d,c]),n.useEffect(()=>()=>clearTimeout(p.current),[]);let _=(0,h.zN)(e);return(0,i.jsx)(C,{...d,style:_,isChanging:u,panel:r,index:t,togglePropertyExpanded:s,togglePropertyPinned:a})}let I=n.memo(function({diffValue:e,value:t}){return(0,i.jsxs)(f.Y,{width:"hug-contents",children:[null!=e&&(0,i.jsx)(T.M,{value:e}),null!=e&&(0,i.jsx)("span",{children:"\u21E8"}),null!=t&&(0,i.jsx)(T.M,{value:t})]})}),C=n.memo(function({childExpansionKeys:e,expansionKey:t,indent:r,isExpanded:n,isChanging:o,isPinned:s,isLeaf:a,isImage:l,label:d,index:h,style:c,value:u,diffValue:p,diffType:g,panel:w,togglePropertyExpanded:E,togglePropertyPinned:T}){return(0,i.jsxs)(v.Z,{changeType:g,indent:l?0:r,isChanging:o,isExpanded:n,isLeaf:a,isPinned:s,keyboardNavigationPath:[h],style:l?{...c,height:"fit-content",width:"100%",alignItems:"flex-start"}:c,toggleExpanded:r=>{n||m.az.trackDefinedEvent("figmascope.expand_row",{field:d,panel:w}),E(t,r?e:[])},togglePinned:l?void 0:()=>{s||m.az.trackDefinedEvent("figmascope.pin_row",{field:d,panel:w}),T(t)},children:[l?(0,i.jsx)(I,{diffValue:p,value:u}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:_.s.colorText.$,children:d}),(0,i.jsx)("div",{className:_.s.ellipsis.noWrap.overflowHidden.alignCenter.$,children:(0,i.jsx)(I,{diffValue:p,value:u})})]}),(0,i.jsx)(f.M,{})]})}),x=(e,t)=>{let r=e.key??e.label;return t?[t,r].join("."):r},A=(e,t)=>!!t[e],O=(e,t,r)=>[...e.filter(e=>A(x(e,t),r)),...e.filter(e=>!A(x(e,t),r))],N=(e,t,r,i)=>{if(e)return!1;let n=i[t];return null!=n?n:r??!1},R=(e,t,r,i,n)=>{let o=x(e,r),s=0===e.children.length,a=e.value?.type==="nodeThumbnail",l=N(s,o,e.expandByDefault,i),d=u()(O(e.children??[],o,n),e=>R(e,t+1,o,i,n)),h={label:e.label,value:e.value,isExpanded:l,isLeaf:s,isImage:a,indent:t,expansionKey:o,childExpansionKeys:u()(d,e=>[e.expansionKey,...e.childExpansionKeys]),isPinned:A(o,n)};return l?[h,...d]:[h]},P=(e,t,r,i,n,o)=>{let s=e??t;if(!s)throw Error("Nothing to diff");if(e&&t&&x(e,i)!==x(t,i))throw Error("Mismatched keys");let l=x(s,i),d=O(e?.children??[],l,o),h=O(t?.children??[],l,o),c=(0,a.TR)(d,h,e=>x(e,l)),m=!1,p=u()(c,({left:e,right:t})=>{let i=P(e,t,r+1,l,n,o);return m=m||null!=i[0].diffType,i}),_=0===c.length,f=(0,g.Ru)(e,t,m),w=N(_,l,s.expandByDefault??!1,n),E=s.value?.type==="nodeThumbnail",T={label:s.label,value:s.value,diffValue:e&&t&&f?t?.value:void 0,isExpanded:w,isLeaf:_,isImage:E,indent:r,expansionKey:l,childExpansionKeys:u()(p,e=>[e.expansionKey,...e.childExpansionKeys]),isPinned:A(l,o),diffType:f};return w?[T,...p]:[T]}},818725(e,t,r){r.d(t,{P:()=>b});var i=r(239976),n=r(105652),o=r(645186),s=r(523924),a=r(741542),l=r(3752),d=r(30890),h=r(279458),c=r(388759),u=r(318779),m=r(838719),p=r(528984),_=r(333723),f=r(999291),g=r(786821),w=r(641819),E=r(115355),T=r(68741);function v({origin:e,iFrameHandler:t,overrideUseFedCMPrompt:r}){let i=window;try{window.origin===window.parent.origin&&(i=window.parent||window)}catch{}let a=(0,u.J)(()=>(0,w.o)(i),[i]),l=(0,o.wA)(),E=!!(0,g.S$)(),v=r??E,b=n.useRef(!1),y=n.useCallback(async({credential:r})=>{(0,f.g)("google_one_tap_login_start",e,{},{forwardToDatadog:!0});let n=(0,T.z)(r);if(!n)return;let o={name:n.name,token:r,tokenType:h.V.ID_TOKEN};if(t)return void t(o);try{l(_.WY({redirectUrl:function(){let e=(0,d.jM)();try{window.origin===window.parent.origin&&(e=window.parent.location.pathname+window.parent.location.search)}catch{}return e}()}));let t=await (0,c.W8)(o,{dispatch:l,apiUrl:c._B,origin:e});"mfa"===t.type&&i!==window&&i.postMessage({type:"auth_iframe_show"},"*"),"login"===t.type&&((0,f.g)("google_one_tap_login_complete",e,{},{forwardToDatadog:!0}),l(_.My({userId:t.user.id})))}catch(e){i!==window&&i.postMessage({type:"auth_iframe_show"},"*"),l(_.Qg({message:e.message,errorType:e.errorType}))}},[e,t,l,i]);return n.useEffect(()=>{if(a.status===p.r.SUCCESS&&!b.current){b.current=!0;let t=a.value,{google_client_id:r}=(0,m.default)();(0,s.KF)(void 0!==r,"google_client_id should be defined in initialOptions"),t.accounts.id.initialize({client_id:r,callback:y,cancel_on_tap_outside:!1,itp_support:!0,use_fedcm_for_prompt:v}),t.accounts.id.prompt(t=>{if(v){let r=t.getMomentType();(0,f.g)("google_one_tap_prompt_moment",e,{momentType:r,reason:"dismissed"===r?t.getDismissedReason():void 0},{forwardToDatadog:!0});return}"display"===t.getMomentType()?t.isDisplayed()?(0,f.g)("google_one_tap_prompt_displayed",e,{},{forwardToDatadog:!0}):(0,f.g)("google_one_tap_prompt_display_failed",e,{reason:t.getNotDisplayedReason()},{forwardToDatadog:!0}):"skipped"===t.getMomentType()?(0,f.g)("google_one_tap_prompt_skipped",e,{reason:t.getSkippedReason()},{forwardToDatadog:!0}):"dismissed"===t.getMomentType()&&(0,f.g)("google_one_tap_prompt_dismissed",e,{reason:t.getDismissedReason()},{forwardToDatadog:!0})})}},[a,y,e,v]),null}function b(e){return(0,a.getFeatureFlags)()?.google_one_tap_killswitch||(0,m.isGovEnvironment)()||e.hideOnMobile&&l.A.isMobileBrowser?null:(0,i.jsx)(E.d,{children:(0,i.jsx)(v,{...e})})}},68741(e,t,r){function i(e){let t;try{t=JSON.parse(n(e.split(".")[1]))}catch(e){return null}return t}r.d(t,{z:()=>i});let n=e=>{let t=e.replace(/-/g,"+").replace(/_/g,"/");try{return decodeURIComponent(atob(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}},835114(e,t,r){r.d(t,{n:()=>n});var i=r(63744);let n=(0,r(350923).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return i.GT?.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},965077(e,t,r){r.d(t,{UN:()=>v,jv:()=>function e(t,r){return(0,n.WI)(t.filter(e=>v(e,{isDesktopMenu:!1,isReadOnly:r.appModel.isReadOnly,isSearching:!!r.isSearching,selectedView:r.selectedView,isLimitedDevMode:r.isLimitedDevMode})).map(t=>(function(t,r){let n;if(!t)return null;if((0,c.k$)(t)){let e={...t};return e.disabled=!1,e.separator=!0,e}if((0,c.gN)(t))return{displayText:t.name,displayTextClassName:t.displayTextClassName,disabled:!0};if((0,c.id)(t))return{...t};let a=(0,c._o)(t)&&t.disabled||!t.name&&!((0,c._o)(t)&&(0,g.Yh)(r.appModel,t.action));if(!((0,c._o)(t)&&t.disabledAndForceVisible)&&a&&r.removeDisabledItems)return null;if((0,c._o)(t)&&t.nodeId)return function(e,t,r){if(!e)return null;(0,o.KF)(null!=r.sceneGraph&&null!=r.sceneGraphSelection,"You should be providing a scene graph and a selection if you are rendering a menu item for a particular layer");let n=r.sceneGraph.get(t);if(!n)return null;let a=(0,w.K3)(r.sceneGraphSelection,t),l=e=>"INSTANCE"===e.type||"SYMBOL"===e.type||(0,s.GI)(e),d=l(n);(0,s.Si)(r.sceneGraph,t,e=>{if(d=d||l(e))return"stop"});let h={displayText:n.name,shortcut:"",disabled:!1,isChecked:a,isPurple:d,isLocked:n.locked&&!a,alwaysShowCheckMarkOffset:r.alwaysShowCheckMarkOffset,recordingKey:e.action,action:e.action,name:e.name,args:e.args,source:e.source,callback:e.callback,onMouseEnter:e.onMouseEnter,onMouseExit:e.onMouseExit};return h.icon=i.createElement(T.Bf,{guid:n.guid,isMenuIcon:!0,isMenuIconPurple:h.isPurple},null),h}(t,t.nodeId,r);let l={...t},d=(0,c.Dz)(t);return l.displayText=((0,c.TV)(t)||(0,c._o)(t))&&t.displayText||n||(0,u.A)(d,t.args),(0,c._o)(t)&&t.shortcutText?l.shortcut=t.shortcutText:l.shortcut=(0,g.c1)(r.appModel.keyboardShortcuts,d),l.disabled=a,l.visuallyDisabledWithSelection=(0,c._o)(t)?t.visuallyDisabledWithSelection:void 0,l.rightText=(0,c._o)(t)?t.rightText:void 0,l.rightIcon=(0,c._o)(t)&&t.rightIcon?t.rightIcon:void 0,l.isChecked=(0,c._o)(t)&&(0,c.WJ)(r.appModel,t),l.alwaysShowCheckMarkOffset=r.alwaysShowCheckMarkOffset??("alwaysShowCheckMarkOffset"in t?t.alwaysShowCheckMarkOffset:void 0),l["data-onboarding-key"]=(0,c._o)(t)?t["data-onboarding-key"]:void 0,l.source=(0,c._o)(t)?t.source:void 0,(0,c.TV)(t)?(t.children?l.children=e(t.children,r):t.childDropdown&&(l.children=t.childDropdown.items),l.showDotDotDotButton=t.showDotDotDotButton,l.displayTextClassName=t.displayTextClassName,l.recordingKey=t.childDropdown&&t.childDropdown.recordingKey||t.name):l.recordingKey=t.recordingKey||t.action||t.name,(0,c._o)(t)&&t.inputProperty&&t.action&&(l.input={value:(0,c.f4)(r.appModel,t.inputProperty),width:t.inputWidth,onChange:e=>{void 0!==e&&p.VU.get(t.action,t.source??"menu",{inputValue:e})()}}),l})(t,r)))}});var i=r(105652),n=r(594293),o=r(523924),s=r(306831),a=r(741542),l=r(3752),d=r(513427),h=r(921282),c=r(171674),u=r(24611),m=r(575425),p=r(510550),_=r(448775),f=r(872768),g=r(817030),w=r(867873),E=r(541367),T=r(854560);function v(e,t){if(!e||!t.isSearching&&(0,c._o)(e)&&e.searchOnly)return!1;if(e.flags){if(e.flags.indexOf("!ship")>-1)return!1;if(e.flags.indexOf("!desktop")>-1){if(h.y3())return!1}else if(e.flags.indexOf("desktop")>-1&&!h.y3())return!1;if(e.flags.indexOf("recovery")>-1){if(!t.selectedView.isRecoveryMode)return!1}else if(e.flags.indexOf("!recovery")>-1&&t.selectedView.isRecoveryMode)return!1;let r=!t.isReadOnly&&!(0,E.$A)(t.selectedView)||(0,d.nl)();if(e.flags.indexOf("!edit")>-1){if(r)return!1}else if(e.flags.indexOf("edit")>-1&&!r)return!1;if(e.flags.indexOf("!dev_handoff")>-1&&t.selectedView.editorType===m.nT.DevHandoff||e.flags.indexOf("!limited_dev_mode")>-1&&t.isLimitedDevMode||e.flags.indexOf("!slides")>-1&&t.selectedView.editorType===m.nT.Slides||e.flags.indexOf("!sites")>-1&&t.selectedView.editorType===m.nT.Sites||e.flags.indexOf("!figmake")>-1&&t.selectedView.editorType===m.nT.Figmake||e.flags.indexOf("!cooper")>-1&&t.selectedView.editorType===m.nT.Cooper||e.flags.indexOf("!illustration")>-1&&t.selectedView.editorType===m.nT.Illustration||e.flags.indexOf("view_restricted")>-1&&_.Y5.isCopyExportRestricted())return!1;let i=e.flags.includes("design"),n=e.flags.includes("whiteboard"),o=e.flags.includes("dev_handoff"),s=e.flags.includes("slides"),a=e.flags.includes("sites"),l=e.flags.includes("cooper"),c=e.flags.includes("figmake"),u=e.flags.includes("illustration"),p=e.flags.includes("rfd_view");if(i||n||o||u||s||a||l||c)switch(t.selectedView.editorType){case m.nT.Figmake:if(!c)return!1;break;case m.nT.Sites:if(!a)return!1;break;case m.nT.Illustration:if(!i&&!u)return!1;break;case m.nT.Design:if(!i)return!1;break;case m.nT.Whiteboard:if(!n)return!1;break;case m.nT.DevHandoff:if(!o)return!1;break;case m.nT.Cooper:if(!l)return!1;break;case m.nT.Slides:if(!s)return!1}if(p&&("fullscreen"!==t.selectedView.view||!t.selectedView.showOverview)||e.flags.indexOf("!desktop_os_menu")>-1&&t.isDesktopMenu||e.flags.indexOf("desktop_os_menu")>-1&&!t.isDesktopMenu)return!1;let g=f.ck();if(e.flags.indexOf("!integration")>-1&&g||e.flags.indexOf("integration")>-1&&!g||e.flags.indexOf("!variables_table")>-1&&"fullscreen"===t.selectedView.view&&t.selectedView.showDevModeVariablesTable||e.flags.indexOf("!rfd_view")>-1&&"fullscreen"===t.selectedView.view&&t.selectedView.showOverview)return!1}return!!((0,c.k$)(e)||(0,c.gN)(e))||!(null!=e.platforms&&!function(e){for(let t of e)if("mac"===t&&l.A.mac)return!0;else if("linux"===t&&l.A.linux)return!0;else if("windows"===t&&l.A.windows)return!0;else if("!ipad"===t&&!l.A.isIpad)return!0;return!1}(e.platforms)||e.featureFlags&&!e.featureFlags.every(e=>(0,a.getFeatureFlags)()[e])||e.notFeatureFlags&&e.notFeatureFlags.some(e=>(0,a.getFeatureFlags)()[e]))}},399505(e,t,r){r.d(t,{K:()=>b});var i=r(239976);r(749190);var n=r(105652),o=r(645186),s=r(442549),a=r(194535),l=r(3752),d=r(865520),h=r(559055),c=r(244411),u=r(875604),m=r(985373),p=r(803978),_=r(928814),f=r(555111),g=r(94241),w=r(899589),E=r(171565),T=r(890049);class v extends d.uA{constructor(e){super(e),this.dontHideOnClick=!1,this.hideTooltips=e=>{let t=this.props.reduxState?.tooltip.state===w.zr.SHOWING,r=!!this.props.reduxState&&(0,E.aT)(e,this.props.reduxState);t&&!r&&this.props.dispatch(p.jD())},this.dropdownShowing=()=>this.props.reduxState&&this.props.reduxState.dropdownShown,this.hideDropdown=()=>{this.props.reduxState&&this.dropdownShowing()&&this.dropdownShowing()?.type!==u.x&&this.props.dispatch(m.oB())},this.hideDropdownsIfShowing=e=>{if(this.hideTooltips(e),!this.dropdownShowing())return d.aH;this.hideDropdown()},this.hideDropdownsIfShowingForPointerEvent=e=>{if((0,_.ft)()){let t=e.target;t instanceof Element&&!(0,_.UE)(t)&&this.hideDropdownsIfShowing(e)}},this.onClick=d.cZ(this,"click",e=>{if(this.dontHideOnClick){this.dontHideOnClick=!1;return}this.hideDropdownsIfShowing(e)}),this.onContextMenu=e=>{e.ctrlKey&&l.A.mac&&l.A.safari&&(this.dontHideOnClick=!0)},this.onDocumentKeyDown=e=>{27===e.keyCode&&(this.hideDropdown(),this.hideTooltips(e))},this.onDocumentWheel=e=>{(e.ctrlKey||e.metaKey)&&e.preventDefault()}}componentDidMount(){let e=!!l.A.safari;super.componentDidMount(),window.addEventListener("blur",this.hideDropdownsIfShowing),document.addEventListener("keydown",this.onDocumentKeyDown),document.addEventListener("wheel",this.onDocumentWheel,{passive:e})}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("blur",this.hideDropdownsIfShowing),document.removeEventListener("keydown",this.onDocumentKeyDown),document.removeEventListener("wheel",this.onDocumentWheel)}render(){return(0,i.jsx)(c.S.div,{ref:this.props.containerRef,className:T.yA,onClick:s.v.getFeatureGate("ee_remove_legacy_app_page_onclick")?void 0:this.onClick,onMouseDown:this.hideDropdownsIfShowing,onContextMenu:this.onContextMenu,onPointerDown:this.hideDropdownsIfShowingForPointerEvent,children:(0,i.jsx)("div",{className:T.Qs,children:this.props.children})})}}function b({recordingKey:e,children:t,containerRef:r}){let s=(0,o.wA)(),l=(0,a.R)(e=>({tooltip:e.tooltip,dropdownShown:e.dropdownShown,selectedView:{view:e.selectedView.view,editorType:"fullscreen"===e.selectedView.view?e.selectedView.editorType:void 0}})),d=(0,g.q5)(),c=n.useRef(!1);return n.useEffect(()=>{d?.key&&!c.current&&(c.current=!0,f.y.startTimer(d.key,(0,h.lM)()))},[d?.key]),(0,i.jsx)(v,{recordingKey:e,reduxState:l,dispatch:s,containerRef:r,children:t})}v.displayName="InAppPage"},375391(e,t,r){r.d(t,{Ao:()=>E,EL:()=>p.EL,F_:()=>p.F_,Xj:()=>b,od:()=>v,rk:()=>w,uF:()=>f});var i,n=r(239976),o=r(105652),s=r(523924),a=r(335127),l=r(150956),d=r(82131),h=r(295815),c=r(354991),u=r(999682),m=r(269789),p=r(579959);r(526865);var _=r(242655);let f=(0,h.hG)("40px")+1,g={x:"left",y:"top"};var w=((i=w||{})[i.SKIP_ENSURE_MODAL_ON_SCREEN=0]="SKIP_ENSURE_MODAL_ON_SCREEN",i[i.CALL_ENSURE_MODAL_ON_SCREEN=1]="CALL_ENSURE_MODAL_ON_SCREEN",i);let E=o.forwardRef(function({beMoreAccessible:e,...t},r){let i=o.useRef(null),s=(0,o.useId)(),[l,d]=o.useState(t.initialWidth),[h,u]=o.useState(null!=t.initialHeight?t.initialHeight+f:void 0),[m,p]=o.useState(t.initialPosition);o.useImperativeHandle(r,()=>({ensureModalOnScreen:()=>i.current?.ensureModalOnScreen(),getCurrentContentSize:()=>i.current?.getCurrentContentSize(),getEl:()=>i.current?.getEl(),setTransform:e=>i.current?.setTransform(e)}));let _=(0,a.ZC)(t.initialWidth),g=(0,a.ZC)(t.initialHeight);o.useEffect(()=>{_!==t.initialWidth&&d(t.initialWidth)},[_,t.initialWidth]),o.useEffect(()=>{g!==t.initialHeight&&u(null!=t.initialHeight?t.initialHeight+f:void 0)},[g,t.initialHeight]),o.useEffect(()=>{t.initialHeight||t.allowAutoExpanding||i.current?.resizeModalHeight()},[i,t.allowAutoExpanding,t.initialHeight]);let w=o.useCallback(()=>{if(!i.current)return;let e=!i.current.state.shouldCallEnsureModalIsOnScreen;(t.alwaysEnsureModalOnScreen||t.alwaysEnsureHeaderModalOnScreen)&&e&&i.current.setState({shouldCallEnsureModalIsOnScreen:!0})},[i,t.alwaysEnsureHeaderModalOnScreen,t.alwaysEnsureModalOnScreen]),E=o.useCallback(()=>{p(t.initialPosition),w()},[t.initialPosition,w]),T=(0,a.ZC)(t.initialPosition);(0,o.useLayoutEffect)(()=>{let e=!T?.equals(t.initialPosition),r=i.current?.state.hasCustomPosition??!1;if(e&&!r){if(t.useOnScreenInitialPosition){let e=T??t.initialPosition,r=c.Mi.subtract(e,t.initialPosition);p(m.subtract(r))}else p(t.initialPosition);w()}},[t.initialPosition,t.useOnScreenInitialPosition,T,m,t.alwaysEnsureModalOnScreen,t.alwaysEnsureHeaderModalOnScreen,i,w]),(0,o.useLayoutEffect)(()=>{let t=i.current?.getEl();e&&t&&t.focus()},[]);let b=e?{titleId:s,tabIndex:t.tabIndex??-1}:{};return(0,n.jsx)(v,{...t,beMoreAccessible:e,...b,ref:i,height:h,position:m,resetPositionToInitial:E,setHeight:u,setPosition:p,setWidth:d,width:l})});class T extends o.Component{constructor(e){super(e),this.el=void 0,this.getEl=()=>this.el,this.frameEl=void 0,this.inBounds=!1,this.getHeight=e=>Math.min(e,this.props.maxHeight||e),this.getWidth=e=>Math.min(e,this.props.maxWidth||e),this.minBottomMargin=()=>this.props.minBottomMargin??m.I_,this.minTopMargin=()=>this.props.minTopMargin??m.eN,this.minLeftMargin=()=>this.props.minLeftMargin??m.em,this.minRightMargin=()=>this.props.minRightMargin??m.lq,this.resizeModalHeight=()=>{if(!this.el)return;let e=this.el.style.height;this.el.style.height="";let t=this.el.getBoundingClientRect();this.el.style.height=e,this.props.height!==t.height&&(this.props.setHeight(this.getHeight(t.height)),this.props.acceptHeight&&this.props.acceptHeight(t.height))},this.lastInnerWidth=window.innerWidth,this.getOnScreenPositionOfHeader=e=>{let{top:t,width:r,left:i}=e.getBoundingClientRect(),n=new DOMRect(i,t,r,f);return this.getOnScreenPositionOfBoundingRect(n)},this.getOnScreenPositionOfElement=e=>this.getOnScreenPositionOfBoundingRect(e.getBoundingClientRect()),this.getOnScreenPositionOfBoundingRect=e=>{let{top:t,bottom:r,width:i,height:n,right:o,left:s}=e,a=this.props.position.y;t<this.minTopMargin()?a="top"===this.state.constraints.y?this.minTopMargin():this.minBottomMargin():!this.props.canRenderBelowViewport&&r+this.minBottomMargin()>window.innerHeight&&(a="top"===this.state.constraints.y?Math.max(this.minTopMargin(),window.innerHeight-(n+this.minBottomMargin())):this.minBottomMargin());let l=this.props.position.x,d=this.lastInnerWidth-l,h=window.innerWidth-s;return o>window.innerWidth-this.minRightMargin()&&h<d&&(l=window.innerWidth-d),this.props.allowPartialHeaderOnScreen?o<this.minLeftMargin()+40?l="left"===this.state.constraints.x?40-i:40:s>window.innerWidth-this.minRightMargin()-40&&(l="left"===this.state.constraints.x?window.innerWidth-this.minRightMargin()-40:window.innerWidth-this.minRightMargin()-i-40):s<this.minLeftMargin()?l="left"===this.state.constraints.x?this.minLeftMargin():this.minLeftMargin()+i:o>window.innerWidth-this.minRightMargin()&&(l="left"===this.state.constraints.x?window.innerWidth-this.minRightMargin()-i:window.innerWidth-this.minRightMargin()),new c.Mi(l,a)},this.ensureModalOnScreen=(0,d.n)(100,()=>{let e;this.el&&((e=this.props.alwaysEnsureHeaderModalOnScreen&&!this.props.alwaysEnsureModalOnScreen?this.getOnScreenPositionOfHeader(this.el):this.getOnScreenPositionOfElement(this.el)).equals(this.props.position)||this.props.setPosition(e),this.lastInnerWidth=window.innerWidth)}),this.containerRef=e=>{this.el=e},this.frameRef=e=>{this.frameEl=e},this.observer=new ResizeObserver(e=>{for(let t of e)this.frameEl===t.target&&this.ensureModalOnScreen()}),this.onDragStateChange=(e,t)=>{switch(e){case p.mq.Active:{let e=new c.Mi(this.el.offsetLeft,this.el.offsetTop),r=new c.Mi(t.pageX,t.pageY);this.setState({constraints:g,startingDragPosition:{elementPosition:e,mousePosition:r}}),this.props.setPosition(e);break}case p.mq.Dragging:this.props.onDragStart?.(t);break;case p.mq.None:{let e=this.props.onDragEnd?.(this.props.position)??1;this.setState({startingDragPosition:null}),e&&(this.props.alwaysEnsureModalOnScreen||this.props.alwaysEnsureHeaderModalOnScreen)&&this.ensureModalOnScreen();break}default:(0,s.xb)(e)}},this.onDrag=e=>{if(!this.state.startingDragPosition)return;let t=this.props.width||0,r=(0,m.Ij)(e,this.state.startingDragPosition);if(this.props.allowPartialHeaderOnScreen||(r=r.clampX({x:-(t/2),width:window.innerWidth})),this.setState({hasCustomPosition:!0}),this.props.setPosition(r),this.props.bounds){let e=(0,c.gR)(this.props.bounds,r);e&&!this.inBounds?(this.props.onEnterBound?.(),this.inBounds=!0):this.inBounds&&!e&&(this.props.onLeaveBound?.(),this.inBounds=!1)}},this.onResize=(e,t)=>{let r=(0,m.E0)(e,{...t,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth,minHeight:this.props.minHeight,minWidth:this.props.minWidth});r&&(this.setState({hasCustomPosition:!0,constraints:{x:"left",y:"top"}}),this.props.setWidth(r.width),this.props.setHeight(r.height),this.props.setPosition(r.position),this.props.onResize?.({width:r.width,height:r.height}))},this.state={hidden:e.hidden,constraints:e.initialConstraints||g,startingDragPosition:null,hasCustomPosition:!1,showArrow:!0,shouldCallEnsureModalIsOnScreen:!1}}componentDidMount(){if(this.props.width&&this.props.height||this.props.allowAutoExpanding)this.ensureModalOnScreen();else{let{width:e,height:t}=this.el.getBoundingClientRect();this.props.width?this.props.setHeight(this.getHeight(t)):this.props.height?this.props.setWidth(this.getWidth(e)):(this.props.setWidth(this.getWidth(e)),this.props.setHeight(this.getHeight(t)))}window.addEventListener("resize",this.ensureModalOnScreen);let e=this.props.allowResizeHeight||this.props.allowResizeWidth;this.frameEl&&!e&&this.observer.observe(this.frameEl),this.el&&this.props.acceptHeight&&this.props.acceptHeight(this.el.getBoundingClientRect().height)}componentWillUnmount(){window.removeEventListener("resize",this.ensureModalOnScreen),this.observer.disconnect()}componentDidUpdate(e,t,r){let i=!1;this.state.hasCustomPosition?this.state.showArrow&&this.setState({showArrow:!1}):(e.initialConstraints?.x!==this.props.initialConstraints?.x||e.initialConstraints?.y!==this.props.initialConstraints?.y)&&(i=!0,this.setState({constraints:this.props.initialConstraints||g})),this.props.canResetPosition&&!e.canResetPosition&&(this.setState({constraints:this.props.initialConstraints||g,startingDragPosition:null,hasCustomPosition:!1,showArrow:!0}),this.props.resetPositionToInitial?.()),this.props.width===e.width&&this.props.height===e.height||this.props.allowResizeHeight||this.props.allowResizeWidth||this.setState({shouldCallEnsureModalIsOnScreen:!0}),(this.props.alwaysEnsureModalOnScreen||this.props.alwaysEnsureHeaderModalOnScreen)&&i&&!this.state.shouldCallEnsureModalIsOnScreen&&this.setState({shouldCallEnsureModalIsOnScreen:!0}),this.state.shouldCallEnsureModalIsOnScreen&&!i&&(this.ensureModalOnScreen(),this.setState({shouldCallEnsureModalIsOnScreen:!1})),this.frameEl&&r?.scrollTop&&(this.frameEl.scrollTop=r.scrollTop),this.props.shouldScrollToBottom&&this.props.shouldScrollToBottom()&&this.frameEl&&(this.frameEl.scrollTop=this.frameEl.scrollHeight)}getSnapshotBeforeUpdate(e,t){return{scrollTop:this.frameEl?.scrollTop}}getCurrentContentSize(){return(0,s.vA)(!!this.props.height),(0,s.vA)(!!this.props.width),{x:this.props.width,y:this.props.height-f}}static getDerivedStateFromProps(e,t){if(e.hidden!==t.hidden)if(e.hidden)return{hidden:!0,hasCustomPosition:!1};else return{hidden:t.shouldCallEnsureModalIsOnScreen};return null}setTransform(e){let t=e({constraints:this.state.constraints,width:this.props.width,height:this.props.height,position:this.props.position});t&&(this.props.setWidth(t.width),this.props.setHeight(t.height),this.props.setPosition(t.position),this.props.onResize?.({width:t.width,height:t.height}),this.props.onDragEnd?.(t.position))}render(){let e,{acceptHeight:t,allowAutoExpanding:r,allowPartialHeaderOnScreen:i,alwaysEnsureHeaderModalOnScreen:o,alwaysEnsureModalOnScreen:s,autoflowHeight:a,canRenderBelowViewport:d,disableHeaderBottomBorder:h,id:c,initialConstraints:u,width:m,height:_,position:f,maxHeight:g,maxWidth:w,minBottomMargin:E,minHeight:T,minLeftMargin:v,minRightMargin:b,minTopMargin:y,minWidth:M,onDragStart:S,onDragEnd:I,onResize:C,shouldScrollToBottom:x,bounds:A,onEnterBound:O,onLeaveBound:N,showArrow:R,...P}=this.props,{showArrow:D,constraints:k,hidden:L}=this.state;return _&&(e=this.props.autoflowHeight||g&&g<_?void 0:_),(0,n.jsx)(p.b2,{...P,beMoreAccessible:this.props.beMoreAccessible,constraints:k,containerRef:(0,l.Ay)(this.props.containerRef,this.containerRef),disableHeaderBottomBorder:h,frameRef:this.frameRef,height:e,hidden:L,id:c,onDrag:this.onDrag,onDragStateChange:this.onDragStateChange,onResize:this.onResize,position:f,showArrow:D,titleId:this.props.titleId,transparentContentBackground:this.props.transparentContentBackground,width:m})}}T.displayName="DraggableModal";let v=o.forwardRef((e,t)=>(0,n.jsx)(T,{ref:t,...e}));class b extends o.Component{render(){return(0,n.jsx)("div",{className:`${_.Np} ${u.Dm}`,onMouseDown:this.props.clickOutsideToHide?this.props.onClose:void 0,children:(0,n.jsx)(E,{...this.props})})}}b.displayName="DraggableModalBgDisabled"},914724(e,t,r){r.d(t,{n:()=>I});var i=r(239976),n=r(395227),o=r(71239),s=r(297151),a=r(850159),l=r(350923),d=r(214030),h=r(865804),c=r(63633),u=r(870527),m=r(227031),p=r(425145),_=r(921424),f=r(90550),g=r(397383),w=r(687497),E=r(471838),T=r(865780),v=r(331850),b=r(524495),y=r(597201),M=r(113641),S=r(115743);function I(e){return(0,i.jsx)(m.u9,{label:"OrgSuspensionModal",children:(0,i.jsx)(C,{...e})})}function C(e){let t=(0,v.D6)("OrgSuspensionModal"),r=(0,v.j_)(t).unwrapOr(!1),m=(0,T.sZ)(),w=(0,c.Xf)(e.currentOrgId,r),S=(w?.data?.invoices??[]).find(e=>"open"===e.status&&(0,u.A)(e.past_due_at)<(0,p.w)().subtract(21,"day")&&(0,u.A)(e.past_due_at)>(0,p.w)().subtract(90,"day")),I=n.hS({open:!0,onClose:()=>{},preventUserClose:!0}),C=(0,l.md)((0,E.U)(e.currentOrgId));if(C.data?.status===b.Q.EXPIRED)return(0,i.jsx)(i.Fragment,{});if("loading"===w.status)return(0,i.jsx)(o.bL,{manager:I,width:320,children:(0,i.jsx)(s.vo,{children:(0,i.jsx)(g.Y,{direction:"vertical",width:"100%",horizontalAlignItems:"center",padding:16,children:(0,i.jsx)(f.kt,{})})})});m?.standing===y.ZG.DEACTIVATED&&(S=void 0);let N=[];return r&&(N=S?[(0,i.jsx)(_.NY,{href:"https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215",target:"_blank",trackingProperties:{trackingDescriptor:d.c.CONTACT_SUPPORT},children:(0,a.tx)("payments_modal.contact_support")},"contact_support"),(0,i.jsx)(_.rb,{href:S.invoice_url,target:"_blank",trackingProperties:{trackingDescriptor:d.c.PAY_INVOICE},children:(0,a.tx)("payments_modal.pay_invoice")},"pay_invoice")]:[(0,i.jsx)(_.rb,{href:"https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215",target:"_blank",trackingProperties:{trackingDescriptor:d.c.CONTACT_SUPPORT},children:(0,a.tx)("payments_modal.contact_support")},"contact_support")]),(0,i.jsx)(h.fu,{name:M.e0.ORG_SUSPENSION_MODAL,properties:{orgId:m?.id,isOrgAdmin:r},children:(0,i.jsx)(o.bL,{manager:I,width:320,children:(0,i.jsxs)(s.vo,{children:[(0,i.jsx)(s.Y9,{children:(0,i.jsx)(s.hE,{children:(0,i.jsx)(x,{overdueInvoice:S})})}),(0,i.jsx)(s.nB,{children:(0,i.jsx)(g.Y,{direction:"vertical",spacing:16,width:"100%",children:r?(0,i.jsx)(A,{overdueInvoice:S}):(0,i.jsx)(O,{})})}),N.length>0?(0,i.jsx)(s.wi,{children:(0,i.jsx)(s.jk,{children:N})}):null]})})})}function x(e){let t=(0,v.D6)("OrgSuspensionModalHeader");return(0,v.j_)(t).unwrapOr(!1)&&e.overdueInvoice?(0,i.jsx)(w.E,{fontWeight:"bold",fontSize:11,children:(0,a.tx)("payments_modal.pay_overdue_invoice_to_regain_access")}):(0,i.jsx)(w.E,{fontWeight:"bold",fontSize:11,children:(0,a.tx)("payments_modal.you_no_longer_have_access_to_this_organization")})}function A(e){let t=(0,T.sZ)();return e.overdueInvoice?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontWeight:"regular",fontSize:11,children:(0,a.tx)("payments_modal.your_files_are_safe_but_youll_need_to_pay",{dueDate:(0,u.A)(e.overdueInvoice.due_at).format("MMM D"),orgName:(0,i.jsx)(w.E,{fontWeight:"bold",fontSize:11,children:t?.name})})}),(0,i.jsx)(w.E,{fontWeight:"regular",fontSize:11,children:(0,a.tx)("payments_modal.account_switcher_and_support_cta",{switchAccountLink:(0,i.jsx)(S.h,{text:(0,a.tx)("payments_modal.switch_organization_or_account")})})})]}):(0,i.jsx)(w.E,{fontWeight:"regular",fontSize:11,children:(0,a.tx)("payments_modal.account_switcher_and_support_cta",{switchAccountLink:(0,i.jsx)(S.h,{text:(0,a.tx)("payments_modal.switch_organization_or_account")})})})}function O(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontWeight:"regular",fontSize:11,children:(0,a.tx)("payments_modal.please_reach_out_to_your_organization_admin_s_to_resolve_this_billing_issue")}),(0,i.jsx)(w.E,{fontWeight:"regular",fontSize:11,children:(0,a.tx)("payments_modal.account_switcher_cta",{switchAccountLink:(0,i.jsx)(S.h,{text:(0,a.tx)("payments_modal.switch_organization_or_account")})})})]})}},758429(e,t,r){r.d(t,{O:()=>l});var i=r(239976),n=r(850159),o=r(436174),s=r(27410),a=r(113116);let l=(0,r(936652).Ju)(function(){return(0,i.jsx)(s.u,{headerText:(0,n.tx)("policy_acknowledgement_enforcement.mobile_modal.header"),secondaryText:(0,n.tx)("policy_acknowledgement_enforcement.mobile_modal.description"),children:(0,i.jsx)(a.$z,{variant:"primary",onClick:()=>{o.Ay.postRedirect("/exit?url="+encodeURIComponent(window.location.origin),"_blank")},children:(0,n.tx)("policy_acknowledgement_enforcement.mobile_modal.open_in_browser")})})},"POLICY_ACKNOWLEDGEMENT_ENFORCEMENT_MOBILE_MODAL")},342232(e,t,r){r.d(t,{d:()=>m,O:()=>p});var i=r(239976),n=r(71239),o=r(297151),s=r(878521),a=r(395227),l=r(850159),d=r(741542),h=r(921282),c=r(212001);let u="unsupported_browser--bodyMediumMixin--h3Tz1";function m(){return!!((0,h.hl)()&&!(0,d.getFeatureFlags)().desktop_allow_outdated_version||(0,h.fU)())}function p(){let e=(0,h.fU)(),t=a.hS({open:!0,onClose:()=>{},preventUserClose:!0});return e?(0,i.jsx)(n.bL,{manager:t,width:"md",children:(0,i.jsxs)(o.vo,{children:[(0,i.jsx)(o.Y9,{children:(0,i.jsxs)(o.hE,{children:[(0,l.tx)("unsupported_browser_modal.os_not_supported.title")," "]})}),(0,i.jsx)(o.nB,{children:(0,i.jsxs)("div",{className:u,children:[(0,l.tx)("unsupported_browser_modal.os_not_supported.description",{figmaWebLink:(0,i.jsx)(s.N,{newTab:!0,href:"https://www.figma.com",trusted:!0,children:(0,l.tx)("unsupported_browser_modal.os_not_supported.figma_web_link")})}),(0,i.jsx)("div",{className:c.jE,children:(0,l.tx)("unsupported_browser_modal.os_not_supported.browser_recommendation",{firefoxLink:(0,i.jsx)(s.N,{newTab:!0,href:"https://www.mozilla.org/en-US/firefox/new/",trusted:!0,children:(0,l.tx)("unsupported_browser_modal.os_not_supported.browser_recommendation_link")})})})]})})]})}):(0,i.jsx)(n.bL,{manager:t,width:"md",children:(0,i.jsxs)(o.vo,{children:[(0,i.jsx)(o.Y9,{children:(0,i.jsx)(o.hE,{children:(0,l.tx)("desktop_update_modal.desktop_update.title")})}),(0,i.jsx)(o.nB,{children:(0,i.jsx)("div",{className:u,children:(0,l.tx)("desktop_update_modal.desktop_update.description",{downloadsPageLink:(0,i.jsx)(s.N,{newTab:!0,href:"/downloads",trusted:!0,children:(0,l.tx)("desktop_update_modal.desktop_update.link")})})})})]})})}},115743(e,t,r){r.d(t,{h:()=>l});var i=r(239976),n=r(645186),o=r(289886),s=r(985373),a=r(385429);function l(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown?.type===a.xi);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:o.s.colorTextBrand.cursorPointer.selectNone.$,onClick:e=>{let i=e.currentTarget.getBoundingClientRect();r?t(s.oB()):i&&t(s.j7({type:a.xi,data:{targetRect:i}}))},"data-testid":e.dataTestId,children:e.text}),(0,i.jsx)(a.bx,{})]})}},43394(e,t,r){r.d(t,{$h:()=>m,$l:()=>S,BG:()=>J,FP:()=>q,JA:()=>K,JC:()=>Y,PG:()=>V,Q7:()=>y,S0:()=>u,SL:()=>P,T$:()=>G,Ty:()=>E,VN:()=>A,VQ:()=>W,X9:()=>U,Xw:()=>_,YH:()=>C,YX:()=>b,ZE:()=>R,_D:()=>z,aV:()=>O,bT:()=>B,bk:()=>p,eL:()=>D,fj:()=>$,fu:()=>T,kd:()=>M,ni:()=>v,nt:()=>L,pC:()=>g,pr:()=>x,qV:()=>k,r3:()=>F,uN:()=>N,xO:()=>H,xo:()=>I,zD:()=>w,zx:()=>j});var i,n=r(350923),o=r(828205),s=r(63504),a=r(795210),l=r(419586),d=r(812921),h=r(206324),c=r(27261);let u=(0,n.eU)([]),m=(0,n.eU)(0),p=(0,n.eU)(e=>e(u)[e(m)]),_=(0,n.eU)(e=>e(u)[e(m)-1]),f=(0,n.eU)(e=>e(u)[e(m)+1]),g=(0,n.eU)(e=>{let t=e(u);return 0!==t.length&&e(p)===t[t.length-1]}),w=(0,n.eU)(e=>void 0!==e(_)),E=(0,n.eU)(null,(e,t)=>{void 0!==e(f)&&t(m,e(m)+1)}),T=(0,n.eU)(null,(e,t)=>{void 0!==e(_)&&t(m,e(m)-1)}),v=(0,n.eU)("default"),b=(0,n.eU)(e=>{let t=e(h.OC);return(0,c.Jh)(t)}),y=(0,n.eU)(""),M=(0,n.eU)(!1),S=(0,n.eU)(["","",""]),I=["sneha@example.com","oscar@example.com ","molly@example.com","shiva@example.com","elynn@example.com","dian@example.com","linda@example.com"],C=I.map(e=>e.split("@")[0]),x=(0,d.bt)(e=>null!==e.user&&(0,o.cn)(e.user));var A=((i=A||{}).STARTER="starter",i.PROFESSIONAL="professional",i.ORG="org",i);let O=(0,n.eU)(""),N=(0,n.eU)(""),R=(0,n.eU)(new Set),P=(0,n.eU)(void 0),D=(0,n.eU)(""),k=(0,n.eU)(new Set),L=(0,n.eU)(e=>e(R).has("student")||e(R).has("educator")||e(V).has("school")),F=(0,n.eU)(e=>e(R).has("student")),U=(0,n.eU)(new Set),B=(0,n.eU)(new Set),V=(0,n.eU)(new Set),H=(0,n.eU)(new Set),W=(0,n.eU)(new Set),j=(0,n.eU)(new Set),G=(0,n.eU)(e=>{let t=e(U),r=e(B);return t.has("yes_many_times")||r.has("yes_many_times")?"yes_many_times":t.has("yes_a_few_times")||r.has("yes_a_few_times")?"yes_a_few_times":t.has("no_first_time")||r.has("no_first_time")?"no_first_time":void 0}),z=(0,n.eU)(!1),K=(0,n.eU)(a.N_.dict(e=>!1)),Y=(0,n.eU)(e=>{let t=e($);return!!t&&!!a.N_.has(t)&&(e(K)[t]||!1)}),$=(0,n.eU)(null),q=(0,n.eU)(e=>e($)===s.ud.DEVELOPER),J=(0,n.t_)(e=>!!e(l.qG).data?.opted_in_email)},27561(e,t,r){r.d(t,{Ql:()=>E,WB:()=>v,ry:()=>T});var i=r(239976),n=r(645186),o=r(850159),s=r(608293),a=r(734926),l=r(630222),d=r(773201),h=r(508295),c=r(859937),u=r(856201),m=r(710383),p=r(328151),_=r(931349),f=r(534592),g=r(762589),w=r(801257);function E(e,t,r){let i=(0,s.EJ)(e,25),n=r?function(e){switch(e){case u.e6.OWNER:return" (owner)";case u.e6.ADMIN:return" (admin)";default:return""}}(r):"";return t?(0,o.t)("avatar.tooltip.current_user_handle",{handle:i,roleName:n}):(0,o.t)("avatar.tooltip.other_user_handle",{handle:i,roleName:n})}function T(e){let t=(0,h.iZ)(),r=(0,n.d4)(e=>e.multiplayer),i=(0,a.$D)();return function(e){let{localUser:t,tooltipUser:r,multiplayer:i,isInWorkshop:n,selectedView:o,isInSinglePlayerView:s}=e,a=r.id?.includes("VISITOR-")||!r.id,l=-1!==i.sessionID,d="sessionId"in r&&r.sessionId===i.sessionID,h="sessionId"in r&&r.sessionId===i.presenterSessionID,c="sessionId"in r&&i.observingSessionID===r.sessionId;if(!l||(0,m.QB)(o)||s)return a?g.cN.NONE:g.cN.VIEW_PROFILE;if(d)return a||!t?n?g.cN.EDIT_NAME:g.cN.NONE:h?g.cN.STOP_PRESENTING:g.cN.NONE;return h&&!c?g.cN.FOLLOW_PRESENTER:c?g.cN.STOP_OBSERVE:g.cN.START_OBSERVE}({localUser:t,tooltipUser:e,multiplayer:r,isInWorkshop:i,selectedView:(0,d._6)(),isInSinglePlayerView:(0,_.WW)()})}function v(e){let t=(0,h.iZ)(),r=(0,n.d4)(e=>e.multiplayer),o=(0,c.q)(),s=(0,f.cJ)(),a="user"in e?e.user:e.role.user,d=!1,u="sessionId"in a&&a.sessionId===r.sessionID,m=r.allUsers.find(e=>e.userID===a.id),_=s?m?.sitesViewState:void 0;t?d=a.id===t.id:"sessionId"in a&&(d=u);let v="role"in e?E(a.handle,d,e.role.level):E(a.handle,d),b=T(a),y=`/files${o}/user/${a.id}`,M="sessionId"in a?a.sessionId:void 0,S={"data-tooltip":g.M$,"data-tooltip-click-action":b,"data-tooltip-interactive":!0,"data-tooltip-max-width":300,"data-tooltip-offset-y":e.tooltipOffsetY??8,"data-tooltip-timeout-delay":150,"data-tooltip-type":p.Ib.SPECIAL,"data-tooltip-user-handle":v,"data-tooltip-user-profile-url":y,"data-tooltip-user-session-id":M,"data-tooltip-user-view-state":_,id:e.id,style:{display:"inherit"}},I=(0,n.wA)(),C=(0,g.lg)({action:b,profileUrl:y,dispatch:I,userSessionID:M}),x=(0,l.HG)(),A=(0,g.Rd)({action:b,isSpotlightEnabled:x});return e.isInteractive&&C?(0,i.jsx)("button",{...S,"aria-label":`${v} ${A}`,className:w.Z,type:"button",onClick:C,children:e.children}):(0,i.jsx)("div",{...S,children:e.children})}},385429(e,t,r){r.d(t,{bx:()=>D,xi:()=>C});var i=r(239976),n=r(105652),o=r(645186),s=r(208650),a=r(145906),l=r(850159),d=r(741542),h=r(295815),c=r(824234),u=r(295652),m=r(985820),p=r(613629),_=r(898312),f=r(231484),g=r(26197),w=r(714405),E=r(110638),T=r(508295),v=r(165617),b=r(493671);r(608594);var y=r(112637),M=r(664879),S=r(57231),I=r(284738);let C="FILE_BROWSER_WORKSPACE_SWITCHER",x="ACCOUNT_SWITCHING_COMMUNITY_ONBOARDING_KEY",A=(0,h.hG)("7px"),O=(0,h.hG)("224px"),N=(0,h.hG)("364px"),R=(0,h.hG)("32px")+2*(0,h.hG)("4px"),P=R+1;function D(){let e,t=(0,o.wA)(),r=(0,o.d4)(e=>e.dropdownShown?.type===C),h=(0,o.d4)(e=>e.selectedView),D=(0,o.d4)(e=>e.dropdownShown?.data?.targetRect),k=(0,o.d4)(e=>e.authedUsers),L=(0,o.d4)(e=>e.authedProfilesById),F=(0,E.FC)(),U=(0,T.Pc)(),B=(0,o.d4)(e=>e.orgById),V=(0,o.d4)(e=>e.authedTeamsById),H=(0,o.d4)(e=>e.authedActiveCommunityProfile),W=(0,f.UP)(),j=(0,o.d4)(e=>Object.keys(e.authedProfilesById).some(t=>!!e.authedProfilesById[t].org_id||!!e.authedProfilesById[t].team_id)),G=(0,o.d4)(e=>e.userNotifications.communityProfileBellStates);return n.useEffect(()=>{(0,g.nm)()(t).catch(e=>{let r=e?.data?.message||(0,l.t)("file_browser.error_try_again");t(p.F.enqueue({message:r,type:"error"}))})},[t]),(0,i.jsx)(i.Fragment,{children:r&&(0,i.jsx)(v.j,{dispatch:t,items:(e=[],k.orderedIds.forEach(r=>{let n=k.byId[r];if(!n)return;e=e.concat([{displayText:n.email,optionHeight:R,icon:(0,i.jsx)("span",{className:y.PN}),disabled:!0}]);let o=n.plans?.map(e=>{let r={userId:n.id,orgId:e.is_org?e.plan_id:null,teamId:e.is_org?null:e.plan_id},o=(0,w.O_)(F,r),h=!!e.is_guest,c=r.orgId&&!h&&(0,d.getFeatureFlags)().xr_debounce_threshold?{view:"teamFeed"}:{view:"recentsAndSharing"};return{displayText:e.name,optionHeight:P,itemBadge:h?(0,i.jsx)(a.J,{mode:"dark",children:(0,i.jsx)(s.E,{variant:"defaultFilled",children:(0,l.t)("navbar.navbar.guest")})}):void 0,icon:(0,i.jsx)(m.n,{userId:r.userId,orgId:r.orgId,teamId:r.teamId}),isActive:o,isChecked:o,className:y.jx,callback:()=>t(_._l({workspace:r,view:c})),activeClassName:y.sI}})||[];e=(e=e.concat(o)).concat([{displayText:"",disabled:!0,separator:!0}])}),e).concat((()=>{let e=!!G&&Object.values(G).some(e=>e),r=(0,b.s)(k.byId,W,U,B,V,L,G,H,h,t);if(r.length>1){let t=[{displayText:j?"":(0,l.t)("navbar.community.browse_community_workspace_switcher_label"),optionHeight:R,itemBadge:j?(0,i.jsxs)("div",{className:y.zS,children:[(0,l.tx)("navbar.community.browse_community_workspace_switcher_label"),(0,i.jsx)("a",{href:"https://help.figma.com/hc/articles/4404108672663",target:"_blank",className:y.P2,children:(0,i.jsx)(c.B,{svg:M.A,className:y.E3})})]}):void 0,icon:(0,i.jsx)("span",{className:y.s9}),disabled:!0}];return[{displayText:(0,l.t)("navbar.community.community_label"),optionHeight:R,icon:(0,i.jsxs)("div",{className:y.aS,children:[e&&(0,i.jsx)("div",{className:y.e3}),(0,i.jsx)(u.t,{svg:S.A,fallbackSvg:I.A})]}),onMouseEnter:()=>(0,f.nR)("submenu",h.view),className:y.uK,children:t.concat(r),activeClassName:y.sI,"data-onboarding-key":x}]}if(1!==r.length)return[];{let t=r[0];return[{displayText:(0,l.t)("navbar.community.community_label"),sideText:t.sideText,rightJustifySideText:!0,optionHeight:R,icon:(0,i.jsxs)("div",{className:y.aS,children:[e&&(0,i.jsx)("div",{className:y.e3}),(0,i.jsx)(u.t,{svg:S.A,fallbackSvg:I.A})]}),activeClassName:y.sI,isActive:t.isActive,isChecked:t.isChecked,className:y.uK,callback:t.callback,"data-onboarding-key":x}]}})()),lean:"left",leanPadding:A,minWidth:O,onSelectItem:(e,r)=>{e.callback&&e.callback("",null,t)},parentRect:D,rootAndSubmenuMaxWidth:N,showCheckmarkOnRight:!0,showPoint:!0})})}},471532(e,t,r){r.d(t,{UU:()=>l,fD:()=>s,mk:()=>o,qH:()=>i,vH:()=>n,ym:()=>a});let i="a047d87bd41a4e4377a982c674c40929ff668730",n="4326f8c1325b3a45331651aca034ee5ac08390c0",o=240/135,s="browser_notifications_onboarding_bell_target_key",a="browser_notifications_onboarding_comment_reply_target_key",l="browser_notifications_onboarding_new_comment_target_key"},30890(e,t,r){r.d(t,{$R:()=>E,E:()=>c.E,FJ:()=>b,GZ:()=>y,Lb:()=>x,N7:()=>f,NQ:()=>m,QV:()=>w,R7:()=>S,Up:()=>M,dR:()=>u,jJ:()=>_,jM:()=>p,mc:()=>T,t7:()=>c.t7,vk:()=>v,wy:()=>A});var i=r(706354);r(3752);var n=r(436174),o=r(490753),s=r(462198),a=r(83522),l=r(153645),d=r(181645),h=r(838719),c=r(893015);function u(e,t){let r,n;try{r=new URL(e,h.FAKE_DEFAULT_ORIGIN),n=new URLSearchParams(r.search)}catch(r){throw(0,s.$D)(i.FigmaTeam.WAYFINDING,r,{extra:{...t,url:e}}),r}Object.entries(t).forEach(e=>{let[t,r]=e;n.set(t,r)});let o=n.toString();o&&(r.search=`?${o}`);let a=r.href;return a.startsWith(h.FAKE_DEFAULT_ORIGIN)?a.substr(h.FAKE_DEFAULT_ORIGIN.length):a}function m(e,t,r){let i=new URL(e,h.FAKE_DEFAULT_ORIGIN),n=new URLSearchParams(i.search);n.has(t)||n.set(t,r);let o=n.toString();o&&(i.search=`?${o}`);let s=i.href;return s.startsWith(h.FAKE_DEFAULT_ORIGIN)?s.substr(h.FAKE_DEFAULT_ORIGIN.length):s}function p(){return n.Ay.location.pathname+n.Ay.location.search}function _(e){var t=e.url;if(null!=t){if(t.startsWith("mailto:"))return void n.Ay.unsafeRedirect(t,e.openInNewWindow?"_blank":"");t.startsWith("http://")||t.startsWith("https://")||(t="http://"+t),n.Ay.postRedirect(`/exit?url=${encodeURIComponent(t)}`,e.openInNewWindow?"_blank":"")}}function f(e,t,r,i){return e?e!==t:r!==i}let g="external-teams";function w(e,{orgId:t,teamId:r,selectedView:i,user:o}){let s=e.base??"file",h=T((0,a.jN)({...e,base:s}),o);h=v(h,t,r,i),function(e,t,r,i="file"){(0,d.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||r,entryPlanParentId:t||r,planType:t?l.O.ORG:l.O.TEAM,urlType:i})}(e.file.key,t,r,s),n.Ay.redirect(h)}function E(e,t,r="file"){(0,d.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||g,entryPlanParentId:t||g,urlType:r})}function T(e,t){return t?m(e,"fuid",t.id):e}function v(e,t,r,i){let n="",o=t||r;return o&&(n=m(e,"prev-plan-id",o),n=m(n,"prev-plan-type",t?l.O.ORG:l.O.TEAM)),i&&(n=m(n,"prev-selected-view",i.view),n="folder"===i.view?m(n,"prev-folder-id",i.folderId):n,n="recentsAndSharing"===i.view&&i.tab?m(n,"prev-tab",i.tab):n),n}function b(e,t,r){return window.open(e,t,r)}function y(){return self!==top}function M(){try{return self!==top&&self.location.host!==top?.location.host}catch(e){return!0}}let S={},I=document&&document.documentElement;function C(e,t){Object.defineProperty(S,e,{enumerable:!0,configurable:!0,get(){let r=t();return Object.defineProperty(S,e,{enumerable:!0,value:r}),r}})}function x(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())})})}function A(e){let t=(0,h.default)().user_data,r=t&&t.id,i=function(e){if(!r||e instanceof KeyboardEvent&&e.keyCode!==o.Uz.ENTER)return;let t=e.target;if(!(t instanceof Element))return;let i=t.closest("a");if(!i||i.hostname!==window.location.hostname)return;let n=window.location.href,s=i.href.substr(0,i.href.indexOf("#")),a=n.indexOf("#"),l=n.substr(0,a),d=n.substr(a+1);s&&s===(l||d)||(i.href=m(i.href,"fuid",r))},n=e??document;n.addEventListener("click",i),n.addEventListener("keydown",i)}C("pointerLock",()=>!!(I&&I.requestPointerLock)),C("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),C("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),C("requestFullscreenFunc",()=>I&&(I.requestFullscreen||I.mozRequestFullScreen||I.webkitRequestFullscreen||I.msRequestFullscreen||null)),C("exitFullscreenFunc",()=>{let e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),C("getFullscreenElement",()=>document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null),C("fullscreen",()=>null!=S.requestFullscreenFunc&&null!=S.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled))},693960(e,t,r){let i,n;r.d(t,{L2:()=>o,aN:()=>s,yf:()=>n});let o=r(226915).L;function s(e){return n?(e(n),Promise.resolve()):(i||(i=r.e("4481").then(r.bind(r,62670)).then(t=>{n=t.datadogLogs,e(t.datadogLogs)})),i)}},343321(e,t,r){r.d(t,{CV:()=>_,Cg:()=>m,Cy:()=>u,Js:()=>c,KJ:()=>p,LU:()=>f});var i=r(442549),n=r(741542),o=r(281384),s=r(537155),a=r(587047);let l=new Set(["airtable.com","asana.com","calendly.com","chorus.ai","coda.io","codepen.io","docs.google.com","drive.google.com","paper.dropbox.com","figma.com","framer.com","github.com","gmail.com","atlassian.com","loom.com","lottiefiles.com","lucidchart.com","maze.co","office.com","miro.com","mode.com","mural.co","notion.so","quip.com","rollbar.com","sentry.io","slab.com","slideshare.net","surveymonkey.com","tableau.com","trello.com","typeform.com","usertesting.com","whimsical.com","behance.net","dribbble.com","facebook.com","google.com","maps.google.com ","instagram.com","linkedin.com","medium.com","pinterest.com","soundcloud.com","spotify.com","open.spotify.com","tiktok.com","twitter.com","vimeo.com","youtu.be","youtube.com"]),d=RegExp("^<iframe[^>]+src\\s*=\\s*(?:(?:\"([^\">]+)\")|(?:'([^'>]+)')).*><\\/iframe>$"),h=RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function c(e){try{let t=new URL(e).hostname;return 0===t.indexOf("www.")&&(t=t.slice(4)),t}catch{return""}}function u(e){if(!(0,n.getFeatureFlags)().figjam_embeds_allowlist)return!0;try{let t=c(e);return l.has(t)}catch(e){return console.error("Invalid URL in embed"),!1}}function m(e){if(!e.startsWith("<iframe"))return"";let t=(0,a.p)(e,{ALLOWED_TAGS:["iframe"],ALLOWED_ATTR:["src"]}),r=d.exec(t);return r&&r.length>1?r[1]:""}function p(e){let t=m(e),r=t||e,i=r.startsWith("http://")||r.startsWith("https://")?r:`https://${r}`;return h.test(i)?{isFromIFrame:!!t,url:i}:null}function _(e,t,r,n){let a=p(t.trim());if(!a)return{valid:!1,reason:"Text was not a valid URL or IFrame"};let l=a.url;if(n){let e=(0,s.r2)(l,n);if(!e.valid)return e}return l=function(e){let t;try{t=new URL(e)}catch{return e}return(0,s.cX)(t.pathname)&&(i.v.getFeatureGate("make_playable_embeds")||i.v.getFeatureGate("make_playable_embeds_view"))?(t.searchParams.set("hide-ui","1"),t.toString()):e}(l),e(o.MY({clipboardText:t,url:l,isTextIframe:a.isFromIFrame,entrypoint:r})),{valid:!0}}function f(e="",t){if(!e.startsWith("<meta charset='utf-8'><div><a href='https://app.asana.com"))return null;let r=(0,a.p)(e,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]}).split("<a"),i=/href="(https:\/\/app\.asana\.com[^"]*)"/,n=[];for(let e of r){let t=e.match(i);t&&t[1]&&n.push({url:t[1],isFromIFrame:!1})}return n.length!==t.split("\n").length?null:n}},562962(e,t,r){var i=r(442549),n=r(946182);i.v.setDelegate(new n.Bf)},274348(e,t,r){r.d(t,{R:()=>n});var i=r(105652);function n(e,t,r){let n=(0,i.useRef)(!1);(0,i.useEffect)(()=>{!n.current&&r(t)&&(e(),n.current=!0)},[e,r,t])}},415141(e,t,r){r.d(t,{fU:()=>d});var i=r(350923),n=r(812921),o=r(684666);let s=e=>e.toUpperCase().substring(1),a=s(o.dV),l=(0,n.bt)(e=>e.multiplayer.allUsers);function d(){let e=(0,i.md)(l);if(!e||0===e.length)return a;let t=e[0];return t.color.startsWith("#")?s(t.color):a}},463592(e,t,r){r.d(t,{MV:()=>C,S6:()=>A,WB:()=>x});var i=r(557998),n=r(333962),o=r(706354),s=r(741542),a=r(513427),l=r(181645),d=r(921282),h=r(838719),c=r(946182),u=r(872244),m=r(644350),p=r(833334),_=r(537919),f=r(741242),g=r(474669),w=r(793129),E=r(483124),T=r(261590),v=r(124174);let b=new _.K,y=new w.n,M=["AWSALBTG","AWSALBTGCORS","AWSALB","AWSALBCORS"],S=[m.R58,m.O_F,m.XwL,m.wZi,m.ib2,m.$kt,m.L8O,m.zkh,m.w2r,m.ehp];function I(e,t){let r=(0,g.T)();r.userId!==e&&(r.userId=e,r.anonUserId=null,t&&(console.warn(`[livegraph] userId changed after early websocket creation. userId == null, before: ${null==r.userId}, after: ${null==e}`),t.close(),t=void 0)),(d.eD||d.S8)&&(r.clientType="desktop",d.eD?(r.extras.desktop=JSON.stringify(d.eD.getInformationalVersion()),r.extras.desktopOS=JSON.stringify(d.eD.getOSVersion())):d.S8&&(r.extras.bell="1",d.S8&&(r.extras.desktop=JSON.stringify(d.S8.desktopAppVersion),r.extras.desktopOS=JSON.stringify(d.S8.osVersion)))),(0,s.getFeatureFlags)().livegraph_skip_early_conn_preload&&(r.preloadedViews={});let o={errorsLoggedForAnalyticsFraction:(0,h.getFeatureFlagsLD)().livegraph_errors_logged_for_analytics_fraction,backoffConfig:(0,h.getFeatureFlagsLD)().livegraph_client_backoff_config,retryErroredViewSubscriptions:(0,c.gP)("livegraph_client_config").get("retry_errored_view_subscriptions",!1),subscriptionRetryBackoffConfigByPriority:(0,c.gP)("livegraph_client_config").get("subscription_retry_backoff_config_by_priority",{p0:{maxAttempt:10,backoffInitialMs:1e3,backoffMaxMs:3e5,backoffMultiplier:2},p1:{maxAttempt:10,backoffInitialMs:5e3,backoffMaxMs:3e5,backoffMultiplier:2},p2:{maxAttempt:10,backoffInitialMs:5e3,backoffMaxMs:3e5,backoffMultiplier:2},p3:{maxAttempt:10,backoffInitialMs:5e3,backoffMaxMs:3e5,backoffMultiplier:2},default:{maxAttempt:10,backoffInitialMs:5e3,backoffMaxMs:3e5,backoffMultiplier:2}}),syncTimeoutMs:(0,h.getFeatureFlagsLD)().livegraph_sync_timeout_ms},a=new i.Schema(n.default),u=new i.ClientViewRegistry(n.default.views,a),m=t||null,_=new E.Qu({connect_next:r.useNext?"true":"false"}),f=new E.g_(_),w=new p.v(l.az),I=new i.LiveGraphClient(a,u,r,function(e){if(!m||m.readyState===WebSocket.CLOSED||m.readyState===WebSocket.CLOSING)return new WebSocket(e);let t=m;return m=null,t},f,o,{isHidden:()=>"hidden"===document.visibilityState,addChangeHandler:e=>{document.addEventListener("visibilitychange",e)},removeChangeHandler:e=>{document.removeEventListener("visibilitychange",e)}},()=>{for(let e of M)document.cookie=`${e}=; max-age=-1; path=/;`},S,w),C=new E.Iu(I,_),{livegraph_update_slo_client_frequency:x,livegraph_sessions_capturing_update_slo_percent:A,livegraph_update_slo_failure_threshold:O,livegraph_response_sampling_rate:N,errors_logged_for_analytics_fraction:R}=(0,h.getFeatureFlagsLD)();(0,v.s)(I,x,O,A);let P=new T.o(e,N);return I.addEventListener(e=>{"ERROR"===e.type&&Math.random()<R&&w.logError({sessionId:I.session.args.sessionId||"",err:e.error.message,layer:"client",note:"LivegraphEvent ERROR"}),b.logEvent(e),y.logEvent(e),C.onEvent(e),P.onEvent(e)}),I.emitInitialEvents(),I}function C(e){let t=f.Z.get();if(t){if(e===t.userId||(0,a.nl)()||(0,a.Lg)())return t;console.warn(`[livegraph] userId changed after livegraph client creation. userId == null, before: ${null==t.userId}, after: ${null==e}`),t.close()}let r=window.LGEarlyWS;delete window.LGEarlyWS;let i=I(e,r);f.Z.set(i);let n=(0,m.XRH)(),s=f.Z.get();return window.LIVEGRAPH={client:s,logger:b,viewBindings:n,subscribeForDebugging:(e,t,r)=>{r=r||console.log;let i=n.find(t=>t._name===e);i?s.subscribe(i,t,e=>{r(e)}):console.warn(`View ${e} not found`)}},(0,u.ZO)("LiveGraph connection",o.FigmaTeam.REALTIME_PLATFORM,async()=>{await f.Z.get().connect(),O(i,function(){return I(e)})}),i.timer.setTimeout(()=>{let e=f.Z.get();e&&l.az.trackDefinedEvent("livegraph.client_data_stats",{num_views:e.session.viewSubscriptions.size,num_instances:e.session.getTotalInstanceCount(),num_queries:e.session.getTotalQueryCount(),num_computations:e.session.getTotalComputationCount()})},6e4),f.Z.get()}function x(){return f.Z.get()}function A(){let e=b.startRecording();return()=>e?b.stopRecording(e):[]}async function O(e,t){let r,n=(0,c.gP)("livegraph_eventual_consistency_checker");if(!n.get("enabled",!1))return;let o=n.get("backoff_config",{maxAttempt:5,backoffInitialMs:3e4,backoffMaxMs:3e5,backoffMultiplier:1.5}),s=await i.LivegraphEventualConsistencyChecker.createAndRun(o,e,t);switch(s.type){case"discrepancies":r={type:s.type,numAttempts:s.numAttempts,discrepancies:JSON.stringify(s.discrepancies),clientPodName:s.clientPodName,clientContainerName:s.clientContainerName,shadowPodName:s.shadowPodName,shadowContainerName:s.shadowContainerName};break;case"error":r={type:s.type,error:JSON.stringify({message:s.error.message,stack:s.error.stack})};break;case"success":r={type:s.type,numAttempts:s.numAttempts,clientPodName:s.clientPodName,clientContainerName:s.clientContainerName,shadowPodName:s.shadowPodName,shadowContainerName:s.shadowContainerName}}r&&l.az.trackDefinedEvent("livegraph.eventual_consistency_checker",r),setTimeout(()=>O(e,t),n.get("repeatCheckIntervalMs",3e5))}},667449(e,t,r){r.d(t,{Dn:()=>l,wK:()=>s,yZ:()=>a});var i=r(105652),n=r(688357),o=r(576581);function s(){let[e,t]=i.useState(navigator.onLine);return i.useEffect(()=>{let e=()=>t(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e}function a(){let e=(0,o.U)(),t=n.h3O?.getSessionState(),r=s();return i.useEffect(()=>{!r&&t&&t!==n.kul.DETACHED&&e("offline_multiplayer_discrepancy",{isNavigatorOnline:navigator.onLine,isJoined:t===n.kul.JOINED,multiplayerSessionState:t.toString()})},[r,t,e]),r||t===n.kul.JOINED}function l(){let e=n.h3O?.getSessionState();return navigator.onLine||e===n.kul.JOINED}},586405(e,t,r){r.d(t,{Br:()=>s,kx:()=>l,qR:()=>a,vn:()=>o});var i=r(374821);let n=new Set(["file","board","design","slides","site","rev","make","files","file_metadata","recent_files","proto","presenter","deck","plugin","plugins","widget","widgets","checkpoint","api","contacts","state","session","shell","template","templates","browse","search","components","recommend","image","images","videos","upload","uploads","v2","internal","buzz","buzz_approvals","create","complete","login","logout","signup","login_iframe","invites","team_invite","accept","redeem","auth","available_auth_methods","email_login","password","recover","app_auth","grant","saml","google_auth","role","roles","view","can_request_edit","periodic_refresh","account_type_requests","approve","deny","nudge","dismiss_badge","request_upgrade","editor_type","send","request_magic_link","employee","consent","confirm","viewer_restricted_draft","notify","update_message","mfa_auth","two_factor","sites_sso","reference_id","create-team","deletion_file_count","add-collaborators","recent","recents","recent_prototypes","recent_search","team","teams","team_users","team-admin-console","directory","libraries","workspace","workspaces","workspace_approved_library","recents-and-sharing","shared-projects","recently-viewed","shared-with-you","shared_with_you","settings","project","projects","font","fonts","font-files","your%20teams","team-feed","studio","feed-posts","feed_posts","drafts","drafts-to-move","admin","license_groups","orgs","org","org_domains","org_users","resources","billing","billing-group","billing_emails","activity","members","send_restore_email","folders","self_assign_workspace","admin_request_dashboard","admin_request_dashboard_row_count","workspace_member_count","experiment_cohort","dev_mode_suggested_upgrades","dismiss_dev_mode_suggested_upgrades","pinned_files","increment_open_count","pin","ai_data_sharing","toggle_slides_disabled","export_members","billing_group","new_file_location","trashed_folders","restore","file_repos","toggle_sites_publishing_disabled","toggle_supabase_disabled","team_user_descended_roles","guest_expirations","upgrade-team","choose_plan","payment_and_address","confirm_pay","upgrade_new_team","purchase-organization","purchase-professional","details","payment","review","edu-review","eligible_upgrade_data","first_draft","assets","match_group","match_preset_modes","all_kits","kit_contents","detach_info","publish_local_kit","update_metadata","asset_thumbnail","upload_thumbnails","all_eval_sets","run_evals","eval_status","auto_suggest","auto_suggest_props","fragment_search","top_k_library_styles_variables","user","plans","plan_users","plan_user_count","can_use_plan_credits_bulk","org_invites","claim","mark_diagram_inserted","claim_device_file","try-figjam","report-abuse","online-whiteboard","users","salesforce_contact_ids","google_drive","access_token","plan_properties","validate_trial","create_product_trial","suspend_product_trial","status","flags","flag","oembed","spelling","get-languages","img","realtime_token","realtime_v2","new","duplicate","dev_mode_terms_accepted","resource_lifecycle","resource_recommendations","response_sampler","file_download_log","num_backfilled_team_user","invoice","invoices","experiment_exposure","has_connected_plan_user_in_org","open","show_dangling_team_user_backfill_banner","dev-mode-demo","scim_recovery","mfa","renewal_info","resource_connection_invite","lookup","abuse","async_jobs","enqueue","arkose","on_for_user","cms_internal","collection","apply_hub_file_collections","community","figma","figjam","paid","free","partners","prototype","fig_files","category","tag","collections","remixes","hub_files","hub_profiles","community_categories_v2","community_libraries","community_mentions","community_resources","community_shelves","profile","design_systems","library","asset","send_third_party_m10n_review_email","styles","version","hub_file_metadata","default_librarires","library_file_subscriptions","library_user_subscriptions","library_org_subscriptions","library_team_subscriptions","all_library_user_subscriptions","all_library_org_subscriptions","all_library_team_subscriptions","hub_file_duplicates","block_seo_indexing","unblock_seo_indexing","resource","tags","resource_use","third_party_m10n_url","thumbnail","icon","recommendations","home_shelf","port","group_by_team","organization","orgs","experiment","create_trial","extend_trial","upgrade_trial","add_user","asset_suggestions","groups","documents","library_json","populate_usages_for_org","populate_usages_for_file","pregenerate_org_api_data","preset_libraries","mock_idp_users","mock_idp_user","dev_mode_opt_in","migrate_feature_flags_to_statsig","org_migrations","order","tickets","org_merge_credit","generate_approval_link","allowlist_team","run_validate_fullscreen_side_effects_job","abandoned_drafts","republish_assets_by_key","batch","unredact","source_file","translations","fig_file_video_usages","fig_file_image_usages","file_seen_states","desktop","livegraph_client","page_load_token","figmascope","figmascope_multiplayer_journal","figmascope_file","figmascope_checkpoint_diffs","figmascope_checkpoints","figmascope_file_validation","start_redact_figmascope_file_validation","figmascope_file_validation_unredacted","start_redact_figmascope_file","check_redact_figmascope_file","start_redact_figmascope_journal","check_redact_figmascope_journal","file-validations","file-validations-details","figfactory","i18n","strings","statsig","bootstrap","email","email_tool","send_email","send_email_to_litmus","user_team_flags","update_overrides","flag_status_for_user","flag_descriptions","precommit_webhook","analytics_data","user_data","dynamic_configs","feature_flags","initial_options","debug_session","user_notifications","user_notifications_bell","user_notifications_bells","catfile_optin","catfic_optin","server_driven","mark_read","clear","plan","recent_activity","web_token_registration","read","accept","reject","dev_handoff","index","figmadocs","snippet","dev_mode_asset_preferences","ml","figjam_dots","jam","template_canvas","prepare_insert","meet_device","device_try_files","device_try_file_claim_emails","save","cleanup","upnode","link_metadata","mobile","clipboard_data_upload","mobile_init_flags","mobile_client_fallback_exp_variant","native_preload","mobile-preload","site","custom_domain","get_custom_domain_dns_records","check_custom_domain_limit","remove_custom_domain","update_bundle","update_subdomain","validate_subdomain","configure_redirect","remove_custom_domain_redirect","set_password","unset_password","enable_sso","cached_preview_urls","user","org","discovery","bizsys","set_up_org_billing","stripe_details","credit_notes","validate_currency","billing_metadata","org_operation","add_domain_users","pricing","contract_rates","prices_at_contract_renewal","team_prices_at_next_invoice","terms_of_service","hex","org_admin","create_presigned_url","provision_org","org_saml_config","org_saml_configs","clear_config","configure_org_renewal","domains","member_counts","plan_ai_usage_monthly","plan_user_ai_usage_monthly","plan_ai_usage_by_users","user_ai_prompts","plugin_preferences","lg_update_slo_data","livegraph","pagination_resolver","sinatra_resolver","waf-validation","models","update-backfill-state","explain","generate","offline_eval","query_set","query_sets","run","search_clause","search_indexes","template","request_logs","slide","thumbnail","backfills","workers","start","pause","rerun","move_to_phase","phases","history","diff","permissions","team_ghost","sites","m1","async","publish","unpublish","action","details","dsa","library","overview","record","snowflake","style","style_usages","styles","variable","variables","missing_styles_by_library_key","enable_slots","modules","documentation_pages","google-classroom","integrations","submissions","attachments","attachment","tagged_file","log_dev_mode_nudges_exp_entry","fetch_dev_mode_nudges_exp_entry","team_user_event","source","v1","cms","tenant","list","items","field_schemas","fields","import","check_domain_availability","resource_sync","smartling_translation_callback","translations_status_s3_keys","request_translations","upload_visual_context","delete_smartling_files","string_management","litmus","comparison_artifact","comparisons","configure","design_connection","github-app","comments","toggle_github_installation_restricted","bypass_github_check","false_positive","results","github-installations","reactions","resolve","named_scenarios","generate_test_materials","external_qa","code_suggestions","code_connect","mapping","published_components","libraries","repositories","source_files","file_details","bulk_map","directories","contents","code_snippet","user_rules","eval","view","checkpoint_upload","checkpoint_diff_upload","checkpoint_diff","code_snapshot","code","snapshot","create_ds_import","ds_import_libraries","create_ds_code_gen","fetch_ds_code_gen_status","extract_library_context","select_components","create_make_library","make_libraries","all_make_library_code","publish_make_library","component_display_info","oauth","apps","setup","submit","manage","withdraw","version","images","upload","non_plan_user_count","delist","access_key","access_keys","revoke","jwks.json","openid-configuration",".well-known","options","scheduled_cancellation","unsplash","tracking","editorial","message_content_blobs","commit_uploads","init_uploads","ai_chat","threads","messages","message_parts","compressed_messages","compressions","run_validate_chat_sdk_migration_job","trigger_validations","overlapping_message","autoheal_messages","ai_credits","plan_balance_summary","plan_user_balance_summary","plan_user_action_credit_usage","metrics","request_credits","export","html-to-design","thumbnails","edu","higher_ed_verification_started","higher_ed_verification_success_webhook","verify_k12_status","npm_private_registry_config","blob_store","save_local_copy","chatbot","link","export"]);for(let e of Object.values(i.COMMUNITY_PATH_PREFIXES))e.split("/").forEach(e=>{e&&n.add(e)});function o(e,t="__",r=!0){return e.startsWith("/@")?`/@${t}`:r&&(e.startsWith("/esbuild-artifacts/")||e.startsWith("/fullscreen/")||e.startsWith("/webpack-artifacts/"))?e:e.split("/").map(e=>""===e||n.has(e)?e:t).join("/")}function s(e,t=!1,r="__",i=!0){let n;try{n=new URL(e)}catch(r){if(t)throw r;return e}return i&&("static.figma.com"===n.host||"static.figma-gov.com"===n.host||"data:"===n.protocol)?e:"data:"===n.protocol?`data:${n.pathname.split(",")[0]},${r}`:(n.pathname=o(n.pathname,r,i),n.search="",n.toString())}function a(e){return o(e,"--",!1)}function l(e,t=!1){return s(e,t,"--",!1)}},42053(e,t,r){r.d(t,{Bo:()=>g,ED:()=>p,Lo:()=>_,fj:()=>f,gb:()=>E,x1:()=>u,xi:()=>m});var i=r(659793),n=r(267995),o=r(520786),s=r(158850),a=r(311011),l=r(741542),d=r(693960),h=r(942689);let c=(0,r(688930).s)();function u(e,t,r,i){T("error",e,t,r,i)}function m(e,t,r,i){T("warning",e,t,r,i)}function p(e,t,r,i){T("debug",e,t,r,i)}function _(e,t,r,i){T("info",e,t,r,i)}function f(e,t,r,n,o,s,a){let l=(0,i.v)(e);if(!l)throw Error("unknown severity");a.filePath=r,a.lineNumber=n,T(l,t,o,s,a)}function g(e){c.slogToConsole&&console.error("Viewer render loop crash: ",e),o.v4(t=>{t.setTag("severity","critical"),t.setTag("viewer_render_loop_crash",!0),s.Cp(e)})}let w=null;function E(e){w=e}function T(e,t,r,i,u){if((u={logToConsole:n.NU.DEFAULT,createSentryBreadcrumb:!0,modeEventName:"",forwardToDatadog:!1,figmentOnly:!1,reportAsSentryError:!1,includePayloadAsTags:!1,...u}).logToConsole===n.NU.ALWAYS||u.logToConsole===n.NU.DEFAULT&&c.slogToConsole)({debug:console.debug,info:console.info,warning:console.warn,error:console.error})[e].call(console,t,r,i);else{let n=window.FigmaMobile;n?.logMessageToNative&&n.logMessageToNative({severity:e,category:t,message:r,filePath:u.filePath,lineNumber:u.lineNumber,data:i})}if(u.createSentryBreadcrumb&&c.enabled&&null!=e){let n={level:e};r&&(n.message=r),i&&(n.data=i),t&&(n.category=t),a.Z(n)}if(u.reportAsSentryError){let e=Error(t?`[${t}] ${r}`:r);u.filePath&&(e.filePath=u.filePath,e.lineNumber=u.lineNumber),u.includePayloadAsTags?o.v4(t=>{if(i)for(let[e,r]of Object.entries(i))t.setTag(e,r);s.Cp(e)}):s.Cp(e)}u.reportOnFigmaScopeGuid&&(0,h.l)(u.reportOnFigmaScopeGuid,{severity:e,message:r,data:i,filePath:u.filePath,lineNumber:u.lineNumber,timestamp:Date.now()}),u.modeEventName&&w?.(function(e){let t="";for(let r of e)"A"<=r&&r<="Z"?t+=r.toLowerCase():"-"===r?t+="_":t+=r;return t}(u.modeEventName),i,u.forwardToDatadog),d.yf&&(0,l.getFeatureFlags)().datadog_logs_init&&d.yf.logger.log(r,i,function(e){switch(e){case"fatal":case"error":return"error";case"warning":return"warn";default:return"info"}}(e))}},847923(e,t,r){r.d(t,{$U:()=>h,Dv:()=>a,S$:()=>d,X:()=>c,ah:()=>s,uc:()=>l});var i=r(350923),n=r(818381),o=r(181645);let s=(0,i.eU)(!1),a=(0,i.eU)(!1),l=(0,i.eU)(!1),d=4e3,h=2e3,c=(0,i.Hj)((0,i.E2)("spotlight-should-autofollow",!0,n.z.boolean()),e=>{(0,o.sx)("Spotlight A11y Dismissal Setting Switched",{newSettingValue:e})})},918569(e,t,r){r.d(t,{B:()=>o});var i=r(218942),n=r(225623);class o{getDynamicConfigBoolean(e,t,r){return i.U.getDynamicConfigBoolean(e,t,r)}getDynamicConfigNumber(e,t,r){return i.U.getDynamicConfigNumber(e,t,r)}getDynamicConfigString(e,t,r){return i.U.getDynamicConfigString(e,t,r)}getExperimentBoolean(e,t,r){return i.U.getExperimentBoolean(e,t,r)}getExperimentNumber(e,t,r){return i.U.getExperimentNumber(e,t,r)}getExperimentString(e,t,r){return i.U.getExperimentString(e,t,r)}getFeatureGate(e){return i.U.getFeatureGateFromInitialOptions(e)}logFeatureGateExposure(e,t){i.U.logExposureForFeatureGate(e,t)}updateFeatureGateForTesting(e,t){return(0,n.yc)(i.s,e,t)}clearFeatureGatesForTesting(){return(0,n.o6)(i.s)}setInRenderServerForViewerTests(){return(0,n.j7)(i.s)}updateExperimentForTesting(e,t,r){return(0,n.Uo)(i.s,e,t,r)}clearExperimentsForTesting(){return(0,n.o6)(i.s)}}},825290(e,t,r){r.d(t,{bY:()=>p,gP:()=>f,w0:()=>_});var i=r(105652),n=r(442549),o=r(350923),s=r(970878),a=r(838719),l=r(946182),d=r(696448),h=r(806525),c=r(36886),u=r(605334),m=r(458694);function p(e,t){let r=(0,i.useRef)(null),a=n.v.getFeatureGate("statsig_enable_new_web_sdk")&&n.v.getFeatureGate("statsig_new_sdk_full_read");return a?(0,o.md)(u.GE):(0,o.md)(u.u_),{getDynamicConfig:(0,i.useCallback)(()=>{if(o.zl.get(u.ZJ).status!==m.Uv.COMPLETED)return d.sb;if(null==r.current){let i=n.v.getFeatureGate("statsig_enable_new_web_sdk")&&n.v.getFeatureGate("statsig_new_sdk_dark_read");try{let n=t?s.Statsig.getConfigWithExposureLoggingDisabled(e):s.Statsig.getConfig(e);if(a){let i=o.zl.get(c.Ys);if(!i)return d.sb;let n=t?i.getDynamicConfig(e,{disableExposureLog:!0}):i.getDynamicConfig(e);r.current=new l.iO(e,n.value,n.ruleID,{reason:n.details.reason,time:n.details.receivedAt??Date.now()})}else r.current=n;i&&(0,h.W)(e,n,s.Statsig.getCurrentUser())}catch(e){r.current=d.sb}}return r.current},[e,t,a])}}async function _(e,t){let r=n.v.getFeatureGate("statsig_enable_new_web_sdk")&&n.v.getFeatureGate("statsig_new_sdk_dark_read"),i=n.v.getFeatureGate("statsig_enable_new_web_sdk")&&n.v.getFeatureGate("statsig_new_sdk_full_read");if(i){if(await o.zl.get(u.GE),o.zl.get(u.lb).status!==m.Uv.COMPLETED)return d.sb}else if(await o.zl.get(u.u_),o.zl.get(u.ZJ).status!==m.Uv.COMPLETED)return d.sb;try{let n=d.sb,a=t?s.Statsig.getConfigWithExposureLoggingDisabled(e):s.Statsig.getConfig(e);if(i){let r=o.zl.get(c.Ys);if(!r)return d.sb;let i=t?r.getDynamicConfig(e,{disableExposureLog:!0}):r.getDynamicConfig(e);n=new l.iO(e,i.value,i.ruleID,{reason:i.details.reason,time:i.details.receivedAt??Date.now()})}else n=a;return r&&(0,h.W)(e,a,s.Statsig.getCurrentUser()),n}catch(e){return d.sb}}function f(e){let t=(0,a.initialOptions)()?.dynamic_configs?.[e];return t?new l.iO(e,t,"",{reason:l.f6.Unrecognized,time:Date.now()}):d.sb}},806525(e,t,r){r.d(t,{g:()=>m,W:()=>p});var i=r(497935),n=r(181645),o=r(350923),s=r(36886),a=r(605334),l=r(403892);async function d(e){try{let t=o.zl.get(a.lb);await t.initCompletedDefer.promise;let r=o.zl.get(s.Ys);if(!r)return null;return r.getDynamicConfig(e)}catch(t){return(0,l.Us)(`Error fetching dynamic config ${e}: ${t}`),null}}var h=r(276038),c=r(741542);let u=0;async function m(e,t,r){let l=await (0,h.f)(e);if(n.az.trackDefinedMetric("experimentation_platform.upgraded_statsig_client_experiment_dark_read",{}),!(0,i.c2)(l?.value,t.value)&&u<5){u++;let i=o.zl.get(a.lb),d=o.zl.get(s.Ys);n.az.trackDefinedEvent("experimentation_platform.upgraded_statsig_client_exp_eval_mismatch",{experiment_name:e,new_sdk_eval_reason:l?.details.reason,new_sdk_rule_id:l?.ruleID,new_sdk_statsig_value:JSON.stringify(l?.value),new_sdk_statsig_user:JSON.stringify(d?.getContext().user),old_sdk_eval_reason:t.getEvaluationDetails().reason,old_sdk_rule_id:t.getRuleID(),old_sdk_statsig_value:JSON.stringify(t.value),old_sdk_statsig_user:JSON.stringify(r),statsig_enable_new_web_sdk:!!(0,c.getFeatureFlags)().statsig_enable_new_web_sdk,new_sdk_init_status:i.status})}return l}async function p(e,t,r){let l=await d(e);if(n.az.trackDefinedMetric("experimentation_platform.upgraded_statsig_client_dynamic_config_dark_read",{}),!(0,i.c2)(l?.value,t.value)&&u<5){u++;let i=o.zl.get(a.lb),d=o.zl.get(s.Ys);n.az.trackDefinedEvent("experimentation_platform.upgraded_statsig_client_dynamic_config_eval_mismatch",{dynamic_config_name:e,new_sdk_eval_reason:l?.details.reason,new_sdk_rule_id:l?.ruleID,new_sdk_statsig_value:JSON.stringify(l?.value),new_sdk_statsig_user:JSON.stringify(d?.getContext().user),old_sdk_eval_reason:t.getEvaluationDetails().reason,old_sdk_rule_id:t.getRuleID(),old_sdk_statsig_value:JSON.stringify(t.value),old_sdk_statsig_user:JSON.stringify(r),statsig_enable_new_web_sdk:!!(0,c.getFeatureFlags)().statsig_enable_new_web_sdk,new_sdk_init_status:i.status})}return l}},354991(e,t,r){r.d(t,{Mi:()=>n,UI:()=>s,gR:()=>o,gt:()=>a});var i=r(745463);class n{constructor(e=0,t=0){this.x=e,this.y=t}clone(){return new n(this.x,this.y)}equals(e){return this.x===e.x&&this.y===e.y}toString(){return`(${this.x}, ${this.y})`}add(e){return new n(this.x+e.x,this.y+e.y)}static add(...e){return e.filter(i.Vq).reduce((e,t)=>(e.x+=t.x,e.y+=t.y,e),{x:0,y:0})}subtract(e){return new n(this.x-e.x,this.y-e.y)}static subtract(e,t){return{x:e.x-t.x,y:e.y-t.y}}static scale(e,t){return{x:e*t.x,y:e*t.y}}static abs(e){return{x:Math.abs(e.x),y:Math.abs(e.y)}}static max(e){return Math.max(e.x,e.y)}scale(e){return new n(this.x*e,this.y*e)}multiply(e){return new n(this.x*e.x,this.y*e.y)}divide(e){return new n(this.x/e.x,this.y/e.y)}dot(e){return n.dot(this,e)}toAngle(){return Math.atan2(this.y,this.x)}static bound(e,t){return t?{x:Math.max(Math.min(e.x,t.max.x),t.min.x),y:Math.max(Math.min(e.y,t.max.y),t.min.y)}:e}static dot(e,t){return e.x*t.x+e.y*t.y}static interpolate(e,t,r){return{x:e.x+(t.x-e.x)*r,y:e.y+(t.y-e.y)*r}}rounded(){return new n(Math.round(this.x),Math.round(this.y))}static rounded(e){return{x:Math.round(e.x),y:Math.round(e.y)}}static size(e){return Math.sqrt(n.dot(e,e))}size(){return n.size(this)}unit(){let e=this.size();return this.scale(0===e?0:1/e)}distanceTo(e){return n.size(this.subtract(e))}static distance(e,t){return n.size(n.subtract(e,t))}clamp(e){return new n(Math.max(e.x,Math.min(e.x+e.width,this.x)),Math.max(e.y,Math.min(e.y+e.height,this.y)))}clampX(e){return new n(Math.max(e.x,Math.min(e.x+e.width,this.x)),this.y)}clampY(e){return new n(this.x,Math.max(e.y,Math.min(e.y+e.height,this.y)))}rotate90(){return new n(-this.y,this.x)}}function o(e,t){return t.x>=e.x&&t.y>=e.y&&t.x<=e.x+e.width&&t.y<=e.y+e.height}function s(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}function a(e,t){let r={x:e.x+e.width/2,y:e.y+e.height/2},i={x:t.x+t.width/2,y:t.y+t.height/2},n=Math.abs(r.x-i.x),o=Math.abs(r.y-i.y),s=n-(e.width+t.width)/2,a=o-(e.height+t.height)/2,l=s<=0,d=a<=0;return l&&d?0:!l&&d?s:l&&!d?a:Math.sqrt(s*s+a*a)}},750486(e,t,r){r.d(t,{b:()=>o,h:()=>n});let i=null;function n(){return i}function o(e){i=e}},122245(e,t,r){r.d(t,{IJ:()=>C,Vu:()=>w,WQ:()=>v,Zj:()=>M,ap:()=>T,wO:()=>E,x2:()=>I});var i=r(123779),n=r(267995),o=r(273043),s=r(741542),a=r(3752),l=r(513427),d=r(181645),h=r(436174),c=r(539236),u=r(42053),m=r(946182),p=r(559365),_=r(626914),f=r(510005);let g=null,w=(0,p.Do)(()=>{if(S()!==n.w$.WebGPU&&(a.A.safari||a.A.firefox||a.A.isAndroid_DEPRECATED||a.A.isIos_DEPRECATED||a.A.linux&&!(0,l.PN)()||a.A.chrome&&(null==g&&(g=(0,m.gP)("webgpu_platform_device_config").get("minimum_chromium_version",0)),0>a.A.compareVersions([a.A.version.toString(),g.toString()])&&!(0,l.PN)())))return!1;return void 0!==navigator.gpu});function E(){if(!w())return!1;let e=S();return e!==n.w$.WebGL2&&e!==n.w$.WebGL1&&(!!M()||(a.A.mac?!!(0,s.getFeatureFlags)().use_webgpu:a.A.windows||a.A.chromeos?!!(0,s.getFeatureFlags)().use_webgpu_windows_chromeos:!!(a.A.linux&&(0,l.PN)())&&(!!(0,s.getFeatureFlags)().use_webgpu||!!(0,s.getFeatureFlags)().use_webgpu_windows_chromeos)))}function T(){let e=b.getInstance().graphicsBackendOverride();return e===n.w$.WebGL2||e!==n.w$.WebGL1&&i.WebGLVersionSupport.isWebGL2Supported()}function v(){return i.WebGLVersionSupport.isWebGL2Supported()}class b{constructor(){if(this._graphicsBackendOverride=n.w$.None,(0,s.getFeatureFlags)().webgl2_override)this._graphicsBackendOverride=n.w$.WebGL2;else if((0,s.getFeatureFlags)().webgl1_override)this._graphicsBackendOverride=n.w$.WebGL1;else if((0,s.getFeatureFlags)().webgpu_override)this._graphicsBackendOverride=n.w$.WebGPU;else if(h.Ay.location){const e=new URLSearchParams(h.Ay.location.search);"1"===e.get("force-webgpu")?this._graphicsBackendOverride=n.w$.WebGPU:"1"===e.get("force-webgl2")?this._graphicsBackendOverride=n.w$.WebGL2:"1"===e.get("force-webgl1")&&(this._graphicsBackendOverride=n.w$.WebGL1)}}graphicsBackendOverride(){return this._graphicsBackendOverride}static getInstance(){return this._instance||(this._instance=new b),this._instance}static resetForTests(){this._instance=null}}class y{constructor(){this._isJSLUHDChromeOS=!1,this._isJSLUHDChromeOS=this.isJSLUHDChromeOS()}isJSLUHDChromeOS(){if(!a.A.chromeos||!w())return!1;let e=(0,o.zD)(T());if(!e)return!1;let t=e.getExtension("WEBGL_debug_renderer_info");if(!t)return!1;let r=e.getParameter(t.UNMASKED_RENDERER_WEBGL);return/uhd graphics \(jsl\)/i.test(r)&&/vulkan/i.test(r)}mustUseWebGPU(){return this._isJSLUHDChromeOS}static getInstance(){return this._instance||(this._instance=new y),this._instance}static reset(){this._instance=null}}let M=(0,p.Do)(()=>{try{return y.getInstance().mustUseWebGPU()||b.getInstance().graphicsBackendOverride()===n.w$.WebGPU}catch(e){return(0,u.x1)("Error checking if we must use WebGPU",e?.message??"Unknown error",{reportAsSentryError:!0}),!1}}),S=(0,p.Do)(()=>b.getInstance().graphicsBackendOverride());function I(){let e=(0,o.j9)(T());return!!e?.getExtension("WEBGL_compressed_texture_astc")}function C(e){let t="webgl_not_supported",r="unknown",n="unknown",o="unknown",s=null;window.webGLTestResult===f.x.SUCCESS&&(t=i.WebGLVersionSupport.initializationStatus(),(s=(0,_.l)())&&(r=s.graphicsCardName,n=s.vendor,o=s.webGLVersion)),"webgpu_success"===e&&(t="webgpu_success"),c.J.setGlobalContext("webgl_initialization",{status:t,...s||{}}),d.az.trackDefinedEvent("rendering_and_animation.webgl_initialization",{status:t,renderer:r,vendor:n,version:o})}},42829(e,t,r){function i(e){let t=document.visibilityState;e?(delete document.visibilityState,delete document.hidden):Object.defineProperties(document,{visibilityState:{value:"hidden",configurable:!0},hidden:{value:!0,configurable:!0}}),t!==document.visibilityState&&(n=!1,document.dispatchEvent(new Event("visibilitychange",{bubbles:!0}))),n=!e}r.d(t,{R:()=>i});let n=!1;window.addEventListener("visibilitychange",function(e){n&&(e.stopPropagation(),e.stopImmediatePropagation())},{capture:!0,passive:!0})},75003(e,t,r){r.d(t,{k:()=>o});var i=r(239976),n=r(105652);class o extends n.PureComponent{render(){let{fraction:e,width:t=18}=this.props,r=2*e*Math.PI,n="string"==typeof t?parseFloat(t):t,o=n/2,s=n/2,a=s-3,l=o+a*Math.cos(r-Math.PI/2),d=o+a*Math.sin(r-Math.PI/2),h="",c="";e<=.5?h=`M${o},${o} L${o},${o-a} A${a},${a} 1 0,1 ${l},${d} Z`:(h=`M${o},${o} L${o},${o-a} A${a},${a} 1 0,1 ${o},${o+a} Z`,c=`M${o},${o} L${o},${o+a} A${a},${a} 1 0,1 ${l},${d} Z`);let u=`M ${o-s},${o} a ${s},${s} 0 1,0 ${o+s},${o-s} a ${s},${s} 0 1,0 ${-(o+s)},${o-s} ZM ${o-(s-1)},${o} a ${s-1},${s-1} 0 1,0 ${2*(s-1)},0 a ${s-1},${s-1} 0 1,0 ${-2*(s-1)},0 Z`;return(0,i.jsx)("svg",{width:n,height:n,className:this.props.className,viewBox:`0 0 ${n} ${n}`,fill:"none",children:(0,i.jsx)("path",{fillRule:"evenodd",d:`${u} ${h} ${c}`,fill:this.props.pathFill})})}}o.displayName="Progress"},451093(e,t,r){r.d(t,{Dr:()=>f,EA:()=>g,L3:()=>_,P4:()=>T,S6:()=>l,Zu:()=>E,cQ:()=>w});var i,n=r(350923),o=r(838719),s=r(293288);let a="pref";var l=((i=l||{}).UNLOADED="unloaded",i.NO="no",i.YES="yes",i);function d(){let e=(0,s.W)();if(e)return e.get(a)}async function h(e="background"){try{return await scheduler.postTask(()=>d(),{priority:e})}catch{return}}async function c(e,t="background"){try{await scheduler.postTask(()=>{let t;!(t=(0,s.W)())||t.set(a,e,{maxAge:31536e3})},{priority:t})}catch{}}let u=(0,n.M2)((0,n.t_)(()=>d()));async function m(){n.zl.set(u,await h())}async function p(e){n.zl.set(u,e),await c(e)}async function _({consentRegion:e,cookiesEnabled:t}){await p({t:e,f:t,a:t,m:t})}window.addEventListener("focus",()=>m());let f=(0,n.eU)(e=>{switch(e(u)){case n.Ut:case void 0:return"unloaded";case null:return"no";default:return"yes"}}),g=(0,n.eU)(e=>{let t=e(u);switch(t){case n.Ut:case void 0:return!1;case null:return"explicit"!==(0,o.getConsentRegion)();default:return t.a}}),w=(0,n.eU)(e=>{let t=e(u);switch(t){case n.Ut:case void 0:return!1;case null:return!(0,o.getConsentRegion)();default:return t.m}}),E=(0,n.eU)(e=>{let t=e(u);switch(t){case n.Ut:case void 0:return!1;case null:return"explicit"!==(0,o.getConsentRegion)();default:return t.f}}),T=(0,n.eU)(0)},235057(e,t,r){r.d(t,{Z:()=>S});var i=r(239976),n=r(105652),o=r(850159),s=r(594671),a=r(350923),l=r(3752),d=r(224542),h=r.n(d),c=r(214030),u=r(195784),m=r(865804),p=r(30890),_=r(838719),f=r(921424),g=r(824234),w=r(264113),E=r(451093),T=r(625030),v=r(243251),b=r(455564),y=r(353474);function M(e){let[t,r]=n.useState(e.showBanner),{trackEvent:l}=(0,m.j6)(),d=n.useRef(null),p=(0,a.Xr)(E.P4),_=(0,s.wY)(d)??s.cU,w=t?_.height+(e.verticalPadding||0):0;n.useEffect(()=>{p(w)},[w,p]);let v=async()=>{r(!1),await (0,E.L3)({consentRegion:"explicit",cookiesEnabled:!1}),l(u.Ws,{trackingDescriptor:c.c.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_OUT})},M=async()=>{r(!1),await (0,E.L3)({consentRegion:"explicit",cookiesEnabled:!0}),l(u.Ws,{trackingDescriptor:c.c.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_IN})},S=async()=>{r(!1),await (0,E.L3)({consentRegion:"explicit",cookiesEnabled:!1}),l(u.Ws,{trackingDescriptor:c.c.COOKIE_BANNER_EXPLICIT_CONSENT_DISMISS})};return t?(0,i.jsxs)("div",{className:h()(y.kL,e.variant===b.a.COMMUNITY&&[y.gC,y.Vt],e.variant===b.a.FILE_VIEWER&&y.ut,e.variant===b.a.PROTOTYPE&&y.Id,e.variant===b.a.AUTH&&[y.gC,y.Yp]),role:"region",ref:d,"aria-label":(0,o.t)("cookies.consent_manager"),"data-testid":"cookie-banner",children:[(0,i.jsxs)("div",{className:y.rf,children:[(0,o.tx)("cookies.explicit_consent_body")," ",(0,i.jsx)(f.Yo,{href:(0,T.Sz)(T.XX.EXPLICIT),target:"_blank",rel:"noreferrer",children:(0,o.tx)("cookies.cookies_settings")})]}),(0,i.jsxs)("div",{className:y.o1,children:[(0,i.jsx)(e.SecondaryButton,{onClick:v,"data-testid":"cookie-opt-out-button",children:(0,o.tx)("cookies.do_not_allow_cookies")}),(0,i.jsx)(e.PrimaryButton,{onClick:M,"data-testid":"cookie-opt-in-button",children:(0,o.tx)("cookies.allow_all_cookies")})]}),(0,i.jsx)("div",{className:y.X8,children:(0,i.jsx)("button",{onClick:S,type:"button","data-testid":"cookie-dismiss-button",children:(0,i.jsx)(g.B,{className:y.MW,svg:e.dismissIcon})})})]}):e.persistentMessage&&(0,i.jsx)(m.fu,{name:"Cookie Banner Persistent Message",children:e.persistentMessage})||null}function S(e){let t=(0,a.md)(E.Dr),r=!1;return(t===E.S6.UNLOADED&&(r=!0),t!==E.S6.YES||e.persistentMessage||(r=!0),(0,v.V)()&&(r=!0),(0,_.default)().user_data?.id&&(r=!0),((0,_.default)().is_embed||(0,p.GZ)())&&(r=!0),(0,w.aK)()&&(r=!0),n.useEffect(()=>{!r&&l.A.isIpadNative&&(0,E.L3)({consentRegion:"explicit",cookiesEnabled:!1})},[r]),r||l.A.isIpadNative)?null:(0,i.jsx)(m.fu,{name:"Cookie Banner",properties:{consentRegion:"explicit"},children:(0,i.jsx)(M,{...e,showBanner:t===E.S6.NO})})}},687958(e,t,r){r.d(t,{C:()=>y});var i=r(239976),n=r(105652),o=r(594671),s=r(350923),a=r(3752),l=r(224542),d=r.n(l),h=r(214030),c=r(195784),u=r(865804),m=r(30890),p=r(838719),_=r(921424),f=r(824234),g=r(264113),w=r(451093),E=r(243251),T=r(455564),v=r(353474);function b(e){let[t,r]=n.useState(e.showBanner),[a,l]=n.useState(!1),m=n.useRef(null),p=n.useRef(void 0),g=(0,s.Xr)(w.P4),E=(0,o.wY)(m)??o.cU,b=t?E.height+(e.verticalPadding||0):0;n.useEffect(()=>{g(b)},[b,g]);let{trackEvent:y}=(0,u.j6)(),M=n.useRef(y);M.current=y,n.useEffect(()=>()=>{clearTimeout(p.current)},[]);let S=n.useCallback(e=>{m.current?.contains(e.target)||(l(!0),window.removeEventListener("click",S),p.current=setTimeout(async()=>{if(!t)return null;r(!1),await (0,w.L3)({consentRegion:"implicit",cookiesEnabled:!0}),M.current(c.Ws,{trackingDescriptor:h.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})},1e4))},[t]),I=n.useCallback(async()=>{clearTimeout(p.current),a&&(await (0,w.L3)({consentRegion:"implicit",cookiesEnabled:!0}),M.current(c.Ws,{trackingDescriptor:h.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS}))},[a]);n.useEffect(()=>{if(t)return window.addEventListener("click",S),window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),window.removeEventListener("click",S)}},[t,S,I]);let C=async()=>{r(!1),window.removeEventListener("click",S),await (0,w.L3)({consentRegion:"implicit",cookiesEnabled:!1}),M.current(c.Ws,{trackingDescriptor:h.c.COOKIE_BANNER_IMPLICIT_CONSENT_OPT_OUT})},x=async()=>{r(!1),window.removeEventListener("click",S),await (0,w.L3)({consentRegion:"implicit",cookiesEnabled:!0}),M.current(c.Ws,{trackingDescriptor:h.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})};return t?(0,i.jsxs)("div",{className:d()(v.kL,e.variant===T.a.COMMUNITY&&[v.gC,v.Vt],e.variant===T.a.FILE_VIEWER&&v.ut,e.variant===T.a.PROTOTYPE&&v.Id,e.variant===T.a.AUTH&&[v.gC,v.Yp]),role:"region","aria-label":"Consent Manager",ref:m,"data-testid":"cookie-banner",children:[(0,i.jsxs)("div",{className:v.rf,children:["This website uses cookies, pixel tags, and local storage for performance, personalization, and marketing purposes. Our use of some cookies may be considered a sale, sharing for behavioral advertising, or targeted advertising. For more, see our"," ",(0,i.jsx)(_.Yo,{rel:"noopener",target:"_blank",href:"/privacy/",children:"privacy policy"}),". ",(0,i.jsx)("b",{children:"California Residents"})," can learn how personal information is"," ",(0,i.jsx)(_.Yo,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank",children:"collected"}),", including how it is"," ",(0,i.jsx)(_.Yo,{href:"/privacy/#purpose",rel:"noopener",target:"_blank",children:"used"}),", whether it is"," ",(0,i.jsx)(_.Yo,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank",children:"\u201Csold\u201D or \u201Cshared\u201D"}),", and how long it is"," ",(0,i.jsx)(_.Yo,{href:"/privacy/#retention",rel:"noopener",target:"_blank",children:"retained"}),"."]}),(0,i.jsx)("div",{className:v.o1,children:(0,i.jsx)(e.SecondaryButton,{onClick:C,"data-testid":"cookie-opt-out-button",children:"Opt out"})}),(0,i.jsx)("div",{className:v.X8,children:(0,i.jsx)("button",{onClick:x,type:"button","data-testid":"cookie-dismiss-button",children:(0,i.jsx)(f.B,{className:v.MW,svg:e.dismissIcon})})})]}):e.persistentMessage&&(0,i.jsx)(u.fu,{name:"Cookie Banner Persistent Message",children:e.persistentMessage})||null}function y(e){let t=(0,s.md)(w.Dr),r=!1;return(t===w.S6.UNLOADED&&(r=!0),t!==w.S6.YES||e.persistentMessage||(r=!0),(0,E.V)()&&(r=!0),(0,p.default)().user_data?.id&&(r=!0),((0,p.default)().is_embed||(0,m.GZ)())&&(r=!0),(0,g.aK)()&&(r=!0),n.useEffect(()=>{!r&&a.A.isIpadNative&&(0,w.L3)({consentRegion:"explicit",cookiesEnabled:!1})},[r]),r||a.A.isIpadNative)?null:(0,i.jsx)(u.fu,{name:"Cookie Banner",properties:{consentRegion:"implicit"},children:(0,i.jsx)(b,{...e,showBanner:t===w.S6.NO})})}},243251(e,t,r){r.d(t,{V:()=>i});function i(){return navigator.globalPrivacyControl}},455564(e,t,r){r.d(t,{a:()=>n});var i,n=((i=n||{}).FILE_VIEWER="FILE_VIEWER",i.COMMUNITY="COMMUNITY",i.AUTH="AUTH",i.PROTOTYPE="PROTOTYPE",i)},575306(e,t,r){r.d(t,{a:()=>s});var i=r(239976),n=r(747487),o=r(731382);function s({flashes:e}){let t=Object.keys(e).map(e=>parseInt(e)).sort((e,t)=>e-t);return(0,i.jsx)("div",{className:"flash_view--flashes--pcDZK",children:Array.from(t.entries()).map(([t,r])=>{let s=e[r];return s?(0,i.jsx)("div",{className:"flash_view--flashPositioner--JLLx-",children:(0,i.jsx)(n.bL,{variant:s.status===o.x.ERROR?"danger":"default",children:(0,i.jsx)(n.QB,{children:s.message})})},`flash-${r}`):null})})}},274222(e,t,r){r.d(t,{Yd:()=>g,dS:()=>I,jL:()=>S,yF:()=>M});var i=r(534973),n=r(706354),o=r(850159),s=r(55914),a=r(181645),l=r(921282),d=r(838719),h=r(462198),c=r(42053),u=r(872244),m=r(434447),p=r(559365),_=r(983544),f=r(408493);function g(e,t){return(0,f.Gq)().getTranslatedDynamicContent(e,t)}let w=(0,p.Do)(async e=>{let t=document.getElementById("web"===e?"dictionaryUrl":"web_english"===e?"englishDictionaryUrl":"dbDictionaryUrl")?.getAttribute("href");if(t)return await E(t,e)}),E=(0,p.Do)(T);async function T(e,t){let r,i,n=0,o=!1,s=await v(async()=>{let i,s;n+=1;let a={cache:o?"reload":"default"};try{i=await fetch(e,a)}catch(n){let i=n instanceof Error?n.message:"Unknown error";if(r="network_error","web_english"===t)throw new _.p(`Unable to fetch English dictionary: ${i}`,{url:e,cause:r});throw new _.S(`Unable to fetch dictionary: ${i}`,{url:e,cause:r})}if(!i.ok){if(r=403===i.status?"forbidden":i.status>=500?"internal_error":"unknown","web_english"===t)throw new _.p(`Unable to fetch English dictionary: ${e} ${i.status} - ${i.statusText}`,{url:e,status:i.status,cause:r});throw new _.S(`Unable to fetch dictionary: ${e} ${i.status} - ${i.statusText}`,{url:e,status:i.status,cause:r})}try{return s=await i.text(),JSON.parse(s)}catch(t){if(null!=s&&t instanceof SyntaxError){o=!0;let i=s.length,n=i<200?s:`${s.substring(0,100)} [...] ${s.substring(i-100)}`;(0,c.x1)("i18n helpers","Error parsing dictionary JSON",{error:t,dictUrl:e,responseTextLength:i,jsonString:n}),r="invalid_dict"}else r="unknown";throw t}}),l=n-1;switch(l){case 0:case 1:case 2:i=`${l}`;break;default:i="3+"}if(a.az.trackDefinedMetric("i18n.dictionary_loaded",{failure_cause:r,project:t,retries:i,success:s.success}),s.success)return s.value;throw s.error}async function v(e,t={}){let r,i=t.maxRetries??3,n=t.retryBackoffs??[0,100,200];for(let t=i;t>0;t-=1)try{let r=n[t-1];null!=r&&r>0&&await (0,s.fm)(r);let i=await e();return{success:!0,value:i}}catch(e){r??=e}return{success:!1,error:r}}function b(){let e=navigator.userAgent;for(let t of["PetalBot","Naver","lin.ee"])if(e.includes(t))return!0;return!1}let y=(0,p.Do)(async()=>{try{return await fetch("/robots.txt",{cache:"no-store",method:"GET"}),!1}catch{return!0}});async function M(e=!1,t=null){let r,i,s;(0,o.OY)();let l=t??(0,d.extractPageLocales)();m.X.i18nLocale=l[0];try{let[t,o,d]=await Promise.all([(0,u.ZO)("fetchI18nPreloadDict",n.FigmaTeam.GROWTH_PLATFORM,async()=>{r=await w("web")}).then(e=>e.duration).catch(async e=>{if(e instanceof _.S){let t=new _.S(e.message,{locale:l[0],url:e.url,status:e.status,cause:e.cause});await y()||(0,h.$D)(n.FigmaTeam.GROWTH_PLATFORM,t)}else await y()||(0,h.$D)(n.FigmaTeam.GROWTH_PLATFORM,e)}),(0,u.ZO)("fetchEnglishPreloadDict",n.FigmaTeam.GROWTH_PLATFORM,async()=>{try{i=await w("web_english")}catch(r){if(b())return;let e="unknown",t=document.getElementById("englishDictionaryUrl")?.getAttribute("href");if(t){let r=t.split("/");e=r[r.length-1]}throw(0,a.sx)("english_entry_dict_failure_count",{},{forwardToDatadog:!0}),(0,a.sx)("english_entry_dict_failure",{message:"string"==typeof r?r:r instanceof Error?r.message:"Unknown",dictionary:e}),r}}).then(e=>e.duration),e?(0,u.ZO)("fetchI18nDbString",n.FigmaTeam.GROWTH_PLATFORM,async()=>{s=await w("db")}).then(e=>e.duration):0]);t&&(m.X.i18nFetchPreloadedDictMs=Math.round(t)),m.X.i18nFetchPreloadedEnglishDictMs=Math.round(o),m.X.i18nFetchPreloadedDbDictMs=Math.round(d)}catch(e){throw console.warn(e),r=void 0,s=void 0,e}return(0,f.Cq)(l,void 0,r,s,i),l[0]}async function S(e){let t,r,s,c,p;(0,o.OY)();let g=(0,d.initialOptions)().dictionary_url_by_locale;if(g&&g[e]){let t=g[e];c=t["figma-web"],p=t["figma-db"]}try{let[o,l,d]=await Promise.all([(0,u.ZO)("fetchI18nLocaleDict",n.FigmaTeam.GROWTH_PLATFORM,async()=>{if(e!==i.Locale.EN)if(c)t=await E(c,"web");else throw new _.S(`No web dictionary URL found for locale: ${e}`,{locale:e})}).then(e=>e.duration).catch(async t=>{if(t instanceof _.S){let r=new _.S(t.message,{locale:e,url:t.url,status:t.status,cause:t.cause});await y()||(0,h.$D)(n.FigmaTeam.GROWTH_PLATFORM,r)}else await y()||(0,h.$D)(n.FigmaTeam.GROWTH_PLATFORM,t)}),(0,u.ZO)("fetchEnglishPreloadDict",n.FigmaTeam.GROWTH_PLATFORM,async()=>{try{r=await w("web_english")}catch(r){if(b())return;let e="unknown",t=document.getElementById("englishDictionaryUrl")?.getAttribute("href");if(t){let r=t.split("/");e=r[r.length-1]}throw(0,a.sx)("english_entry_dict_failure_count",{},{forwardToDatadog:!0}),(0,a.sx)("english_entry_dict_failure",{message:"string"==typeof r?r:r instanceof Error?r.message:"Unknown",dictionary:e}),r}}).then(e=>e.duration),(0,u.ZO)("fetchI18nDbString",n.FigmaTeam.GROWTH_PLATFORM,async()=>{p&&(s=await E(p,"db"))}).then(e=>e.duration)]);o&&(m.X.i18nNonPreloadedFetchDictMs=Math.round(o)),m.X.i18nFetchPreloadedEnglishDictMs=Math.round(l),m.X.i18nNonPreloadedFetchDbDictMs=Math.round(d)}catch(e){throw console.warn(e),t=void 0,s=void 0,e}e===i.Locale.EN&&(t=r),document.documentElement.lang=e,l.eD&&l.eD.setLocales([e,i.FALLBACK_LOCALE]),(0,f.Cq)([e,i.FALLBACK_LOCALE],i.PARTIALLY_SUPPORTED_LOCALES.concat(),t,s,r)}function I(e,t=(0,f.Gq)().getPrimaryLocale(!1)){return t===i.Locale.EN?e:`/${t}${e}`}},636586(e,t,r){r.d(t,{h:()=>N});var i=r(239976),n=r(645186),o=r(843489),s=r(350923),a=r(355341),l=r(838719),d=r(317507),h=r(890817),c=r(934903),u=r(233535),m=r(171310),p=r(128003),_=r(601198),f=r(975516),g=r(222581),w=r(607197),E=r(476219),T=r(105652),v=r(395227),b=r(71239),y=r(297151),M=r(757253),S=r(850159);r(574988);var I=r(214030),C=r(397383),x=r(596690),A=r(687497);function O({onAccept:e}){let[t,r]=T.useState(!1),n=v.hS({preventUserClose:!0,open:!0,onClose:()=>{}}),o=T.useCallback(()=>{if(!t){r(!0);try{e()}finally{r(!1)}}},[t,e]);return(0,i.jsx)(b.bL,{manager:n,width:"md","data-testid":"tos_agreement_modal",children:(0,i.jsxs)(y.Wk,{children:[(0,i.jsx)("div",{...{className:"x78zum5 x6s0dn4 x1ilnypm x8rdmch x1eqcisn"},children:(0,i.jsx)(y.hE,{children:(0,i.jsx)(A.E,{fontSize:11,fontWeight:"bold",children:(0,S.t)("tos_agreement.modal_title")})})}),(0,i.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xapmr0x xjtplnu"},children:(0,S.tx)("tos_agreement.modal_description",{terms_of_service_link:(0,i.jsx)(M._,{href:"/legal/tos",newTab:!0,...{className:"x1quhyk7 x1bvjpef x1ypdohk"},children:(0,S.tx)("tos_agreement.tos_link_text")})})}),(0,i.jsx)(C.Y,{direction:"horizontal",horizontalAlignItems:"end",verticalAlignItems:"center",padding:8,children:(0,i.jsx)(x.V,{disabled:t,variant:"primary",onClick:o,dataTestId:"accept-tos-button",trackingProperties:{trackingDescriptor:I.c.AGREE},children:(0,S.t)("tos_agreement.modal_accept_button")})})]})})}function N({waitForNux:e=!0}){let t=(0,s.md)(u.a),r=(0,s.md)(m.NT),T=(0,s.md)(m.g5),{show:v,complete:b,isShowing:y}=(0,h.e)({overlay:E.hib,priority:_.N.URGENT_ALERT},[r,T]),M=(0,n.wA)(),S=(0,p.f)("tos_accepted"),I=!!(0,l.default)().tos_agreement_required&&!S,C=(0,a.H)(t);return(0,o.h)(()=>{let t=()=>v({canShow:(e,t)=>{let r=C.current.some(e=>w.e.includes((0,c.y)(e))),i=(0,g.d)({emailValidatedAt:t,jobTitle:e});return(!r||!!i)&&!!I}});e?setTimeout(()=>{t()},2e3):t()}),(0,i.jsx)(f.M,{isShowing:y,testId:"tos_agreement_overlay",children:(0,i.jsx)(O,{onAccept:function(){M(d.b({tos_accepted:!0})),b()}})})}},506026(e,t,r){r.d(t,{Ox:()=>a,WX:()=>l,zX:()=>s});var i,n,o,s=((i=s||{})[i.NONE=0]="NONE",i[i.SPINNER=1]="SPINNER",i[i.IMAGE_BACKED_SPINNER=2]="IMAGE_BACKED_SPINNER",i[i.CHECK=3]="CHECK",i[i.GREEN_CHECK=4]="GREEN_CHECK",i[i.CHECK_WITH_CIRCLE=5]="CHECK_WITH_CIRCLE",i[i.EXCLAMATION=6]="EXCLAMATION",i[i.RETURN_TO_INSTANCE=7]="RETURN_TO_INSTANCE",i[i.PROGRESS=8]="PROGRESS",i[i.UNDO=9]="UNDO",i[i.FROM_URL=10]="FROM_URL",i[i.NOTES_ON_RECTANGLE=11]="NOTES_ON_RECTANGLE",i[i.STACK_SELECTION=12]="STACK_SELECTION",i[i.CLOSE_FILLED=13]="CLOSE_FILLED",i[i.EYEDROPPER=14]="EYEDROPPER",i[i.BRUSH=15]="BRUSH",i[i.SPARKLE=16]="SPARKLE",i[i.PICK=17]="PICK",i[i.WARNING_EXCLAMATION_WITH_TRIANGLE=18]="WARNING_EXCLAMATION_WITH_TRIANGLE",i[i.OFFLINE=19]="OFFLINE",i[i.DESIGN_MODE=20]="DESIGN_MODE",i[i.CLIPBOARD=21]="CLIPBOARD",i[i.SAVE=22]="SAVE",i[i.TABLE=23]="TABLE",i[i.MISSING_FONT=24]="MISSING_FONT",i[i.IMPORT=25]="IMPORT",i),a=((n=a||{})[n.SQUARE=0]="SQUARE",n[n.CIRCLE=1]="CIRCLE",n),l=((o=l||{}).TIMEOUT="timeout",o.DISMISS="dismiss",o.ACTION_BUTTON_CLICKED="action_button_click",o)},166745(e,t,r){r.d(t,{L:()=>o,R:()=>n});var i=r(506026);function n(e){return e.timeoutOverride?e.timeoutOverride:e.error||e.icon===i.zX.PROGRESS||e.icon===i.zX.SPINNER||e.icon===i.zX.RETURN_TO_INSTANCE?1/0:e.button?1e4:"content"in e||e.message?.length>25?6e3:3e3}function o(e,t){let r=n(e);return t>1&&(!e.timeoutType||"suggested"===e.timeoutType)&&(r*=Math.pow(.5,t-1)),e.delay&&(r+=e.delay),r}},280572(e,t,r){r.d(t,{h:()=>H});var i=r(239976),n=r(105652),o=r(645186),s=r(747487),a=r(863088),l=r(804902),d=r(240815),h=r(21966),c=r(163652),u=r(323636);let m=(0,n.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M17 8a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2zM9 9a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm7-3a.5.5 0 0 1 0 1H7a1 1 0 0 0-1 1v7a.5.5 0 0 1-1 0V8a2 2 0 0 1 2-2zm-2.5 7a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm2-2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"})})});var p=r(529670),_=r(365739),f=r(694895),g=r(956024),w=r(688734),E=r(795217),T=r(195772),v=r(664537),b=r(475237),y=r(835680),M=r(43337),S=r(709446),I=r(571596),C=r(709781),x=r(145906),A=r(806266),O=r(741542),N=r(194535);r(574988);var R=r(181645),P=r(773201),D=r(613629),k=r(624169),L=r(506026),F=r(166745),U=r(420719);function B({children:e,testId:t,hidden:r}){return(0,i.jsx)("span",{...{0:{className:"xjp7ctv"},1:{className:"x10l6tqk x1nj6f5o"}}[0|!!r],children:(0,i.jsx)(s.QB,{"data-testid":t,children:e})})}function V({offscreen:e,srOnly:t,children:r}){return t?(0,i.jsx)(a.E,{children:r}):(0,i.jsx)("span",{...{0:{},1:{className:"x10l6tqk x1nj6f5o"}}[0|!!e],children:r})}function H(e){var t,r,l;let d,h,c,u,m,{positioner:p=V}=e,_=(0,o.wA)(),{bell:f,queueDepth:g}=(0,N.R)(e=>({bell:e.visualBell[0],queueDepth:e.visualBell.length})),w=(m=(0,n.useMemo)(()=>{let e=[1,2,3];return()=>(e.push(e.shift()),e)},[]),(0,n.useMemo)(m,[m,f]));(0,O.getFeatureFlags)().fpl_canvas_keyboard_controls&&(c=w[0],u=w[1]);let E=f?.onDequeue,T=f?.onDismiss,v=(0,n.useRef)(!1);(0,n.useEffect)(()=>()=>{E&&!v.current&&E(L.WX.DISMISS),v.current=!1},[E]);let b=(0,n.useCallback)(e=>{"dismiss"===e&&T?.(),!v.current&&E&&(v.current=!0,E?.(function(e){switch(e){case"dismiss":return L.WX.DISMISS;case"timeout":return L.WX.TIMEOUT;case"action":return L.WX.ACTION_BUTTON_CLICKED}}(e))),_(D.F.dequeue({}))},[_,E,T]),y=(t=f,(0,o.d4)(e=>t?.progressKey?e.progress[t.progressKey]:void 0)),M=f?(0,k.zC)(f,y):null,S=f&&"nonVisualMessage"in f?f.nonVisualMessage:void 0,I=f?.count?(0,i.jsx)(s.y_,{children:f.count}):null,[C,A]=(0,k.hB)(f||null),U=(r=f,l=g,d=performance.now(),h=(0,n.useMemo)(()=>d,[r]),(0,n.useMemo)(()=>r?(0,F.L)(r,l):1/0,[r,l])-(d-h)),H=function(e,t){let r=(0,n.useRef)(void 0),i=!!e&&!e.delay,[o,s]=(0,n.useState)(i);return((0,n.useEffect)(()=>{if(e?.delay){let r=setTimeout(()=>s(!0),e.delay);return t||e.button||R.az.trackDefinedMetric("fpl.missing_toast_message",{bellId:e.id,bellType:e.type,description:"delay exists but no message was included",visualBellInstance:"fpl_visual_bell"}),()=>clearTimeout(r)}},[e,t]),e!==r.current)?(r.current=e,s(i),t||e?.button||R.az.trackDefinedMetric("fpl.missing_toast_message",{bellId:e?.id,bellType:e?.type,description:"Remembered bell current does not match but no message exists",visualBellInstance:"deprecated_fpl_visual_bell"}),i):o}(f,M),G=!!f?.role,z=(0,i.jsxs)(s.bL,{timeout:U,onClose:b,variant:f?.error?"danger":void 0,"data-testid":"visual-bell-root",...f?.maxWidth&&{style:{"--toast-max-width":f.maxWidth}},children:[f?.icon&&(0,i.jsx)(j,{error:f.error,iconShape:f.iconShape,iconURL:f.iconURL,progress:y,icon:f.icon}),(0,i.jsxs)(B,{testId:"visual-bell-message",children:[(0,i.jsx)("span",{children:M}),S&&(0,i.jsx)(a.E,{children:S}),(0,i.jsx)("span",{children:I})]},c),(0,i.jsx)(B,{hidden:!0},u),C&&(0,i.jsx)(W,{bellId:f.id,"data-testid":"visual-bell-button",...C},`${f.id}-primary`),A&&(0,i.jsx)(W,{bellId:f.id,"data-testid":"visual-bell-secondary-button",...A},`${f.id}-secondary`),(f?.onDismiss||f?.error)&&(0,i.jsx)(s.Rz,{"data-testid":"visual-bell-dismiss-button"})]}),K=f?.useSystemTheme?z:(0,i.jsx)(x.J,{mode:"dark",children:z}),Y=!H||!M&&!I&&!f?.button,$=(0,O.getFeatureFlags)().fpl_hide_missing_alert?Y:!H,q=(0,P._6)();return n.useEffect(()=>{f&&!$&&R.az.trackDefinedEvent("fpl.visual_bell_shown",{bellId:f.id,bellType:f.type,selectedView:q.view,bellMessage:"content"in f?"[unknown]":f.message?f.message:"[unknown]"})},[f,$,q]),(0,i.jsx)(p,{offscreen:$,srOnly:G,shouldRequestMobileNativeBottomOffset:!!f,children:K})}function W({bellId:e,editScope:t,text:r,action:o,Initialize:a,...l}){let d=a?.(),h=(0,n.useMemo)(()=>{let r=t=>o(t,e,d);return t&&(r=A.nc.user(t,r)),r},[o,e,t,d]);return(0,i.jsx)(s.rA,{...l,action:h,children:r})}function j({icon:e,iconShape:t,iconURL:r,error:n,progress:o}){switch(e){case L.zX.CHECK:return(0,i.jsx)(l.g,{});case L.zX.GREEN_CHECK:return(0,i.jsx)(d.g,{style:{"--color-icon":"var(--color-icon-success)"}});case L.zX.CHECK_WITH_CIRCLE:return(0,i.jsx)(h.W,{});case L.zX.EXCLAMATION:return(0,i.jsx)(c.i,{});case L.zX.UNDO:case L.zX.RETURN_TO_INSTANCE:return(0,i.jsx)(u.v,{});case L.zX.SPINNER:case L.zX.IMAGE_BACKED_SPINNER:return(0,i.jsx)(s.y$,{});case L.zX.PROGRESS:return(0,i.jsx)(s.ke,{progressFraction:(0,k.OT)(o)});case L.zX.FROM_URL:return(0,i.jsx)("img",{className:t===L.Ox.CIRCLE?U.Nl:n?U.H0:U.Xy,src:r,alt:""});case L.zX.NOTES_ON_RECTANGLE:return(0,i.jsx)(m,{});case L.zX.STACK_SELECTION:return(0,i.jsx)(p.v,{});case L.zX.CLOSE_FILLED:return(0,i.jsx)(_.C,{style:{"--color-icon":"var(--color-icon-danger)"}});case L.zX.EYEDROPPER:return(0,i.jsx)(f.j,{});case L.zX.BRUSH:return(0,i.jsx)(g.d,{});case L.zX.SPARKLE:return(0,i.jsx)(w.C,{});case L.zX.PICK:return(0,i.jsx)(E.d,{});case L.zX.WARNING_EXCLAMATION_WITH_TRIANGLE:return(0,i.jsx)(T.n,{});case L.zX.OFFLINE:return(0,i.jsx)(v.C,{});case L.zX.DESIGN_MODE:return(0,i.jsx)(b.a,{});case L.zX.CLIPBOARD:return(0,i.jsx)(y.E,{});case L.zX.SAVE:return(0,i.jsx)(M.T,{});case L.zX.TABLE:return(0,i.jsx)(S.s,{});case L.zX.MISSING_FONT:return(0,i.jsx)(I.O,{style:{"--color-icon-tertiary":"var(--color-bg-warning)","--color-icon":"var(--color-text-onwarning)"}});case L.zX.IMPORT:return(0,i.jsx)(C.R,{});case L.zX.NONE:case void 0:return(0,i.jsx)(i.Fragment,{})}}},790538(e,t,r){r.d(t,{b:()=>f,e:()=>u});var i,n=r(97004),o=r(523924),s=r(706354),a=r(963947),l=r.n(a),d=r(151524),h=r(539236),c=r(181254),u=((i=u||{}).EmbedKit="embed_kit",i.DesignPlayableMakesOnCanvas="design_playable_makes_on_canvas",i.DesignInSeparateTabPreview="design_in_separate_tab_preview",i.DesignInFloatingModalPreview="design_in_floating_modal_preview",i.DevModePlayableMakesOnCanvas="dev_mode_playable_makes_on_canvas",i.MakeStandalone="make_standalone",i.SitesInFloatingModal="sites_in_floating_modal",i.Testing="testing",i);let m={code_bundle_start:null,code_bundle_stop:null,preview_website_bundle_start:null,preview_website_bundle_stop:null,asset_generation_start:null,asset_generation_stop:null,render_start:null,render_stop:null,sandbox_create_start:null,sandbox_create_stop:null,files_patch_start:null,files_patch_stop:null,update_package_json_start:null,update_package_json_stop:null,install_dependencies_start:null,install_dependencies_stop:null,import_module_start:null,import_module_stop:null,cached_preview_urls_load_start:null,cached_preview_urls_load_stop:null,cached_preview_iframe_load_start:null,cached_preview_iframe_load_stop:null,flush_and_get_sequence_number_start:null,flush_and_get_sequence_number_stop:null},p={code_bundle_start:null,preview_website_bundle_start:null,asset_generation_start:null,render_start:null,sandbox_create_start:null,files_patch_start:null,update_package_json_start:null,install_dependencies_start:null,import_module_start:null,cached_preview_urls_load_start:null,cached_preview_iframe_load_start:null,flush_and_get_sequence_number_start:null};function _({start:e,stop:t}){return Math.max(0,e&&t&&t-e||0)}class f{constructor({isFoundry:e,surface:t}){this.initTime=null,this.userFlow=null,this.buildMetadata=null,this.loadMetadata={},this.syncMetadata={},this.durationVitalMap={...p},this.timingMap={...m},this.isFirstBuild=!0,this.isFoundry=e,this.surface=t}reset(){this.timingMap={...m},this.durationVitalMap={...p},this.initTime=null,this.userFlow=null,this.isFirstBuild=!1,this.buildMetadata=null,this.loadMetadata={}}record(e){this.initTime||(this.initTime=performance.now()),this.userFlow||(this.userFlow=h.J.startUserFlow({name:"component_preview",team:s.FigmaTeam.MAKE,context:{is_foundry:this.isFoundry,is_first_build:this.isFirstBuild,surface:this.surface.toString(),code_library_format:(0,n.ft)().toString()}})),null===this.timingMap[e]&&(this.recordDurationVital(e),this.timingMap[e]=performance.now())}recordDurationVital(e){if(this.userFlow)switch(e){case"code_bundle_start":case"preview_website_bundle_start":case"asset_generation_start":case"render_start":case"sandbox_create_start":case"files_patch_start":case"update_package_json_start":case"install_dependencies_start":case"import_module_start":case"cached_preview_urls_load_start":case"cached_preview_iframe_load_start":case"flush_and_get_sequence_number_start":let t=this.userFlow.startDuration(e.replace("_start",""));t.addContext({is_foundry:this.isFoundry,is_first_build:this.isFirstBuild,surface:this.surface.toString(),code_library_format:(0,n.ft)().toString()}),this.durationVitalMap[e]=t;break;case"code_bundle_stop":case"preview_website_bundle_stop":case"asset_generation_stop":case"render_stop":case"sandbox_create_stop":case"files_patch_stop":case"update_package_json_stop":case"install_dependencies_stop":case"import_module_stop":case"cached_preview_urls_load_stop":case"cached_preview_iframe_load_stop":case"flush_and_get_sequence_number_stop":let r=e.replace("_stop","_start");this.durationVitalMap[r]?.stop(),this.durationVitalMap[r]=null;break;default:(0,o.S9)(e,null)}}setBuildMetadata(e){this.buildMetadata=e}setLoadMetadata(e){this.loadMetadata={...this.loadMetadata,...e}}setSyncMetadata(e){this.syncMetadata={...this.syncMetadata,...e}}trackFigmentEvent(){let{code_bundle_start:e,code_bundle_stop:t,preview_website_bundle_start:r,preview_website_bundle_stop:i,asset_generation_start:o,asset_generation_stop:s,render_start:a,render_stop:h,sandbox_create_start:u,sandbox_create_stop:m,files_patch_start:p,files_patch_stop:f,update_package_json_start:g,update_package_json_stop:w,install_dependencies_start:E,install_dependencies_stop:T,import_module_start:v,import_module_stop:b,cached_preview_urls_load_start:y,cached_preview_urls_load_stop:M,cached_preview_iframe_load_start:S,cached_preview_iframe_load_stop:I,flush_and_get_sequence_number_start:C,flush_and_get_sequence_number_stop:x}=this.timingMap;if(!this.initTime)return void console.error("Component preview performance tracker init time not set. Unable to track figment event.");let A=d.D.getState(),O=(this.buildMetadata?.isBuildSuccessful||this.isFoundry?h:t)??performance.now();(0,c.ds)("code_component_preview_perf",A.openFile?.key,l()(A,["selectedView","fileByKey"]),{is_foundry:this.isFoundry,surface:this.surface.toString(),code_library_format:(0,n.ft)().toString(),total_build_and_render_ms:_({start:this.initTime,stop:O}),bundle_code_ms:_({start:e,stop:t}),preview_website_bundle_ms:_({start:r,stop:i}),asset_generation_ms:_({start:o,stop:s}),render_ms:_({start:a,stop:h}),sandbox_create_ms:_({start:u,stop:m}),files_patch_ms:_({start:p,stop:f}),update_package_json_ms:_({start:g,stop:w}),install_dependencies_ms:_({start:E,stop:T}),import_module_ms:_({start:v,stop:b}),cached_preview_urls_load_ms:_({start:y,stop:M}),cached_preview_iframe_load_ms:_({start:S,stop:I}),flush_and_get_sequence_number_ms:_({start:C,stop:x}),npm_install_duration_ms:this.syncMetadata?.npmInstallDuration??0,is_first_build:this.isFirstBuild,is_build_successful:this.buildMetadata?.isBuildSuccessful,is_cached_preview_urls_load_successful:this.loadMetadata?.isCachedPreviewUrlsLoadSuccessful,cached_from_template_id:this.loadMetadata?.cachedFromTemplateId??null,cached_from_template_type:this.loadMetadata?.cachedFromTemplateType??null,force_provisioned:this.loadMetadata?.forceProvisioned,newly_provisioned:this.loadMetadata?.newlyProvisioned,warm:this.loadMetadata?.warm??!1,error_message:this.buildMetadata?.errorMessage,bundle_js_length:this.buildMetadata?.bundleJsLength,bundle_css_length:this.buildMetadata?.bundleCssLength,total_library_code_files:this.buildMetadata?.totalCodeFiles,total_library_code_file_lines:this.buildMetadata?.totalCodeFileLines,total_library_image_imports:this.buildMetadata?.totalImageImports,source_code_hash:this.syncMetadata?.sourceCodeHash,is_sync_successful:this.syncMetadata?.isSyncSuccessful},{forwardToDatadog:!0}),this.userFlow?.end(),this.reset()}}},800296(e,t,r){r.d(t,{G:()=>l,a:()=>a});var i=r(491852),n=r(350923),o=r(743514);let s=[i.Nfd.CODE,i.Nfd.DAKOTA,i.Nfd.SETTINGS,i.Nfd.VARIABLES];function a(e){return s.includes(e)}function l(){return a((0,n.md)(o.s0))}},215453(e,t,r){r.d(t,{DH:()=>N,dp:()=>M});var i=r(239976),n=r(105652),o=r(497935),s=r(950768),a=r(850159),l=r(335127),d=r(224542),h=r.n(d),c=r(955394),u=r(573598),m=r(99101),p=r(886101),_=r(90550),f=r(932630),g=r(598422),w=r(385773),E=r(607713),T=r(216908),v=r(575214),b=r(227701),y=r(722709);let M=16/9,S=(e,t)=>e&&t?(0,w.o)(e.x,t.x)&&(0,w.o)(e.y,t.y)&&(0,w.o)(e.zoom,t.zoom):e===t;function I(e,t,r){return S(e??null,t??null)&&(0,o.c2)(e?.backgroundColor,t?.backgroundColor)&&(r?.skipCheckRatio||(0,w.o)(e?.ratio??-1,t?.ratio??-1))&&e?.preset===t?.preset}function C(e=.02,t=4){return function(r,i){return(0,s.qE)(e/i,r,t/i)}}function x(e,t){return{...e,x:(0,s.qE)(t.right,e.x,t.left),y:(0,s.qE)(t.bottom,e.y,t.top)}}function A(e,t,r,i){return{...t,ratio:1152/e,backgroundColor:r,preset:i}}function O(e,t){let r=C(e,t);return(e,t,i,n)=>{let{width:o,height:s}=e,{width:a,height:l}=t,d=T.Q6[i],h=l/s,c=a/o,u={x:0,y:0},m=1;switch(d){case T.Q6.ActualSize:m=1;break;case T.Q6.Default:m=Math.abs(o/s-M)>.01?r(Math.min((l-32)/s,(a-32)/o,1),n):r(Math.min(h,c,1),n);break;case T.Q6.Fit:m=r(Math.min(h,c,1),n);break;case T.Q6.FillScreen:m=r(Math.min(h,c),n);break;case T.Q6.FitWidth:let p=s*(m=r(Math.min(c,1),n));m<1&&p>l&&(u.y=(p-l)/2)}return{...u,zoom:m}}}function N(e){let{handleImageLoad:t}=e,r=e.imageScale||4,{showEditPreviewControls:o,setContentPreview:s,enableZoomControls:d,minZoomFactor:h,maxZoomFactor:w}=e,E=C(h,w),v=O(h,w),[b,M]=n.useState(!1),[N,D]=n.useState(!1),k=n.useRef(null),L=n.useRef(null),F=n.useRef(!1),[U,B]=n.useState(null),[V,H]=n.useState(!1),[W,j]=n.useState(!1),[G,z]=n.useState(!1),[K,Y]=n.useState(null),[$,q]=n.useState(null),[J,X]=n.useState(null),[Z,Q]=n.useState(null),[ee,et]=n.useState(null),er=n.useRef(null),[ei,en]=n.useState(null),eo=(0,f.DP)(),es=e.initialSnapshotState?.backgroundColor??e.pageBackgroundColor??(0,u.H0)((0,m.Bx)(eo)),[ea,el]=n.useState(es),ed=n.useRef(void 0),{windowInnerHeight:eh,windowInnerWidth:ec}=(0,p.l)();n.useEffect(()=>{er.current&&en({width:er.current.offsetWidth,height:er.current.offsetHeight})},[eh,ec,er]);let[eu,em]=n.useState(null);n.useEffect(()=>{if(null===k.current)return;let e=k.current.getBoundingClientRect();L.current={width:e.width,height:e.height},eu?.zoom&&q({top:e.height+200/eu.zoom,bottom:-(e.height+200/eu.zoom),left:e.width+200/eu.zoom,right:-(e.width+200/eu.zoom)})},[eu?.zoom]);let ep=(0,a.t)("fig_feed.zoom_pan_preset.custom"),[e_,ef]=n.useState(e.initialSnapshotState?.preset),eg=n.useRef({}),ew=n.useCallback(()=>{k.current&&k.current?.complete&&ei&&T.aH.forEach(e=>{eg.current[e]=v({width:k.current.offsetWidth,height:k.current.offsetHeight},ei,e,r)})},[r,ei,v]);n.useEffect(()=>{ew()},[ei,ew]),n.useEffect(()=>{e_&&e_ in eg.current&&em(eg.current[e_])},[e_]),n.useEffect(()=>{let e=Object.values(eg.current);eu&&e.length>0&&e.every(e=>!S(e,eu))&&ef(ep)},[eu,ep]),n.useEffect(()=>{N||et(null)},[N]),n.useEffect(()=>{!e.enableSnapToGuidelines||W||(null!==Z||null!==J)&&(em(e=>{if(!e||!ei||!$||null===L.current)return null;let t=e.x;"left"===J?t=L.current.width/2-ei.width/2:"center"===J?t=0:"right"===J&&(t=ei.width/2-L.current.width/2);let r=e.y;return"top"===Z?r=L.current.height/2-ei.height/2:"center"===Z?r=0:"bottom"===Z&&(r=ei.height/2-L.current.height/2),x({...e,x:t,y:r},$)}),Q(null),X(null))},[e.enableSnapToGuidelines,W,ei,$,Z,J,r]);let eE=n.useCallback(e=>{e.preventDefault(),j(!1),Y(null)},[j,Y]),eT=n.useCallback(t=>{if($)if(t.ctrlKey||t.metaKey)return t.stopPropagation(),t.preventDefault(),em(i=>{if(!i)return null;if(!e.showEditPreviewControls&&ei&&k.current){let e=(0,g.Z)(t,b),n=E(i.zoom*e,r),o={x:t.offsetX,y:t.offsetY},s={x:ei.width/2,y:ei.height/2},a={x:s.x+i.x,y:s.y+i.y},l={x:(o.x-a.x)*(1-n/i.zoom),y:(o.y-a.y)*(1-n/i.zoom)},d={x:i.x+l.x,y:i.y+l.y};return x({x:d.x,y:d.y,zoom:n},$)}{let e=t.deltaY/500,n=i.x,o=i.y,s=i.zoom,a=E(s-e,r),l=t.offsetX,d=t.offsetY;if(ei){let e=ei.width,t=ei.height,r=l-e/2,h=d-t/2,c=(r-i.x)/s,u=(h-i.y)/s;n=-c*a+r,o=-u*a+h}return x({x:n,y:o,zoom:a},$)}}),!1;else e.shouldWheelPan&&(t.stopPropagation(),t.preventDefault(),em(i=>{if(!i)return i;let n=e.showEditPreviewControls?2:1;return x({zoom:E(i.zoom,r),x:i.x-t.deltaX/n,y:i.y-t.deltaY/n},$)}))},[$,e.shouldWheelPan,e.showEditPreviewControls,ei,b,r,E]),ev=n.useCallback(e=>{if(e.ctrlKey&&M(!0),e.shiftKey&&D(!0),!$)return;let t=e=>{em(t=>{if(!t)return null;let i=E(R(t.zoom,e),r);return x({x:t.x,y:t.y,zoom:i},$)})};(e.metaKey||e.ctrlKey)&&("+"===e.key||"="===e.key)?(e.preventDefault(),t(!1)):(e.metaKey||e.ctrlKey)&&("_"===e.key||"-"===e.key)?(e.preventDefault(),t(!0)):(e.shiftKey||e.metaKey)&&"0"===e.key||")"===e.key?(e.preventDefault(),em(e=>e?x({x:0,y:0,zoom:1/r},$):null)):(e.shiftKey&&"1"===e.key||"!"===e.key)&&(e.preventDefault(),em(e=>e?x({x:0,y:0,zoom:E(Math.min(ei.width/k.current.offsetWidth,ei.height/k.current.offsetHeight),r)},$):null))},[$,r,E,ei]),eb=e=>{e.ctrlKey&&M(!1),D(!1)};n.useEffect(()=>{if(e.enableZoomKeyControls)return document.addEventListener("keydown",ev),document.addEventListener("keyup",eb),()=>{document.removeEventListener("keydown",ev),document.removeEventListener("keyup",eb)}},[e.enableZoomKeyControls,ev]);let ey=n.useCallback(i=>{if(t&&i&&t(i),!F.current&&k.current&&ei){ew(),F.current=!0;let t=k.current.offsetHeight,i=k.current.offsetWidth,n=ei.height-20,s=ei.width-20,a=v({width:i,height:t},{width:s,height:n},T.$K,r),l=i>t,d=a.zoom,h=0,c=0;if(d<.75/r){let e=Math.min(n/t,1),o=Math.min(s/i,1);l&&d<e?h=(i*(d=E(e,r))-s)/2:!l&&d<o&&(c=(t*(d=E(o,r))-n)/2)}if(q({top:t+200,bottom:-(t+200),left:i+200,right:-(i+200)}),B({x:h,y:c,zoom:d}),e.initialSnapshotState)e.initialSnapshotState.preset&&e.initialSnapshotState.preset in T.Q6?(ed.current={...e.initialSnapshotState,...eg.current[e.initialSnapshotState.preset]},ef(e.initialSnapshotState.preset)):(ed.current=e.initialSnapshotState,ef(ep)),ed.current&&em(ed.current);else{let e;o&&(a=v({width:i,height:t},ei,e=T.$K,r),ef(e)),ed.current=A(ei.height,a,ea,e),em(ed.current)}}},[10,r,ei,e.initialSnapshotState,eg,ea,o,ep,ew,v,E,t]);n.useEffect(()=>{k.current?.complete&&ey()},[ey]),n.useEffect(()=>{F.current=!1},[e.imageSrc]),n.useEffect(()=>{U&&e.shouldZoomToStart&&em(U)},[e.shouldZoomToStart,U]),n.useEffect(()=>(document.addEventListener("mouseup",eE),()=>{document.removeEventListener("mouseup",eE)}),[eE]),n.useEffect(()=>{let e=er.current;if(e&&V)return e.addEventListener("wheel",eT,{capture:!0,passive:!1}),()=>e.removeEventListener("wheel",eT,{capture:!0})},[eT,V]);let eM={};if(eu){let e=`scale(${eu.zoom})`,t=`${eu.x}px`,r=`${eu.y}px`,i=`translate(${t}, ${r})`;eM={transform:`${i} ${e}`}}else eM={transform:`scale(${1/r})`};let[eS]=(0,c.A)(eu,200,{leading:!0}),eI=n.useMemo(()=>eS&&ei&&o?A(ei.height,eS,ea,e_&&e_ in T.Q6?e_:void 0):void 0,[e_,eS,ea,ei,o]),eC=(0,l.ZC)(eI);n.useEffect(()=>{async function t(e,t){var r,i,n,o;let a,l,d,h,c;e.complete||await (r=e.src,new Promise((t,i)=>{e.onload=()=>t(e),e.onerror=i,e.src=r}));let p=(a=((e,t)=>{let{zoom:r,x:i,y:n,ratio:o}=t,s=r*o;return{x:i*o,y:n*o,width:e.width*s,height:e.height*s}})(e,t),i=e,n=a,o=t.backgroundColor,d=(l=document.createElement("canvas")).getContext("2d"),l.width=2048,l.height=1152,d.fillStyle=(0,u.YU)(o??(0,u.H0)((0,m.Bx)("light"))),d.fillRect(0,0,l.width,l.height),d.drawImage(l,0,0),h=(l.width-n.width)/2,c=(l.height-n.height)/2,d.drawImage(i,h+n.x,c+n.y,n.width,n.height),l.toDataURL("image/jpeg",.92));s?.(p,t)}k.current&&eI&&(void 0===eC?!I(eI,e.initialSnapshotState,{skipCheckRatio:!0}):!I(eI,eC))&&(k.current.crossOrigin="anonymous",t(k.current,eI))},[eI,eC,e.initialSnapshotState,s]),n.useEffect(()=>{I(eC,eI)&&e.initialSnapshotState&&!I(e.initialSnapshotState,eI)&&(e.initialSnapshotState?.preset&&ef(e.initialSnapshotState.preset),el(e.initialSnapshotState.backgroundColor))},[e.initialSnapshotState,eI,eC]);let ex=n.useMemo(()=>{if(!o||!e_||!ei)return null;{let t=e.applyToAllCallback?()=>e.applyToAllCallback(ei):void 0;return(0,i.jsx)(T.a9,{id:e.imageSrc,backgroundColor:ea,setBackgroundColor:el,zoomPanPreset:e_,setZoomPanPreset:ef,onResetCallback:e.disableReset?void 0:()=>{let t=e.resetSnapshotState??ed.current;if(t){let e=t.preset;e?ef(e):(em(t),ef(ep)),el(t.backgroundColor)}},applyToAllCallback:t})}},[e.disableReset,e.imageSrc,ea,e_,o,e.resetSnapshotState,ep,ei,e.applyToAllCallback]),eA=n.useMemo(()=>{let e={position:"absolute",width:"100%",height:"100%",boxSizing:"border-box"},t=e,r=e,i="1px solid red";return"left"===J?t={...e,borderLeft:i}:"right"===J?t={...e,borderRight:i}:"center"===J&&(t={...e,borderRight:i,transform:"translateX(-50%)"}),"top"===Z?r={...e,borderTop:i}:"bottom"===Z?r={...e,borderBottom:i}:"center"===Z&&(r={...e,borderBottom:i,transform:"translateY(-50%)"}),{verticalGuidelineStyles:t,horizontalGuidelineStyles:r}},[J,Z]);return(0,i.jsxs)("div",{className:y.yE,style:{backgroundColor:(0,u.YU)(ea)},children:[(0,i.jsxs)("div",{className:y.g0,children:[(0,i.jsx)("div",{style:eA.verticalGuidelineStyles}),(0,i.jsx)("div",{style:eA.horizontalGuidelineStyles})]}),(0,i.jsx)("div",{style:eM,children:(0,i.jsx)("img",{className:y.RJ,style:{visibility:eu&&F?"visible":"hidden",border:e.enableSnapToGuidelines&&W?"1px solid red":"none"},ref:k,src:e.imageSrc,crossOrigin:e.crossOrigin,alt:(0,a.t)("fig_feed.thumbnail_alt_text"),onLoad:ey})}),(0,i.jsx)("div",{style:{display:eu?"none":"block"},children:(0,i.jsx)(_.kt,{})}),(0,i.jsx)("div",{className:y.Oe,style:{cursor:W?"grabbing":"grab"},ref:er,onClick:e=>{G&&(e.stopPropagation(),z(!1))},onMouseUp:eE,onMouseDown:e=>{eu&&(e.preventDefault(),j(!0),Y({x:e.clientX-eu.x,y:e.clientY-eu.y}))},onMouseMove:t=>{if(H(!0),W&&K&&eu&&$){t.stopPropagation(),z(!0),e.enableSnapToGuidelines&&null!==L.current&&null!==ei&&(((e,t)=>{if(null===ei)return;let{width:r}=ei;10>=Math.abs(r/2-(t+e/2))?X("center"):10>=Math.abs(t)?X("left"):10>=Math.abs(r-(t+e))?X("right"):X(null)})(L.current.width,eu.x+ei.width/2-L.current.width/2),((e,t)=>{if(null===ei)return;let{height:r}=ei;10>=Math.abs(r/2-(t+e/2))?Q("center"):10>=Math.abs(t)?Q("top"):10>=Math.abs(r-(t+e))?Q("bottom"):Q(null)})(L.current.height,eu.y+ei.height/2-L.current.height/2));let r=t.clientX-K.x,i=t.clientY-K.y;if(e.enableSnapToGuidelines&&N){let e=ee;if(null===ee){let t=Math.abs(r-eu.x),n=Math.abs(i-eu.y);t>n?e="horizontal":n>t&&(e="vertical"),et(e)}"horizontal"===e?i=eu.y:"vertical"===e&&(r=eu.x)}em(x({x:r,y:i,zoom:eu.zoom},$))}},onContextMenu:t=>{e.onContextMenu&&e.onContextMenu(t)}}),o&&ex,d&&(0,i.jsx)(P,{position:eu,setPosition:em,boundLimits:$,interactionOverlayDims:ei,imageRef:k,imageScale:r,minZoomFactor:h,maxZoomFactor:w})]})}function R(e,t){return Math.pow(2,Math.round(Math.log(e*(t?.5:2))/Math.log(2)))}function P({position:e,setPosition:t,boundLimits:r,interactionOverlayDims:o,imageRef:s,imageScale:a,minZoomFactor:l,maxZoomFactor:d}){let[c,u]=n.useState(!0),[m,p]=n.useState(!0),_=C(l,d),f=O(l,d),g=n.useCallback(()=>{if(!e||!r)return;let i=R(e.zoom,!1),n=x({...e,zoom:_(i,a)},r);t(n),u(i===n.zoom),p(!0)},[r,a,e,t,_]),w=n.useCallback(()=>{if(!e||!r)return;let i=R(e.zoom,!0),n=x({...e,zoom:_(i,a)},r);t(n),p(i===n.zoom),u(!0)},[r,a,e,t,_]),T=n.useCallback(i=>{if(!e||!o||!r)return;let n={...e};switch(i){case"ZOOM_IN":return g();case"ZOOM_OUT":return w();case"ZOOM_TO_FIT":n=f({width:s.current.offsetWidth,height:s.current.offsetHeight},o,"Fit",a);break;case"ZOOM_TO_50":n.zoom=.5/a;break;case"ZOOM_TO_100":n.zoom=1/a;break;case"ZOOM_TO_200":n.zoom=2/a}t(x(n,r))},[r,s,a,o,g,w,e,t,f]),M=n.useCallback(i=>{e&&r&&t(x({...e,zoom:_(i/a/100,a)},r))},[r,a,e,t,_]),S=n.useMemo(()=>[{type:"ZOOM_IN",disabled:!c},{type:"ZOOM_OUT",disabled:!m},{type:"ZOOM_TO_FIT"},{type:"ZOOM_TO_50"},{type:"ZOOM_TO_100"},{type:"ZOOM_TO_200"}],[c,m]),I=(e?.zoom??1)*100*a;return(0,i.jsx)("div",{className:h()(b.FE,y.mu),children:(0,i.jsx)(v.e,{canZoomIn:c,canZoomOut:m,onZoomIn:g,onZoomOut:w,currentZoom:I,Dropdown:function(e){return(0,i.jsx)(E.p,{targetRect:e.targetRect,showingZoomDropdown:e.showingZoomDropdown,toggleZoomMenu:e.toggleZoomMenu,allowCodegenOptions:!1,currentZoom:I,dropdownItems:S,onSelectDropdownItem:T,onSubmitCustomZoom:M,displayAboveTarget:!0})},dropdownId:"feed-zoom-input-dropdown"})})}},905760(e,t,r){r.d(t,{$:()=>o});var i=r(3752),n=r(38238);function o(){let e=(0,n.F4)();return e?.shouldOptimizeForIpadApp||i.A.isIpad}},747487(e,t,r){r.d(t,{QB:()=>_,Rz:()=>g,bL:()=>p,ke:()=>T,rA:()=>w,y$:()=>E,y_:()=>f});var i=r(239976),n=r(635618),o=r(603007),s=r(825259),a=r(385570),l=r(732632),d=r(555235),h=(r(878521),r(203135)),c=r(154303),u=r(202900),m=r(189331);function p({variant:e,...t}){return(0,i.jsx)(c.bL,{"data-fpl-component":"",...t,className:(0,a.A)(u.zr,{[u.SR]:"danger"===e})})}function _(e){return(0,i.jsx)(m.T,{"data-fpl-component":"",...e,role:"alert",className:u.iU})}function f(e){return(0,i.jsx)("span",{"data-fpl-component":"",...e,className:u.U9})}function g(e){let t=(0,c.FT)(),r=(0,h.Lh)("dismiss");return(0,i.jsx)("div",{"data-fpl-component":"",...e,className:(0,a.A)(u.Bi,u.r),children:(0,i.jsx)(d.K,{"aria-label":r,onClick:()=>t("dismiss"),children:(0,i.jsx)(n.A,{})})})}function w({children:e,action:t,...r}){let n=(0,c.FT)();return(0,i.jsx)("div",{"data-fpl-component":"",className:u.Bi,children:(0,i.jsx)(l.$n,{...r,onClick:(...e)=>{!1!==t?.(...e)&&n("action")},variant:"secondary",children:e})})}function E(e){return(0,i.jsx)(o.D,{"data-fpl-component":"",...e,className:u.i0})}function T({progressFraction:e=0,...t}){let r,n=Math.min(1,Math.max(0,e));if(0===n)r=null;else if(1===n)r=(0,i.jsx)("circle",{cx:"12",cy:"12",r:"5",fill:"var(--fpl-icon-color, var(--color-icon))"});else{let[e,t]=function(e,t,r=0,i=0){return[r+5*Math.cos(e),i-5*Math.sin(e)]}((.25-n)*2*Math.PI,0,12,12);r=(0,i.jsx)("path",{d:`M12 7A5 5 0 ${+(n>.5)} 1 ${e} ${t} L12 12 12 7`,fill:"var(--fpl-icon-color, var(--color-icon))"})}return(0,i.jsxs)("svg",{"data-fpl-component":!0,...t,width:"24",height:"24",viewBox:"0 0 24 24",children:[r,(0,i.jsx)(s.d,{})]})}p.displayName="Toast.Root",_.displayName="Toast.Message",f.displayName="Toast.Count",g.displayName="Toast.DismissButton",w.displayName="Toast.ActionButton",E.displayName="Toast.Spinner",T.displayName="Toast.Progress"},942229(e,t,r){r.d(t,{N:()=>m});var i=r(239976),n=r(105652),o=r(547704),s=r(557154),a=r(315870),l=r(969026),d=r(143277),h=r(302240);function c(e){return"INPUT"===e.tagName&&"radio"===e.type}let u={horizontal:["ArrowRight","ArrowLeft"],vertical:["ArrowDown","ArrowUp"]},m=(0,n.forwardRef)(({orientation:e="horizontal",...t},r)=>{let m=(0,o.M)(r),p=(0,n.useRef)(null),_=(0,n.useMemo)(()=>(0,a.C7)(m,{criteria:"focusable"}),[]);return(0,i.jsx)("div",{"data-fpl-component":"primitive",...(0,d.v)(t,{onFocus(e){if((0,s.qJ)(e))return;let t=m.current;if(!t||!(0,a.ae)(t))return;let r=!t.contains(e.relatedTarget);if(r&&"pointer"===l.F.type){p.current=null;return}let i=t.contains(p.current);if(r&&i){let e=p.current;p.current=null,e.focus()}else i||(p.current=null)},onBlur(e){if("Tab"===l.F.key||(0,s.qJ)(e))return;let t=m.current;!t||t.contains(e.relatedTarget)||(p.current=e.target)},onPointerDownCapture(e){if((0,s.qJ)(e))return;let t=(0,a.bq)(e.target,m.current);t&&(p.current=t)},onKeyDownCapture(t){if(!(0,s.qJ)(t)){switch(t.code){case"Tab":p.current=t.target,t.shiftKey?_.focusFirst():_.focusLast();return;case"ArrowRight":case"ArrowDown":if(u[e].includes(t.code)&&!(0,h.yt)(t)){_.focusNext({wrap:!t.repeat});break}return;case"ArrowLeft":case"ArrowUp":if(u[e].includes(t.code)&&!(0,h.yt)(t)){_.focusPrevious({wrap:!t.repeat});break}return;default:return}(0,s.Ju)(t)}},onKeyDown(t){if(!((0,s.qJ)(t)||(0,h.yt)(t))){switch(t.code){case"ArrowRight":case"ArrowDown":if(u[e].includes(t.code)||c(t.target))return;_.focusNext({wrap:!t.repeat});break;case"ArrowLeft":case"ArrowUp":if(u[e].includes(t.code)||c(t.target))return;_.focusPrevious({wrap:!t.repeat});break;case"Home":_.focusFirst();break;case"End":_.focusLast();break;default:return}(0,s.Ju)(t)}}}),ref:m,role:"toolbar","aria-orientation":e})});m.displayName="ToolbarPrimitive"},287150(e,t,r){r.d(t,{h:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 7h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5M5 7.5A1.5 1.5 0 0 1 6.5 6h11A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5zm4.5 2a.5.5 0 0 0-.724-.447l-1 .5a.5.5 0 1 0 .448.894l.276-.138V14H8a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-.5zm6 0a.5.5 0 0 0-.724-.447l-1 .5a.5.5 0 1 0 .448.894l.276-.138V14H14a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-.5zm-3 1a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0M12 13a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1",clipRule:"evenodd"})})})},549779(e,t,r){r.d(t,{N:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M14.854 14.146a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.707L11 16.293V7.707L8.854 9.854a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L12 7.707v8.586l2.146-2.147a.5.5 0 0 1 .708 0",clipRule:"evenodd"})})})},664537(e,t,r){r.d(t,{C:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12 6a4.5 4.5 0 0 1 4.314 3.223A4 4 0 0 1 15 17H9.5a4.5 4.5 0 0 1-1.377-8.785A4.5 4.5 0 0 1 12 6m0 1c-1.283 0-2.405.69-3.016 1.724l-.193.327-.362.116A3.502 3.502 0 0 0 9.5 16H15a3 3 0 0 0 .985-5.833l-.484-.169-.146-.492A3.5 3.5 0 0 0 12 7m1.146 3.146a.5.5 0 0 1 .707.707L12.708 12l1.146 1.146a.5.5 0 0 1-.707.707L12 12.708l-1.146 1.146a.5.5 0 1 1-.707-.707L11.293 12l-1.146-1.146a.5.5 0 0 1 .707-.707L12 11.293z"})})})},436537(e,t,r){r.d(t,{O:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.5 3a8.5 8.5 0 0 1 0 17H7.09c-.89 0-1.39 0-1.767-.121l-.154-.06a2 2 0 0 1-.906-.828l-.082-.16c-.136-.297-.17-.657-.178-1.248L4 16.909V11.5A8.5 8.5 0 0 1 12.5 3m0 1A7.5 7.5 0 0 0 5 11.5v5.41c0 .523 0 .861.02 1.12.018.247.05.34.07.385a1 1 0 0 0 .495.494c.045.02.138.053.386.072.258.019.596.019 1.12.019H12.5a7.5 7.5 0 0 0 0-15"})})})},475237(e,t,r){r.d(t,{a:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.11 13.956c-.44-1.121.618-2.23 1.738-1.885l.108.038 4.15 1.63.115.051c1.136.556 1.027 2.254-.218 2.637l-1.205.372-.37 1.205c-.397 1.29-2.196 1.356-2.689.102zm1.48-.916a.425.425 0 0 0-.55.55l1.63 4.15c.138.35.618.356.775.038l.027-.068.526-1.711 1.711-.527a.425.425 0 0 0 .031-.802zM16.5 6A1.5 1.5 0 0 1 18 7.5v1a1.5 1.5 0 0 1-1.5 1.5H10v6.5A1.5 1.5 0 0 1 8.5 18h-1A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zM7 16.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V15h-.5a.5.5 0 0 1 0-1H9v-1h-.5a.5.5 0 0 1 0-1H9v-2H7zM7.5 7a.5.5 0 0 0-.5.5V9h2V7zM10 9h2v-.5a.5.5 0 0 1 1 0V9h1v-.5a.5.5 0 0 1 1 0V9h1.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H10z"})})})},668194(e,t,r){r.d(t,{D:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16m0 1a9 9 0 1 0 0-18 9 9 0 0 0 0 18",clipRule:"evenodd"})})})},94402(e,t,r){r.d(t,{X:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 7h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5M5 7.5A1.5 1.5 0 0 1 6.5 6h11A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5zm2.5.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0V9h1.5a.5.5 0 0 0 0-1zm7 0a.5.5 0 0 0 0 1H16v1.5a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5zM8 13.5a.5.5 0 0 0-1 0v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 0-1H8zm9 0a.5.5 0 0 0-1 0V15h-1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 .5-.5z",clipRule:"evenodd"})})})},332476(e,t,r){r.d(t,{c:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 7h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5M5 7.5A1.5 1.5 0 0 1 6.5 6h11A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5zm7.354.646a.5.5 0 0 0-.708 0l-1 1a.5.5 0 0 0 .708.708l.146-.147V11.5H8.707l.147-.146a.5.5 0 0 0-.708-.708l-1 1a.5.5 0 0 0 0 .708l1 1a.5.5 0 0 0 .708-.708l-.147-.146H11.5v1.793l-.146-.147a.5.5 0 0 0-.708.708l1 1a.5.5 0 0 0 .708 0l1-1a.5.5 0 0 0-.708-.708l-.146.147V12.5h2.793l-.147.146a.5.5 0 0 0 .708.708l1-1a.5.5 0 0 0 0-.708l-1-1a.5.5 0 0 0-.708.708l.147.146H12.5V9.707l.146.147a.5.5 0 0 0 .708-.708z",clipRule:"evenodd"})})})},829054(e,t,r){r.d(t,{K:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 7h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5M5 7.5A1.5 1.5 0 0 1 6.5 6h11A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5zm4.354 3.354a.5.5 0 0 0-.708-.708l-1.5 1.5a.5.5 0 0 0 0 .708l1.5 1.5a.5.5 0 0 0 .708-.708l-.647-.646h6.586l-.647.646a.5.5 0 0 0 .708.708l1.5-1.5a.5.5 0 0 0 0-.708l-1.5-1.5a.5.5 0 0 0-.708.708l.647.646H8.707z",clipRule:"evenodd"})})})},437313(e,t,r){r.d(t,{_:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M9.5 7.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0M6 15.603V16c0 .156.08.36.347.603s.682.485 1.236.698C8.69 17.726 10.25 18 12 18s3.311-.274 4.417-.699c.554-.213.969-.455 1.236-.698S18 16.156 18 16v-.397c-.344.243-.76.453-1.224.631-1.247.48-2.936.766-4.776.766s-3.529-.286-4.776-.766A5.7 5.7 0 0 1 6 15.603M6 14c0 .156.08.36.347.603s.682.485 1.236.698C8.69 15.726 10.25 16 12 16s3.311-.274 4.417-.699c.554-.213.969-.455 1.236-.698S18 14.156 18 14s-.08-.36-.347-.603-.682-.485-1.236-.698C15.31 12.274 13.75 12 12 12s-3.311.274-4.417.699c-.554.213-.969.455-1.236.698S6 13.844 6 14m-1 0c0-.534.284-.988.674-1.343s.929-.652 1.55-.891C8.471 11.286 10.16 11 12 11s3.529.286 4.776.766c.621.239 1.159.536 1.55.891.39.355.674.809.674 1.343v2c0 .535-.284.988-.674 1.343s-.929.652-1.55.891C15.529 18.714 13.84 19 12 19s-3.529-.286-4.776-.766c-.621-.239-1.159-.536-1.55-.891C5.284 16.988 5 16.535 5 16z",clipRule:"evenodd"})})})},571596(e,t,r){r.d(t,{O:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:[(0,n.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",d:"M17.5 6A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5v-9A1.5 1.5 0 0 1 6.5 6z"}),(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M10.328 9.006a.5.5 0 0 1 .394.329l1.75 5 .024.099a.5.5 0 0 1-.925.323l-.043-.092L10.945 13h-1.89l-.583 1.665a.5.5 0 0 1-.944-.33l1.75-5 .031-.072A.5.5 0 0 1 9.75 9h.5zM14.5 14a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1m.338-5c.918 0 1.662.744 1.662 1.662v.047a1.6 1.6 0 0 1-1.092 1.516.6.6 0 0 0-.408.566V13a.5.5 0 0 1-1 0v-.209a1.6 1.6 0 0 1 1.092-1.516.6.6 0 0 0 .408-.566v-.047a.66.66 0 0 0-.662-.662H14.5a.5.5 0 0 0-.49.4l-.02.2a.5.5 0 0 1-.99-.1A1.5 1.5 0 0 1 14.5 9zm-5.434 3h1.192L10 10.298z"})]})})},21966(e,t,r){r.d(t,{W:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12 5a7 7 0 1 1 0 14.001 7 7 0 0 1 0-14m0 1a6 6 0 1 0 0 12 6 6 0 0 0 0-12m2.57 2.749a.5.5 0 1 1 .863.503l-3.5 6a.5.5 0 0 1-.815.069l-2.5-3a.5.5 0 0 1 .767-.64l2.043 2.451z"})})})},132954(e,t,r){r.d(t,{g:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M14 7h3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H14zm-1 0h-2v10h2zm-3 0H6.5a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5H10zm0-1h7.5A1.5 1.5 0 0 1 19 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 16.5v-9A1.5 1.5 0 0 1 6.5 6zm-1.146 4.646a.5.5 0 0 1 0 .708L8.207 12l.647.646a.5.5 0 0 1-.708.708l-1-1a.5.5 0 0 1 0-.708l1-1a.5.5 0 0 1 .708 0m6.292.708a.5.5 0 0 1 .708-.708l1 1a.5.5 0 0 1 0 .708l-1 1a.5.5 0 0 1-.708-.708l.647-.646z",clipRule:"evenodd"})})})},539741(e,t,r){r.d(t,{H:()=>o});var i=r(105652),n=r(239976);let o=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.854 5.854a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L6.707 9H14a4 4 0 1 1-3.748 5.4.56.56 0 0 0-.516-.377c-.326 0-.57.3-.464.608A5.002 5.002 0 0 0 19 13a5 5 0 0 0-4.998-5H6.707z",clipRule:"evenodd"})})})},669965(e,t,r){let i,n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{KO:()=>c,LQ:()=>h}),r(267995);class s{get currentTokens(){return i.__getProperty_currentTokens(this.handle)}get hasRunTokenSync(){return i.__getProperty_hasRunTokenSync(this.handle)}constructor(e){o(this,"handle",void 0),this.handle=e}}class a extends s{constructor(e){super(e),o(this,"handle",void 0),this.handle=e}}class l{constructor(e){o(this,"handle",void 0),this.handle=e}}class d extends l{getCopy(){return n.getCopy(this.handle)}set(e){n.set(this.handle,e)}subscribeFromJs(e){return n.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){n.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),o(this,"handle",void 0),this.handle=e}}function h(e){i=e.ColorTokensState_Internal,globalThis.ColorTokensState=s,globalThis.MutableColorTokensState=a,n=e.WritableObservableValue_ColorTokens__Internal,globalThis.WritableObservableValue_ColorTokens_=l,globalThis.MutableWritableObservableValue_ColorTokens_=d}function c(){return{colorTokensState_Internal:i,writableObservableValue_ColorTokens__Internal:n}}},320766(e,t,r){function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{$C:()=>S,A1:()=>d,Ag:()=>O,DG:()=>I,EU:()=>_,Fe:()=>D,IW:()=>b,Lz:()=>P,S_:()=>A,TC:()=>R,Tu:()=>n,Vm:()=>C,Z3:()=>k,ZD:()=>T,_L:()=>f,c2:()=>M,di:()=>o,eZ:()=>m,en:()=>h,j2:()=>E,k0:()=>u,l5:()=>v,lM:()=>N,p6:()=>g,rf:()=>w,rm:()=>s,tO:()=>a,tg:()=>l,um:()=>p,w4:()=>y,xJ:()=>c,yy:()=>x});class n{registerLegacyActions(){if(this.shouldThrow)throw Error("Method not implemented.")}updateActionState(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class o{createAutosaveManager(){if(this.shouldThrow)throw Error("Method not implemented.")}destroyAutosaveManager(){if(this.shouldThrow)throw Error("Method not implemented.")}enqueueAutosaveCommit(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}hasOngoingCommitTask(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isConnected(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}readyToAcceptAutosaveChanges(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class s{generateRequestId(){if(this.shouldThrow)throw Error("Method not implemented.");return""}generateSessionId(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getSuggestion(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}onExplicitDismiss(){if(this.shouldThrow)throw Error("Method not implemented.")}onFullOrPartialAccept(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class a{applyTextTransform(){if(this.shouldThrow)throw Error("Method not implemented.");return""}detectTextTransform(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getAnnotationTextContent(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getTextMatches(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}logIndex(){if(this.shouldThrow)throw Error("Method not implemented.")}rebuildIndex(){if(this.shouldThrow)throw Error("Method not implemented.")}rerunSearch(){if(this.shouldThrow)throw Error("Method not implemented.")}setCategoryCounts(){if(this.shouldThrow)throw Error("Method not implemented.")}setFocusAndNavigate(){if(this.shouldThrow)throw Error("Method not implemented.")}setResultInfo(){if(this.shouldThrow)throw Error("Method not implemented.")}showMissingFontBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showReplace(){if(this.shouldThrow)throw Error("Method not implemented.")}updateCategoryCounts(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class l{createNewCommentAtPosition(){if(this.shouldThrow)throw Error("Method not implemented.")}handleMouseDown(){if(this.shouldThrow)throw Error("Method not implemented.")}handleMouseMove(){if(this.shouldThrow)throw Error("Method not implemented.")}handleMouseUp(){if(this.shouldThrow)throw Error("Method not implemented.")}isInvisibleCommentInsertionButtonFocused(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class d{isBuzzApprovalsEnabled(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}openTemplatePicker(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class h{getInstanceSwapPickerTab(){if(this.shouldThrow)throw Error("Method not implemented.");return null}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class c{trackComponentAction(){if(this.shouldThrow)throw Error("Method not implemented.")}trackStyleAction(){if(this.shouldThrow)throw Error("Method not implemented.")}trackVariableAction(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class u{clearEmojiTypeaheadQuery(){if(this.shouldThrow)throw Error("Method not implemented.")}convertEmojiNameToString(){if(this.shouldThrow)throw Error("Method not implemented.");return""}isShowingEmojiTypeaheadResults(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}setEmojiTypeaheadImageSet(){if(this.shouldThrow)throw Error("Method not implemented.")}setEmojiTypeaheadQuery(){if(this.shouldThrow)throw Error("Method not implemented.")}setEmojiTypeaheadTargetRect(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class m{closeWheel(){if(this.shouldThrow)throw Error("Method not implemented.")}handleShortcutPress(){if(this.shouldThrow)throw Error("Method not implemented.")}handleShortcutRelease(){if(this.shouldThrow)throw Error("Method not implemented.")}startChat(){if(this.shouldThrow)throw Error("Method not implemented.")}startEmojiReaction(){if(this.shouldThrow)throw Error("Method not implemented.")}stopEmojiReaction(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class p{exportVideo(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class _{NOT_LOCALIZED_showMobileNativeToast(){if(this.shouldThrow)throw Error("Method not implemented.")}NOT_LOCALIZED_showVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}NOT_LOCALIZED_showVisualBellInf(){if(this.shouldThrow)throw Error("Method not implemented.")}activateVotingStampTool(){if(this.shouldThrow)throw Error("Method not implemented.")}addWhiteboardDiagrammingShapeToRecents(){if(this.shouldThrow)throw Error("Method not implemented.")}addWhiteboardToolToRecents(){if(this.shouldThrow)throw Error("Method not implemented.")}afterComputeViewportSettings(){if(this.shouldThrow)throw Error("Method not implemented.")}afterFontsLoaded(){if(this.shouldThrow)throw Error("Method not implemented.")}afterPageChange(){if(this.shouldThrow)throw Error("Method not implemented.")}afterQueryCompleted(){if(this.shouldThrow)throw Error("Method not implemented.")}attemptedSketchFileDrop(){if(this.shouldThrow)throw Error("Method not implemented.")}autoRenameLayers(){if(this.shouldThrow)throw Error("Method not implemented.")}autoRenameLayersDevHandoff(){if(this.shouldThrow)throw Error("Method not implemented.")}backToFiles(){if(this.shouldThrow)throw Error("Method not implemented.")}bindSelectionToCmsField(){if(this.shouldThrow)throw Error("Method not implemented.")}bindSelectionToCmsPage(){if(this.shouldThrow)throw Error("Method not implemented.")}bindSelectionToCmsRepeater(){if(this.shouldThrow)throw Error("Method not implemented.")}canUploadAndEditVideo(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}canUseClipboardAPI(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}changeDocumentColorProfile(){if(this.shouldThrow)throw Error("Method not implemented.")}clearAiContentFillSuggestedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}clearVisualBellType(){if(this.shouldThrow)throw Error("Method not implemented.")}clipboardHasUnsanitizedPng(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}closeManageMemoryModal(){if(this.shouldThrow)throw Error("Method not implemented.")}copyLinkToPage(){if(this.shouldThrow)throw Error("Method not implemented.")}createSavepoint(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}createSlideAfterFocusedSlide(){if(this.shouldThrow)throw Error("Method not implemented.");return"-1:-1"}decodeBufferFromHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}decodeMetadataFromHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return""}decodePackedHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}designToCodeFiles(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}desktopAppQueueFileForWriting(){if(this.shouldThrow)throw Error("Method not implemented.")}desktopAppWriteFiles(){if(this.shouldThrow)throw Error("Method not implemented.")}detectSpreadsheetDataInHTML(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}dismissEphemeralVisualBells(){if(this.shouldThrow)throw Error("Method not implemented.")}dismissMobileMediaLoadingToast(){if(this.shouldThrow)throw Error("Method not implemented.")}documentIsLoaded(){if(this.shouldThrow)throw Error("Method not implemented.")}enableCodegenMcpServer(){if(this.shouldThrow)throw Error("Method not implemented.")}escapeAndSaveCSVData(){if(this.shouldThrow)throw Error("Method not implemented.")}evaluateMathExpression(){if(this.shouldThrow)throw Error("Method not implemented.");return null}fetchComponentBufferForSevRepair(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}fetchComponentBuffers(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}fetchVariableSetBuffers(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}findCodebaseSuggestions(){if(this.shouldThrow)throw Error("Method not implemented.")}findInspiration(){if(this.shouldThrow)throw Error("Method not implemented.")}finishLoadingDroppedImage(){if(this.shouldThrow)throw Error("Method not implemented.")}focusHtmlUiContainerForNode(){if(this.shouldThrow)throw Error("Method not implemented.")}focusLinkPanel(){if(this.shouldThrow)throw Error("Method not implemented.")}focusPrototypeStartingPointPanelToEditName(){if(this.shouldThrow)throw Error("Method not implemented.")}forcePublishStateGroup(){if(this.shouldThrow)throw Error("Method not implemented.")}formatDateTime(){if(this.shouldThrow)throw Error("Method not implemented.");return""}fullscreenIsReady(){if(this.shouldThrow)throw Error("Method not implemented.")}generateEmbed(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}generateFlappFromPastedText(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}generateLinkToCmsItemPage(){if(this.shouldThrow)throw Error("Method not implemented.");return""}generateLinkToNode(){if(this.shouldThrow)throw Error("Method not implemented.");return""}generateLinkToRemoteNode(){if(this.shouldThrow)throw Error("Method not implemented.");return""}generateWidgetFromURL(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getClipboardData(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}getCurrentFileName(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getDefaultOnOTFeatures(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getDefaultStateKeyForStateGroup(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getDeviceInfoForSize(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getFramePresetForSize(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getHtmlString(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getIsEmojiWheelOpen(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getKeyboardLayout(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getLabValue(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getLatestPublishedVersionForStateGroup(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLatestPublishedVersionHashForComponent(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLeftPanelTab(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getLeftRailWidth(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getLocalGUIDFromUrl(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLocalVersionIdFromUrl(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLocalizedString(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getNaturalStyleKey(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getNextQueryRequestId(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getObserverZoomLevelOverride(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getSerializedClipboardDataFromS3(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}getUserLocale(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getUserName(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getVariableSetNumberOfModesAllowed(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}handleAction(){if(this.shouldThrow)throw Error("Method not implemented.")}handleH2DPaste(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}handleNodeCountReachedForMoveDraft(){if(this.shouldThrow)throw Error("Method not implemented.")}handlePanActionTriggeredToSetOnboardingFlag(){if(this.shouldThrow)throw Error("Method not implemented.")}handleSignedOutEditAttempt(){if(this.shouldThrow)throw Error("Method not implemented.")}handleUserClickOnHyperlink(){if(this.shouldThrow)throw Error("Method not implemented.")}handleZoomActionTriggeredToSetOnboardingFlag(){if(this.shouldThrow)throw Error("Method not implemented.")}hasAiRenameLayersPermission(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}hasUnsavedChanges(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}hideMissingFontDialog(){if(this.shouldThrow)throw Error("Method not implemented.")}hidePicker(){if(this.shouldThrow)throw Error("Method not implemented.")}insertComponentOrShowError__DEPRECATED(){if(this.shouldThrow)throw Error("Method not implemented.")}inspectFragment(){if(this.shouldThrow)throw Error("Method not implemented.")}isAiDisabled(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isAiDisabledFigJam(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isCopyExportRestricted(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isEligibleForStarterAiImagePaywall(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isFontListLoaded(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isInAiExperimentOrGrantlist(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isInWorkshopMode(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isMagicLinkDone(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isMagicLinkDoneToastShowing(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isNavigatorClipboardWriteSupported(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isOrgUserGatedForLlama(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isUserPresent(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isValidFigmaMakeEmbedUrl(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}keyboardWillShow(){if(this.shouldThrow)throw Error("Method not implemented.")}keyboardWillShowWithHeight(){if(this.shouldThrow)throw Error("Method not implemented.")}linkToComponent(){if(this.shouldThrow)throw Error("Method not implemented.")}loadedCompareChanges(){if(this.shouldThrow)throw Error("Method not implemented.")}logEnterMode(){if(this.shouldThrow)throw Error("Method not implemented.")}logFullscreenActionToDatadogRum(){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppExportFile(){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppPush(){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppShowContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}movedSingleNodeVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}navigateToURL(){if(this.shouldThrow)throw Error("Method not implemented.")}onAgendaChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}onConnectDiagramShapeWithConnector(){if(this.shouldThrow)throw Error("Method not implemented.")}onCreateSticky(){if(this.shouldThrow)throw Error("Method not implemented.")}onCreateTable(){if(this.shouldThrow)throw Error("Method not implemented.")}onDifferentSectionClicked(){if(this.shouldThrow)throw Error("Method not implemented.")}onDirectExportCompleted(){if(this.shouldThrow)throw Error("Method not implemented.")}onEditTableText(){if(this.shouldThrow)throw Error("Method not implemented.")}onFigjamStarterKitAction(){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeDragEnd(){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeDragStart(){if(this.shouldThrow)throw Error("Method not implemented.")}onNodePositionChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}onObserverZoomLevelOverrideChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}onPlaygroundNodeChange(){if(this.shouldThrow)throw Error("Method not implemented.")}onTileRendererChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}onTilesRendered(){if(this.shouldThrow)throw Error("Method not implemented.")}onViewOnlyJiggle(){if(this.shouldThrow)throw Error("Method not implemented.")}openBuzzExportModal(){if(this.shouldThrow)throw Error("Method not implemented.")}openExportPicker(){if(this.shouldThrow)throw Error("Method not implemented.")}openExportSettingsPicker(){if(this.shouldThrow)throw Error("Method not implemented.")}openFontSettings(){if(this.shouldThrow)throw Error("Method not implemented.")}openFplDebug(){if(this.shouldThrow)throw Error("Method not implemented.")}openHelp(){if(this.shouldThrow)throw Error("Method not implemented.")}openMakePrototypeModal(){if(this.shouldThrow)throw Error("Method not implemented.")}openPdfExportSettingsModal(){if(this.shouldThrow)throw Error("Method not implemented.")}openPreferencesModal(){if(this.shouldThrow)throw Error("Method not implemented.")}openQuickActionsAssetsTab(){if(this.shouldThrow)throw Error("Method not implemented.")}openSettings(){if(this.shouldThrow)throw Error("Method not implemented.")}openShortcuts(){if(this.shouldThrow)throw Error("Method not implemented.")}openStartingPointFlowInPrototypeViewer(){if(this.shouldThrow)throw Error("Method not implemented.")}openSupportForum(){if(this.shouldThrow)throw Error("Method not implemented.")}openTimerModal(){if(this.shouldThrow)throw Error("Method not implemented.")}openTutorials(){if(this.shouldThrow)throw Error("Method not implemented.")}parseCsvStringAndCreateNodes(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHTMLStringIntoLineDirectionalities(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHtmlStringAndCreateNodes(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHtmlStringAndTriggerSmartPaste(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}pasteMermaidAsDiagram(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}presetDeviceSupportsTouch(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}readClipboardData(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}readFilesFromClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}regenerateText(){if(this.shouldThrow)throw Error("Method not implemented.")}rejectAllSceneGraphQueries(){if(this.shouldThrow)throw Error("Method not implemented.")}removeImageBackground(){if(this.shouldThrow)throw Error("Method not implemented.")}requestEditorType(){if(this.shouldThrow)throw Error("Method not implemented.")}requestOpenExternalSourceFileLibraryKey(){if(this.shouldThrow)throw Error("Method not implemented.")}resendMusic(){if(this.shouldThrow)throw Error("Method not implemented.")}resendTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}retrieveMetadataAndSelectBrokenFixedScrollingNodes(){if(this.shouldThrow)throw Error("Method not implemented.")}runLastPlugin(){if(this.shouldThrow)throw Error("Method not implemented.")}saveUseNumbersForOpacityPreference(){if(this.shouldThrow)throw Error("Method not implemented.")}selectLocalStyles(){if(this.shouldThrow)throw Error("Method not implemented.")}selectPublishedAssetGuids(){if(this.shouldThrow)throw Error("Method not implemented.");return""}sendActiveStackRegionAnalytics(){if(this.shouldThrow)throw Error("Method not implemented.")}sendEventToWebEventListener(){if(this.shouldThrow)throw Error("Method not implemented.")}sendSerializedClipboardDataToS3(){if(this.shouldThrow)throw Error("Method not implemented.")}setActiveAgendaItemId(){if(this.shouldThrow)throw Error("Method not implemented.")}setAnnotationEditingIndex(){if(this.shouldThrow)throw Error("Method not implemented.")}setBuzzInsertsPanel(){if(this.shouldThrow)throw Error("Method not implemented.")}setFigjamStarterKitBoundingBox(){if(this.shouldThrow)throw Error("Method not implemented.")}setFileVersion(){if(this.shouldThrow)throw Error("Method not implemented.")}setHyperlinkPopup(){if(this.shouldThrow)throw Error("Method not implemented.")}setKeyboardLayoutPreference(){if(this.shouldThrow)throw Error("Method not implemented.")}setMobileCopyEnabled(){if(this.shouldThrow)throw Error("Method not implemented.")}setMobileCutEnabled(){if(this.shouldThrow)throw Error("Method not implemented.")}setMobilePasteEnabled(){if(this.shouldThrow)throw Error("Method not implemented.")}setMusic(){if(this.shouldThrow)throw Error("Method not implemented.")}setObserverZoomLevelOverride(){if(this.shouldThrow)throw Error("Method not implemented.")}setSentryTag(){if(this.shouldThrow)throw Error("Method not implemented.")}setSitesFindOverlay(){if(this.shouldThrow)throw Error("Method not implemented.")}setSitesInsertsOverlay(){if(this.shouldThrow)throw Error("Method not implemented.")}setSitesViewCms(){if(this.shouldThrow)throw Error("Method not implemented.")}setSitesViewCode(){if(this.shouldThrow)throw Error("Method not implemented.")}setSitesViewFile(){if(this.shouldThrow)throw Error("Method not implemented.")}setSlidesFindOverlay(){if(this.shouldThrow)throw Error("Method not implemented.")}setTimer(){if(this.shouldThrow)throw Error("Method not implemented.")}setUserFlag(){if(this.shouldThrow)throw Error("Method not implemented.")}setVideoShouldAutoplay(){if(this.shouldThrow)throw Error("Method not implemented.")}shouldSuppressUnsavedChangesUI(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}shouldViewOnlyJiggle(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showAiContentFillSuggestedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showAutosaveVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showBrowserAlert(){if(this.shouldThrow)throw Error("Method not implemented.")}showCanvasContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showGIFConvertedAndScaledDownWarning(){if(this.shouldThrow)throw Error("Method not implemented.")}showImageScaledDownWarning(){if(this.shouldThrow)throw Error("Method not implemented.")}showLeftPanelTab(){if(this.shouldThrow)throw Error("Method not implemented.")}showMagicLinkSuggestedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showMissingFontDialog(){if(this.shouldThrow)throw Error("Method not implemented.")}showMobileNativeToastLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showNudgeAmountPicker(){if(this.shouldThrow)throw Error("Method not implemented.")}showNudgeDesignModeAfterTemplateSetPasted(){if(this.shouldThrow)throw Error("Method not implemented.")}showPasteLoadingIndicatorAndPaste(){if(this.shouldThrow)throw Error("Method not implemented.")}showPasteWidgetsAsSublayersVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showPromptToMoveLibraryItems(){if(this.shouldThrow)throw Error("Method not implemented.")}showPublishDialog(){if(this.shouldThrow)throw Error("Method not implemented.")}showPushOverridesVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showReturnToInstanceVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showReturnToVariantVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showRulerGuideContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showSavepointModal(){if(this.shouldThrow)throw Error("Method not implemented.")}showSelectLayerContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showSelectionContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showSlotPreferredContentPicker(){if(this.shouldThrow)throw Error("Method not implemented.")}showTemplatePublishModal(){if(this.shouldThrow)throw Error("Method not implemented.")}showTextEditModeContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showUpscaleImageSuggestedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showViewChangesNotification(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellForM2D(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellForMultiEdit(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellLocalizedInf(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithCloseButtonLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithDelayLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithNodesLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithReloadButtonLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithRoleLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithUndo(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithUrlButtonLocalized(){if(this.shouldThrow)throw Error("Method not implemented.")}sizeMatchesFramePreset(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}slugify(){if(this.shouldThrow)throw Error("Method not implemented.");return""}startExportAction(){if(this.shouldThrow)throw Error("Method not implemented.")}startLoadingDroppedImage(){if(this.shouldThrow)throw Error("Method not implemented.")}startMovePagesJob(){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingNodes(){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingPage(){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingPages(){if(this.shouldThrow)throw Error("Method not implemented.")}syncBrushStyle(){if(this.shouldThrow)throw Error("Method not implemented.")}syncCurrentToolSetSource(){if(this.shouldThrow)throw Error("Method not implemented.")}syncHighlighterStyle(){if(this.shouldThrow)throw Error("Method not implemented.")}syncPenStyle(){if(this.shouldThrow)throw Error("Method not implemented.")}syncPencilStyle(){if(this.shouldThrow)throw Error("Method not implemented.")}syncToolStyles(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleBrowseAllResourcesModal(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleComponentInsertModal(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleFakeMPActivity(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleFeatureFlagBisectorModal(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleHistoryMode(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleInteractionRecorderVisibility(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleKeyboardShortcutsModal(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}togglePerfHUDVisibility(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleTSMERConfig(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleTeamLibraryModal(){if(this.shouldThrow)throw Error("Method not implemented.")}toggleVariablesModal(){if(this.shouldThrow)throw Error("Method not implemented.")}trackInteractiveSlideElementInsertedForSprig(){if(this.shouldThrow)throw Error("Method not implemented.")}triggerFromFullscreen(){if(this.shouldThrow)throw Error("Method not implemented.")}triggerHaptics(){if(this.shouldThrow)throw Error("Method not implemented.")}updateHyperlinkPopupPosition(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectedStyleProperties(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectedStyleThumbnail(){if(this.shouldThrow)throw Error("Method not implemented.")}updateStyleThumbnail(){if(this.shouldThrow)throw Error("Method not implemented.")}updateViewportInfo(){if(this.shouldThrow)throw Error("Method not implemented.")}upscaleImage(){if(this.shouldThrow)throw Error("Method not implemented.")}upsellLibrariesHandleConsecutivePaste(){if(this.shouldThrow)throw Error("Method not implemented.")}usedKeyboardShortcut(){if(this.shouldThrow)throw Error("Method not implemented.")}validateAndParseURL(){if(this.shouldThrow)throw Error("Method not implemented.");return""}viewWidgetDetails(){if(this.shouldThrow)throw Error("Method not implemented.")}webRedo(){if(this.shouldThrow)throw Error("Method not implemented.")}webUndo(){if(this.shouldThrow)throw Error("Method not implemented.")}writeDataToClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}writeToClipboard(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class f{bufferedAmount(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}connect(){if(this.shouldThrow)throw Error("Method not implemented.")}disconnect(){if(this.shouldThrow)throw Error("Method not implemented.")}send(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class g{enterDevModeFocusView(){if(this.shouldThrow)throw Error("Method not implemented.")}exitDevModeFocusOrOverview(){if(this.shouldThrow)throw Error("Method not implemented.")}flagAssetScanComplete(){if(this.shouldThrow)throw Error("Method not implemented.")}forwardExportsToExtension(){if(this.shouldThrow)throw Error("Method not implemented.")}getIsExtension(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getUnitName(){if(this.shouldThrow)throw Error("Method not implemented.");return""}isChangingInspectionValues(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isDevModeOverview(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isLinterContextMenuShowing(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isStatusContextMenuShowing(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}onUnexpectedEditInFocusView(){if(this.shouldThrow)throw Error("Method not implemented.")}setNodesCompleted(){if(this.shouldThrow)throw Error("Method not implemented.")}setNodesReady(){if(this.shouldThrow)throw Error("Method not implemented.")}showAnnotationsButtonContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showLinterContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}showStatusContextMenu(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class w{nodeChange(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class E{onDrag(){if(this.shouldThrow)throw Error("Method not implemented.")}onPan(){if(this.shouldThrow)throw Error("Method not implemented.")}onZoom(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class T{isDesignLinterEnabledForUser(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}isDesignLinterEnabledForUser_UNSAFE(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}onNodeCreated(){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeDeleted(){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeUpdate(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class v{clearMentionsTypeaheadQuery(){if(this.shouldThrow)throw Error("Method not implemented.")}endSearchSession(){if(this.shouldThrow)throw Error("Method not implemented.");return""}isShowingMentionsTypeaheadResults(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}setMentionsTypeaheadQuery(){if(this.shouldThrow)throw Error("Method not implemented.")}setMentionsTypeaheadTargetRect(){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellForPastedMentions(){if(this.shouldThrow)throw Error("Method not implemented.")}startSearchSession(){if(this.shouldThrow)throw Error("Method not implemented.");return""}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class b{clearCodeSnapshotsFromMessages(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class y{convertPdfToScene(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}getPdfSource(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}resetPdfSource(){if(this.shouldThrow)throw Error("Method not implemented.")}shouldBlockPdfImports(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class M{boxSelectionEnded(){if(this.shouldThrow)throw Error("Method not implemented.")}canvasViewChange(){if(this.shouldThrow)throw Error("Method not implemented.")}codegenPreferencesChange(){if(this.shouldThrow)throw Error("Method not implemented.")}currentPageChange(){if(this.shouldThrow)throw Error("Method not implemented.")}documentChange(){if(this.shouldThrow)throw Error("Method not implemented.")}pluginAccessibleNodeIds(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}pluginAccessiblePages(){if(this.shouldThrow)throw Error("Method not implemented.");return[]}pluginPageLoaded(){if(this.shouldThrow)throw Error("Method not implemented.")}selectionChange(){if(this.shouldThrow)throw Error("Method not implemented.")}slidesViewChange(){if(this.shouldThrow)throw Error("Method not implemented.")}stackInvariantsEnforced(){if(this.shouldThrow)throw Error("Method not implemented.")}timerChange(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class S{isQuickActionsShown(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class I{getSitesViewState(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}setSitesViewState(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class C{getAPIName(){if(this.shouldThrow)throw Error("Method not implemented.");return""}getSuggestionsForWord(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}runTextReviewPlugin(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}shouldEnableWhenFirstActivated(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}spellCheckText(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class x{fontResourceStatusChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class A{onRedo(){if(this.shouldThrow)throw Error("Method not implemented.")}onUndo(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class O{pasteVariablesWithLocalizationPopup(){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class N{buildMultiplayerUrl(){if(this.shouldThrow)throw Error("Method not implemented.");return""}cancelPresentationStoppedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}handleMultiplayerSignal(){if(this.shouldThrow)throw Error("Method not implemented.")}isWindowActive(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}joinFlushComplete(){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorHidden(){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorUnhiddenFromConnectionCount(){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorUnhiddenFromObserver(){if(this.shouldThrow)throw Error("Method not implemented.")}notifyEditorConvertedToViewer(){if(this.shouldThrow)throw Error("Method not implemented.")}prettyPrintMessage(){if(this.shouldThrow)throw Error("Method not implemented.")}reconnectSequenceNumberChanged(){if(this.shouldThrow)throw Error("Method not implemented.")}reconnectingStarted(){if(this.shouldThrow)throw Error("Method not implemented.")}reconnectingSucceeded(){if(this.shouldThrow)throw Error("Method not implemented.")}restartPresentation(){if(this.shouldThrow)throw Error("Method not implemented.")}setBackgroundFlushInterval(){if(this.shouldThrow)throw Error("Method not implemented.")}showComponentRemovedDialog(){if(this.shouldThrow)throw Error("Method not implemented.")}showPresentationStoppedVisualBell(){if(this.shouldThrow)throw Error("Method not implemented.")}showRestoreComponentDialog(){if(this.shouldThrow)throw Error("Method not implemented.")}startMonitorInterval(){if(this.shouldThrow)throw Error("Method not implemented.")}updateMultiplayerState(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSaveStatus(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class R{clearSelectionPaintsDueToLimitExceeded(){if(this.shouldThrow)throw Error("Method not implemented.")}clearSelectionTextAndEffectStylesDueToLimitExceeded(){if(this.shouldThrow)throw Error("Method not implemented.")}colorPickerSelectedVariable(){if(this.shouldThrow)throw Error("Method not implemented.");return""}hideEyedropper(){if(this.shouldThrow)throw Error("Method not implemented.")}isPrototypingModalOpen(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}originalPaintForCurrentSelectionPaintsPicker(){if(this.shouldThrow)throw Error("Method not implemented.");return""}pickerHasSelectionPaintOpen(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showEyedropper(){if(this.shouldThrow)throw Error("Method not implemented.")}updatePaintsDirectlyOnSingleNodeWithFillEncodedPaints(){if(this.shouldThrow)throw Error("Method not implemented.")}updatePaintsDirectlyOnSingleNodeWithStyles(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionImages(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionPaintFromDropper(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}updateSelectionPaintsWithFillEncodedPaints(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionPaintsWithStyles(){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionTextAndEffectStyles(){if(this.shouldThrow)throw Error("Method not implemented.")}validateCopyBuffer(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class P{addUser(){if(this.shouldThrow)throw Error("Method not implemented.")}handleConnect(){if(this.shouldThrow)throw Error("Method not implemented.")}handleReactionFromServer(){if(this.shouldThrow)throw Error("Method not implemented.")}removeUser(){if(this.shouldThrow)throw Error("Method not implemented.")}sendReaction(){if(this.shouldThrow)throw Error("Method not implemented.")}setChatMessage(){if(this.shouldThrow)throw Error("Method not implemented.")}setFocusOnTextCursor(){if(this.shouldThrow)throw Error("Method not implemented.")}setHighFiveStatus(){if(this.shouldThrow)throw Error("Method not implemented.")}setIsHoveringWidgetWithHiddenCursors(){if(this.shouldThrow)throw Error("Method not implemented.")}setMouseCursor(){if(this.shouldThrow)throw Error("Method not implemented.")}setMousePosition(){if(this.shouldThrow)throw Error("Method not implemented.")}setVoiceMetadata(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class D{clearTemplatePreview(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}class k{getEyedropperContext(){if(this.shouldThrow)throw Error("Method not implemented.");return 0}isCustomPaletteApplied(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showSectionPresets(){if(this.shouldThrow)throw Error("Method not implemented.");return!1}updateEditPaletteModalColor(){if(this.shouldThrow)throw Error("Method not implemented.")}constructor(e=!1){i(this,"shouldThrow",void 0),this.shouldThrow=e}}},461700(e,t,r){var i,n,o,s,a,l;let d,h;function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{GP:()=>i,KO:()=>g,LQ:()=>f,_0:()=>o,zb:()=>n});class u{constructor(e){c(this,"handle",void 0),this.handle=e}}class m extends u{getCopy(){return d.getCopy(this.handle)}subscribeFromJs(e){return d.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){d.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),c(this,"handle",void 0),this.handle=e}}class p{constructor(e){c(this,"handle",void 0),this.handle=e}}class _ extends p{getCopy(){return h.getCopy(this.handle)}set(e){h.set(this.handle,e)}subscribeFromJs(e){return h.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){h.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),c(this,"handle",void 0),this.handle=e}}function f(e){d=e.ObservableValue_Array_Vector__Internal,globalThis.ObservableValue_Array_Vector_=u,globalThis.MutableObservableValue_Array_Vector_=m,h=e.WritableObservableValue_VectorF__Internal,globalThis.WritableObservableValue_VectorF_=p,globalThis.MutableWritableObservableValue_VectorF_=_}function g(){return{observableValue_Array_Vector__Internal:d,writableObservableValue_VectorF__Internal:h}}(s=i||(i={}))[s.LEFT=0]="LEFT",s[s.CENTER=1]="CENTER",s[s.RIGHT=2]="RIGHT",s[s.JUSTIFIED=3]="JUSTIFIED",(a=n||(n={}))[a.TOP=0]="TOP",a[a.CENTER=1]="CENTER",a[a.BOTTOM=2]="BOTTOM",(l=o||(o={}))[l.X=0]="X",l[l.Y=1]="Y"},673890(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p;let _,f,g;function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{H4:()=>_,KO:()=>M,KX:()=>o,LQ:()=>y,NV:()=>i,RY:()=>n,UF:()=>l,hz:()=>a,yw:()=>s});class E{constructor(e){w(this,"handle",void 0),this.handle=e}}class T extends E{getCopy(){return f.getCopy(this.handle)}subscribeFromJs(e){return f.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){f.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),w(this,"handle",void 0),this.handle=e}}class v{constructor(e){w(this,"handle",void 0),this.handle=e}}class b extends v{getCopy(){return g.getCopy(this.handle)}set(e){g.set(this.handle,e)}subscribeFromJs(e){return g.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){g.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),w(this,"handle",void 0),this.handle=e}}function y(e){_=e.ColorManagementStateJs,f=e.ObservableValue_DocumentColorProfile__Internal,globalThis.ObservableValue_DocumentColorProfile_=E,globalThis.MutableObservableValue_DocumentColorProfile_=T,g=e.WritableObservableValue_ColorFormat__Internal,globalThis.WritableObservableValue_ColorFormat_=v,globalThis.MutableWritableObservableValue_ColorFormat_=b}function M(){return{colorManagementStateJs:_,observableValue_DocumentColorProfile__Internal:f,writableObservableValue_ColorFormat__Internal:g}}(d=i||(i={}))[d.HEX=0]="HEX",d[d.RGB=1]="RGB",d[d.CSS=2]="CSS",d[d.HSL=3]="HSL",d[d.HSB=4]="HSB",d[d.UIColor=5]="UIColor",(h=n||(n={}))[h.SRGB=0]="SRGB",h[h.DISPLAY_P3=1]="DISPLAY_P3",(c=o||(o={}))[c.NO_CONVERSION=0]="NO_CONVERSION",c[c.SRGB_TO_DISPLAY_P3=1]="SRGB_TO_DISPLAY_P3",c[c.DISPLAY_P3_TO_SRGB=2]="DISPLAY_P3_TO_SRGB",(u=s||(s={}))[u.LEGACY=0]="LEGACY",u[u.SRGB=1]="SRGB",u[u.DISPLAY_P3=2]="DISPLAY_P3",(m=a||(a={}))[m.DOCUMENT=0]="DOCUMENT",m[m.SRGB=1]="SRGB",m[m.DISPLAY_P3_V4=2]="DISPLAY_P3_V4",m[m.CMYK=3]="CMYK",(p=l||(l={}))[p.NO=0]="NO",p[p.YES=1]="YES"},370053(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p,_,f,g,w,E,T;let v,b,y;function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{$F:()=>c,KO:()=>x,LQ:()=>C,Pc:()=>y,Yd:()=>a,kc:()=>n,nC:()=>l,q6:()=>h,rP:()=>o,sG:()=>s,u8:()=>d,vp:()=>i,yu:()=>v});class S{reportContextLost(){b.reportContextLost(this.handle)}reportContextRestored(){b.reportContextRestored(this.handle)}setContextLost(e){b.setContextLost(this.handle,e)}constructor(e){M(this,"handle",void 0),this.handle=e}}class I extends S{constructor(e){super(e),M(this,"handle",void 0),this.handle=e}}function C(e){v=e.GpuMetricsLoggingBinding,b=e.WebGlContextLostListener_Internal,globalThis.WebGlContextLostListener=S,globalThis.MutableWebGlContextLostListener=I,y=e.WebGPUBindings}function x(){return{gpuMetricsLoggingBinding:v,webGPUBindings:y,webGlContextLostListener_Internal:b}}(u=i||(i={}))[u.COPY=0]="COPY",u[u.KEEP=1]="KEEP",u[u.PREMULTIPLIED=2]="PREMULTIPLIED",u[u.PREMULTIPLIED_SRC_UNDER_TARGET=3]="PREMULTIPLIED_SRC_UNDER_TARGET",u[u.SCREEN=4]="SCREEN",u[u.LINEAR_DODGE=5]="LINEAR_DODGE",u[u.EXCLUSION=6]="EXCLUSION",u[u.INTERPOLATE=7]="INTERPOLATE",u[u.UNPREMULTIPLIED=8]="UNPREMULTIPLIED",(m=n||(n={}))[m.ALL=0]="ALL",m[m.COLOR=1]="COLOR",m[m.DEPTH_STENCIL=2]="DEPTH_STENCIL",(p=o||(o={}))[p.AAAShapeSolidColorPaint=0]="AAAShapeSolidColorPaint",p[p.AAAShapeGradientPaint=1]="AAAShapeGradientPaint",p[p.AAAShapeLerpGradientPaint=2]="AAAShapeLerpGradientPaint",p[p.AAAShapeImagePaint=3]="AAAShapeImagePaint",p[p.AAAShapeImageColorAdjustPaint=4]="AAAShapeImageColorAdjustPaint",p[p.AAAShapeLerpImagePaintEllipse=5]="AAAShapeLerpImagePaintEllipse",p[p.AAAShapeLerpImagePaintRoundedRect=6]="AAAShapeLerpImagePaintRoundedRect",p[p.AAAShapeLerpImageColorAdjustPaintEllipse=7]="AAAShapeLerpImageColorAdjustPaintEllipse",p[p.AAAShapeLerpImageColorAdjustPaintRoundedRect=8]="AAAShapeLerpImageColorAdjustPaintRoundedRect",p[p.BackfillBackground=9]="BackfillBackground",p[p.BlendTexture=10]="BlendTexture",p[p.BlendTileCustom=11]="BlendTileCustom",p[p.BlendTileSimple=12]="BlendTileSimple",p[p.ClampedBlurTile=13]="ClampedBlurTile",p[p.ClampedBlurTileNodeSpace=14]="ClampedBlurTileNodeSpace",p[p.ClampedGradientBlurTile=15]="ClampedGradientBlurTile",p[p.ClampedGradientBlurTileNodeSpace=16]="ClampedGradientBlurTileNodeSpace",p[p.ClampedGradientBlurTile_UniformControlFlow=17]="ClampedGradientBlurTile_UniformControlFlow",p[p.ClampedGradientBlurTileNodeSpace_UniformControlFlow=18]="ClampedGradientBlurTileNodeSpace_UniformControlFlow",p[p.ClampedGrain=19]="ClampedGrain",p[p.CompositeTile=20]="CompositeTile",p[p.CopyAndTintTile=21]="CopyAndTintTile",p[p.CopyTexture=22]="CopyTexture",p[p.CopyTile=23]="CopyTile",p[p.DashedLine=24]="DashedLine",p[p.DeviceFrame=25]="DeviceFrame",p[p.DownscaleTile=26]="DownscaleTile",p[p.DrawTexture=27]="DrawTexture",p[p.Glass=28]="Glass",p[p.GlassNonUniformCornerRadii=29]="GlassNonUniformCornerRadii",p[p.GlassArbitraryShape=30]="GlassArbitraryShape",p[p.GradientPaint=31]="GradientPaint",p[p.HardMaskTileWithColor=32]="HardMaskTileWithColor",p[p.HardMaskWithColorAndDownscaleTile=33]="HardMaskWithColorAndDownscaleTile",p[p.Hotspot=34]="Hotspot",p[p.ImageBicubicSampler=35]="ImageBicubicSampler",p[p.ImageColorAdjustBicubicSampler=36]="ImageColorAdjustBicubicSampler",p[p.ImageColorAdjustPaint=37]="ImageColorAdjustPaint",p[p.ImageColorAdjustPaintViewer=38]="ImageColorAdjustPaintViewer",p[p.ImageColorAdjustPaint_UniformControlFlow=39]="ImageColorAdjustPaint_UniformControlFlow",p[p.ImagePaint=40]="ImagePaint",p[p.ImagePaintViewer=41]="ImagePaintViewer",p[p.ImagePaint_UniformControlFlow=42]="ImagePaint_UniformControlFlow",p[p.ImagePaintPattern=43]="ImagePaintPattern",p[p.ImagePaintPatternSingle=44]="ImagePaintPatternSingle",p[p.ImageWithFilter=45]="ImageWithFilter",p[p.InverseFillRegionSolidColor=46]="InverseFillRegionSolidColor",p[p.LayoutGrid=47]="LayoutGrid",p[p.LerpGradientPaint=48]="LerpGradientPaint",p[p.LerpImage=49]="LerpImage",p[p.LerpImageColorAdjust=50]="LerpImageColorAdjust",p[p.LerpTexture=51]="LerpTexture",p[p.LoopBlinn=52]="LoopBlinn",p[p.LoopBlinnInstanced=53]="LoopBlinnInstanced",p[p.LoopBlinnGlyphsUInt=54]="LoopBlinnGlyphsUInt",p[p.LoopBlinnGlyphsUShort=55]="LoopBlinnGlyphsUShort",p[p.LoopBlinnNoDiscard=56]="LoopBlinnNoDiscard",p[p.LoopBlinnSolidPaint=57]="LoopBlinnSolidPaint",p[p.MaskBackgroundBlurTile=58]="MaskBackgroundBlurTile",p[p.MaskInnerShadowTile=59]="MaskInnerShadowTile",p[p.MaskInnerShadowTileAndFirstHardMaskAlpha=60]="MaskInnerShadowTileAndFirstHardMaskAlpha",p[p.MaskKnockoutShadowTile=61]="MaskKnockoutShadowTile",p[p.MaskKnockoutShadowTilePassThrough=62]="MaskKnockoutShadowTilePassThrough",p[p.MaskTile=63]="MaskTile",p[p.MaskTileLuminance=64]="MaskTileLuminance",p[p.MaskTileLuminancePassThrough=65]="MaskTileLuminancePassThrough",p[p.MaskTilePassThrough=66]="MaskTilePassThrough",p[p.NineGridStretchCenter=67]="NineGridStretchCenter",p[p.Noise=68]="Noise",p[p.NoisePaint=69]="NoisePaint",p[p.PixelHeatmap=70]="PixelHeatmap",p[p.RectangleBlur=71]="RectangleBlur",p[p.RectangleInnerShadow=72]="RectangleInnerShadow",p[p.RenderEllipticalTexture=73]="RenderEllipticalTexture",p[p.RoundedRectangleBlur=74]="RoundedRectangleBlur",p[p.RoundedRectangleInnerShadow=75]="RoundedRectangleInnerShadow",p[p.ShadedRegion=76]="ShadedRegion",p[p.SmoothPath=77]="SmoothPath",p[p.SmoothPathInstanced=78]="SmoothPathInstanced",p[p.SmoothPathShimmer=79]="SmoothPathShimmer",p[p.SolidColorPaint=80]="SolidColorPaint",p[p.SolidColorPaintLoopBlinn=81]="SolidColorPaintLoopBlinn",p[p.SquiggleLine=82]="SquiggleLine",p[p.SuperSSAA4x4Downsample=83]="SuperSSAA4x4Downsample",p[p.TextAlpha=84]="TextAlpha",p[p.TintTexture=85]="TintTexture",p[p.TintTextureColorAdjust=86]="TintTextureColorAdjust",p[p.UnclampedBlurTileSingleChannelF32=87]="UnclampedBlurTileSingleChannelF32",p[p.UnclampedBlurTile=88]="UnclampedBlurTile",p[p.UnclampedGradientBlurTile=89]="UnclampedGradientBlurTile",p[p.UnclampedGradientBlurTile_UniformControlFlow=90]="UnclampedGradientBlurTile_UniformControlFlow",p[p.UnclampedGrain=91]="UnclampedGrain",p[p.UpscaleAndBlendGradientBlurTile=92]="UpscaleAndBlendGradientBlurTile",p[p.UpscaleAndBlendGradientBlurTile_UniformControlFlow=93]="UpscaleAndBlendGradientBlurTile_UniformControlFlow",p[p.UpscaleTile=94]="UpscaleTile",(_=s||(s={}))[_.TRIANGLES=0]="TRIANGLES",_[_.TRIANGLE_STRIP=1]="TRIANGLE_STRIP",(f=a||(a={}))[f.NONE=0]="NONE",f[f.ODD_WINDING_NUMBER_COMPUTE=1]="ODD_WINDING_NUMBER_COMPUTE",f[f.NONZERO_WINDING_NUMBER_COMPUTE=2]="NONZERO_WINDING_NUMBER_COMPUTE",f[f.ODD_WINDING_NUMBER=3]="ODD_WINDING_NUMBER",f[f.ODD_WINDING_NUMBER_CLEAR=4]="ODD_WINDING_NUMBER_CLEAR",f[f.NONZERO_WINDING_NUMBER=5]="NONZERO_WINDING_NUMBER",f[f.NONZERO_WINDING_NUMBER_CLEAR=6]="NONZERO_WINDING_NUMBER_CLEAR",f[f.ODD_WINDING_NUMBER_FILL=7]="ODD_WINDING_NUMBER_FILL",f[f.NONZERO_WINDING_NUMBER_FILL=8]="NONZERO_WINDING_NUMBER_FILL",f[f.ODD_WINDING_NUMBER_STROKE=9]="ODD_WINDING_NUMBER_STROKE",f[f.NONZERO_WINDING_NUMBER_STROKE=10]="NONZERO_WINDING_NUMBER_STROKE",f[f.STROKE_INSIDE=11]="STROKE_INSIDE",f[f.STROKE_OUTSIDE=12]="STROKE_OUTSIDE",f[f.STROKE_CLEAR=13]="STROKE_CLEAR",f[f.OVERLAY_UI_COMPUTE_WINDING_NUMBER_ODD=14]="OVERLAY_UI_COMPUTE_WINDING_NUMBER_ODD",f[f.OVERLAY_UI_COMPUTE_WINDING_NUMBER_NONZERO=15]="OVERLAY_UI_COMPUTE_WINDING_NUMBER_NONZERO",f[f.OVERLAY_UI_COVER_ODD=16]="OVERLAY_UI_COVER_ODD",f[f.OVERLAY_UI_COVER_NONZERO=17]="OVERLAY_UI_COVER_NONZERO",f[f.OVERLAY_UI_COVER_EVEN=18]="OVERLAY_UI_COVER_EVEN",f[f.OVERLAY_UI_COVER_ZERO=19]="OVERLAY_UI_COVER_ZERO",(g=l||(l={}))[g.RGBA8=0]="RGBA8",g[g.RG32F=1]="RG32F",g[g.RGB32F=2]="RGB32F",g[g.RGBA32F=3]="RGBA32F",g[g.ASTC_6x6=4]="ASTC_6x6",g[g.BC3=5]="BC3",g[g.BGRA8=6]="BGRA8",g[g.DEPTH24_STENCIL8=7]="DEPTH24_STENCIL8",g[g.STENCIL8=8]="STENCIL8",(w=d||(d={}))[w.LINEAR_CLAMP=0]="LINEAR_CLAMP",w[w.NEAREST_CLAMP=1]="NEAREST_CLAMP",w[w.LINEAR_REPEAT=2]="LINEAR_REPEAT",w[w.NEAREST_REPEAT=3]="NEAREST_REPEAT",w[w.LINEAR_MIN_NEAREST_MAG_CLAMP=4]="LINEAR_MIN_NEAREST_MAG_CLAMP",(E=h||(h={}))[E.REQUEST_DEVICE_FAILURE=0]="REQUEST_DEVICE_FAILURE",E[E.WEBGPU_ERROR=1]="WEBGPU_ERROR",E[E.WEBGPU_OOM=2]="WEBGPU_OOM",E[E.JS_ERROR=3]="JS_ERROR",E[E.COMPATIBILITY_TEST_FAILURE=4]="COMPATIBILITY_TEST_FAILURE",E[E.DEBUGGING_HELPERS=5]="DEBUGGING_HELPERS",E[E.SURFACE_TEXTURE_FAILURE=6]="SURFACE_TEXTURE_FAILURE",(T=c||(c={}))[T.Unknown=0]="Unknown",T[T.Validation=1]="Validation",T[T.OutOfMemory=2]="OutOfMemory",T[T.Internal=3]="Internal"},890279(e,t,r){let i;function n(e){i=e.HeadlessAppBindings}function o(){return{headlessAppBindings:i}}r.d(t,{KO:()=>o,LQ:()=>n})},906326(e,t,r){let i,n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{G5:()=>n,KO:()=>d,LQ:()=>l,xp:()=>i});class s{fastBounds(){return i.fastBounds(this.handle)}getHash(){return i.getHash(this.handle)}isRect(){return i.isRect(this.handle)}loopBlinnCompile(){return i.loopBlinnCompile(this.handle)}tightBounds(){return i.tightBounds(this.handle)}constructor(e){o(this,"handle",void 0),this.handle=e}}class a extends s{constructor(e){super(e),o(this,"handle",void 0),this.handle=e}}function l(e){i=e.UniquePath_Internal,globalThis.UniquePath=s,globalThis.MutableUniquePath=a,n=e.UniquePathHelpers}function d(){return{uniquePathHelpers:n,uniquePath_Internal:i}}},375619(e,t,r){let i,n,o,s,a;function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{KC:()=>o,KJ:()=>d,KO:()=>p,LQ:()=>m,Ru:()=>c,Tq:()=>a,UF:()=>i,Zk:()=>u});class d{enabledTraits(){return n.enabledTraits(this.handle)}isDissolve(){return n.isDissolve(this.handle)}isMatchedNode(){return n.isMatchedNode(this.handle)}scalesIndependentlyOfParent(){return n.scalesIndependentlyOfParent(this.handle)}constructor(e){l(this,"handle",void 0),this.handle=e}}class h extends d{constructor(e){super(e),l(this,"handle",void 0),this.handle=e}}class c{hasTransitioningOpacity(){return s.hasTransitioningOpacity(this.handle)}hasTransitioningScaling(){return s.hasTransitioningScaling(this.handle)}hasTransitioningTransform(){return s.hasTransitioningTransform(this.handle)}hasTransitioningTransformOrigin(){return s.hasTransitioningTransformOrigin(this.handle)}interpolateOpacity(e){return s.interpolateOpacity(this.handle,e)}interpolateScaling(e){return s.interpolateScaling(this.handle,e)}interpolateTransform(e,t,r){return s.interpolateTransform(this.handle,e,t,r)}interpolateTransformOrigin(e){return s.interpolateTransformOrigin(this.handle,e)}constructor(e){l(this,"handle",void 0),this.handle=e}}class u extends c{setOpacity(e,t){s.setOpacity(this.handle,e,t)}setScaling(e,t){s.setScaling(this.handle,e,t)}setTransform(e,t){s.setTransform(this.handle,e,t)}setTransformOrigin(e,t){s.setTransformOrigin(this.handle,e,t)}constructor(e){super(e),l(this,"handle",void 0),this.handle=e}}function m(e){i=e.AnimationPlanTreeBindings,n=e.AnimationPlanTreeNode_Internal,globalThis.AnimationPlanTreeNode=d,globalThis.MutableAnimationPlanTreeNode=h,o=e.AnimationPlanTreeNodeBindings,s=e.SingleLayerTransition_Internal,globalThis.SingleLayerTransition=c,globalThis.MutableSingleLayerTransition=u,a=e.SingleLayerTransitionBindings}function p(){return{animationPlanTreeBindings:i,animationPlanTreeNodeBindings:o,singleLayerTransitionBindings:a,animationPlanTreeNode_Internal:n,singleLayerTransition_Internal:s}}},546312(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p,_,f;let g,w,E,T,v,b,y,M,S,I,C,x,A,O,N;function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{JM:()=>d,KO:()=>V,KV:()=>T,LQ:()=>B,N9:()=>l,O9:()=>x,OO:()=>a,Qk:()=>O,Uh:()=>C,_T:()=>w,bp:()=>v,gP:()=>y,pw:()=>b,rP:()=>S,rc:()=>M,uv:()=>I,vo:()=>N});class P{emscriptenId(){return g.emscriptenId(this.handle)}constructor(e){R(this,"handle",void 0),this.handle=e}}class D extends P{constructor(e){super(e),R(this,"handle",void 0),this.handle=e}}class k{emscriptenId(){return E.emscriptenId(this.handle)}format(){return E.format(this.handle)}height(){return E.height(this.handle)}sizeInBytes(){return E.sizeInBytes(this.handle)}width(){return E.width(this.handle)}constructor(e){R(this,"handle",void 0),this.handle=e}}class L extends k{uploadFromImageSource(e){E.uploadFromImageSource(this.handle,e)}uploadFromJsBuffer(e){E.uploadFromJsBuffer(this.handle,e)}constructor(e){super(e),R(this,"handle",void 0),this.handle=e}}class F{clearColor(){return A.clearColor(this.handle)}isBackedBySingleTileTexture(){return A.isBackedBySingleTileTexture(this.handle)}isColorTransparent(){return A.isColorTransparent(this.handle)}needsColorClear(){return A.needsColorClear(this.handle)}needsColorClearToTransparent(){return A.needsColorClearToTransparent(this.handle)}needsDepthStencilClear(){return A.needsDepthStencilClear(this.handle)}scissor(){return A.scissor(this.handle)}scissorForClear(){return A.scissorForClear(this.handle)}scissorForClearPrepared(){return A.scissorForClearPrepared(this.handle)}scissorRelativeToFramebuffer(){return A.scissorRelativeToFramebuffer(this.handle)}size(){return A.size(this.handle)}uvSpaceRect(){return A.uvSpaceRect(this.handle)}viewport(){return A.viewport(this.handle)}constructor(e){R(this,"handle",void 0),this.handle=e}}class U extends F{clearScissorForClear(){A.clearScissorForClear(this.handle)}prepareForDraw(e){A.prepareForDraw(this.handle,e)}setIsColorTransparent(e){A.setIsColorTransparent(this.handle,e)}setNeedsColorClear(e){A.setNeedsColorClear(this.handle,e)}setNeedsDepthStencilClear(e){A.setNeedsDepthStencilClear(this.handle,e)}setScissor(e){A.setScissor(this.handle,e)}setScissorForClear(e){A.setScissorForClear(this.handle,e)}constructor(e){super(e),R(this,"handle",void 0),this.handle=e}}function B(e){g=e.GPUFramebuffer_Internal,globalThis.GPUFramebuffer=P,globalThis.MutableGPUFramebuffer=D,w=e.GPUFramebufferBindings,E=e.GPUTexture_Internal,globalThis.GPUTexture=k,globalThis.MutableGPUTexture=L,T=e.GPUTextureBindings,v=e.Prototype,globalThis.Prototype=v,b=e.TileStackTileBindings,y=e.VertexBufferAreaHelper,M=e.VertexBufferPoolHelper,S=e.WasmHotspotRendererBindings,I=e.WasmRasterizerBindings,C=e.WasmRendererBindings,x=e.WasmRenderTreeBindings,A=e.WasmTileStackTile_Internal,globalThis.WasmTileStackTile=F,globalThis.MutableWasmTileStackTile=U,O=e.WasmUIRendererBindings,N=e.WasmUniquePathBindings}function V(){return{gPUFramebufferBindings:w,gPUTextureBindings:T,prototype:v,tileStackTileBindings:b,vertexBufferAreaHelper:y,vertexBufferPoolHelper:M,wasmHotspotRendererBindings:S,wasmRasterizerBindings:I,wasmRendererBindings:C,wasmRenderTreeBindings:x,wasmUIRendererBindings:O,wasmUniquePathBindings:N,gPUFramebuffer_Internal:g,gPUTexture_Internal:E,wasmTileStackTile_Internal:A}}(h=i||(i={}))[h.REPLACE=0]="REPLACE",h[h.BLEND=1]="BLEND",(c=n||(n={}))[c.FIXED=0]="FIXED",c[c.RESPONSIVE=1]="RESPONSIVE",(u=o||(o={}))[u.NONE=0]="NONE",u[u.CONTAIN=1]="CONTAIN",u[u.SCALE_DOWN=2]="SCALE_DOWN",u[u.MIN_ZOOM=3]="MIN_ZOOM",u[u.FREE=4]="FREE",u[u.SCALE_DOWN_TO_FIT_WIDTH=5]="SCALE_DOWN_TO_FIT_WIDTH",u[u.FIT_WIDTH=6]="FIT_WIDTH",u[u.RESPONSIVE=7]="RESPONSIVE",(m=s||(s={}))[m.MISSING_FONTS_ONLY=0]="MISSING_FONTS_ONLY",m[m.MISSING_OR_LOCAL_FONTS=1]="MISSING_OR_LOCAL_FONTS",(p=a||(a={}))[p.PENDING_INITIAL_LOAD=0]="PENDING_INITIAL_LOAD",p[p.PENDING_LOAD_AFTER_RECONNECT=1]="PENDING_LOAD_AFTER_RECONNECT",p[p.LOADED=2]="LOADED",(_=l||(l={}))[_.ALLOWED=0]="ALLOWED",_[_.DISALLOWED_CYCLE=1]="DISALLOWED_CYCLE",_[_.DISALLOWED_OTHER=2]="DISALLOWED_OTHER",(f=d||(d={}))[f.MATERIALIZE_SWAPPED_OUT_TREE=0]="MATERIALIZE_SWAPPED_OUT_TREE",f[f.SKIP_MATERIALIZATION=1]="SKIP_MATERIALIZATION"},575945(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p,_,f,g,w,E,T,v,b;let y,M,S,I,C,x,A,O,N,R,P,D,k,L,F,U,B,V,H,W,j,G;function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A9:()=>V,CS:()=>H,Dq:()=>j,KO:()=>X,LQ:()=>J,Mt:()=>L,Nu:()=>R,Nx:()=>i,QF:()=>I,Sx:()=>O,UI:()=>M,Uo:()=>S,VA:()=>a,_F:()=>d,bA:()=>W,ck:()=>G,dt:()=>P,fh:()=>$,iJ:()=>C,ie:()=>u,mP:()=>D,o2:()=>s,oF:()=>U,ou:()=>N,tY:()=>A,wK:()=>x,wb:()=>c,x_:()=>h,xz:()=>k,yt:()=>y});class K{constructor(e){z(this,"handle",void 0),this.handle=e}}class Y extends K{constructor(e){super(e),z(this,"handle",void 0),this.handle=e}}class ${bounds(){return B.bounds(this.handle)}debugString(){return B.debugString(this.handle)}flags(){return B.flags(this.handle)}isAxisAlignedRectFill(){return B.isAxisAlignedRectFill(this.handle)}isSimpleRoundedRectFill(){return B.isSimpleRoundedRectFill(this.handle)}op(){return B.op(this.handle)}constructor(e){z(this,"handle",void 0),this.handle=e}}class q extends ${constructor(e){super(e),z(this,"handle",void 0),this.handle=e}}function J(e){y=e.BlendBindings,M=e.BlurBindings,S=e.CompositeTileGridBindings,I=e.DissolveBindings,C=e.FillBindings,x=e.FillStrokeBindings,A=e.GlassBindings,O=e.GrainBindings,N=e.GroupBindings,R=e.HardMaskWithColorBindings,P=e.MaskBindings,D=e.MetadataBindings,k=e.NoiseBindings,L=e.OcclusionScopeBindings,F=e.PaintedGeometry_Internal,globalThis.PaintedGeometry=K,globalThis.MutablePaintedGeometry=Y,U=e.PaintedGeometryBindings,B=e.RenderNode_Internal,globalThis.RenderNode=$,globalThis.MutableRenderNode=q,V=e.ScatterBrushFillBindings,H=e.StaticTransformBindingBindings,W=e.SupersampleGroupBindings,j=e.VolatilePropertyBindingBindings,G=e.VolatileRenderEffectBindings}function X(){return{blendBindings:y,blurBindings:M,compositeTileGridBindings:S,dissolveBindings:I,fillBindings:C,fillStrokeBindings:x,glassBindings:A,grainBindings:O,groupBindings:N,hardMaskWithColorBindings:R,maskBindings:P,metadataBindings:D,noiseBindings:k,occlusionScopeBindings:L,paintedGeometryBindings:U,scatterBrushFillBindings:V,staticTransformBindingBindings:H,supersampleGroupBindings:W,volatilePropertyBindingBindings:j,volatileRenderEffectBindings:G,paintedGeometry_Internal:F,renderNode_Internal:B}}(m=i||(i={}))[m.PASS_THROUGH=0]="PASS_THROUGH",m[m.NORMAL=1]="NORMAL",m[m.DARKEN=2]="DARKEN",m[m.MULTIPLY=3]="MULTIPLY",m[m.LINEAR_BURN=4]="LINEAR_BURN",m[m.COLOR_BURN=5]="COLOR_BURN",m[m.LIGHTEN=6]="LIGHTEN",m[m.SCREEN=7]="SCREEN",m[m.LINEAR_DODGE=8]="LINEAR_DODGE",m[m.COLOR_DODGE=9]="COLOR_DODGE",m[m.OVERLAY=10]="OVERLAY",m[m.SOFT_LIGHT=11]="SOFT_LIGHT",m[m.HARD_LIGHT=12]="HARD_LIGHT",m[m.DIFFERENCE=13]="DIFFERENCE",m[m.EXCLUSION=14]="EXCLUSION",m[m.HUE=15]="HUE",m[m.SATURATION=16]="SATURATION",m[m.COLOR=17]="COLOR",m[m.LUMINOSITY=18]="LUMINOSITY",(p=n||(n={}))[p.NONE=0]="NONE",p[p.GRID=1]="GRID",p[p.DOTS=2]="DOTS",p[p.GRID_DARK=3]="GRID_DARK",(_=o||(o={}))[_.CONTENT_SCALE=0]="CONTENT_SCALE",_[_.CONTENT_WIDTH=1]="CONTENT_WIDTH",_[_.CONTENT_HEIGHT=2]="CONTENT_HEIGHT",(f=s||(s={}))[f.NORMAL=0]="NORMAL",f[f.LUMINANCE=1]="LUMINANCE",f[f.INNER_SHADOW=2]="INNER_SHADOW",f[f.BACKGROUND_BLUR=3]="BACKGROUND_BLUR",f[f.KNOCKOUT_SHADOW=4]="KNOCKOUT_SHADOW",(g=a||(a={}))[g.MULTITONE=0]="MULTITONE",g[g.MONOTONE=1]="MONOTONE",g[g.DUOTONE=2]="DUOTONE",(w=l||(l={}))[w.SOLID=0]="SOLID",w[w.GRADIENT_LINEAR=1]="GRADIENT_LINEAR",w[w.GRADIENT_RADIAL=2]="GRADIENT_RADIAL",w[w.GRADIENT_ANGULAR=3]="GRADIENT_ANGULAR",w[w.GRADIENT_DIAMOND=4]="GRADIENT_DIAMOND",w[w.IMAGE=5]="IMAGE",w[w.EMOJI=6]="EMOJI",w[w.VIDEO=7]="VIDEO",w[w.PATTERN=8]="PATTERN",w[w.NOISE=9]="NOISE",(E=d||(d={}))[E.METADATA=0]="METADATA",E[E.GROUP=1]="GROUP",E[E.FILL=2]="FILL",E[E.FILL_STROKE=3]="FILL_STROKE",E[E.FILL_GLYPHS=4]="FILL_GLYPHS",E[E.MASK=5]="MASK",E[E.BLUR=6]="BLUR",E[E.BLEND=7]="BLEND",E[E.COMPOSITE_TILE=8]="COMPOSITE_TILE",E[E.HARD_MASK_WITH_COLOR=9]="HARD_MASK_WITH_COLOR",E[E.STATIC_TRANSFORM_BINDING=10]="STATIC_TRANSFORM_BINDING",E[E.GRAIN=11]="GRAIN",E[E.NOISE=12]="NOISE",E[E.SCATTER_BRUSH_FILL=13]="SCATTER_BRUSH_FILL",E[E.GLASS=14]="GLASS",E[E.VOLATILE_PROPERTY_BINDING=15]="VOLATILE_PROPERTY_BINDING",E[E.VOLATILE_RENDER_EFFECT=16]="VOLATILE_RENDER_EFFECT",E[E.DISSOLVE=17]="DISSOLVE",E[E.COMPOSITE_TILE_GRID=18]="COMPOSITE_TILE_GRID",E[E.SUPERSAMPLE_GROUP=19]="SUPERSAMPLE_GROUP",E[E.OCCLUSION_SCOPE=20]="OCCLUSION_SCOPE",(T=h||(h={}))[T.INSIDE=0]="INSIDE",T[T.OUTSIDE=1]="OUTSIDE",(v=c||(c={}))[v.BLUR=0]="BLUR",v[v.GRAIN=1]="GRAIN",v[v.NOISE=2]="NOISE",v[v.GLASS=3]="GLASS",(b=u||(u={}))[b.INVERSE_TRANSFORM=0]="INVERSE_TRANSFORM",b[b.TRANSFORM_ISOLATION=1]="TRANSFORM_ISOLATION",b[b.TRANSFORM=2]="TRANSFORM",b[b.MAX_TRANSFORM_SCALE=3]="MAX_TRANSFORM_SCALE",b[b.OPACITY=4]="OPACITY",b[b.STATE_SWAP=5]="STATE_SWAP",b[b.EFFECT=6]="EFFECT"},47475(e,t,r){let i;function n(e){i=e.RenderWorkerBindings}function o(){return{renderWorkerBindings:i}}r.d(t,{KO:()=>o,LQ:()=>n})},120538(e,t,r){let i;function n(e){i=e.Runtime}function o(){return{runtime:i}}r.d(t,{KO:()=>o,LQ:()=>n})},819543(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p;let _,f,g,w,E,T,v,b,y,M,S;function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Al:()=>g,HG:()=>l,Hc:()=>w,IX:()=>f,KO:()=>L,LQ:()=>k,P5:()=>_,So:()=>s,Uz:()=>i,ei:()=>o,hz:()=>a,ms:()=>E,u4:()=>S,v4:()=>n}),r(267995);class C{constructor(e){I(this,"handle",void 0),this.handle=e}}class x extends C{getCopy(){return T.getCopy(this.handle)}subscribeFromJs(e){return T.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){T.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),I(this,"handle",void 0),this.handle=e}}class A{constructor(e){I(this,"handle",void 0),this.handle=e}}class O extends A{getCopy(){return v.getCopy(this.handle)}subscribeFromJs(e){return v.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){v.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),I(this,"handle",void 0),this.handle=e}}class N{constructor(e){I(this,"handle",void 0),this.handle=e}}class R extends N{getCopy(){return b.getCopy(this.handle)}subscribeFromJs(e){return b.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){b.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),I(this,"handle",void 0),this.handle=e}}class P{constructor(e){I(this,"handle",void 0),this.handle=e}}class D extends P{getCopy(){return y.getCopy(this.handle)}subscribeFromJs(e){return y.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){y.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),I(this,"handle",void 0),this.handle=e}}function k(e){_=e.AssetBindings,f=e.AssetConsumptionBindings,g=e.DocumentStateTsApi,w=e.FigmaScopeBindings,E=e.InteractionTestHelpers,T=e.ObservableValue_Array_IDLLocalVariableInfo__Internal,globalThis.ObservableValue_Array_IDLLocalVariableInfo_=C,globalThis.MutableObservableValue_Array_IDLLocalVariableInfo_=x,v=e.ObservableValue_Array_IDLLocalVariableSetInfo__Internal,globalThis.ObservableValue_Array_IDLLocalVariableSetInfo_=A,globalThis.MutableObservableValue_Array_IDLLocalVariableSetInfo_=O,b=e.ObservableValue_Array_IDLSubscribedVariableInfo__Internal,globalThis.ObservableValue_Array_IDLSubscribedVariableInfo_=N,globalThis.MutableObservableValue_Array_IDLSubscribedVariableInfo_=R,y=e.ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal,globalThis.ObservableValue_Array_IDLSubscribedVariableSetInfo_=P,globalThis.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=D,M=e.SharedDebuggingHelpers,S=e.VariablesMirrorManager}function L(){return{assetBindings:_,assetConsumptionBindings:f,documentStateTsApi:g,figmaScopeBindings:w,interactionTestHelpers:E,sharedDebuggingHelpers:M,variablesMirrorManager:S,observableValue_Array_IDLLocalVariableInfo__Internal:T,observableValue_Array_IDLLocalVariableSetInfo__Internal:v,observableValue_Array_IDLSubscribedVariableInfo__Internal:b,observableValue_Array_IDLSubscribedVariableSetInfo__Internal:y}}(d=i||(i={}))[d.FROM=0]="FROM",d[d.TO=1]="TO",(h=n||(n={}))[h.PRIMARY=0]="PRIMARY",h[h.SECONDARY=1]="SECONDARY",(c=o||(o={}))[c.NONE=0]="NONE",c[c.LESS_THAN_MIN_WIDTH=1]="LESS_THAN_MIN_WIDTH",c[c.LESS_THAN_MIN_HEIGHT=2]="LESS_THAN_MIN_HEIGHT",c[c.GREATER_THAN_MAX_WIDTH=3]="GREATER_THAN_MAX_WIDTH",c[c.GREATER_THAN_MAX_HEIGHT=4]="GREATER_THAN_MAX_HEIGHT",c[c.NEGATIVE=5]="NEGATIVE",c[c.NEGATIVE_OR_ZERO=6]="NEGATIVE_OR_ZERO",c[c.LESS_THAN_ONE=7]="LESS_THAN_ONE",(u=s||(s={}))[u.INVALID=0]="INVALID",u[u.PRIMARY_INSTANCE_BACKED_BY_SYMBOL=1]="PRIMARY_INSTANCE_BACKED_BY_SYMBOL",u[u.PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL=2]="PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL",u[u.PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL=3]="PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL",u[u.PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL=4]="PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL",u[u.PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL=5]="PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL",u[u.STATE_WITH_PROP_DEF_TO_SYMBOL=6]="STATE_WITH_PROP_DEF_TO_SYMBOL",u[u.SYMBOL_CONTAINING_PRIMARY_INSTANCE=7]="SYMBOL_CONTAINING_PRIMARY_INSTANCE",(m=a||(a={}))[m.INTERACTION_TEST=0]="INTERACTION_TEST",m[m.VIEWER_TEST=1]="VIEWER_TEST",(p=l||(l={}))[p.NONE=0]="NONE",p[p.TOO_MANY_VARIABLES_ERROR=1]="TOO_MANY_VARIABLES_ERROR",p[p.TOO_MANY_MODES_ERROR=2]="TOO_MANY_MODES_ERROR"},115615(e,t,r){var i,n;let o;function s(e){o=e.CommonAppPlaceholder}function a(){return{commonAppPlaceholder:o}}r.d(t,{KO:()=>a,LQ:()=>s,uC:()=>i}),(n=i||(i={}))[n.FullscreenApp=0]="FullscreenApp",n[n.PrototypeLib=1]="PrototypeLib",n[n.InteractionTest=2]="InteractionTest"},430318(e,t,r){var i,n,o,s,a,l,d,h,c,u,m,p;let _,f,g;function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Bx:()=>n,KO:()=>M,LQ:()=>y,YV:()=>l,aT:()=>s,gm:()=>a,sd:()=>_,zy:()=>i});class E{constructor(e){w(this,"handle",void 0),this.handle=e}}class T extends E{constructor(e){super(e),w(this,"handle",void 0),this.handle=e}}class v{constructor(e){w(this,"handle",void 0),this.handle=e}}class b extends v{getCopy(){return g.getCopy(this.handle)}set(e){g.set(this.handle,e)}subscribeFromJs(e){return g.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){g.unsubscribeFromJs(this.handle,e)}constructor(e){super(e),w(this,"handle",void 0),this.handle=e}}function y(e){_=e.HTMLWindow,f=e.HTMLWindowView_Internal,globalThis.HTMLWindowView=E,globalThis.MutableHTMLWindowView=T,g=e.WritableObservableValue_KeyboardLayout__Internal,globalThis.WritableObservableValue_KeyboardLayout_=v,globalThis.MutableWritableObservableValue_KeyboardLayout_=b}function M(){return{hTMLWindow:_,hTMLWindowView_Internal:f,writableObservableValue_KeyboardLayout__Internal:g}}(d=i||(i={}))[d.CUT=0]="CUT",d[d.COPY=1]="COPY",d[d.PASTE=2]="PASTE",(h=n||(n={}))[h.TEXT=0]="TEXT",h[h.KEY_PRESS=1]="KEY_PRESS",h[h.KEY_RELEASE=2]="KEY_RELEASE",h[h.MOUSE_MOVE=3]="MOUSE_MOVE",h[h.MOUSE_ENTER=4]="MOUSE_ENTER",h[h.MOUSE_LEAVE=5]="MOUSE_LEAVE",h[h.MOUSE_PRESS=6]="MOUSE_PRESS",h[h.MOUSE_DRAG=7]="MOUSE_DRAG",h[h.MOUSE_RELEASE=8]="MOUSE_RELEASE",h[h.MOUSE_WHEEL=9]="MOUSE_WHEEL",h[h.MOUSE_DROP=10]="MOUSE_DROP",h[h.MOUSE_ROTATE=11]="MOUSE_ROTATE",h[h.MOUSE_SCALE=12]="MOUSE_SCALE",h[h.MOUSE_SCALE_END=13]="MOUSE_SCALE_END",h[h.FOCUS_GAINED=14]="FOCUS_GAINED",h[h.FOCUS_LOST=15]="FOCUS_LOST",h[h.CLIPBOARD=16]="CLIPBOARD",h[h.MOUSE_MOVE_COALESCED=17]="MOUSE_MOVE_COALESCED",h[h.MOUSE_DRAG_COALESCED=18]="MOUSE_DRAG_COALESCED",h[h.CONTEXT_MENU_OPEN=19]="CONTEXT_MENU_OPEN",h[h.MOUSE_CANCEL=20]="MOUSE_CANCEL",h[h.APP_FOCUS_GAINED=21]="APP_FOCUS_GAINED",h[h.APP_FOCUS_LOST=22]="APP_FOCUS_LOST",(c=o||(o={}))[c.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",(u=s||(s={}))[u.UNKNOWN=0]="UNKNOWN",u[u.US_QWERTY=1]="US_QWERTY",u[u.DVORAK=2]="DVORAK",u[u.GERMAN=3]="GERMAN",u[u.FRENCH_AZERTY=4]="FRENCH_AZERTY",u[u.HIRAGANA_KANA=5]="HIRAGANA_KANA",u[u.UK_MAC=6]="UK_MAC",u[u.UK_PC=7]="UK_PC",u[u.SWEDISH=8]="SWEDISH",u[u.FINNISH=9]="FINNISH",u[u.DANISH=10]="DANISH",u[u.NORWEGIAN=11]="NORWEGIAN",u[u.ITALIAN=12]="ITALIAN",u[u.SPANISH=13]="SPANISH",u[u.SPANISH_LATAM=14]="SPANISH_LATAM",u[u.CHINESE=15]="CHINESE",u[u.PORTUGUESE=16]="PORTUGUESE",u[u.KOREAN=17]="KOREAN",(m=a||(a={}))[m.MOUSE=0]="MOUSE",m[m.TOUCH=1]="TOUCH",m[m.STYLUS=2]="STYLUS",m[m.TRACKPAD=3]="TRACKPAD",(p=l||(l={}))[p.PREVIOUS=0]="PREVIOUS",p[p.NEXT=1]="NEXT"},133223(e,t,r){r.d(t,{aX:()=>n,vr:()=>o});var i=r(667297);function n(e,t=1024){return e.size.y>e.size.x?Math.floor(t*e.size.x/e.size.y):t}async function o(e,t,r){let o=await e.loadImagesAndExport([{imageType:"PNG",suffix:"png",...void 0!==t&&{contentsOnly:t},constraint:{type:"CONTENT_WIDTH",value:Math.min(e.size.x,n(e,r))}}]);return o.length>0?"data:image/png;base64,"+(0,i.lF)(o):""}},273043(e,t,r){function i(e,t={},r=null){r||(r="u"<typeof document?new OffscreenCanvas(1,1):document.createElement("canvas"));let n=null;try{n=e?r.getContext("webgl2",t):r.getContext("webgl",t)}catch{}return n}function n(e,t=null){let r=i(e,{powerPreference:"high-performance"},t);return r||(r=i(e,{powerPreference:"default"},t)),r}function o(e,t,r){let i=r.registerContext(e,t);r.makeContextCurrent(i)}r.d(t,{Rx:()=>o,j9:()=>i,zD:()=>n})},704780(e,t,r){r.d(t,{$Y:()=>E,Jk:()=>_});var i=r(706354),n=r(151650),o=r(885705),s=r(739501),a=r(158096),l=r(569986),d=r(783638),h=r(779254);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u=/^[a-zA-Z0-9_.@$-]+$/;function m(e,t=i.FigmaTeam.UNOWNED){return!!u.test(e)||(_.getInstance().addError(Error(`Invalid vital name "${e}": vital names must only contain letters, digits, or the characters - _ . @ $`),t),!1)}let p=new WeakMap;class _ extends s.b{static getInstance(){return this._instance}enrichContext(e,t){return(0,l.F)(e.type)?d.Z.getInstance().aggregate(e.type,t):{}}onTimerEvent(e){this.trigger("timer",e)}addAction(e,t,r,i,n){!n?.forceEnable&&!_.isObservabilityClientEnabled||(r!==o.$.DEBUG||_.isUserDebugSessionActive())&&_.datadogRum?.addAction(`${e} [${t}]`,{...i,level:r,team:t})}addTiming(e,t,r){!_.isObservabilityClientEnabled||(r!==o.$.DEBUG||_.isUserDebugSessionActive())&&(this.onTimerEvent({name:e,duration:t}),_.datadogRum?.addTiming(e,t))}addError(e,t,r){_.isObservabilityClientEnabled&&_.datadogRum?.addError(e,{...r,team:t})}logVital(e,{level:t,startTime:r,duration:i,description:s,context:a,dontLogToDevtools:l}){var d,h;if(_.enableDevToolsTracing&&!l)try{let t=r-performance.timeOrigin;performance.measure(e,{start:t,duration:i,detail:a})}catch{}if(!_.isObservabilityClientEnabled||t===o.$.DEBUG&&!_.isUserDebugSessionActive()||!m(e,a?.team))return;d=r,h=e,d<performance.timeOrigin&&console.warn(`[${h}] You appear to be logging a relative timestamp and not an epoch timestamp. Try adding performance.timeOrigin to the timestamp.`);let c=n.Z.getInstance().wasBackgrounded(r,i),u=n.Z.getInstance().wasOffline(r,i);this.trigger("timer",{name:e,duration:i}),_.datadogRum?.addDurationVital(e,{startTime:r,duration:i,description:s,context:{...a,wasBackgrounded:c,wasOffline:u}})}measureCallbackAsVital(e,t){this.startVital(e);let r=t();return this.stopVital(e),r}async measureCallbackAsyncAsVital(e,t){this.startVital(e);let r=await t();return this.stopVital(e),r}createVital(e,{level:t,description:r,context:i,trackFps:n}){return new g(e,{level:t,description:r,context:i,trackFps:n})}startVital(e,{level:t,description:r,context:i}={level:o.$.INFO}){_.isObservabilityClientEnabled&&(t!==o.$.DEBUG||_.isUserDebugSessionActive())&&m(e,i?.team)&&_.datadogRum?.startDurationVital(e,{description:r,context:i})}stopVital(e,{level:t,context:r}={level:o.$.INFO}){_.isObservabilityClientEnabled&&(t!==o.$.DEBUG||_.isUserDebugSessionActive())&&m(e,r?.team)&&_.datadogRum?.stopDurationVital(e,{context:r})}startVitalForDebugging(e,{description:t,context:r}={}){this.startVital(e,{level:o.$.DEBUG,description:t,context:r})}stopVitalForDebugging(e,{context:t}={}){this.stopVital(e,{level:o.$.DEBUG,context:t})}setGlobalContext(e,t){_.isObservabilityClientEnabled&&_.datadogRum?.setGlobalContextProperty(e,t)}setViewContext(e,t){_.isObservabilityClientEnabled&&_.datadogRum?.setViewContextProperty(e,t)}setViewTag(e,t){_.setSentryTag(e,t),this.setViewContext(e,t)}setGlobalTag(e,t){_.setSentryTag(e,t),this.setGlobalContext(e,t)}startUserFlow({name:e,team:t,priority:r,trackFps:i,context:n,eventOptions:s,taskRunner:a}){return new f({name:e,team:t,priority:r??o.b.P2,trackFps:i,context:n,taskRunner:a,eventOptions:s})}trackFeatureFlagInView(e,t){return t=!!t,_.isFeatureFlagTrackingEnabled&&(this.trackedFeatureFlags.has(e)||this.trackedFeatureFlags.size<100)&&(this.trackedFeatureFlags.add(e),_.datadogRum?.addFeatureFlagEvaluation(e,t)),t}static registerActiveVital(e){this.isVitalsTaggingEnabled&&this._activeVitalsTracker.register(e)}static unregisterActiveVital(e){this.isVitalsTaggingEnabled&&this._activeVitalsTracker.unregister(e)}static getActiveVitals(){return this.isVitalsTaggingEnabled?this._activeVitalsTracker.getActiveVitals():[]}constructor(){super("ObservabilityClient"),c(this,"logLevel",o.$.INFO),c(this,"trackedFeatureFlags",new Set)}}c(_,"_instance",new _),c(_,"_activeVitalsTracker",new a.S),c(_,"datadogRum",void 0),c(_,"isObservabilityClientEnabled",!1),c(_,"isFeatureFlagTrackingEnabled",!1),c(_,"enableDevToolsTracing",!1),c(_,"isVitalsTaggingEnabled",!1),c(_,"definedAnalyticsHandler",void 0),c(_,"trackEvent",()=>{}),c(_,"isUserDebugSessionActive",()=>!1),c(_,"setSentryTag",()=>{});let f=class{startDuration(e,t={}){let r=new g(`${this.name}.${e}`,{level:t.level??o.$.INFO,description:t.description,context:this.context,trackFps:t.trackFps??!1,onStop:t=>{this.context[e]=t},taskRunnerStatsTracker:this.taskRunner&&t.trackTaskRunnerStats?new w(this.taskRunner):void 0});return r.start(),r}measureDuration(e,t,r){let i=this.startDuration(e,{level:r?.level??o.$.INFO,description:r?.description,trackTaskRunnerStats:r?.trackTaskRunnerStats});try{return t(i)}finally{i.stop()}}async measureDurationAsync(e,t,r){let i=this.startDuration(e,r);try{return await t(i)}finally{i.stop()}}addAction(e,t,r){_.getInstance().addAction(`${this.name}.${e}`,this.context.team,t,{...this.context,...r})}measureTimer(e,t){let r=performance.now();try{return t()}finally{let t=performance.now()-r;this.context[e]=t,_.getInstance().addTiming(`${this.name}.${e}`,t,o.$.INFO)}}async measureTimerAsync(e,t){let r=performance.now();try{return await t()}finally{let t=performance.now()-r;this.context[e]=t,_.getInstance().addTiming(`${this.name}.${e}`,t,o.$.INFO)}}createVital(e,{level:t,description:r,context:i,trackFps:n}){return new g(e,{level:t,description:r,context:{...this.context,...i},trackFps:n})}addContext(e){Object.assign(this.context,e),this.internalDuration.addContext(e)}getContext(){return this.context}end(){!this.ended&&_.isObservabilityClientEnabled&&(this.ended=!0,this.internalDuration.addContext(this.context),this.internalDuration.stop())}trackEvent(e,t,r){_.trackEvent?.(e,{...this.context,...t},{...this.eventOptions,...r})}trackDefinedEvent(e,t={}){_.definedAnalyticsHandler?.trackDefinedEvent(e,{...this.context,...t})}constructor({name:e,team:t,priority:r,trackFps:i,context:n,eventOptions:s,taskRunner:a}){c(this,"name",void 0),c(this,"context",{}),c(this,"ended",!1),c(this,"internalDuration",void 0),c(this,"eventOptions",void 0),c(this,"taskRunner",void 0),this.name=e,this.context={...n,flowName:e,team:t,priority:r},this.eventOptions=s,this.taskRunner=a,this.internalDuration=new g(`${this.name}`,{level:o.$.INFO,team:t,trackFps:i??!0,context:this.context}),this.internalDuration.start()}};class g{getName(){return this.name}getTeam(){return this.team}startFrameRateMonitoring(){if(!_.isObservabilityClientEnabled||null!==this.fpsMonitorId)return;p.set(this,[]);let e=performance.now(),t=()=>{let r=performance.now(),i=r-e,n=this.getFrameTimeData();n&&n.push(i),e=r;let o=r-this.startTime;!this.stopped&&o<this.fpsCollectionDurationMs?this.fpsMonitorId=requestAnimationFrame(t):this.stopped||this.stopFpsMonitoring()};this.fpsMonitorId=requestAnimationFrame(t)}stopFpsMonitoring(){if(null!==this.fpsMonitorId){cancelAnimationFrame(this.fpsMonitorId),this.fpsMonitorId=null;let e=function(e){if(!e?.length||e.length<3)return{count:e?.length??0};e.sort((e,t)=>e-t);let t=e.reduce((e,t)=>e+t,0)/e.length,r=e.map(e=>{let r=e-t;return r*r}),i=Math.sqrt(r.reduce((e,t)=>e+t,0)/r.length),n=Math.floor(.9*e.length),o=Math.floor(.95*e.length),s=Math.floor(.99*e.length),a=Math.floor(.999*e.length),l=e.filter(e=>e>30).length/e.length,d=e.filter(e=>e>30).reduce((e,t)=>e+t,0),h=e.filter(e=>e>50).length/e.length,c=e.filter(e=>e>50).reduce((e,t)=>e+t,0),u=e[0]??0,m=e[e.length-1]??0,p=e[Math.floor(.5*e.length)]??0,_=e[n]??m,f=e[o]??m,g=e[s]??m,w=e[a]??m,E=e.slice(s).reduce((e,t)=>e+t,0)/(e.length-s),T=e.slice(a).reduce((e,t)=>e+t,0)/(e.length-a);return{count:e.length,avg:t,min:u,max:m,median:p,p90:_,p95:f,p99:g,p999:w,stddev:i,inferredFps:1e3/t,percentAbove30ms:l,durationAbove30ms:d,percentAbove50ms:h,durationAbove50ms:c,onePercentLowAverage:E,zeroPointOnePercentLowAverage:T}}(this.getFrameTimeData()?.slice(1));this.addContext({frameTimeStats:e})}}getFrameTimeData(){return p.get(this)}start(){!_.isObservabilityClientEnabled||(this.started?_.getInstance().addError(Error(`DurationVital ${this.name} already started`),i.FigmaTeam.UNOWNED):(this.level!==o.$.DEBUG||_.isUserDebugSessionActive())&&(this.startTime=performance.now(),this.started=!0,_.registerActiveVital(this),this.trackFps&&this.startFrameRateMonitoring(),this.taskRunnerStatsTracker&&this.taskRunnerStatsTracker.start()))}stop(){if(!_.isObservabilityClientEnabled)return;if(this.stopped||!this.started)return void _.getInstance().addError(Error(`DurationVital ${this.name} ${this.stopped?"already stopped":"stopped but never started"}`),this.team);if(this.level===o.$.DEBUG&&!_.isUserDebugSessionActive())return;this.stopFpsMonitoring(),this.taskRunnerStatsTracker&&this.addContext(this.taskRunnerStatsTracker.stop()),_.unregisterActiveVital(this);let e=performance.now()-this.startTime,t=this.startTime+performance.timeOrigin,r=n.Z.getInstance().wasBackgrounded(this.startTime,e),i=n.Z.getInstance().wasOffline(this.startTime,e);_.getInstance().logVital(this.name,{level:this.level,startTime:t,duration:e,description:this.description,context:{...this.context,wasBackgrounded:r,wasOffline:i}}),this.onStop?.(e,this.context?.frameTimeStats),this.stopped=!0}addContext(e){this.context={...this.context,...e}}constructor(e,{level:t,description:r,team:n,context:o,trackFps:s=!1,fpsCollectionDurationMs:a=18e4,onStop:l,taskRunnerStatsTracker:d}){c(this,"name",void 0),c(this,"description",void 0),c(this,"context",void 0),c(this,"level",void 0),c(this,"started",!1),c(this,"stopped",!1),c(this,"startTime",0),c(this,"fpsMonitorId",null),c(this,"team",void 0),c(this,"trackFps",void 0),c(this,"fpsCollectionDurationMs",void 0),c(this,"taskRunnerStatsTracker",void 0),c(this,"onStop",void 0),this.name=e,this.description=r,this.level=t,this.trackFps=s,this.team=n??i.FigmaTeam.UNOWNED,this.context={...o},this.fpsCollectionDurationMs=Math.min(a,18e4),this.taskRunnerStatsTracker=d,this.onStop=l}}class w{start(){this.startSnapShot=this.taskRunner.getSnapshot()}stop(){if(!this.startSnapShot)return{yieldTimeTotalMs:0,yieldTimeAverageMs:0};let e=this.taskRunner.getSnapshot(),t=e.yieldCount-this.startSnapShot.yieldCount,r=e.yieldTimeTotalMs-this.startSnapShot.yieldTimeTotalMs;return{yieldTimeTotalMs:r,yieldTimeAverageMs:t>0?r/t:0}}constructor(e){c(this,"startSnapShot",null),c(this,"taskRunner",void 0),this.taskRunner=e}}let E=h.U.getInstance()},523924(e,t,r){r.d(t,{B1:()=>o,KF:()=>d,S9:()=>h,d_:()=>c,j:()=>a,vA:()=>n,wc:()=>l,xb:()=>s});var i=r(745463);function n(e,t=""){if(!e)throw Error(`Assertion failure${t?`: ${t}`:""}`)}function o(e,t){if((0,i.uy)(e))throw Error(t??"Expected value not to be nullish")}function s(e,t){throw Error(t??`Uncaught type ${JSON.stringify(e)}`)}function a(e){}function l(e){throw Error(e)}function d(e,t){}function h(e,t,r){return t}function c(e){}},393106(e,t,r){r.d(t,{J:()=>o});var i=r(850159),n=r(818381);function o(e,t){let r=t,n=s.safeParse(e);n.success&&(r??=n.data.data.message);let o=a.safeParse(e);if(!o.success)return r;let l=(0,i.YD)(o.data.data.i18n.id,o.data.data.i18n.params);return""===l?r:l}let s=n.z.object({data:n.z.object({message:n.z.string()})}).passthrough(),a=n.z.object({data:n.z.object({i18n:n.z.object({id:n.z.string(),params:n.z.object({}).passthrough()})})}).passthrough()},901326(e,t,r){r.d(t,{DD:()=>d,ID:()=>u,Op:()=>h,k9:()=>a,wm:()=>l,zN:()=>c});var i=r(105652);r(442549);var n=r(701328),o=r(335127),s=r(873234);function a(e,t){return c(i.useMemo(e,t))}function l(e,t){return c(i.useMemo(e,t),s.A)}function d(e,t,r){return c(i.useMemo(e,t),r)}function h(e,t,r){return d(e,t,(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1;return!0})}function c(e,t=n){let r=(0,o.ZC)(e),s=i.useRef(e);return null!=r&&(e===r||t(e,s.current))?s.current:(s.current=e,e)}function u(e,t=n){let[r,o]=i.useState(e),s=i.useRef(r);return s.current=r,[r,i.useCallback(e=>{let r="function"==typeof e?e(s.current):e;r===s.current||t(r,s.current)||o(r)},[t])]}},594671(e,t,r){r.d(t,{Wx:()=>s,cU:()=>n,wY:()=>o});var i=r(105652);let n={width:0,height:0};function o(e,t){let[r,n]=(0,i.useState)(null);return(0,i.useLayoutEffect)(()=>{if(!e||!e.current)return;let i=new ResizeObserver(i=>{for(let o of i)if(e.current===o.target){let e=o.contentRect.width,i=o.contentRect.height;if(r&&r.width===e&&r.height===i)continue;let s={width:o.contentRect.width,height:o.contentRect.height};n(s),t?.(s)}});return i.observe(e.current),()=>i.disconnect()},[e,t,r]),r}function s(e,t){let[r,n]=(0,i.useState)(null);return(0,i.useLayoutEffect)(()=>{if(!e)return;let i=new ResizeObserver(i=>{for(let o of i)if(e===o.target){let e=o.contentRect.width,i=o.contentRect.height;if(r&&r.width===e&&r.height===i)continue;let s={width:o.contentRect.width,height:o.contentRect.height};n(s),t?.(s)}});return i.observe(e),()=>i.disconnect()},[e,t,r]),r}},871779(e,t,r){r.d(t,{Y:()=>n}),r(105652);var i=r(146144);function n(e){if("pending"===e.status)throw(0,i.WE)(e),Error("unreachable");if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),(0,i.WE)(e),Error("unreachable")}}}]);

//# debugId=9d5eabb4-931b-5f75-b6b2-921ce72c5e6f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c630b69dcd4a5f754ac4e8b42d11b0576da6a44f/9481-ea4c7b990fce9a12.min.js.map