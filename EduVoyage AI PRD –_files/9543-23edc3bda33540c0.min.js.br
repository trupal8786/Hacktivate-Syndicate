"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="13bd7e1c-4944-5b6c-91e9-e1d6a5ee30cb")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["9543"],{374821(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n={COMMUNITY_PATH_PREFIXES:function(){return d},getHcLocale:function(){return r},getLocaleFeatureFlag:function(){return l},getLocalizedName:function(){return o}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});let s=i(534973),o=e=>{switch(e){case s.Locale.EN:return"English";case s.Locale.JA:return"\u65E5\u672C\u8A9E";case s.Locale.FR:return"Fran\xe7ais";case s.Locale.DE:return"Deutsch";case s.Locale.ES_ES:return"Espa\xf1ol (Espa\xf1a)";case s.Locale.ES_LA:return"Espa\xf1ol (Latinoam\xe9rica)";case s.Locale.KO_KR:return"\uD55C\uAD6D\uC5B4";case s.Locale.PT_BR:return"Portugu\xeas (Brasil)";case s.Locale.NL_NL:return"Nederlands";case s.Locale.PL_PL:return"Polski";case s.Locale.IT_IT:return"Italiano";case s.Locale.AAA:return"AAA (Pseudolocale: Figma \u2192 AAA)";case s.Locale.AAL:return"AAL (Pseudolocale: Figma \u2192 [~~\u1E1E\u012F\u012F\u011F\u1E43\u0105\u0105~~])";case s.Locale.DU_PS:return"Dummy (Partially Supported)";case s.Locale.DU_DS:return"Dummy (Developing Support)"}},r=e=>{switch(e){case s.Locale.EN:return"en-us";case s.Locale.JA:return"ja";case s.Locale.FR:return"fr";case s.Locale.DE:return"de";case s.Locale.ES_ES:return"es-es";case s.Locale.ES_LA:return"es-419";case s.Locale.KO_KR:return"ko";case s.Locale.PT_BR:return"pt-br";case s.Locale.NL_NL:return"nl-nl";case s.Locale.PL_PL:return"pl-pl";case s.Locale.IT_IT:case s.Locale.AAA:case s.Locale.AAL:case s.Locale.DU_PS:case s.Locale.DU_DS:return"en-us"}},l=e=>{switch(e){case s.Locale.FR:return"i18n_fr";case s.Locale.DE:return"i18n_de";case s.Locale.NL_NL:case s.Locale.PL_PL:case s.Locale.IT_IT:case s.Locale.DU_PS:return;case s.Locale.DU_DS:return"i18n_du_ds"}},d={fr:"/fr-fr/communaute",de:"/de-de/community",en:"/community",ja:"/ja-jp/community","es-es":"/es-es/comunidad","es-la":"/es-la/comunidad","ko-kr":"/ko-kr/community","pt-br":"/pt-br/comunidade"}},232974(e,t,i){i.d(t,{BI:()=>d,Dn:()=>n,Tz:()=>l,as:()=>a,bW:()=>o,iY:()=>r,sI:()=>s});let n="panel_title--panelTitle--v8TJS",a="panel_title--legendAsPanelTitle--p1oEu",s="panel_title--panelTitleWithoutChevron--4yM5U",o="panel_title--collapsiblePanelTitle---hl7L",r="panel_title--panelTitleExtended--H55mX",l="panel_title--panelTitleFaded--cOK3k",d="panel_title--hoverable--E8yUl"},230417(){},642645(e,t,i){i.d(t,{KC:()=>s,VP:()=>n,sy:()=>a,zB:()=>o});let n="figmake--descriptionRow--cxgJw",a="figmake--workshopRowFpl--9RoPJ",s="figmake--workshopRowInfo--YNrht",o="figmake--workshopRowIcon--5UzNk role_row--linkAccessIcon--XlKZh role_row--roleRowIcon--7ZuGx"},646288(){},433726(e,t,i){i.d(t,{b:()=>n});let n="with_popover--triggerButton--islEn"},794642(e,t,i){i.d(t,{E0:()=>E,Ek:()=>a,F4:()=>m,KC:()=>d,S:()=>n,S4:()=>l,jC:()=>o,li:()=>u,oB:()=>r,pn:()=>p,pw:()=>c,rZ:()=>s,rf:()=>f,vt:()=>h,wx:()=>g,zc:()=>_});let n="lint_error_modal--lintErrorsContent--cecLf",a="lint_error_modal--lintErrorsFallbackContent--RlB-k lint_error_modal--lintErrorsContent--cecLf",s="lint_error_modal--lintErrorLocation--oCL1v",o="lint_error_modal--lintErrorsList--T6ojr",r="lint_error_modal--lintErrorsItemRow--C459u",l="lint_error_modal--errorTarget--Dde5N",d="lint_error_modal--lintErrorsItemLeft--VaRkX",c="lint_error_modal--lintContent--ujT63",u="lint_error_modal--fixIssuesDropdownButton--oAEBh",_="lint_error_modal--iconContainer--XbJ8j",m="lint_error_modal--issueContent--fuFUR",h="lint_error_modal--noErrors--5P3TG",p="lint_error_modal--lintNoErrorsText--3G-JY",g="lint_error_modal--header--c37Eb",f="lint_error_modal--body--VcKYD",E="lint_error_modal--filterContainer--U1NXd"},170569(e,t,i){i.d(t,{Dm:()=>s,GK:()=>o,N_:()=>n,WR:()=>r,er:()=>l,vo:()=>a});let n="styles-module--warningIconWrapper---92i-",a="styles-module--selectWebpagesButton--MolMw",s="styles-module--publishModalRowLabel--9qXU2",o="styles-module--publishModalRowContent--b3uid",r="styles-module--publishModalRowContentLong--ZBTht",l="styles-module--publishedByHandle--FY3Lh"},357669(e,t,i){i.d(t,{D:()=>a,y:()=>n});let n="toolbelt_divider--divider--Pizvj",a="toolbelt_divider--extendedDivider--MXoyr"},124122(e,t,i){i.d(t,{A:()=>_6});var n,a,s,o,r,l,d,c,u,_,m,h,p,g,f,E,b,y,S,T,v,R,I,x,A,O,N,C,L,w,D,j,k,P,M,F,U,G,V,B,X,H,z,W,K,q,$,Y,J,Z,Q,ee,et,ei,en,ea,es,eo,er,el,ed,ec,eu,e_,em,eh,ep,eg,ef,eE,eb,ey,eS,eT,ev,eR,eI,ex,eA,eO,eN,eC,eL,ew,eD,ej,ek,eP,eM,eF,eU,eG,eV,eB,eX,eH,ez,eW,eK,eq,e$,eY,eJ,eZ,eQ,e0,e1,e2,e5,e3,e4,e8,e7,e6,e9,te,tt,ti,tn,ta,ts,to,tr,tl,td,tc,tu,t_,tm,th,tp,tg,tf,tE,tb,ty,tS,tT,tv,tR,tI,tx,tA,tO,tN,tC,tL,tw,tD,tj,tk,tP,tM,tF,tU,tG,tV,tB,tX,tH,tz,tW,tK,tq,t$,tY,tJ,tZ,tQ,t0,t1,t2,t5,t3,t4,t8,t7,t6,t9,ie,it,ii,ia,is,io,ir,il,id,ic,iu,i_,im,ih,ip,ig,iE,ib,iy,iS,iT,iv,iR,iI,ix,iA,iO,iN,iC,iL,iw,iD,ij,ik,iP,iM,iF,iU,iG,iV,iB,iX,iH,iz,iW,iK,iq,i$,iY,iJ,iZ,iQ,i0,i1,i2,i5,i3,i4,i8,i7,i6,i9,ne,nt,ni,nn,na,ns,no,nr,nl,nd,nc,nu,n_,nm,nh,np,ng,nf,nE,nb,ny,nS,nT,nv,nR,nI,nx,nA,nO,nN,nC,nL,nw,nD,nj,nk,nP,nM,nF,nU,nG,nV,nB,nX,nH,nz,nW,nK,nq,n$,nY,nJ,nZ,nQ,n0,n1,n2,n5,n3,n4,n8,n7,n6,n9,ae,at,ai,an,aa,as,ao,ar,al,ad,ac,au,a_,am,ah,ap,ag,af,aE,ab,ay,aS,aT,av,aR,aI,ax,aA,aO,aN,aC,aL,aw,aD,aj,ak,aP,aM,aF,aU,aG,aV,aB,aX,aH,az,aW,aK,aq,a$,aY,aJ,aZ,aQ,a0,a1,a2,a5,a3,a4,a8,a7,a6,a9,se,st,si,sn,sa,ss,so,sr,sl,sd,sc,su,s_,sm,sh,sp,sg,sf,sE,sb,sy,sS,sT,sv,sR,sI,sx,sA,sO,sN,sC,sL,sw,sD,sj,sk,sP,sM,sF,sU,sG,sV,sB,sX,sH,sz,sW,sK,sq,s$,sY,sJ,sZ,sQ,s0,s1,s2,s5,s3,s4,s8,s7,s6,s9,oe,ot,oi,on,oa,os,oo=i(177066),or=i(925489),ol=i(819889),od=i(207607),oc=i(133184),ou=i(292548),o_=i(427192),om=i(845460),oh=i(314598),op=i(655483),og=i(392780),of=i(985244),oE=i(864064),ob=i(579309),oy=i(745211),oS=i(881280),oT=i(564075),ov=i(17140),oR=i(304610),oI=i(392823),ox=i(155919),oA=i(214010),oO=i(37812),oN=i(232707),oC=i(531848),oL=i(596164),ow=i(719070),oD=i(360404),oj=i(374199),ok=i(517095),oP=i(557584),oM=i(165546),oF=i(215803),oU=i(691224),oG=i(100587),oV=i(951632),oB=i(753492),oX=i(859188),oH=i(252571),oz=i(348502),oW=i(169241),oK=i(953394),oq=i(19861),o$=i(920917),oY=i(210580),oJ=i(439554),oZ=i(710809),oQ=i(371582),o0=i(849483),o1=i(583870),o2=i(28825),o5=i(110310),o3=i(583822),o4=i(96548),o8=i(855991),o7=i(402282),o6=i(301767),o9=i(767941),re=i(32176),rt=i(951036),ri=i(109745),rn=i(381887),ra=i(894103),rs=i(590665),ro=i(248353),rr=i(706428),rl=i(165394),rd=i(691626),rc=i(653170),ru=i(588358),r_=i(112033),rm=i(305946),rh=i(282197),rp=i(153628),rg=i(150846),rf=i(683652),rE=i(787904),rb=i(614549),ry=i(89694),rS=i(192249),rT=i(780269),rv=i(722950),rR=i(504365),rI=i(317624),rx=i(263074),rA=i(913317),rO=i(536485),rN=i(623016),rC=i(11716),rL=i(407458),rw=i(143692),rD=i(41907),rj=i(535242),rk=i(199555),rP=i(443178),rM=i(935929),rF=i(999405),rU=i(344503),rG=i(543535),rV=i(389579),rB=i(735082),rX=i(614397),rH=i(169193),rz=i(662649),rW=i(274675),rK=i(702355),rq=i(662935),r$=i(112702),rY=i(467828),rJ=i(193843),rZ=i(417945),rQ=i(762533),r0=i(302660),r1=i(652332),r2=i(138150),r5=i(123612),r3=i(699770),r4=i(926955),r8=i(241714),r7=i(816886),r6=i(109271),r9=i(948715),le=i(348766),lt=i(203637),li=i(542358),ln=i(846477),la=i(172776),ls=i(53481),lo=i(763117),lr=i(287020),ll=i(355362),ld=i(445710),lc=i(645992),lu=i(811780),l_=i(762223),lm=i(328532),lh=i(678668),lp=i(835737),lg=i(936287),lf=i(120202),lE=i(354667),lb=i(732590),ly=i(772954),lS=i(741281),lT=i(818783),lv=i(208768),lR=i(443765),lI=i(99946),lx=i(151819),lA=i(852332),lO=i(748379),lN=i(559945),lC=i(470272),lL=i(90531),lw=i(520266),lD=i(198372),lj=i(221917),lk=i(801941),lP=i(516562),lM=i(653639),lF=i(410508),lU=i(313501),lG=i(955357),lV=i(378228),lB=i(292645),lX=i(935643),lH=i(155824),lz=i(609416),lW=i(379386),lK=i(706273),lq=i(704962),l$=i(205441),lY=i(904477),lJ=i(719415),lZ=i(132511),lQ=i(645077),l0=i(515112),l1=i(887634),l2=i(505898),l5=i(174747),l3=i(285757),l4=i(53125),l8=i(935447),l7=i(710045),l6=i(630303),l9=i(146985),de=i(707912),dt=i(761816),di=i(591095),dn=i(91844),da=i(715644),ds=i(808922),dr=i(542276),dl=i(595182),dd=i(460999),dc=i(960511),du=i(354417),d_=i(336775),dm=i(345725),dh=i(640132),dp=i(947887),dg=i(657540),df=i(701704),dE=i(358008),db=i(166513),dy=i(642190),dS=i(195757),dT=i(379341),dv=i(596653),dR=i(103524),dI=i(592178),dx=i(831165),dA=i(519143),dO=i(55068),dN=i(115011),dC=i(105406),dL=i(635992),dw=i(371068),dD=i(386057),dj=i(3535),dk=i(190960),dP=i(435295),dM=i(947109),dF=i(16881),dU=i(666297),dG=i(480378),dV=i(565085),dB=i(705006),dX=i(834829),dH=i(55988),dz=i(841018),dW=i(2389),dK=i(80200),dq=i(573116),d$=i(10624),dY=i(262811),dJ=i(136236),dZ=i(556241),dQ=i(931212),d0=i(851993),d1=i(57041),d2=i(724377),d5=i(102259),d3=i(107270),d4=i(854251),d8=i(563893),d7=i(632191),d6=i(698184),d9=i(563333),ce=i(582712),ct=i(141055),ci=i(641778),cn=i(564841),ca=i(189975),cs=i(337650),co=i(261273),cr=i(424962),cl=i(42778),cd=i(2336),cc=i(438717),cu=i(911639),c_=i(78054),cm=i(970464),ch=i(527997),cp=i(707103),cg=i(174191),cf=i(547388),cE=i(240233),cb=i(163955),cy=i(280392),cS=i(472551),cT=i(584575),cv=i(715857),cR=i(574883),cI=i(277127),cx=i(141238),cA=i(74394),cO=i(385396),cN=i(584917),cC=i(417155),cL=i(877968),cw=i(639567),cD=i(352335),cj=i(187209),ck=i(770510),cP=i(710544),cM=i(425163),cF=i(547117),cU=i(14311),cG=i(260999),cV=i(819520),cB=i(786776),cX=i(100348),cH=i(448958),cz=i(103488),cW=i(589622),cK=i(237264),cq=i(190163),c$=i(106771),cY=i(512291),cJ=i(328388),cZ=i(471904),cQ=i(161944),c0=i(505490),c1=i(278234),c2=i(358538),c5=i(791417),c3=i(85348),c4=i(287342),c8=i(992561),c7=i(726631),c6=i(349789),c9=i(843744),ue=i(253645),ut=i(948820),ui=i(242004),un=i(369880),ua=i(150133),us=i(18495),uo=i(968168),ur=i(930788),ul=i(592933),ud=i(581301),uc=i(692713),uu=i(902721),u_=i(736237),um=i(3389),uh=i(426226),up=i(765360),ug=i(758699),uf=i(952332),uE=i(631390),ub=i(718061),uy=i(303066),uS=i(882152),uT=i(427960),uv=i(986861),uR=i(540517),uI=i(813026),ux=i(208929),uA=i(146176),uO=i(812932),uN=i(689743),uC=i(803251),uL=i(394307),uw=i(334894),uD=i(911247),uj=i(592750),uk=i(346333),uP=i(508979),uM=i(870529),uF=i(229650),uU=i(833026),uG=i(127382),uV=i(388568),uB=i(199817),uX=i(794983),uH=i(424802),uz=i(390756),uW=i(308600),uK=i(371522),uq=i(750589),u$=i(525475),uY=i(772107),uJ=i(858038),uZ=i(476566),uQ=i(40980),u0=i(234259),u1=i(927219),u2=i(852828),u5=i(572339),u3=i(553775),u4=i(348552),u8=i(883762),u7=i(536201),u6=i(668575),u9=i(116741),_e=i(255244),_t=i(870355),_i=i(163282),_n=i(720079),_a=i(309837),_s=i(743624),_o=i(155134),_r=i(418803),_l=i(548991),_d=i(798187),_c=i(225934),_u=i(326969),__=i(988271),_m=i(448504),_h=i(936248),_p=i(469517),_g=i(916615),_f=i(836350),_E=i(874263),_b=i(32627),_y=i(805334),_S=i(202581),_T=i(506583),_v=i(371595),_R=i(937186),_I=i(891994),_x=i(520921),_A=i(998867),_O=i(616237),_N=i(793665),_C=i(917804),_L=i(890492),_w=i(945428),_D=i(357299),_j=i(450460),_k=i(282e3),_P=i(351715),_M=i(857694),_F=i(220119),_U=i(305268),_G=i(969456),_V=i(879447),_B=i(324674),_X=i(503278),_H=i(480233),_z=i(457447),_W=i(696208),_K=i(480065),_q=i(497923),_$=i(768803),_Y=i(178737),_J=i(246238),_Z=i(122197),_Q=i(492901),_0=i(39816),_1=i(316380),_2=i(916645),_5=i(733243),_3=i(95086),_4=i(808170),_8=i(359238),_7=i(535930);let _6={...n||(n=i.t(oo,2)),...a||(a=i.t(or,2)),...s||(s=i.t(ol,2)),...o||(o=i.t(od,2)),...r||(r=i.t(oc,2)),...l||(l=i.t(ou,2)),...d||(d=i.t(o_,2)),...c||(c=i.t(om,2)),...u||(u=i.t(oh,2)),..._||(_=i.t(op,2)),...m||(m=i.t(og,2)),...h||(h=i.t(of,2)),...p||(p=i.t(oE,2)),...g||(g=i.t(ob,2)),...f||(f=i.t(oy,2)),...E||(E=i.t(oS,2)),...b||(b=i.t(oT,2)),...y||(y=i.t(ov,2)),...S||(S=i.t(oR,2)),...T||(T=i.t(oI,2)),...v||(v=i.t(ox,2)),...R||(R=i.t(oA,2)),...I||(I=i.t(oO,2)),...x||(x=i.t(oN,2)),...A||(A=i.t(oC,2)),...O||(O=i.t(oL,2)),...N||(N=i.t(ow,2)),...C||(C=i.t(oD,2)),...L||(L=i.t(oj,2)),...w||(w=i.t(ok,2)),...D||(D=i.t(oP,2)),...j||(j=i.t(oM,2)),...k||(k=i.t(oF,2)),...P||(P=i.t(oU,2)),...M||(M=i.t(oG,2)),...F||(F=i.t(oV,2)),...U||(U=i.t(oB,2)),...G||(G=i.t(oX,2)),...V||(V=i.t(oH,2)),...B||(B=i.t(oz,2)),...X||(X=i.t(oW,2)),...H||(H=i.t(oK,2)),...z||(z=i.t(oq,2)),...W||(W=i.t(o$,2)),...K||(K=i.t(oY,2)),...q||(q=i.t(oJ,2)),...$||($=i.t(oZ,2)),...Y||(Y=i.t(oQ,2)),...J||(J=i.t(o0,2)),...Z||(Z=i.t(o1,2)),...Q||(Q=i.t(o2,2)),...ee||(ee=i.t(o5,2)),...et||(et=i.t(o3,2)),...ei||(ei=i.t(o4,2)),...en||(en=i.t(o8,2)),...ea||(ea=i.t(o7,2)),...es||(es=i.t(o6,2)),...eo||(eo=i.t(o9,2)),...er||(er=i.t(re,2)),...el||(el=i.t(rt,2)),...ed||(ed=i.t(ri,2)),...ec||(ec=i.t(rn,2)),...eu||(eu=i.t(ra,2)),...e_||(e_=i.t(rs,2)),...em||(em=i.t(ro,2)),...eh||(eh=i.t(rr,2)),...ep||(ep=i.t(rl,2)),...eg||(eg=i.t(rd,2)),...ef||(ef=i.t(rc,2)),...eE||(eE=i.t(ru,2)),...eb||(eb=i.t(r_,2)),...ey||(ey=i.t(rm,2)),...eS||(eS=i.t(rh,2)),...eT||(eT=i.t(rp,2)),...ev||(ev=i.t(rg,2)),...eR||(eR=i.t(rf,2)),...eI||(eI=i.t(rE,2)),...ex||(ex=i.t(rb,2)),...eA||(eA=i.t(ry,2)),...eO||(eO=i.t(rS,2)),...eN||(eN=i.t(rT,2)),...eC||(eC=i.t(rv,2)),...eL||(eL=i.t(rR,2)),...ew||(ew=i.t(rI,2)),...eD||(eD=i.t(rx,2)),...ej||(ej=i.t(rA,2)),...ek||(ek=i.t(rO,2)),...eP||(eP=i.t(rN,2)),...eM||(eM=i.t(rC,2)),...eF||(eF=i.t(rL,2)),...eU||(eU=i.t(rw,2)),...eG||(eG=i.t(rD,2)),...eV||(eV=i.t(rj,2)),...eB||(eB=i.t(rk,2)),...eX||(eX=i.t(rP,2)),...eH||(eH=i.t(rM,2)),...ez||(ez=i.t(rF,2)),...eW||(eW=i.t(rU,2)),...eK||(eK=i.t(rG,2)),...eq||(eq=i.t(rV,2)),...e$||(e$=i.t(rB,2)),...eY||(eY=i.t(rX,2)),...eJ||(eJ=i.t(rH,2)),...eZ||(eZ=i.t(rz,2)),...eQ||(eQ=i.t(rW,2)),...e0||(e0=i.t(rK,2)),...e1||(e1=i.t(rq,2)),...e2||(e2=i.t(r$,2)),...e5||(e5=i.t(rY,2)),...e3||(e3=i.t(rJ,2)),...e4||(e4=i.t(rZ,2)),...e8||(e8=i.t(rQ,2)),...e7||(e7=i.t(r0,2)),...e6||(e6=i.t(r1,2)),...e9||(e9=i.t(r2,2)),...te||(te=i.t(r5,2)),...tt||(tt=i.t(r3,2)),...ti||(ti=i.t(r4,2)),...tn||(tn=i.t(r8,2)),...ta||(ta=i.t(r7,2)),...ts||(ts=i.t(r6,2)),...to||(to=i.t(r9,2)),...tr||(tr=i.t(le,2)),...tl||(tl=i.t(lt,2)),...td||(td=i.t(li,2)),...tc||(tc=i.t(ln,2)),...tu||(tu=i.t(la,2)),...t_||(t_=i.t(ls,2)),...tm||(tm=i.t(lo,2)),...th||(th=i.t(lr,2)),...tp||(tp=i.t(ll,2)),...tg||(tg=i.t(ld,2)),...tf||(tf=i.t(lc,2)),...tE||(tE=i.t(lu,2)),...tb||(tb=i.t(l_,2)),...ty||(ty=i.t(lm,2)),...tS||(tS=i.t(lh,2)),...tT||(tT=i.t(lp,2)),...tv||(tv=i.t(lg,2)),...tR||(tR=i.t(lf,2)),...tI||(tI=i.t(lE,2)),...tx||(tx=i.t(lb,2)),...tA||(tA=i.t(ly,2)),...tO||(tO=i.t(lS,2)),...tN||(tN=i.t(lT,2)),...tC||(tC=i.t(lv,2)),...tL||(tL=i.t(lR,2)),...tw||(tw=i.t(lI,2)),...tD||(tD=i.t(lx,2)),...tj||(tj=i.t(lA,2)),...tk||(tk=i.t(lO,2)),...tP||(tP=i.t(lN,2)),...tM||(tM=i.t(lC,2)),...tF||(tF=i.t(lL,2)),...tU||(tU=i.t(lw,2)),...tG||(tG=i.t(lD,2)),...tV||(tV=i.t(lj,2)),...tB||(tB=i.t(lk,2)),...tX||(tX=i.t(lP,2)),...tH||(tH=i.t(lM,2)),...tz||(tz=i.t(lF,2)),...tW||(tW=i.t(lU,2)),...tK||(tK=i.t(lG,2)),...tq||(tq=i.t(lV,2)),...t$||(t$=i.t(lB,2)),...tY||(tY=i.t(lX,2)),...tJ||(tJ=i.t(lH,2)),...tZ||(tZ=i.t(lz,2)),...tQ||(tQ=i.t(lW,2)),...t0||(t0=i.t(lK,2)),...t1||(t1=i.t(lq,2)),...t2||(t2=i.t(l$,2)),...t5||(t5=i.t(lY,2)),...t3||(t3=i.t(lJ,2)),...t4||(t4=i.t(lZ,2)),...t8||(t8=i.t(lQ,2)),...t7||(t7=i.t(l0,2)),...t6||(t6=i.t(l1,2)),...t9||(t9=i.t(l2,2)),...ie||(ie=i.t(l5,2)),...it||(it=i.t(l3,2)),...ii||(ii=i.t(l4,2)),...ia||(ia=i.t(l8,2)),...is||(is=i.t(l7,2)),...io||(io=i.t(l6,2)),...ir||(ir=i.t(l9,2)),...il||(il=i.t(de,2)),...id||(id=i.t(dt,2)),...ic||(ic=i.t(di,2)),...iu||(iu=i.t(dn,2)),...i_||(i_=i.t(da,2)),...im||(im=i.t(ds,2)),...ih||(ih=i.t(dr,2)),...ip||(ip=i.t(dl,2)),...ig||(ig=i.t(dd,2)),...iE||(iE=i.t(dc,2)),...ib||(ib=i.t(du,2)),...iy||(iy=i.t(d_,2)),...iS||(iS=i.t(dm,2)),...iT||(iT=i.t(dh,2)),...iv||(iv=i.t(dp,2)),...iR||(iR=i.t(dg,2)),...iI||(iI=i.t(df,2)),...ix||(ix=i.t(dE,2)),...iA||(iA=i.t(db,2)),...iO||(iO=i.t(dy,2)),...iN||(iN=i.t(dS,2)),...iC||(iC=i.t(dT,2)),...iL||(iL=i.t(dv,2)),...iw||(iw=i.t(dR,2)),...iD||(iD=i.t(dI,2)),...ij||(ij=i.t(dx,2)),...ik||(ik=i.t(dA,2)),...iP||(iP=i.t(dO,2)),...iM||(iM=i.t(dN,2)),...iF||(iF=i.t(dC,2)),...iU||(iU=i.t(dL,2)),...iG||(iG=i.t(dw,2)),...iV||(iV=i.t(dD,2)),...iB||(iB=i.t(dj,2)),...iX||(iX=i.t(dk,2)),...iH||(iH=i.t(dP,2)),...iz||(iz=i.t(dM,2)),...iW||(iW=i.t(dF,2)),...iK||(iK=i.t(dU,2)),...iq||(iq=i.t(dG,2)),...i$||(i$=i.t(dV,2)),...iY||(iY=i.t(dB,2)),...iJ||(iJ=i.t(dX,2)),...iZ||(iZ=i.t(dH,2)),...iQ||(iQ=i.t(dz,2)),...i0||(i0=i.t(dW,2)),...i1||(i1=i.t(dK,2)),...i2||(i2=i.t(dq,2)),...i5||(i5=i.t(d$,2)),...i3||(i3=i.t(dY,2)),...i4||(i4=i.t(dJ,2)),...i8||(i8=i.t(dZ,2)),...i7||(i7=i.t(dQ,2)),...i6||(i6=i.t(d0,2)),...i9||(i9=i.t(d1,2)),...ne||(ne=i.t(d2,2)),...nt||(nt=i.t(d5,2)),...ni||(ni=i.t(d3,2)),...nn||(nn=i.t(d4,2)),...na||(na=i.t(d8,2)),...ns||(ns=i.t(d7,2)),...no||(no=i.t(d6,2)),...nr||(nr=i.t(d9,2)),...nl||(nl=i.t(ce,2)),...nd||(nd=i.t(ct,2)),...nc||(nc=i.t(ci,2)),...nu||(nu=i.t(cn,2)),...n_||(n_=i.t(ca,2)),...nm||(nm=i.t(cs,2)),...nh||(nh=i.t(co,2)),...np||(np=i.t(cr,2)),...ng||(ng=i.t(cl,2)),...nf||(nf=i.t(cd,2)),...nE||(nE=i.t(cc,2)),...nb||(nb=i.t(cu,2)),...ny||(ny=i.t(c_,2)),...nS||(nS=i.t(cm,2)),...nT||(nT=i.t(ch,2)),...nv||(nv=i.t(cp,2)),...nR||(nR=i.t(cg,2)),...nI||(nI=i.t(cf,2)),...nx||(nx=i.t(cE,2)),...nA||(nA=i.t(cb,2)),...nO||(nO=i.t(cy,2)),...nN||(nN=i.t(cS,2)),...nC||(nC=i.t(cT,2)),...nL||(nL=i.t(cv,2)),...nw||(nw=i.t(cR,2)),...nD||(nD=i.t(cI,2)),...nj||(nj=i.t(cx,2)),...nk||(nk=i.t(cA,2)),...nP||(nP=i.t(cO,2)),...nM||(nM=i.t(cN,2)),...nF||(nF=i.t(cC,2)),...nU||(nU=i.t(cL,2)),...nG||(nG=i.t(cw,2)),...nV||(nV=i.t(cD,2)),...nB||(nB=i.t(cj,2)),...nX||(nX=i.t(ck,2)),...nH||(nH=i.t(cP,2)),...nz||(nz=i.t(cM,2)),...nW||(nW=i.t(cF,2)),...nK||(nK=i.t(cU,2)),...nq||(nq=i.t(cG,2)),...n$||(n$=i.t(cV,2)),...nY||(nY=i.t(cB,2)),...nJ||(nJ=i.t(cX,2)),...nZ||(nZ=i.t(cH,2)),...nQ||(nQ=i.t(cz,2)),...n0||(n0=i.t(cW,2)),...n1||(n1=i.t(cK,2)),...n2||(n2=i.t(cq,2)),...n5||(n5=i.t(c$,2)),...n3||(n3=i.t(cY,2)),...n4||(n4=i.t(cJ,2)),...n8||(n8=i.t(cZ,2)),...n7||(n7=i.t(cQ,2)),...n6||(n6=i.t(c0,2)),...n9||(n9=i.t(c1,2)),...ae||(ae=i.t(c2,2)),...at||(at=i.t(c5,2)),...ai||(ai=i.t(c3,2)),...an||(an=i.t(c4,2)),...aa||(aa=i.t(c8,2)),...as||(as=i.t(c7,2)),...ao||(ao=i.t(c6,2)),...ar||(ar=i.t(c9,2)),...al||(al=i.t(ue,2)),...ad||(ad=i.t(ut,2)),...ac||(ac=i.t(ui,2)),...au||(au=i.t(un,2)),...a_||(a_=i.t(ua,2)),...am||(am=i.t(us,2)),...ah||(ah=i.t(uo,2)),...ap||(ap=i.t(ur,2)),...ag||(ag=i.t(ul,2)),...af||(af=i.t(ud,2)),...aE||(aE=i.t(uc,2)),...ab||(ab=i.t(uu,2)),...ay||(ay=i.t(u_,2)),...aS||(aS=i.t(um,2)),...aT||(aT=i.t(uh,2)),...av||(av=i.t(up,2)),...aR||(aR=i.t(ug,2)),...aI||(aI=i.t(uf,2)),...ax||(ax=i.t(uE,2)),...aA||(aA=i.t(ub,2)),...aO||(aO=i.t(uy,2)),...aN||(aN=i.t(uS,2)),...aC||(aC=i.t(uT,2)),...aL||(aL=i.t(uv,2)),...aw||(aw=i.t(uR,2)),...aD||(aD=i.t(uI,2)),...aj||(aj=i.t(ux,2)),...ak||(ak=i.t(uA,2)),...aP||(aP=i.t(uO,2)),...aM||(aM=i.t(uN,2)),...aF||(aF=i.t(uC,2)),...aU||(aU=i.t(uL,2)),...aG||(aG=i.t(uw,2)),...aV||(aV=i.t(uD,2)),...aB||(aB=i.t(uj,2)),...aX||(aX=i.t(uk,2)),...aH||(aH=i.t(uP,2)),...az||(az=i.t(uM,2)),...aW||(aW=i.t(uF,2)),...aK||(aK=i.t(uU,2)),...aq||(aq=i.t(uG,2)),...a$||(a$=i.t(uV,2)),...aY||(aY=i.t(uB,2)),...aJ||(aJ=i.t(uX,2)),...aZ||(aZ=i.t(uH,2)),...aQ||(aQ=i.t(uz,2)),...a0||(a0=i.t(uW,2)),...a1||(a1=i.t(uK,2)),...a2||(a2=i.t(uq,2)),...a5||(a5=i.t(u$,2)),...a3||(a3=i.t(uY,2)),...a4||(a4=i.t(uJ,2)),...a8||(a8=i.t(uZ,2)),...a7||(a7=i.t(uQ,2)),...a6||(a6=i.t(u0,2)),...a9||(a9=i.t(u1,2)),...se||(se=i.t(u2,2)),...st||(st=i.t(u5,2)),...si||(si=i.t(u3,2)),...sn||(sn=i.t(u4,2)),...sa||(sa=i.t(u8,2)),...ss||(ss=i.t(u7,2)),...so||(so=i.t(u6,2)),...sr||(sr=i.t(u9,2)),...sl||(sl=i.t(_e,2)),...sd||(sd=i.t(_t,2)),...sc||(sc=i.t(_i,2)),...su||(su=i.t(_n,2)),...s_||(s_=i.t(_a,2)),...sm||(sm=i.t(_s,2)),...sh||(sh=i.t(_o,2)),...sp||(sp=i.t(_r,2)),...sg||(sg=i.t(_l,2)),...sf||(sf=i.t(_d,2)),...sE||(sE=i.t(_c,2)),...sb||(sb=i.t(_u,2)),...sy||(sy=i.t(__,2)),...sS||(sS=i.t(_m,2)),...sT||(sT=i.t(_h,2)),...sv||(sv=i.t(_p,2)),...sR||(sR=i.t(_g,2)),...sI||(sI=i.t(_f,2)),...sx||(sx=i.t(_E,2)),...sA||(sA=i.t(_b,2)),...sO||(sO=i.t(_y,2)),...sN||(sN=i.t(_S,2)),...sC||(sC=i.t(_T,2)),...sL||(sL=i.t(_v,2)),...sw||(sw=i.t(_R,2)),...sD||(sD=i.t(_I,2)),...sj||(sj=i.t(_x,2)),...sk||(sk=i.t(_A,2)),...sP||(sP=i.t(_O,2)),...sM||(sM=i.t(_N,2)),...sF||(sF=i.t(_C,2)),...sU||(sU=i.t(_L,2)),...sG||(sG=i.t(_w,2)),...sV||(sV=i.t(_D,2)),...sB||(sB=i.t(_j,2)),...sX||(sX=i.t(_k,2)),...sH||(sH=i.t(_P,2)),...sz||(sz=i.t(_M,2)),...sW||(sW=i.t(_F,2)),...sK||(sK=i.t(_U,2)),...sq||(sq=i.t(_G,2)),...s$||(s$=i.t(_V,2)),...sY||(sY=i.t(_B,2)),...sJ||(sJ=i.t(_X,2)),...sZ||(sZ=i.t(_H,2)),...sQ||(sQ=i.t(_z,2)),...s0||(s0=i.t(_W,2)),...s1||(s1=i.t(_K,2)),...s2||(s2=i.t(_q,2)),...s5||(s5=i.t(_$,2)),...s3||(s3=i.t(_Y,2)),...s4||(s4=i.t(_J,2)),...s8||(s8=i.t(_Z,2)),...s7||(s7=i.t(_Q,2)),...s6||(s6=i.t(_0,2)),...s9||(s9=i.t(_1,2)),...oe||(oe=i.t(_2,2)),...ot||(ot=i.t(_5,2)),...oi||(oi=i.t(_3,2)),...on||(on=i.t(_4,2)),...oa||(oa=i.t(_8,2)),...os||(os=i.t(_7,2))}},965974(e,t,i){i.d(t,{CM:()=>m,JT:()=>u,NU:()=>g,Qi:()=>S,SI:()=>h,Tm:()=>f,V5:()=>b,kj:()=>p,mb:()=>y,nf:()=>E,r3:()=>c,tI:()=>_});var n=i(79251),a=i(523924),s=i(850159),o=i(63504),r=i(12358),l=i(999886),d=i(487817);let c="Seat",u=e=>_(e);function _(e){switch(e){case o.ud.DESIGN:case o.ud.FIGJAM:case o.ud.DEV_MODE:return(0,l.LN)((0,r.Gj)(e));case o.ud.SLIDES:return(0,s.t)("general.figma_slides");case o.ud.EXPERT:case o.ud.DEVELOPER:case o.ud.COLLABORATOR:case o.ud.CONTENT:return(0,s.t)(`general.bundle.${e}`);case o.ud.AI_CREDITS:return(0,s.t)("general.ai_credits");case o.ud.AI_CREDITS_OVERAGE:return(0,s.t)("general.ai_credits_overage");case o.Gu.VIEW:return(0,s.t)("checkout.view");default:return""}}let m=e=>u(e);function h(e){switch(e){case n.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.title");case n.UpgradeApprovalSettings.INSTANT_APPROVAL:return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval.title");case n.UpgradeApprovalSettings.MANUAL_APPROVAL:return(0,s.t)("plan_settings.auto_approval_settings.options.manual_approval.title");default:return""}}function p(e,t,i,o){switch(e){case n.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.description");case n.UpgradeApprovalSettings.INSTANT_APPROVAL:if(t||!i)return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval.description.hide_charges");return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval.description");case n.UpgradeApprovalSettings.MANUAL_APPROVAL:if(!o)return(0,s.t)("plan_settings.auto_approval_settings.options.manual_approval.description.hide_provisional_access");if(t||!i)return(0,s.t)("plan_settings.auto_approval_settings.options.manual_approval.description.hide_free_access");return(0,s.t)("plan_settings.auto_approval_settings.options.manual_approval.description");default:(0,a.xb)(e)}}function g(e,t){switch(e){case n.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:if(t)return(0,s.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.tooltip");return null;case n.UpgradeApprovalSettings.INSTANT_APPROVAL:case n.UpgradeApprovalSettings.MANUAL_APPROVAL:return null;default:(0,a.xb)(e)}}function f(e){switch(e){case n.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,s.t)("activity_log.event.org_auto_approval_setting_update.auto_approve_if_available");case n.UpgradeApprovalSettings.INSTANT_APPROVAL:return(0,s.t)("activity_log.event.org_auto_approval_setting_update.auto_approve");case n.UpgradeApprovalSettings.MANUAL_APPROVAL:return(0,s.t)("activity_log.event.org_auto_approval_setting_update.manual");default:return""}}let E="Seat changes";function b(e){return e===d.Uu.SCIM?"SCIM provisioned":""}function y(e){switch(e){case d.XI.AUTO_APPROVED:return(0,s.t)("admin_settings.people_tab.upgrade_method.auto_approved");case d.XI.MANUAL_APPROVED:case d.XI.MANUAL_APPROVED_NO_AVAILABLE_SEAT:return(0,s.t)("admin_settings.people_tab.upgrade_method.manually_approved");case d.XI.AUTO_APPROVED_AVAILABLE_SEAT:return(0,s.t)("admin_settings.people_tab.upgrade_method.auto_approved_available_seat");case d.XI.ADMIN_INITIATED:return(0,s.t)("admin_settings.people_tab.upgrade_method.admin_initiated");case d.XI.ADMIN_SELF_UPGRADE:return(0,s.t)("admin_settings.people_tab.upgrade_method.admin_self_upgrade");case d.XI.SCIM:return(0,s.t)("admin_settings.people_tab.upgrade_method.scim");case d.XI.FIGMA_ADMIN:return(0,s.t)("admin_settings.people_tab.upgrade_method.figma_admin");default:return(0,s.t)("admin_settings.people_tab.upgrade_method.migrated")}}function S(e,t,i,n,a,o){if(!e)return(0,s.t)("admin_settings.people_tab.upgrade_reason.fallback.without_user_name");switch(t){case d.XI.AUTO_APPROVED:if(a){switch(i){case d.Uu.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.create_file_with_resource",{user:e,resourceName:a});case d.Uu.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.dev_mode_with_resource",{user:e,resourceName:a});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.edit_file_with_resource",{user:e,resourceName:a});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.drafts_share_with_resource",{user:e,resourceName:a});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.file_move_from_draft_with_resource",{user:e,resourceName:a});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.publish_sites",{user:e,resourceName:a});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.extensions_with_resource",{user:e,resourceName:a})}break}switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.create_file_without_resource",{user:e});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.dev_mode_without_resource",{user:e});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.edit_file_without_resource",{user:e});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.drafts_share_without_resource",{user:e});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.file_move_from_draft_without_resource",{user:e});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.publish_sites_without_resource",{user:e});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved.extensions_without_resource",{user:e})}break;case d.XI.AUTO_APPROVED_AVAILABLE_SEAT:if(a)switch(i){case d.Uu.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.create_file_with_resource",{user:e,resourceName:a});case d.Uu.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.dev_mode_with_resource",{user:e,resourceName:a});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.edit_file_with_resource",{user:e,resourceName:a});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.drafts_share_with_resource",{user:e,resourceName:a});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.file_move_from_draft_with_resource",{user:e,resourceName:a});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.publish_sites",{user:e,resourceName:a});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.extensions_with_resource",{user:e,resourceName:a})}else switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.create_file_without_resource",{user:e});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.dev_mode_without_resource",{user:e});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.edit_file_without_resource",{user:e});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.drafts_share_without_resource",{user:e});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.file_move_from_draft_without_resource",{user:e});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.publish_sites_without_resource",{user:e});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.extensions_without_resource",{user:e})}break;case d.XI.MANUAL_APPROVED:case d.XI.MANUAL_APPROVED_NO_AVAILABLE_SEAT:if(n)if(a)switch(i){case d.Uu.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.create_file_with_resource",{user:e,actor:n,resourceName:a});case d.Uu.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.dev_mode_with_resource",{user:e,actor:n,resourceName:a});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.edit_file_with_resource",{user:e,actor:n,resourceName:a});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.drafts_share_with_resource",{user:e,actor:n,resourceName:a});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.file_move_from_draft_with_resource",{user:e,actor:n,resourceName:a});case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.admin_upgrade.v2",{user:e,actor:n})}else switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.create_file_without_resource",{user:e,actor:n});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.dev_mode_without_resource",{user:e,actor:n});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.edit_file_without_resource",{user:e,actor:n});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.drafts_share_without_resource",{user:e,actor:n});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.file_move_from_draft_without_resource",{user:e,actor:n});case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:return(0,s.t)("admin_settings.people_tab.upgrade_reason.manual_approved.admin_upgrade.v2",{user:e,actor:n})}break;case d.XI.SCIM:if(o){let t=_(o);return(0,s.t)("admin_settings.people_tab.upgrade_reason.scim.scim",{user:e,seatType:t})}break;case d.XI.ADMIN_INITIATED:if(o){let t=_(o);switch(i){case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:case d.$n.DEVELOPER_BUNDLE_OPT_IN:if(n)return(0,s.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.admin_upgrade",{user:e,seatType:t,actor:n});break;case d.Uu.INVITE_REDEEM:case d.$n.INVITE_REDEEM:if(n)return(0,s.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.invite_redeem",{user:e,seatType:t,actor:n});return(0,s.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.invite_redeem.no_actor_fallback",{user:e,seatType:t});case d.Uu.SEAT_MANAGEMENT_AT_SELF_SERVE_CHECKOUT:case d.$n.CHECKOUT:return(0,s.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.checkout",{user:e,seatType:t})}}break;case d.XI.ADMIN_SELF_UPGRADE:return(0,s.t)("admin_settings.people_tab.upgrade_method.admin_self_upgrade.description");case d.XI.FIGMA_ADMIN:switch(i){case d.Uu.SUPPORT_DRIVEN_ORG_MIGRATION:case d.Uu.SUPPORT_DRIVEN_ORG_MERGE:case d.Uu.SUPPORT_DRIVEN_TEAM_ADDITION:case d.Uu.FIGMA_ADMIN:if(o)return(0,s.t)("admin_settings.people_tab.upgrade_reason.figma_admin.figma_admin",{user:e,seatType:_(o)});break;case d.Uu.SCIM_RECOVERY:if(o)return(0,s.t)("admin_settings.people_tab.upgrade_reason.figma_admin.scim_recovery",{user:e,seatType:_(o)});break;case d.Uu.ORG_MERGE:if(o)return(0,s.t)("admin_settings.people_tab.upgrade_reason.figma_admin.org_merge",{user:e,seatType:_(o)});break;case d.Uu.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN:if(o)return(0,s.t)("admin_settings.people_tab.upgrade_reason.figma_admin.team_added_to_org_through_figma_admin",{user:e,seatType:_(o)});break;case d.Uu.PAID_STATUS_ON_ORG_CREATION:case d.Uu.SEAT_MANAGEMENT_AT_SELF_SERVE_CHECKOUT:if(o)return(0,s.t)("admin_settings.people_tab.upgrade_reason.figma_admin.paid_status_on_org_creation",{user:e,seatType:_(o)})}break;case null:return(0,s.t)("admin_settings.people_tab.upgrade_method.migrated")}return n?(0,s.t)("admin_settings.people_tab.upgrade_reason.fallback.with_actor",{actor:n,user:e}):(0,s.t)("admin_settings.people_tab.upgrade_reason.fallback.without_actor",{user:e})}},253753(e,t,i){i.d(t,{N:()=>p});var n=i(105652),a=i(645186),s=i(523924),o=i(143764),r=i(64561),l=i(63504),d=i(795210),c=i(12358),u=i(431493),_=i(487817),m=i(618458),h=i(550223);function p(e){let t=(0,a.wA)(),i=(0,c.Hl)({visibility:c.YT.ALL}),p=(0,n.useCallback)(({users:n,seatTypeOption:a,seatIncreaseAuthorized:r,seatSwapIntended:d,upgradeReason:c,upgradeMethod:u,assignedAt:_,upgradeActorName:h})=>{let p={};a!==l.Gu.VIEW&&(p[a]={key:a,license_types:i(a)}),(0,s.vA)(e.planType===m.OL.TEAM),t((0,o.P)({teamId:e.planId,deltas:n.map(({userId:e})=>({userId:e,seatTypeOption:a,seatIncreaseAuthorized:r,seatSwapIntended:d})),entryPoint:e.entryPoint,seatTypeProducts:p,upgradeReason:c,upgradeMethod:u,assignedAt:_,upgradeActorName:h,onSuccess:e.onSuccess,onFailure:e.onFailure}))},[t,e.entryPoint,e.planId,e.planType,e.onSuccess,e.onFailure,i]),{onFailure:g,onSuccess:f,queueFilterCountsRefetch:E}=e,b=(0,n.useCallback)(({users:i,seatTypeOption:n,lastUpdateTimestampOverride:a,seatIncreaseAuthorized:o,seatSwapIntended:c})=>{(0,s.vA)(e.planType===m.OL.ORG),t(r.uo({orgId:e.planId,lastUpdateTimestampOverride:a,seatTypeProducts:{},params:{org_user_ids:i.map(e=>e.planUserId),paid_statuses:n===l.Gu.VIEW?d.N_.dict(()=>_.dQ.STARTER):{[n]:_.dQ.FULL},entry_point:e.entryPoint,...null!=o&&null!=c?{seat_increase_authorized:o,seat_swap_intended:c}:null},successCallback:()=>{f?.(),(0,u.jL)({planType:m.OL.ORG,planId:e.planId})},errorCallback:()=>{g?.()}})),E?.()},[t,e.planId,e.entryPoint,e.planType,f,E,g]);return(0,h.RB)(e.planType,{team:p,org:b})}},983256(e,t,i){i.d(t,{UL:()=>p,kI:()=>m,un:()=>h});var n=i(105652),a=i(745463),s=i(779757),o=i(493094),r=i(580618),l=i(63504),d=i(795210),c=i(376715),u=i(644350),_=i(735292);function m({prices:e,currentSeatType:t,nextSeatType:i,nextSeatAvailable:n,failedToLoadPrices:s}){if(!i||n||t===l.Gu.VIEW||i===l.Gu.VIEW)return!1;if(s||!e)return!0;let o=e[i],r=e[t];return!!((0,a.uy)(o)||(0,a.uy)(r))||o.amount>r.amount}function h({planKey:e,currentSeatType:t,currentSeatBillingInterval:i,enabled:a}){let[o,l]=n.useMemo(()=>{let t=c.c[e.type],n=t.includes(_.IX.MONTH),a=(!n||i===_.IX.YEAR)&&t.includes(_.IX.YEAR);return[n,a]},[e.type,i]),u=(0,r.Ln)(e,d.N_,{renewalTerm:_.IX.MONTH,unit:_.IX.MONTH},{enabled:a&&o}),h=(0,r.Ln)(e,d.N_,{renewalTerm:_.IX.YEAR,unit:_.IX.MONTH},{enabled:a&&l});return n.useMemo(()=>{if(!a||!l)return u;if(!o)return h;let e=[u,h].find(e=>"loaded"!==e.status);if(e)return e;let i=u.data,n=h.data;return i?n?s.Qw.loadedSuspendable(d.N_.dict(e=>t===e||m({prices:i,currentSeatType:t,nextSeatType:e})?n[e]:i[e]),[],{release:()=>{}}):h:u},[a,t,o,u,l,h])}function p(e){let[t]=(0,o.IT)((0,u.oe)(e)),[i]=(0,o.Ad)(t);return i}},441571(e,t,i){i.d(t,{Z:()=>Q,bo:()=>eo});var n=i(239976),a=i(105652),s=i(645186),o=i(745463),r=i(706354),l=i(395227),d=i(71239),c=i(297151),u=i(850159);i(574988);var _=i(181645),m=i(214030),h=i(865804),p=i(655673),g=i(870527),f=i(473295),E=i(493094),b=i(227031),y=i(462198),S=i(684325),T=i(883652),v=i(123527),R=i(289886),I=i(113116),x=i(613629),A=i(506026),O=i(397383),N=i(687497),C=i(328781),L=i(993568),w=i(965974),D=i(634634),j=i(253753),k=i(744274),P=i(847562),M=i(936652),F=i(473397),U=i(63504),G=i(795210),V=i(268380),B=i(77972),X=i(508295),H=i(487817),z=i(18526),W=i(331850),K=i(550223),q=i(948575),$=i(717638),Y=i(253929),J=i(219151),Z=i(983256);let Q="https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma",ee=G.Ye.dict(()=>0);function et(e){var t,i,s;let{isInUserContextInDowngradeFlowExp:_}=e,m=l.hS({open:e.open,onClose:e.onClose}),p=(e.planUser.handle||e.planUser.name)??"",[g,f]=a.useState(e.nextSeatType??null),b=(0,B.d)({reportErrorsToTeam:r.FigmaTeam.SCALE}),S=(0,W.T5)("ModifyPlanUserSeatModalInner"),[T]=(0,E.Ad)(S);if("loaded"!==T.status){let e=Error("disabled"===T.status?"Plan fetching disabled":"Error fetching plan");throw(0,y.$D)(r.FigmaTeam.SCALE,e),e}let v=T.data;if(!v){let e=Error("No Plan found");throw(0,y.$D)(r.FigmaTeam.SCALE,e),e}let I=(0,D.k)(),x=(0,V.I)({plan:v}),A=(0,Z.UL)({planType:v.key.type,targetPlanUserId:e.planUser.id,targetUserId:e.planUser.userId}),N=A.data?.planUserById??{currentSeat:null},L=!!N.currentSeat,j=N.currentSeat?.billingInterval??null,P=(0,Z.un)({planKey:v.key,currentSeatType:e.planUser.currentSeatType,enabled:I&&!b&&!!x.data,currentSeatBillingInterval:j}),[M]=(0,E.Ad)(P),F=(0,k.Qf)(v.key.parentId,v.key.type),X="loaded"===F.status?G.Ye.dict(e=>F.data[e]?.available??0):ee,K=new z.vr(e.currency),q=G.N_.dict(e=>{let t=M.data?.[e]?.amount??0;return{amount:t,display:K.formatMoney(t,{showCents:!1})}}),$="errors"===F.status,Y="disabled"!==M.status&&("errors"===M.status||!e.currency||!M.data),J=!!g&&(g===U.Gu.VIEW||(0,o.Vq)(X[g])&&X[g]>0),Q=(0,Z.kI)({prices:M.data,currentSeatType:e.planUser.currentSeatType,nextSeatType:g,nextSeatAvailable:J,failedToLoadPrices:Y}),et=v.key.type===H.OL.TEAM&&!I&&j===H.NW.YEAR&&e.planUser.currentSeatType===U.ud.EXPERT&&g===U.ud.DEVELOPER&&X[U.ud.DEVELOPER]<1,eo=e.upgradeRequest?.billableProductKey;return(0,n.jsx)(h.fu,{name:"Modify Plan User Seat Modal",properties:{upgradeRequestId:e.upgradeRequest?.id,originalRequestedBillableProductKey:e.upgradeRequest?.billableProductKey},children:(0,n.jsx)(d.bL,{height:"dynamic",manager:m,width:"lg",children:(0,n.jsxs)(c.vo,{children:[(0,n.jsx)(c.nB,{children:(0,n.jsxs)(O.Y,{direction:"vertical",spacing:0,padding:{horizontal:8,vertical:16},children:[(0,n.jsx)(C.j,{user:e.planUser,text:(t=g,i=J,s=p,null===t?(0,u.t)("modify_plan_user_seat_modal.choose_seat",{name:s}):t!==U.Gu.VIEW&&i?(0,u.t)("modify_plan_user_seat_modal.move_to_available_seat",{name:s,seatType:(0,w.JT)(t)}):(0,u.t)("modify_plan_user_seat_modal.move_to_unavailable_seat",{name:s,seatType:(0,w.JT)(t)}))}),_&&(0,n.jsx)(es,{userName:p,lastActiveAt:e.planUser.lastActiveAt,upgradeMethod:e.planUser.upgradeMethod,upgradeReason:e.planUser.upgradeReason,upgradeActorName:e.planUser.upgradeActorName,assignedAt:e.planUser.assignedAt,currentSeatType:e.planUser.currentSeatType,jobTitle:e.planUser.jobTitle}),(0,n.jsx)("div",{className:R.s.mb24.$}),(0,n.jsx)(ei,{billableProductKeyContractPrices:q,currentSeatPaidFor:L,currentSeatType:e.planUser.currentSeatType,displayPricing:I&&!!e.currency&&null!==M.data&&!b&&"loading"!==F.status,isDiscouragedAnnualSeatSwap:et,isInUserContextInDowngradeFlowExp:_,nextSeatType:g,plan:v,prorationEnabled:I,requestedSeatType:eo||null,seatAvailability:b?ee:X,setNextSeatType:f,userId:e.planUser.userId,userName:p}),(0,n.jsx)(ea,{failedToLoadAvailability:$,failedToLoadPrices:Y})]})}),!!g&&!e.hideFooter&&(0,n.jsx)(en,{isDiscouragedAnnualSeatSwap:et,nextSeatType:g,onClose:e.onClose,plan:v,planUserId:e.planUser.id,previousSeatType:e.planUser.currentSeatType,previousSeatWillBecomeAvailable:!b&&(L&&!I||I&&!Q),prorationEnabled:I,queueFilterCountsRefetch:e.queueFilterCountsRefetch,refetchSeatCounts:F.refetch,requestContextMetadata:e.requestContextMetadata,seatIncreaseAuthorized:!I||g===U.Gu.VIEW||(0,o.Vq)(X[g])&&X[g]<1,seatSwapIntended:I&&Q,setNextSeatType:f,upgradeRequest:e.upgradeRequest,userId:e.planUser.userId,userName:p})]})})})}function ei({currentSeatType:e,nextSeatType:t,setNextSeatType:i,billableProductKeyContractPrices:a,seatAvailability:s,displayPricing:o,prorationEnabled:r,currentSeatPaidFor:l,isDiscouragedAnnualSeatSwap:d,plan:c,requestedSeatType:u,userName:_,userId:m,isInUserContextInDowngradeFlowExp:h}){return t?(0,n.jsx)(L.l,{availableSeats:s[t]??0,currentSeatPaidFor:l,displayPricing:o,fromSeatType:e,isDiscouragedAnnualSeatSwap:d,isInUserContextInDowngradeFlowExp:h,plan:c,pricing:a,prorationEnabled:r,toSeatType:t,userId:m,userName:_}):(0,n.jsx)(L.m,{currentSeatType:e,setNextSeatType:i,availableSeatCounts:s,displayPricing:o,pricing:a,learnMoreLinkHref:Q,isInUserContextInDowngradeFlowExp:h,requestedSeatType:u})}function en({nextSeatType:e,onClose:t,plan:i,planUserId:o,prorationEnabled:l,seatIncreaseAuthorized:d,seatSwapIntended:_,setNextSeatType:h,userId:g,userName:f,previousSeatType:E,queueFilterCountsRefetch:b,previousSeatWillBecomeAvailable:y,isDiscouragedAnnualSeatSwap:S,refetchSeatCounts:T,upgradeRequest:v,requestContextMetadata:R}){let O=i.key.parentId,N=i.key.type,C=(0,s.wA)(),[L,w]=a.useState(!1),D=a.useCallback(()=>{T(),w(!1)},[T]),k=a.useCallback(()=>{let e=y?function(e,t){switch(t){case U.ud.EXPERT:return(0,u.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_full",{userName:e});case U.ud.DEVELOPER:return(0,u.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_dev",{userName:e});case U.ud.COLLABORATOR:return(0,u.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_collab",{userName:e});case U.Gu.VIEW:default:return(0,u.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_view",{userName:e})}}(f,E):(0,u.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_view",{userName:f});t(),C(x.F.enqueue({message:e,type:"plan-user-seat-change",icon:A.zX.CHECK_WITH_CIRCLE}))},[C,t,f,E,y]),P=(0,j.N)({planId:O,...(0,K.Ef)(N,{team:{entryPoint:Y.B.MEMBERS_TAB},org:{entryPoint:$.h.MEMBERS_TAB}}),queueFilterCountsRefetch:b,onSuccess:k,onFailure:D}),M=(0,X.iZ)(),F=(0,p.L)(r.FigmaTeam.EXPANSION),G=null;return G=S?(0,u.t)("modify_plan_user_seat_modal.button.add_seat"):v?(0,u.t)("admin_dashboard.request_flyout.approve"):(0,u.t)("modify_plan_user_seat_modal.button.confirm"),(0,n.jsx)(c.wi,{children:(0,n.jsxs)(c.jk,{children:[(0,n.jsx)(I.$z,{disabled:L,onClick:()=>h(null),variant:"secondary",trackingProperties:{trackingDescriptor:m.c.BACK},children:(0,u.t)("modify_plan_user_seat_modal.button.back")}),(0,n.jsx)(I.$z,{disabled:L,onClick:()=>{w(!0),v&&R?(q.w.approveRequests.bind(q.w)({plan_id:i?.key.parentId,plan_type:i?.key.type===H.OL.ORG?q.R.ORG:q.R.TEAM,included_request_ids:[v.id],selection_method:R.selectionMethod,entry_point:R.requestEntryPoint,is_proration_billing_enabled:l,is_seat_increase_authorized:d,new_billable_product_key:v.billableProductKey===e?null:e}).then(e=>{200!==e.status||e.data.meta.failed_attempts>0?D():k()}).catch(()=>{D()}),b?.()):P({users:[{userId:g,planUserId:o}],seatTypeOption:e,seatIncreaseAuthorized:d,seatSwapIntended:_,upgradeReason:N===H.OL.TEAM?H.$n.ADMIN_UPGRADE:H.Uu.ADMIN_UPGRADE,upgradeMethod:H.XI.ADMIN_INITIATED,assignedAt:new Date,upgradeActorName:M?.name||M?.handle||void 0})},variant:"primary",trackingProperties:{trackingDescriptor:m.c.CONFIRM,isDiscouragedAnnualSeatSwap:S,previousSeatType:E,nextSeatType:e,upgradeRequestId:v?.id,originalRequestedBillableProductKey:v?.billableProductKey},trackingOptions:F,children:G})]})})}function ea({failedToLoadAvailability:e,failedToLoadPrices:t}){a.useEffect(()=>{(e||t)&&(0,_.sx)("seat_purchasing.non_blocking_fetch_error",{seat_counts_fetch_error:e,price_fetch_error:t,view:"modify_plan_user_seat_modal"},{forwardToDatadog:!0})},[e,t]);let i=null;return(e&&t?i=(0,u.t)("modify_plan_user_seat_modal.error.missing_pricing_and_seat_avability"):e?i=(0,u.t)("modify_plan_user_seat_modal.error.missing_seat_availability"):t&&(i=(0,u.t)("modify_plan_user_seat_modal.error.missing_pricing")),i)?(0,n.jsx)("div",{"data-testid":"modify-seat-modal-error-message",children:(0,n.jsx)(N.E,{color:"danger",children:i})}):null}function es({userName:e,lastActiveAt:t,upgradeReason:i,upgradeMethod:a,assignedAt:s,upgradeActorName:o,currentSeatType:r,jobTitle:l}){let d=l&&"other"!==(0,f.HB)(l),c=t&&7>=(0,g.A)().diff((0,g.A)(t),"days"),_=s?(0,P.tb)(s.toISOString()):null;return(0,n.jsxs)(O.Y,{direction:"vertical",spacing:0,padding:{top:4},children:[(0,n.jsxs)("div",{...{className:"x78zum5 x6s0dn4"},children:[d&&(0,n.jsx)(N.E,{color:"secondary",children:(0,u.t)("modify_plan_user_seat_modal.role",{jobTitle:(0,f.lb)(l)})}),d&&c&&(0,n.jsx)("div",{...{className:"x2lah0s xuxw1ft xt9pc3i"},children:(0,n.jsx)(N.E,{color:"secondary","aria-hidden":"true",children:" \xb7 "})}),c&&(0,n.jsx)(N.E,{color:"secondary",children:(0,u.tx)("modify_plan_user_seat_modal.last_active",{lastActiveAt:(0,n.jsx)(T.h1,{date:t})})})]}),a&&(0,n.jsxs)("div",{...{className:"x78zum5 x6s0dn4"},children:[(0,n.jsx)(v.b,{text:(0,n.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 x11yfylt"},children:(0,w.mb)(a)}),setToMaxWidth:!0,popoverText:(0,w.Qi)(e,a??null,i??null,o,void 0,r)}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.E,{color:"secondary","aria-hidden":"true",children:" "}),(0,n.jsx)(N.E,{color:"secondary",children:(0,u.tx)("members_table.user_upgrade_date",{upgradeDate:_})})]})]})]})}let eo=(0,M.Ju)(function(e){let t=(0,F.jh)();return(0,n.jsx)(b.u9,{label:"ModifyPlanUserSeatModal",children:(0,n.jsx)(S.tH,{boundaryKey:"ModifyPlanUserSeatModal",fallback:S.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(J.N,{hiddenTitle:"Modify Seat Modal",estimatedWidth:480,estimatedHeight:504,height:"dynamic"}),children:(0,n.jsx)(et,{...e,isInUserContextInDowngradeFlowExp:t})})})})})},143764(e,t,i){i.d(t,{P:()=>c,Z:()=>u});var n=i(850159),a=i(701054),s=i(863825),o=i(265773),r=i(222368),l=i(63504),d=i(253929);let c=(0,o.MM)("TEAM_USER_UPDATE_SEAT_TYPE",async(e,{teamId:t,deltas:i,entryPoint:o,onSuccess:c,onFailure:u},{optimistId:_})=>{await d.H.updateTeamUsers({team_id:t,team_user_deltas:i.map(({userId:e,seatTypeOption:t,seatIncreaseAuthorized:i,seatSwapIntended:n})=>{let a={user_id:e,seat_type:t===l.Gu.VIEW?"":t};return null!=i&&(a.seat_increase_authorized=i),null!=n&&(a.seat_swap_intended=n),a}),entry_point:o}).then(function({data:i}){e.dispatch(a.c(_)),e.dispatch((0,r.yJ)({teamUsers:i.meta,teamId:t})),c?.()}).catch(function(t){e.dispatch(a.r(_)),e.dispatch(s.s.error(function(e){let{reason:t}=e,{message:i}=e;switch(t){case"seat_increase_unauthorized":return(0,n.t)("modify_plan_user_seat_modal.error.seat_increase_unauthorized");case"upgrade_on_suspended_plan":if(i)return(0,n.t)("modify_plan_user_seat_modal.error.upgrade_on_suspended_plan")}return(0,n.t)("team_user.actions.an_error_occurred_while_changing_a_team_member_s_billing_status")}(t.data))),u?.(),console.error(t)})});function u(e,t){let{teamId:i,deltas:n,seatTypeProducts:a,upgradeMethod:s,upgradeReason:o,assignedAt:r,upgradeActorName:d}=t.payload,c=e[i];if(!c)return e;let u={...c},_={};return Object.entries(c).forEach(([e,t])=>{let i=t.team_user?.user_id;e&&i&&(_[i]={originalKey:e,originalMember:t})}),n.forEach(({userId:e,seatTypeOption:t})=>{let{originalKey:i,originalMember:n}=_[e]||{},c=t===l.Gu.VIEW?null:t,m=(c&&a[c])??null;if(!i||!n||!n.team_user||c&&!m)return;let h={...n.team_user,active_seat_type:m},p={...n,upgrade_reason:o,upgrade_method:s,assigned_at:r,upgrade_actor_name:d,team_user:h};u[i]=p}),{...e,[i]:u}}},110674(e,t,i){i.d(t,{C:()=>f});var n=i(688357),a=i(63744),s=i(564575),o=i(730351),r=i(350923),l=i(513427),d=i(460830),c=i(741046),u=i(317273),_=i(905078),m=i(566877),h=i(56723),p=i(756324),g=i(225164);class f extends m.j{constructor(e){super(e),this._state={mouse:"INACTIVE"},this._uiHidden=!1,this._hoveredRow=-1,this._addBehaviorStateTimeout=null,this._hoveredRowUpdateTimeout=null}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseUp(){}handleMouseDrag(){}handleMouseLeave(){}renderUnderEditModeUI(){}reset(){}handleMouseMove(e){let t=e.viewport();this._uiHidden=this.shouldHideUI();let i=(0,c.Mu)(e,this.getDefaultChildSize());if(-1!==this._hoveredRow||-1===i||(0,l.PN)())this._hoveredRowUpdateTimeout&&(clearTimeout(this._hoveredRowUpdateTimeout),this._hoveredRowUpdateTimeout=null),this._hoveredRow=i;else if(!this._hoveredRowUpdateTimeout){let t=e.viewport();this._hoveredRowUpdateTimeout=setTimeout(()=>{this._hoveredRow=i,this._hoveredRowUpdateTimeout=null,t.invalidate()},200)}let o=s.Mi.fromVectorD(e.canvasSpaceMouse()),r=(0,g.Zm)(o,t,this._uiHidden,this.getDefaultChildSize(),this.addRowDotVerticalOffset());if(this.clearHoveredRowNodeDuringQuickAdd(),"ADD_CHILD_AFTER_ROW_HOVERED"===r.mouse){let e=n.Ez5?.canvasGrid().getRowGUID(i)??"-1:-1";a.qm?.setHoveredCanvasGridRowNodeDuringQuickAdd(e)}if((0,g.X1)(this._state.mouse,r.mouse)&&!(0,l.PN)()){if(!this._addBehaviorStateTimeout){let t=e.viewport();this._addBehaviorStateTimeout=setTimeout(()=>{this._state=r,this._addBehaviorStateTimeout=null,t.invalidate()},200)}return}this._addBehaviorStateTimeout&&(clearTimeout(this._addBehaviorStateTimeout),this._addBehaviorStateTimeout=null),this._state=r}handleMouseDown(e){let t;if(this._uiHidden=this.shouldHideUI(),!this._uiHidden){if("ADD_FIRST_CHILD_HOVERED"===this._state.mouse&&(t=this.addBlankChildAtCoord(0,0,"insert_slide_button",!1)),("ADD_CHILD_DOT_HOVERED"===this._state.mouse||"ADD_CHILD_AFTER_ROW_HOVERED"===this._state.mouse)&&(t=this.addBlankChildAtCoord(this._state.coord.row,this._state.coord.col,"insert_slide_button",!1)),"ADD_CHILD_AFTER_FINAL_ROW_HOVERED"===this._state.mouse){let e=r.zl.get(d.BT);t=this.addBlankChildAtCoord(e.length,0,"insert_row_button",!1,(0,g.oq)(e,e.length))}"ADD_ROW_DOT_HOVERED"===this._state.mouse&&(n.Ez5?.canvasGrid().createRow(this._state.row),t=this.addBlankChildAtCoord(this._state.row,0,"insert_row_button",!1)),t&&(n.Egt?.replaceSelection([t],!0),e.accept(this))}}render(e,t){if(!n.Ez5||n.Ez5.canvasGrid().isDraggingChildren.getCopy())return;let i=r.zl.get(d.BT);if((0,p.pP)(h.JT.BOARD_TO_DECK).state!==p.qy.RUNNING&&!this._uiHidden){if(0===i.length&&this.shouldRenderEmptyCanvasPlaceholder()&&this.renderEmptyCanvasPlaceholder(e,t),"ADD_CHILD_DOT_NEARBY"===this._state.mouse&&(0,g.qu)(this._state.canvasPos,e,t,0,this.shouldRenderAsStateGroupRow(this._state.coord.row)),"ADD_CHILD_DOT_HOVERED"===this._state.mouse&&(0,g.$r)(this._state.canvasPos,e,t,0,this.shouldRenderAsStateGroupRow(this._state.coord.row)),"ADD_ROW_DOT_NEARBY"===this._state.mouse&&(0,g.qu)(this._state.canvasPos,e,t,-g.KV),"ADD_ROW_DOT_HOVERED"===this._state.mouse){let i=e.canvasSpaceToViewportSpace(this._state.canvasPos);i.x-=g.KV;let a={x:this._state.rowWidth*e.canvasScale()+g.KV,y:2};t.fillRoundedRect({origin:i,size:a},3,n.Ez5.getCanvasButton()),(0,g.$r)(this._state.canvasPos,e,t,-g.KV,!1)}if(-1!==this._hoveredRow&&this._hoveredRow<i.length){let a={row:this._hoveredRow,col:i[this._hoveredRow].length},s=(0,g.PF)(i,a.row,a.col,this.getDefaultChildSize()),o=n.Ez5.canvasGrid().rectForCoord(a,s,!0),r=this.shouldRenderAsStateGroupRow(a.row),l="ADD_CHILD_AFTER_ROW_HOVERED"===this._state.mouse&&this._state.coord.row===a.row&&this._state.coord.col===a.col,d={x:o.origin.x-n.Ez5.canvasGrid().gridChildSpacing()/2,y:o.origin.y+o.size.y/2};if(l){let i=o.origin.x+o.size.x+(r?n.Ez5.canvasGrid().stateGroupRowPadding():0)>n.Ez5.canvasGrid().rowMaxSize().x+n.Ez5.canvasGrid().gridPadding(),s=n.Ez5?.canvasGrid().isRowSelected(a.row);this._renderActiveAddAssetState(a,o,!!r,!!s,d,e,t,i)}else(0,g.qu)(d,e,t,0,r)}if(i.length&&this._hoveredRow===i.length-1){let a={row:i.length,col:0},s="ADD_CHILD_AFTER_FINAL_ROW_HOVERED"===this._state.mouse,o=(0,g.v2)(i,i.length,this.getDefaultChildSize()),r=(0,g.QQ)(i,this.getDefaultChildSize());if(!r)return;s?((0,g.zw)(n.Ez5.canvasGrid().rectForCoord(a,o,!0),e,t,this._getDashedPlaceholderBgColor(),this._getDashedPlaceholderOutlineColor(),a.row),(0,g.$r)(r,e,t,0)):(0,g.qu)(r,e,t,0)}}}_renderActiveAddAssetState(e,t,i,a,s,r,l,d){if(n.Ez5&&((0,g.zw)(t,r,l,i?n.Ez5?.getBgAssistiveTertiary():this._getDashedPlaceholderBgColor(),i?n.Ez5?.getBgFSAssistive():this._getDashedPlaceholderOutlineColor(),e.row,i,a,d),d&&(0,g.M)(s,r,l),(0,g.$r)(s,r,l,4*!!i,i),i)){let t=n.Ez5.canvasGrid().getRowGUID(e.row)??"-1:-1",s=(0,o.UN)().get(t)?.name||"",d=n.IPu?.getBuzzVariantText(t)||"",c=n.glU?.getStateGroupError(t)||null,_=n.glU?.getComponentPropDefError(t)||null,m=(0,u.Ds)(r,e.row,i);if(!(!m||.08>r.canvasScale()))(0,u.iZ)(l,m,d,s,c,_,a)}}_getDashedPlaceholderBgColor(){return"ADD_FIRST_CHILD_HOVERED"===this._state.mouse?this.getActiveBgColor():n.Ez5?.getBgFSTertiary()??0xffffff}_getDashedPlaceholderOutlineColor(){return"ADD_FIRST_CHILD_HOVERED"===this._state.mouse?this.getActiveOutlineColor():n.Ez5?.getBorderFSPlaceholder()??0xcccccc}getDefaultChildSize(){return new s.Mi(0,0)}addBlankChildAtCoord(e,t,i,n,a){return null}shouldHideUI(){return!1}shouldRenderEmptyCanvasPlaceholder(){return!0}renderEmptyCanvasPlaceholder(e,t){}addRowDotVerticalOffset(){return 0}getActiveBgColor(){return 0}getActiveOutlineColor(){return 0}shouldRenderAsStateGroupRow(e){let t=n.Ez5?.canvasGrid().getRowGUID(e)??"-1:-1";return(0,_.xH)(t)&&this.isStateGroupRowAllowed()}clearHoveredRowNodeDuringQuickAdd(){a.qm?.setHoveredCanvasGridRowNodeDuringQuickAdd("-1:-1")}isStateGroupRowAllowed(){return!1}}},225164(e,t,i){i.d(t,{$r:()=>E,KV:()=>_,M:()=>f,PF:()=>T,QQ:()=>h,X1:()=>y,Zm:()=>m,oq:()=>R,qu:()=>b,v2:()=>v,zw:()=>g});var n=i(7e3),a=i(688357),s=i(491852),o=i(759414),r=i(564575),l=i(350923),d=i(460830),c=i(905078),u=i(18645);let _=8;function m(e,t,i,n,o){let r=a.Ez5?.canvasGrid();if(!r)return{mouse:"INACTIVE"};let c=l.zl.get(d.BT),u=h(c,n);if(!u)return{mouse:"INACTIVE"};if(p(u,e,t)&&0!==c.length)return{mouse:"ADD_CHILD_AFTER_FINAL_ROW_HOVERED",canvasPos:e};let m=c?.length?r.getClosestGridCoord(e,s.gEE.RIGHT):{row:0,col:0};if(-1===m.row||-1===m.col)return{mouse:"INACTIVE"};let g=T(c,m.row,m.col,n),f=r.rectForCoord(m,g,!0),E=e.y>=f.origin.y&&e.y<=f.origin.y+f.size.y,b=e.x>=f.origin.x&&e.x<=f.origin.x+f.size.x;if(0===c.length&&E&&b)if(E&&b)return{mouse:"ADD_FIRST_CHILD_HOVERED"};else return{mouse:"INACTIVE"};if(!E&&!i)return function(e,t,i){let n=a.Ez5?.canvasGrid(),s=l.zl.get(d.BT);if(!n||!s.length)return{mouse:"INACTIVE"};let o=n.rowContentBoundsInCanvas(0,!1),r=o.origin.y+o.size.y;if(e.y<r-300)return{mouse:"INACTIVE"};let c=e.y>r;for(let a=0;a<=s.length;a++){let s=n.rowContentBoundsInCanvas(a,!1),o=s.origin.x-n.gridPadding(),l=s.origin.y,d=s.size.x;if(e.x<o-500||e.x>o+d+500)break;if(c&&e.y<l){let n={x:o-_,y:(r+l)/2+i};return{mouse:p(n,e,t)?"ADD_ROW_DOT_HOVERED":"ADD_ROW_DOT_NEARBY",canvasPos:n,row:a,rowWidth:d}}if(!(e.y>r))break;r=l+s.size.y,c=e.y>r}return{mouse:"INACTIVE"}}(e,t,o);if(c.length&&m.row<c.length){let n=c[m.row]?.length||0;if(!i&&!b&&m.col>0&&m.col<=n){let i=r.gridChildSpacing(),a=f.origin.y+f.size.y/2,s={x:f.origin.x-i/2,y:a},o=p(s,e,t)?"ADD_CHILD_DOT_HOVERED":"ADD_CHILD_DOT_NEARBY";return m.col===n?"ADD_CHILD_DOT_HOVERED"===o?{mouse:"ADD_CHILD_AFTER_ROW_HOVERED",canvasPos:e,coord:m}:{mouse:"INACTIVE"}:{mouse:o,canvasPos:s,coord:m}}}return{mouse:"INACTIVE"}}function h(e,t){if(!a.Ez5)return;let i=a.Ez5.canvasGrid().rowContentBoundsInCanvas(e.length-1,!1),n=v(e,e.length,t);if(!n)return;let s=(0,c.BO)(e.length-1);return new r.Mi(i.origin.x+n.x/2+(s?a.Ez5.canvasGrid().gridPadding():0),i.origin.y+i.size.y+a.Ez5.canvasGrid().gridRowSpacing()/2-(s?a.Ez5.canvasGrid().gridPadding()/2:0))}function p(e,t,i){let n=r.Mi.fromVectorD(i.canvasSpaceToViewportSpace(e)),a=r.Mi.fromVectorD(i.canvasSpaceToViewportSpace(t));return 20>n.distanceTo(a)}function g(e,t,i,l,d,c=0,u=!1,_=!1,m=!1){if(!a.Ez5)return;let h=t.canvasSpaceToViewportSpace(e.origin),p={x:e.size.x*t.canvasScale(),y:e.size.y*t.canvasScale()},f=16*t.canvasScale(),E=(a.Ez5.canvasGrid().gridPadding()||0)*t.canvasScale(),b={origin:u?new r.Mi(h.x+10,h.y):h,size:p};!m&&(i.fillRoundedRect(b,f,l),i.renderDashedLines([b.origin,{x:b.origin.x+b.size.x,y:b.origin.y},{x:b.origin.x+b.size.x,y:b.origin.y},{x:b.origin.x+b.size.x,y:b.origin.y+b.size.y},{x:b.origin.x+b.size.x,y:b.origin.y+b.size.y},{x:b.origin.x,y:b.origin.y+b.size.y},{x:b.origin.x,y:b.origin.y+b.size.y},b.origin],8,8,(0,n.R0)(d),2));if(u){let e=a.Ez5.canvasGrid().rowContentBoundsInCanvas(c,!1),n=t.canvasSpaceToViewportSpace(e.origin),l={x:e.size.x*t.canvasScale(),y:e.size.y*t.canvasScale()},d=m?l.x+12+E/2:Math.min(l.x+b.size.x+E+15,a.Ez5.canvasGrid().rowMaxSize().x*t.canvasScale()),u=new o.r(new r.Mi(n.x,n.y-.5),new r.Mi(d,l.y));_?i.strokeRoundedRect(u,3,a.Ez5.getBgAssistiveHover(),2,s.OR7.CENTER):i.strokeRoundedRectWithDash(u,3,a.Ez5.getBgAssistiveHover(),1,10,5,s.OR7.INSIDE)}}function f(e,t,i){let n=t.canvasSpaceToViewportSpace(e),a={x:n.x+u.Bm+5+4.5,y:n.y-4.12};i.renderWrappingIndicator(a)}function E(e,t,i,n=0,s=!1){a.Ez5&&(s?(0,u.Z5)(e,t,i,a.Ez5.getFSCanvasDefaultFill(),a.Ez5.getBgAssistiveHover(),n):(0,u.GJ)(e,t,i,a.Ez5.getFSCanvasDefaultFill(),a.Ez5.getCanvasButton(),n))}function b(e,t,i,n=0,s=!1){a.Ez5&&(0,u.ZR)(e,t,i,s?a.Ez5.getBgAssistiveHover():a.Ez5.getCanvasButton(),n)}function y(e,t){return"INACTIVE"!==t&&"ADD_CHILD_AFTER_ROW_HOVERED"!==t&&"ADD_CHILD_AFTER_FINAL_ROW_HOVERED"!==t&&("ADD_CHILD_DOT_NEARBY"!==e||"ADD_CHILD_DOT_HOVERED"!==t)&&("ADD_ROW_DOT_NEARBY"!==e||"ADD_ROW_DOT_HOVERED"!==t)&&("ADD_CHILD_DOT_HOVERED"!==e||"ADD_CHILD_DOT_NEARBY"!==t)&&("ADD_ROW_DOT_HOVERED"!==e||"ADD_ROW_DOT_NEARBY"!==t)&&"ADD_FIRST_CHILD_HOVERED"!==t&&t!==e}function S(e){let t=a.Egt?.getNodeSize(e);if(t)return{x:t.width,y:t.height}}function T(e,t,i,n){if(0===e.length)return n;let a=e[t];if(!a)return n;let s=a[i-1];if(!s){let i=e[t-1];return i?T(e,t-1,i.length-1,n):n}return S(s)||n}function v(e,t,i){let n=R(e,t);return(n?S(n):void 0)||i}function R(e,t){if(0===e.length)return;let i=e[t-1];if(!i)return;let n=i[0];if(n)return n}},813527(e,t,i){i.d(t,{k:()=>b});var n=i(7e3),a=i(688357),s=i(63744),o=i(461700),r=i(491852),l=i(759414),d=i(564575),c=i(730351),u=i(350923),_=i(513427),m=i(460830),h=i(741046),p=i(317273),g=i(905078),f=i(566877);let E=class e extends f.j{constructor(e){super(e),this._state={mouse:"INACTIVE"},this._timeout=null}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseLeave(){}renderUnderEditModeUI(){}handleMouseMove(e){if(s.u7?.canvasViewState().temporarilyHoveredNodes.set([]),this.shouldHideUI()){this._state={mouse:"INACTIVE"};return}let t=this._getRowStateFromCoord(e);if(("HANDLE_HOVERED"===this._state.mouse||"HANDLE_SELECTED"===this._state.mouse)&&s.u7?.canvasViewState().temporarilyHoveredNodes.set(this._state.rowGUIDs),"ROW_HOVERED"!==t.mouse||(0,_.nl)())this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._state=t;else{if(!this._timeout){let i=e.viewport();this._timeout=setTimeout(()=>{this._state=t,this._timeout=null,i.invalidate()},200)}return}}handleMouseDown(e){if("INACTIVE"===this._state.mouse||"ROW_HOVERED"===this._state.mouse)return;let t=e.canvasSpaceMouse(),i=this._state.currentRowIndex;if("HEADER_HOVERED"===this._state.mouse&&2===e.clickCount())return;e.isShiftPressed()?this.addOrRemoveRowFromSelection(i):this.selectRow(i);let n=a.Ez5?.canvasGrid().rowContentBoundsInCanvas(i,!0);"HEADER_HOVERED"===this._state.mouse?this._state={mouse:"HEADER_SELECTED",currentRowIndex:i,canvasMouseDownY:t.y,rowHeight:n?.size.y??0}:this._state={mouse:"HANDLE_SELECTED",currentRowIndex:i,canvasMouseDownY:t.y,rowHeight:n?.size.y??0,rowGUIDs:a.Ez5?.canvasGrid().canvasGridArray.getCopy()[i]??[]},e.accept(this)}handleMouseDrag(e){if("INACTIVE"===this._state.mouse||"HANDLE_HOVERED"===this._state.mouse||"HEADER_HOVERED"===this._state.mouse||"ROW_HOVERED"===this._state.mouse||!a.Ez5)return;let t=this._state.currentRowIndex,i=a.Ez5?.canvasGrid().canvasGridArray.getCopy()[t]??[];s.u7?.canvasViewState().temporarilyHoveredNodes.set(i),a.Ez5.canvasGrid().isDraggingChildren.set(!0);let n=e.canvasSpaceMouse(),o=n.y-this._state.canvasMouseDownY,r=u.zl.get(m.BT);for(let e=0;e<r.length;e++)(0,p.$j)({row:e,y:0,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});let{rowHeight:l,currentRowIndex:d}=this._state,c=d,_=l/2+Math.abs(o),h=0,g=c,f=o<0?l:-l;for(;_>(l+h)/2&&g>=0&&g<r.length;)c=g,g+=o>0?1:-1,_-=h,h=a.Ez5.canvasGrid().rowContentBoundsInCanvas(g,!0).size.y,(0,p.$j)({row:c,y:c===d?o:f,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});"HANDLE_SELECTED"===this._state.mouse||"HANDLE_DRAGGED"===this._state.mouse?this._state={...this._state,mouse:"HANDLE_DRAGGED",canvasMouseY:n.y,targetRowIndex:c}:("HEADER_SELECTED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse)&&(this._state={...this._state,mouse:"HEADER_DRAGGED",canvasMouseY:n.y,targetRowIndex:c}),e.accept(this)}handleMouseUp(e){a.Ez5?.canvasGrid().isDraggingChildren.set(!1),("HANDLE_DRAGGED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse)&&(e.accept(this),this._state.currentRowIndex!==this._state.targetRowIndex&&a.Ez5?.canvasGrid().moveRow(this._state.currentRowIndex,this._state.targetRowIndex));let t=u.zl.get(m.BT);for(let e=0;e<t.length;e++)(0,p.$j)({row:e,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});this._state={mouse:"INACTIVE"}}render(e,t){if(this.shouldHideUI())return;let i=[],n=a.Ez5?.onCanvasNameEditorMode()===a.nzw.CANVAS_GRID_ROW_NAME||a.Ez5?.onCanvasNameEditorMode()===a.nzw.CANVAS_GRID_ROW_STATE_GROUP;if(this.isRowHeaderSelectable()){let s=u.zl.get(m.BT);for(let o=0;o<s.length;o++)if(a.Ez5?.canvasGrid().isRowSelected(o)&&!n){i.push(o);let n=a.Ez5?.canvasGrid().getRowGUID(o)??"-1:-1";this._renderActiveRowHeader(n,e,t,o,!0)}}if("INACTIVE"===this._state.mouse)return;let s=(0,g.BO)(this._state.currentRowIndex)&&this.isStateGroupRowAllowed();if("HANDLE_HOVERED"===this._state.mouse||"HANDLE_SELECTED"===this._state.mouse||"HANDLE_DRAGGED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse){let i=this._getViewportSpaceReorderHandle(e,this._state.currentRowIndex);this._renderActiveHandle(t,i.activeRect,s)}if("ROW_HOVERED"===this._state.mouse){let i=this._getViewportSpaceReorderHandle(e,this._state.currentRowIndex);this._renderInactiveHandle(t,i.inactiveRect,s)}if(this.isRowHeaderSelectable()&&"HEADER_HOVERED"===this._state.mouse&&!i.includes(this._state.currentRowIndex)&&!n){let i=a.Ez5?.canvasGrid().getRowGUID(this._state.currentRowIndex)??"-1:-1";this._renderActiveRowHeader(i,e,t,this._state.currentRowIndex,!1)}}_getRowStateFromCoord(t){let i=(0,h.x7)(t),n=(0,h.Mu)(t,this.getDefaultChildSize());if(-1===i&&-1===n)return{mouse:"INACTIVE"};if(this.isRowHeaderSelectable()&&-1!==i)return{mouse:"HEADER_HOVERED",currentRowIndex:i};let s=t.viewport(),o=this._getViewportSpaceReorderHandle(s,n),r=d.Mi.fromVectorD(t.canvasSpaceMouse()),l=d.Mi.fromVectorD(s.canvasSpaceToViewportSpace(r)),c=o.activeRect.expand(new d.Mi(e.reorderMargin,0)).containsPointIncludingBoundary(l)?"HANDLE_HOVERED":"ROW_HOVERED";if("HANDLE_HOVERED"===c){let e=a.Ez5?.canvasGrid().canvasGridArray.getCopy()[n]??[];return{mouse:c,currentRowIndex:n,rowGUIDs:e}}return{mouse:c,currentRowIndex:n}}_renderInactiveHandle(t,i,n){a.Ez5&&t.fillRoundedRect(i,.5*e.handleHeight,n?a.Ez5.getBgAssistiveHover():a.Ez5.getFSNodeHandle())}_renderActiveHandle(t,i,n){if(a.Ez5)for(let s of(t.fillRoundedRect(i,.5*e.handleHeight,n?a.Ez5.getBgAssistiveHover():a.Ez5.getCanvasButton()),e.handleIconOffsets)){let n=new l.r(s,e.handleIconDimensions);t.fillRoundedRect(n.offsetBy(i.topLeft()),e.handleIconDashRadius,a.Ez5.getFSCanvasDefaultFill())}}_renderActiveRowHeader(e,t,i,n,o){let r=(0,c.UN)().get(e)?.name,l=(0,g.xH)(e)&&this.isStateGroupRowAllowed(),d=this._getViewportSpaceRowHeaderBounds(t,n,l),u=this._getViewportSpaceRowDimensions(t,n),_=a.glU?.getStateGroupError(e)||null,m=a.glU?.getComponentPropDefError(e)||null;if(d&&r&&u)if(l)this._renderActiveStateGroupRowHeader(i,d,u,r,o,e,_,m);else{let t=s.qm?.editorTypeConfig().hasSlideRowBeenManuallyRenamed(e);this._renderActiveRowNodeTypeHeader(i,d,r,o,t)}}_renderActiveStateGroupRowHeader(e,t,i,n,o,d,c,u){if(!a.Ez5)return;let _=a.IPu?.getBuzzVariantText(d)||"";o&&s.qm?.shouldRenderHoveredCanvasGridRowNodeDuringQuickAddSelectedDecorations(d)&&e.strokeRoundedRect(new l.r(t.origin,i),p.xC,a.Ez5.getBgAssistiveHover(),2,r.OR7.CENTER),(0,p.iZ)(e,t,_,n,c,u)}_renderActiveRowNodeTypeHeader(e,t,i,r,c=!0){let u;if(!a.Ez5)return;let _=new d.Mi(4,4),m=new l.r(new d.Mi(t.origin.x,t.origin.y-1),new d.Mi(t.size.x,2));r&&e.fillRect(m,a.Ez5.getCanvasButton()),u=r?(0,n.R0)(a.Ez5.getTextOnBrand()):c?(0,n.R0)(a.Ez5.getTextPrimary()):(0,n.R0)(a.Ez5.getTextSecondary());let h=t.size.x,g=s.PV.MEDIUM,f=e.truncateName(i,g,h);e.fillTextWithBox(new d.Mi(t.origin.x-_.x,t.origin.y),f,u,r?(0,n.R0)(a.Ez5.getCanvasButton()):(0,n.R0)(a.Ez5.getBgFSTertiary()),o.GP.LEFT,o.zb.CENTER,0,s.zd.BOX,_,g,p.xC)}_getViewportSpaceReorderHandle(t,i){if(!a.Ez5)return{activeRect:new l.r,inactiveRect:new l.r};let n=a.Ez5.canvasGrid().rowContentBoundsInCanvas(i,!0),s={x:n.origin.x,y:n.origin.y+n.size.y/2};if("HANDLE_DRAGGED"===this._state.mouse)s.y=this._state.canvasMouseY;else if("HEADER_DRAGGED"===this._state.mouse){let e=this._state.canvasMouseY-this._state.canvasMouseDownY;s.y+=e}let o=d.Mi.fromVectorD(t.canvasSpaceToViewportSpace(s));return{activeRect:new l.r(o,new d.Mi(0,0)).expand(new d.Mi(e.activeHandleWidth/2,e.handleHeight/2)).offsetBy(new d.Mi(-1*e.reorderXOffsetViewport,0)),inactiveRect:new l.r(o,new d.Mi(0,0)).expand(new d.Mi(e.inactiveHandleWidth/2,e.handleHeight/3)).offsetBy(new d.Mi(-1*e.reorderXOffsetViewport,0))}}_getViewportSpaceRowDimensions(e,t){if(!a.Ez5||!a.Egt)return null;let i=a.Ez5.canvasGrid().getRowGUID(t),n=a.Egt.getBoundsForNode(i);if(!n)return null;let s=e.canvasScale()*n.width,o=e.canvasScale()*n.height;return new d.Mi(s,o)}_getViewportSpaceRowHeaderBounds(e,t,i){let n=0;"HEADER_DRAGGED"===this._state.mouse?n=this._state.canvasMouseY-this._state.canvasMouseDownY:"HANDLE_DRAGGED"===this._state.mouse&&(n+=this._state.canvasMouseY-this._state.canvasMouseDownY);let a=n*e.canvasScale();return(0,p.Ds)(e,t,i,a)}reset(){}getDefaultChildSize(){return new d.Mi(0,0)}shouldHideUI(){return!1}isRowHeaderSelectable(){return!1}addOrRemoveRowFromSelection(e){}selectRow(e){}isStateGroupRowAllowed(){return!1}};E.handleViewportLength=20,E.reorderMargin=h.b,E.reorderXOffsetViewport=8,E.handleViewportSize=new d.Mi(E.handleViewportLength,E.handleViewportLength),E.handleHeight=h.js,E.activeHandleWidth=h.vJ,E.inactiveHandleWidth=E.activeHandleWidth/4,E.handleIconDashThickness=E.handleHeight/16,E.handleIconDashVerticalOffset=E.handleHeight/2/3,E.handleIconDimensions=new d.Mi(E.activeHandleWidth/2,E.handleIconDashThickness),E.handleIconOffsets=[new d.Mi(E.activeHandleWidth/4,E.handleHeight/2-E.handleIconDashThickness/2-E.handleIconDashVerticalOffset),new d.Mi(E.activeHandleWidth/4,E.handleHeight/2-E.handleIconDashThickness/2),new d.Mi(E.activeHandleWidth/4,E.handleHeight/2-E.handleIconDashThickness/2+E.handleIconDashVerticalOffset)],E.handleRadius=.5*E.handleHeight,E.handleIconDashRadius=.5*E.handleIconDashThickness;let b=E},778914(e,t,i){i.d(t,{b:()=>c});var n=i(239976),a=i(105652),s=i(850159),o=i(224542),r=i.n(o),l=i(716663),d=i(328151);function c(e){let t=a.useRef(null);return e.disabled?(0,n.jsx)("button",{className:"base_like_button--buttonContainerDisabled--Y5ka3 base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",disabled:e.disabled,"aria-pressed":e.isResourceLiked,children:(0,n.jsx)("div",{className:"base_like_button--likeIconDisabled--iQd7d base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",children:l.C})}):(0,n.jsx)("button",{className:r()("base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",{"base_like_button--removeButtonBorder--4bZFM":!!e.removeButtonBorder}),onClick:e.onClick,"aria-label":(0,s.t)("community.like"),"aria-pressed":e.isResourceLiked,"data-tooltip":(0,s.t)("community.like"),"data-tooltip-type":d.Ib.TEXT,"data-testid":"like-button",children:(0,n.jsx)("div",{className:"base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",ref:t,children:e.isResourceLiked?l.W:l.C})})}},716663(e,t,i){i.d(t,{C:()=>a,W:()=>s});var n=i(239976);let a=(0,n.jsx)("span",{children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,n.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,n.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"})]})}),s=(0,n.jsx)("span",{children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,n.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),(0,n.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})]})})},759040(e,t,i){i.d(t,{w:()=>v});var n=i(645186),a=i(393106),s=i(850159),o=i(195784),r=i(463592),l=i(493094),d=i(613629),c=i(387166),u=i(540769),_=i(663727),m=i(374628),h=i(634993),p=i(818100),g=i(38900),f=i(539554),E=i(508295),b=i(886213),y=i(357661),S=i(907249),T=i(58798);function v(e,t,i,m){var b,S,v,x,A,O,N,C;let L,w,D,j,k,P,M,F,U,G,V,B,X=(b=e,S=t,v=i,x=m,L=(0,n.wA)(),w=(0,E.iZ)(),D=(0,c.Jm)(),j=()=>{(0,_.Sv)(b)||((0,o.Cu)(k()),(0,y.U)(b)?L(h.zm({hubFileId:b.id})):(0,y.xQ)(b)?L(p.C({id:b.id,resourceType:y.vt.WIDGET})):L(p.C({id:b.id,resourceType:y.vt.PLUGIN})))},k=()=>({action:(0,_.Qc)(b)?S?f.s0.HUB_FILE_UNLIKE:f.s0.HUB_FILE_LIKE:(0,_.$3)(b)?S?f.s0.WIDGET_UNLIKE:f.s0.WIDGET_LIKE:S?f.s0.PLUGIN_UNLIKE:f.s0.PLUGIN_LIKE,pluginId:b.id,profileId:b.publisher.id,viewContext:x,searchSessionId:D}),function(){return S?e=>(e=>{if(!(0,_.Sv)(b)){if(e.stopPropagation(),!w)throw Error(`Tried to unlike a ${(0,u.KH)(b)} as a signed out user`);(0,o.Cu)(k()),(0,y.U)(b)?L(h.Qi({hubFileId:b.id,likeId:v||void 0})):(0,y.xQ)(b)?L(p.$({id:b.id,resourceType:y.vt.WIDGET,likeId:v||void 0})):L(p.$({id:b.id,resourceType:y.vt.PLUGIN,likeId:v||void 0}))}})(e):e=>(e=>{if(e.stopPropagation(),w){if(!w.community_profile_id)return void L(g.to({type:T.G$,data:{userId:w.id,variations:[T.FF.OPT_IN],onFinish:()=>j()}}));j()}})(e)}),H=(A=e,O=t,N=i,C=m,P=(0,n.wA)(),M=(0,E.iZ)(),F=(0,c.Jm)(),U=(0,l.gY)(R),G=(0,l.gY)(I),V=()=>{if(!(0,_.Sv)(A))return;let e=(0,_.qY)(A);if(!e)throw Error("Missing resource content");(0,o.Cu)(B());let t=U({resourceId:A.id,contentId:(0,u.Wo)(e),apiResourceType:(0,u.A7)(A)});M&&M.community_profile_id&&(0,r.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${A.id}-${M.community_profile_id}`]:{profileId:M.community_profile_id,resourceId:A.id,hubFileId:null,pluginId:null,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},t),t.catch(e=>{P(d.F.enqueue({message:(0,s.t)("community.actions.unable_to_like_this_resource_error",{error:(0,a.J)(e,e.data?.message)}),type:"RESOURCE_LIKE_FAILED",error:!0}))})},B=()=>({action:O?f.M5.RESOURCE_UNLIKE:f.M5.RESOURCE_LIKE,resourceId:A.id,resourceType:(0,_.Vm)(A),profileId:A.publisher.id,viewContext:C,searchSessionId:F}),function(){return O?e=>(e=>{if(!(0,_.Sv)(A))return;let t=(0,_.qY)(A);if(!t)throw Error("Missing resource content");if(e.stopPropagation(),!M)throw Error("Tried to unlike a resource as a signed out user");(0,o.Cu)(B());let i=G({resourceId:A.id,contentId:(0,u.Wo)(t),apiResourceType:(0,u.A7)(A)});N&&(0,r.WB)().optimisticallyDelete({CommunityHubLike:{[N]:null}},i),i.catch(e=>{P(d.F.enqueue({message:(0,s.t)("community.actions.unable_to_unlike_this_resource_error",{error:(0,a.J)(e,e.data.message)}),type:"RESOURCE_UNLIKE_FAILED",error:!0}))})})(e):e=>(e=>{if(e.stopPropagation(),M){if(!M.community_profile_id)return void P(g.to({type:T.G$,data:{userId:M.id,variations:[T.FF.OPT_IN],onFinish:()=>V()}}));V()}})(e)});return(0,_.Sv)(e)?H:X}let R=b.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:i},{query:n})=>(n.mutate((0,m.Z)({apiResourceType:i,id:t}),e=>{e&&(e.like_count+=1)}),S.a.likeResource({resourceId:e}))),I=b.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:i},{query:n})=>(n.mutate((0,m.Z)({apiResourceType:i,id:t}),e=>{e&&(e.like_count-=1)}),S.a.unlikeResource({resourceId:e})))},124434(e,t,i){i.d(t,{o2:()=>T,vj:()=>v,w8:()=>y});var n=i(239976),a=i(105652),s=i(156142),o=i(732632),r=i(283175),l=i(31551),d=i(850159),c=i(224542),u=i.n(c),_=i(160401),m=i(409050),h=i(922553),p=i(277242),g=i(231484),f=i(496841),E=i(734712),b=i(695010);function y(e){if(e&&"exception"!==e.type&&"TOO_MANY_TAGS"===e.key){let{maxTags:t}=e.data;return(0,d.t)("community.publishing.select_up_to_n_tags_error",{maxTagsPerResource:t})}}let S=a.forwardRef(function({tagsFieldsManager:e,onTouched:t,disabled:i},s){let{tagsV2Field:{setValue:o},validV2Tags:r,lockedTags:l}=e,d=(0,h.Lz)(e.tagsV2Field,[]),c=a.useCallback(e=>!!d.find(t=>(0,p.s)(t,e)),[d]),u=a.useCallback(e=>l.some(t=>(0,p.s)(t,e)),[l]),_=a.useCallback(t=>!!(i||!(0,h.Zc)(e.tagsV2Field)||u(t))||!c(t)&&d.length>=g.jI,[i,c,d.length,e.tagsV2Field,u]),m=a.useCallback(e=>{o&&(c(e)?o(d.filter(t=>!(0,p.s)(t,e))):o([...d,e]))},[c,d,o]),f=r.find(e=>!_(e)),E=a.useRef(null);return a.useImperativeHandle(s,()=>({focus:e=>{E.current?.focus(e)}}),[]),(0,n.jsx)("div",{className:b.I8,children:r.map(e=>{let i=c(e),a=_(e),s=(0,g.uS)(e);return(0,n.jsx)(T,{tag:e,isDisabled:a,isSelected:i,onTouched:t,toggleTag:m,firstNonDisabledTag:f,firstNonDisabledCheckboxRef:E,translatedTag:s},e.text)})})});function T({tag:e,isDisabled:t,isSelected:i,onTouched:a,toggleTag:o,firstNonDisabledTag:d,firstNonDisabledCheckboxRef:c,translatedTag:_,useSecondaryStyles:m}){return(0,n.jsxs)("span",{className:u()(b.Tc,{[b.r9]:t,[b.ne]:m}),children:[(0,n.jsx)(s.F,{ref:e===d?c:void 0,id:`tagsV2Select-tag-${e.text}`,className:b.It,"aria-label":_,onChange:()=>{a?.(),o(e)},checked:i,disabled:t}),i?(0,n.jsx)(r.l,{className:u()(b.oE,{[b.Iz]:m})}):(0,n.jsx)(l.J,{className:b.WW}),(0,n.jsx)("label",{htmlFor:`tagsV2Select-tag-${e.text}`,children:_})]},e.text)}let v=a.forwardRef(function({tagsFieldsManager:e,touchedFieldsTracker:t,autoScrollAutocompleteResultsIntoView:i,PublishModalRowComponent:s=f.A,autocompleteInputContainerClassName:r,disabled:l},c){let{tagsV1Field:u,tagsV2Field:p,validV2Tags:b}=e,T=(0,m.w)(u,!t.tagsV1.touched),v=(0,_.U)(T,E.lN,b),R=(0,m.w)(p,!t.tagsV2.touched),I=(0,_.U)(R,y),x=(0,h.Lz)(u,[]),A=a.useRef((0,h.Lz)(u,[]).length>0),[O,N]=a.useState(A.current);a.useEffect(()=>{x.length>0&&N(!0)},[x]);let C=a.useRef(null),L=a.useRef(null);return a.useImperativeHandle(c,()=>({focus:e=>{I?C.current?.focus(e):L.current?.focus(e)}}),[I]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s,{label:(0,d.t)("community.publishing.recommended_tags"),subLabel:b.length>g.jI?(0,d.t)("community.publishing.select_up_to_n_tags_to_help_people_discover_your_resource",{maxTagsPerResource:g.jI}):(0,d.t)("community.publishing.select_tags_to_help_people_discover_your_resource"),error:I,afterErrorContent:!l&&!O&&(0,n.jsx)(o.$n,{variant:"link",onClick:()=>{N(!0)},children:(0,d.t)("community.publishing.add_custom_tags")}),disabled:l,children:(0,n.jsx)(S,{ref:C,tagsFieldsManager:e,touched:t.tagsV2.touched,onTouched:t.tagsV2.onTouched,disabled:l})}),O&&(0,n.jsx)(s,{label:(0,d.t)("community.publishing.custom_tags"),error:v,disabled:l,children:(0,n.jsx)(E.Hs,{ref:L,tagsV1Field:u,validV2Tags:b,touched:t.tagsV1.touched,onTouched:t.tagsV1.onTouched,autoFocusAutocompleteInput:!A.current,autoScrollAutocompleteResultsIntoView:i,autocompleteInputContainerClassName:r,disabled:l})})]})})},622954(e,t,i){i.d(t,{l:()=>P,v:()=>M});var n=i(239976),a=i(105652),s=i(47550),o=i(859978),r=i(732632),l=i(799680),d=i(850159),c=i(741542);i(574988);var u=i(224542),_=i.n(u),m=i(865804),h=i(355341),p=i(817527),g=i(834116),f=i(289886),E=i(497544),b=i(804640),y=i(962380),S=i(522712),T=i(160401),v=i(409050),R=i(922553),I=i(803725),x=i(524855),A=i(849912),O=i(539554),N=i(560532),C=i(455269),L=i(181135),w=i(496841),D=i(868746),j=i(709117);function k(e){if(e&&"exception"!==e.type&&"THUMBNAIL_MEDIUM_MISSING"===e.key)return(0,d.t)("community.publishing.you_must_set_a_thumbnail_for_your_resource")}let P=a.forwardRef(function({carouselMediaFieldManager:e,touched:t,onTouched:i,trackingEventName:u,showThumbnailWithLetterbox:h,disabled:p,label:S},x){let{trackEvent:A}=(0,m.j6)(),{setThumbnailMediumFromFile:P,setThumbnailMediumFromInput:M,hasDefaultThumbnailMedium:F,defaultThumbnailMediumSource:U,restoreDefaultThumbnailMedium:G,deleteMedia:V}=e,{allowVideos:B}=e.deps,X=(0,R.Zc)(e),H=(0,v.w)(e,!t),z=(0,T.U)(H,k),W=(0,R.Lz)(e,void 0),K=W?.thumbnailMedium,q="loading"===e.status,$=a.useRef(null),[Y,J]=a.useState(!1),Z=a.useCallback(e=>{$.current?.click(),e.stopPropagation()},[]),Q=!K&&!1===F&&"file_thumbnail"===U,ee=a.useRef(null),et=a.useRef(null),ei=a.useId(),en=`${ei}-input`,ea=`${ei}-description`,es=`${ei}-error`;a.useImperativeHandle(x,()=>({focus:e=>{ee.current?ee.current.focus(e):et.current?.focus(e)}}),[]);let eo=a.useMemo(()=>[...N.CW,...B?C.VY:[]],[B]);return(0,n.jsx)(w.A,{label:X?S||(0,d.t)("community.publishing.set_a_thumbnail"):(0,d.t)("community.publishing.thumbnail_preview"),labelHtmlFor:en,subLabel:X?(0,d.t)("community.publishing.recommended_size_in_pixels",{mediaWidth:I.Vb,mediaHeight:I.wj}):void 0,subLabelId:ea,error:z,errorId:es,afterErrorContent:(0,n.jsxs)("div",{className:_()(D.Pf,{[D.R]:!Q}),"aria-hidden":!Q,children:[(0,n.jsx)("div",{className:D.wI,children:(0,c.getFeatureFlags)().dse_library_pg_thumbnails?(0,d.t)("community.publishing.you_can_right_click_a_frame_and_select_set_as_file_thumbnail"):(0,d.t)("community.publishing.you_can_right_click_a_frame_and_select_set_as_thumbnail")}),(0,n.jsxs)("div",{className:D.oo,"aria-hidden":!0,children:[(0,n.jsx)(g.oW,{srcSet:`${j} 2x`,alt:""}),(0,n.jsxs)("div",{className:D.or,children:[(0,n.jsx)("div",{children:(0,d.t)("fullscreen_actions.mask-selection")}),(0,c.getFeatureFlags)().dse_library_pg_thumbnails?(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:(0,d.t)("fullscreen_actions.set_as_file_thumbnail")})}):(0,n.jsx)("div",{children:(0,d.t)("fullscreen_actions.set_as_thumbnail")})]})]})]}),required:X,children:(0,n.jsxs)("div",{className:D.kL,onClick:Z,onDragOver:e=>{let t=(0,b.S)(e.dataTransfer.items[0]?.type,C.yj)||(B?(0,b.S)(e.dataTransfer.items[0]?.type,C.Mr):void 0);P&&1===e.dataTransfer.items.length&&t&&eo.includes(t)?(e.dataTransfer.dropEffect="copy",e.currentTarget.setAttribute("data-droppable","true")):(e.dataTransfer.dropEffect="none",e.currentTarget.setAttribute("data-droppable","false")),e.preventDefault()},onDragLeave:e=>{e.currentTarget.removeAttribute("data-droppable"),e.preventDefault()},onDrop:e=>{if(e.currentTarget.removeAttribute("data-droppable"),!P)return;let t=e.dataTransfer.items[0]?.getAsFile();t&&(i?.(),P(t),e.preventDefault())},children:[(0,n.jsx)("input",{ref:$,accept:eo.join(", "),"aria-describedby":ea,"aria-errormessage":z?es:void 0,"aria-invalid":!!z,className:f.s.hidden.$,"data-testid":"resource-publishing-thumbnail-uploader-input",disabled:Y||!M||p,id:en,onChange:async e=>{Y||!M||p||(i?.(),J(!0),await M(e.target),A(u,{step:O.WX.ADD_CUSTOM_THUMBNAIL}),J(!1))},type:"file"}),q?(0,n.jsx)("div",{className:D.y7,children:(0,n.jsx)(E.k,{size:"md"})}):K?(0,n.jsxs)("div",{className:D.iT,children:[(0,n.jsx)("div",{className:D.xn,children:h&&"image"===K.type?(0,n.jsx)(y.Qu,{src:K.url,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image"),draggable:!1,crossOrigin:"use-credentials"}):(e=>{switch(e.type){case"image":return(0,n.jsx)(g.oW,{src:e.url,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image"),draggable:!1});case"video":return(0,n.jsx)("video",{...{className:"x186iv6y xl1xv1r x5yr21d x192jxwq x1f0ztbi"},controls:!0,controlsList:"nofullscreen nodownload noplaybackrate",disablePictureInPicture:!0,src:e.url});default:(0,s.assertNever)(e)}})(K)}),(0,n.jsx)(o.E,{ref:ee,className:D.Ik,"aria-label":(0,d.t)("community.publishing.clear_thumbnail_image"),onClick:e=>{i?.(),V?.(K),e.stopPropagation()},disabled:!V||p,children:(0,n.jsx)(l.X,{})})]}):(0,n.jsxs)("div",{className:D.y7,children:[(0,n.jsx)(L.L,{}),(0,n.jsxs)("div",{className:D.Yj,children:[G&&(0,n.jsx)(r.$n,{disabled:Y||p,onClick:e=>{i?.(),G(),e.stopPropagation()},children:"file_thumbnail"===U?(0,d.t)("community.publishing.use_file_thumbnail"):(0,d.t)("community.publishing.use_default_thumbnail")}),(0,n.jsx)(r.$n,{ref:et,variant:G?"link":void 0,onClick:Z,disabled:Y||!M||p,children:B?(0,d.t)("community.publishing.upload_images_or_videos"):(0,d.t)("community.publishing.upload_image")})]})]})]})})});function M({size:e="large",defaultImageUrl:t,existingHubFile:i,onThumbnailChange:s}){let o=(0,h.H)(s),l=(0,S.d)(x.v,{existingResourceContent:i,createNewVersionOnSubmit:!0,allowVideos:!1,generateInitialValue:void 0},void 0),c=(0,A.n)(l),u=(0,R.Lz)(l,void 0)?.thumbnailMedium,_=c.setThumbnailMediumFromInput&&!!l.setValue&&!!s,m=a.useRef(null),[f,b]=a.useState(!1),[y,T]=(0,p.M)(),v=a.useCallback(e=>{e?.stopPropagation(),_&&m.current?.click()},[_]),I=a.useCallback(async e=>{!f&&c.setThumbnailMediumFromInput&&(b(!0),await c.setThumbnailMediumFromInput(e.target),b(!1))},[f,c]);return a.useEffect(()=>{let e=(0,R.Lz)(l,void 0)?.thumbnailMedium;o.current?.(e)},[o,l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{ref:m,type:"file",accept:"image/*",onChange:I,disabled:f||!_,className:"x1s85apg"}),(0,n.jsxs)("div",{ref:y,...{0:{className:"x1n2onr6 xb3r6kr x186iv6y x19y5rnk x1v8gsql xh8yej3"},2:{className:"x1n2onr6 xb3r6kr x1xjupan x192jxwq x1v8gsql xh8yej3"},1:{className:"x1n2onr6 xb3r6kr x186iv6y x19y5rnk x1v8gsql xh8yej3 xbyyjgo"},3:{className:"x1n2onr6 xb3r6kr x1xjupan x192jxwq x1v8gsql xh8yej3 xbyyjgo"}}[!_|("small"===e)<<1],children:[(0,n.jsx)(g.oW,{...{0:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x19y5rnk"},2:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x192jxwq"},1:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x19y5rnk x197sbye"},3:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x192jxwq x197sbye"}}[!!f|("small"===e)<<1],src:u?.url||t,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image")}),T&&_&&(0,n.jsx)("button",{type:"button",...{0:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x68m4m9 x78zum5 x6s0dn4 xl56j7k x1hc1fzr xzdg38j x19y5rnk"},1:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x68m4m9 x78zum5 x6s0dn4 xl56j7k x1hc1fzr xzdg38j x192jxwq"}}["small"===e|0],onClick:e=>{f||v(e)},children:(0,n.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x1nfngrj"},children:(0,n.jsx)(r.$n,{onClick:v,disabled:f,children:(0,d.tx)("templates.publishing.upload_custom_thumbnail")})})}),f&&(0,n.jsx)("div",{...{0:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x11gdpij x78zum5 x6s0dn4 xl56j7k x19y5rnk"},1:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x11gdpij x78zum5 x6s0dn4 xl56j7k x192jxwq"}}["small"===e|0],children:(0,n.jsx)(E.k,{size:"small"===e?"sm":"md"})})]})]})}},978474(e,t,i){i.d(t,{M:()=>eT,S:()=>eR});var n=i(239976),a=i(105652),s=i(645186),o=i(497935),r=i(622063),l=i(878521),d=i(732632),c=i(297151),u=i(393106),_=i(850159);i(574988);var m=i(963947),h=i.n(m),p=i(270351),g=i(865804),f=i(355341),E=i(227031),b=i(497544),y=i(624993),S=i(220117),T=i(971824),v=i(654001),R=i(407440),I=i(435671),x=i(662828),A=i(848067),O=i(900242),N=i(922553),C=i(979484),L=i(571303),w=i(175966),D=i(559393),j=i(910973),k=i(224398),P=i(845068),M=i(550955),F=i(697535),U=i(604268),G=i(496841),V=i(741340),B=i(229127),X=i(708250),H=i(232524),z=i(734712),W=i(124434),K=i(622954),q=i(759305),$=i(509961),Y=i(964368),J=i(849912),Z=i(291968),Q=i(690278),ee=i(77587),et=i(904511),ei=i(38900),en=i(539554),ea=i(534016),es=i(560532),eo=i(483718),er=i(921122),el=i(195003),ed=i(354621),ec=i(865780),eu=i(508295),e_=i(399328),em=i(357661),eh=i(113641),ep=i(423348),eg=i(740408),ef=i(86140),eE=i(270296),eb=i(403461);function ey({draft:e,publishedDomainInfo:t,fastForwardOnMount:i}){let o,m,{existingHubFile:E}=e.deps,S=(0,s.wA)(),{trackEvent:B}=(0,g.j6)(),$=(0,f.H)(B),Y=a.useCallback(()=>{S(ei.Ce()),$.current(en.in,{step:en.WX.CLOSED})},[S,$]),ea=(0,O.D)(e.fieldStates);(0,ee.W)(e.fieldStates.viewerMode);let es=(0,Q.J)({tagsV1Field:e.fieldStates.tagsV1,tagsV2Field:e.fieldStates.tagsV2}),eo=(0,J.n)(e.fieldStates.carouselMedia),er=(0,Z.w)(e.fieldStates.cocreators),el=a.useMemo(()=>({details:!0,thumbnail:!0,advanced:!0}),[]),[ed,ec,eu]=r.t.useTabs(el,{orientation:"vertical"}),e_=(0,y.b)(eu),{stepWithErrors:em,clearStepWithErrors:eh,checkProgress:ep,checkOverallProgress:eg}=(0,x.o)([{id:"details",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.name),onFail:()=>(0,w.__)(w.tZ.NAME_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.description),onFail:()=>(0,w.__)(w.tZ.DESCRIPTION_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.tagsV2)&&(0,N.i_)(e.fieldStates.tagsV1),onFail:()=>(0,w.__)(w.tZ.TAGS_SECTION)}],onFail:()=>{ea.name.onTouched?.(),ea.description.onTouched?.(),ea.tagsV2.onTouched?.(),ea.tagsV1.onTouched?.()}},{id:"thumbnail",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.carouselMedia),onFail:()=>(0,w.__)(w.tZ.THUMBNAIL_UPLOADER)}],onFail:()=>{ea.carouselMedia.onTouched?.()}},{id:"advanced",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.profileHandle),onFail:()=>(0,w.__)(w.tZ.PROFILE_HANDLE_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.cocreators),onFail:()=>(0,w.__)(w.tZ.COCREATORS_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.tosAccepted),onFail:()=>(0,w.__)(w.tZ.TOS_AGREED_CHECKBOX)},{check:()=>(0,N.i_)(e.fieldStates.supportContact),onFail:()=>(0,w.__)(w.tZ.SUPPORT_CONTACT_INPUT)}],onFail:()=>{ea.profileHandle.onTouched?.(),ea.cocreators.onTouched?.(),ea.supportContact.onTouched?.(),ea.tosAccepted.onTouched?.()}}],e_.activeTab);a.useEffect(()=>{eh()},[e.fieldStates,eh]);let{draftSubmissionResult:ef,clearDraftSubmissionResult:ey,submit:eS}=(0,A.r)(e,a.useCallback(()=>{$.current(en.in,{step:en.WX.PUBLISH})},[$])),eT=a.useRef(i?(0,N.MQ)(e)?"ready":"waiting_for_draft_to_stabilize":"disabled");a.useEffect(()=>{switch(eT.current){case"waiting_for_draft_to_stabilize":(0,N.MQ)(e)&&(eT.current="ready");break;case"ready":eg(),eT.current="progress_check";break;case"progress_check":em&&em!==e_.activeTab?(e_.setActiveTab(em),eT.current="tab_switch"):(em||eS?.(),eT.current="completed");break;case"tab_switch":ep(),eT.current="completed"}},[ep,eg,em,eS,e_,e]);let[ev,eR]=a.useState(V.X.STOPPED),ex=ev===V.X.PLAYING;o=ef?(0,n.jsx)(V.S,{publishedResourceContent:"data"in ef?ef.data.hubFile:void 0,draftSubmissionStatus:ef.result,carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author,onAnimationStateChange:eR,viewerModeField:e.fieldStates.viewerMode,hideLikeAndUsage:!0}):(0,n.jsxs)("div",{className:eb.KT,children:[(0,n.jsxs)("div",{className:eb.Cd,children:[(0,n.jsxs)(r.t.TabStrip,{manager:e_,children:[(0,n.jsx)(H.y,{...ed.details,index:1,text:(0,_.t)("community.publishing.write_a_description"),selected:"details"===e_.activeTab,hasErrors:"details"===em}),(0,n.jsx)(H.y,{...ed.thumbnail,index:2,text:(0,_.t)("community.publishing.fine_tune_the_preview"),selected:"thumbnail"===e_.activeTab,hasErrors:"thumbnail"===em}),(0,n.jsx)(H.y,{...ed.advanced,index:3,text:(0,_.t)("community.publishing.add_the_final_details"),selected:"advanced"===e_.activeTab,hasErrors:"advanced"===em})]}),(0,n.jsxs)("div",{className:eb.ME,"aria-hidden":!0,children:[(0,n.jsx)("div",{className:eb.jc,children:(0,_.t)("community.publishing.resource_preview")}),(0,n.jsx)(F.x,{carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author})]})]}),(0,n.jsxs)("div",{className:eb.DK,children:[(0,n.jsxs)(r.t.TabPanel,{...ec.details,children:[(0,n.jsx)(w.Mm,{id:w.tZ.NAME_INPUT,children:t=>(0,n.jsx)(M.A,{ref:t,nameField:e.fieldStates.name,...ea.name})}),(0,n.jsx)(w.Mm,{id:w.tZ.DESCRIPTION_INPUT,children:t=>(0,n.jsx)(P.A,{ref:t,descriptionField:e.fieldStates.description,...ea.description})}),(0,N.i_)(e.fieldStates.category)&&(0,n.jsx)(w.Mm,{id:w.tZ.TAGS_SECTION,children:e=>es.validV2Tags.length>0?(0,n.jsx)(W.vj,{ref:e,tagsFieldsManager:es,touchedFieldsTracker:ea,autoScrollAutocompleteResultsIntoView:{behavior:"smooth",block:"end"}}):(0,n.jsx)(z.Yv,{ref:e,tagsV1Field:es.tagsV1Field,...ea.tagsV1,autoScrollAutocompleteResultsIntoView:{behavior:"smooth",block:"end"}})}),t&&(0,n.jsx)(G.A,{label:(0,_.t)("community.publishing.preview_url"),children:(0,n.jsx)(l.N,{href:t.fullURL,newTab:!0,children:t.fullURL})})]}),(0,n.jsx)(r.t.TabPanel,{...ec.thumbnail,children:(0,n.jsx)(w.Mm,{id:w.tZ.THUMBNAIL_UPLOADER,children:e=>(0,n.jsx)(K.l,{ref:e,carouselMediaFieldManager:eo,trackingEventName:en.in,...ea.carouselMedia})})}),(0,n.jsxs)(r.t.TabPanel,{...ec.advanced,children:[(0,n.jsx)(w.Mm,{id:w.tZ.PROMPT_VISIBILITY_CHECKBOX,children:t=>(0,n.jsx)(D.s,{ref:t,chatHistoryVisibilityField:e.fieldStates.chatHistoryVisibility})}),(0,n.jsx)(L.A,{authorField:e.fieldStates.author}),(0,n.jsx)(w.Mm,{id:w.tZ.PROFILE_HANDLE_INPUT,children:t=>(0,n.jsx)(U.S,{ref:t,profileHandleField:e.fieldStates.profileHandle,...ea.profileHandle})}),(0,n.jsx)(w.Mm,{id:w.tZ.COCREATORS_INPUT,children:(0,n.jsx)(j.A,{cocreatorsFieldManager:er,...ea.cocreators})}),(0,n.jsx)(w.Mm,{id:w.tZ.TOS_AGREED_CHECKBOX,children:t=>(0,n.jsx)(q.B,{ref:t,tosAcceptedField:e.fieldStates.tosAccepted})}),(0,n.jsx)(k.A,{commentsSettingField:e.fieldStates.commentsSetting}),(0,n.jsx)(w.Mm,{id:w.tZ.SUPPORT_CONTACT_INPUT,children:t=>(0,n.jsx)(X.a,{ref:t,priceField:e.fieldStates.price,supportContactField:e.fieldStates.supportContact,...ea.supportContact})})]})]})]}),m=ex||ef?.result!=="success"?ex||ef?.result!=="failure"?(0,n.jsxs)(n.Fragment,{children:[e_.isOnFirstTab?(0,n.jsx)(d.$n,{variant:"secondary",onClick:Y,children:(0,_.t)("general.cancel")}):!ex&&(0,n.jsx)(d.$n,{variant:"secondary",onClick:e_.selectPreviousTab,children:(0,_.t)("general.back")}),e_.isOnLastTab?(0,n.jsx)(d.$n,{disabled:ef?.result==="pending"||ex,onClick:()=>{ep()&&eS?.()},"data-testid":"resource-publishing-make-form-view-submit-button",children:ef?.result==="pending"||ex?(0,n.jsx)(b.k,{size:"sm"}):(0,_.t)("community.publishing.publish")}):(0,n.jsx)(d.$n,{onClick:()=>{ep()&&e_.selectNextTab()},"data-testid":"resource-publishing-make-form-view-next-step-button",children:(0,_.t)("general.next")})]}):(0,n.jsx)(v.h,{holdTimeInMs:5e3,onMouseHold:async()=>{S(et.lW({stringToCopy:JSON.stringify({figFileKey:e.deps.figFile?.key,existingHubFileId:E?.id,createNewVersionOnSubmit:e.deps.createNewVersionOnSubmit,userId:e.deps.user.id,orgId:e.deps.org?.id,orgUserId:e.deps.orgUser?.id,allowedAuthors:e.deps.allowedAuthors,allowedCocreators:await (0,C.a)(e.deps.allowedCocreatorsPromise.then(e=>e.map(e=>e.id))),authedProfilesById:Object.fromEntries(Object.entries(e.deps.authedProfilesById).map(([e,t])=>[e,h()(t,"id","team_id","org_id")])),authedActiveCommunityProfile:e.deps.authedActiveCommunityProfile&&h()(e.deps.authedActiveCommunityProfile,"id","team_id","org_id"),errors:"error"===e.status?e.errors.map(T.L):[]},void 0,2),ignoreLineBreaks:!1,successText:(0,_.t)("community.publishing.debug_info_copied_to_clipboard")}))},children:(0,n.jsx)(d.$n,{variant:"secondary",onClick:ey,children:(0,_.t)("general.go_back")})}):(0,n.jsx)(eI,{publishedHubFile:ef.data.hubFile,publishedDomainInfo:t});let eA=a.useMemo(()=>{if(!ex&&ef?.result!=="success"){if(em)return em===e_.activeTab?(0,_.t)("community.publishing.please_fill_out_required_fields_and_correct_any_errors"):(0,_.t)("community.publishing.updates_are_needed_in_another_step");if("error"===e.status){let t,i=e.errors.find(e=>"submission"===e.type),n=i?.data.rawError;return(t=(0,eE.l)(i))||!n||(t=(0,u.J)(n)),t??(0,_.t)("community.publishing.an_error_occurred_please_try_again")}}},[e,ef?.result,ex,em,e_.activeTab]);a.useEffect(()=>{$.current(en.in,{step:en.WX.OPENED})},[$]);let eN=(0,N.Lz)(e.fieldStates.name,""),eC=(0,p.A)(()=>{$.current(en.in,{step:en.WX.EDIT_NAME})},2e3);a.useEffect(()=>{eN&&ea.name.touched&&eC()},[eN,eC,ea.name.touched]);let eL=(0,N.Lz)(e.fieldStates.description,""),ew=(0,p.A)(()=>{$.current(en.in,{step:en.WX.EDIT_DESCRIPTION})},1e4);return a.useEffect(()=>{eL&&ea.description.touched&&ew()},[eL,ew,ea.description.touched]),(0,n.jsxs)(R.I,{onClose:Y,width:"fit-content",height:"dynamic",children:[(0,n.jsxs)(c.vo,{children:[(0,n.jsx)(c.Y9,{children:(0,n.jsx)(c.hE,{children:(0,_.tx)("community.publishing.publish_your_file_to_community")})}),(0,n.jsx)(c.nB,{padding:0,scrolling:"manual",children:o}),(0,n.jsxs)(c.wi,{children:[(0,n.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:[!ex&&(0,n.jsx)(eO,{existingHubFile:E}),eA&&(0,n.jsx)("span",{className:eb.$o,"aria-live":"assertive","aria-atomic":!0,children:eA})]}),(0,n.jsx)(c.jk,{children:m})]})]}),(0,n.jsx)(I.r,{draft:e,customRetryAction:{draftFailedToSubmit:eS}})]})}function eS({figFile:e,existingHubFile:t}){let i=(0,eu.Pc)(),n=(0,s.d4)(e=>(0,e_.xw)(e)??void 0,o.c2),r=(0,ec.sZ)(),l=(0,s.d4)(i=>(0,es.Rv)(e?.team_id??null,i,t??null,e?.parent_org_id??null),o.c2),{status:d,allowedAuthors:c}=(0,es.d0)(e?.team_id??null,t??null,e?.parent_org_id??null),u=(0,el.u8)({oldValue:l,oldValueReady:!0,newValue:c,newValueReady:"loaded"===d,label:er.A.MakeFormView.getAllowedAuthorsForHubFile,enableFullRead:(0,eo.UZ)(eo.CF.GROUP_5),enableShadowRead:(0,eo.hc)(eo.CF.GROUP_5)}),_=(0,s.d4)(e=>e.authedProfilesById),m=(0,s.d4)(e=>e.authedActiveCommunityProfile??void 0),h=a.useMemo(async()=>e?await (0,es.mN)(e)??[]:[],[e]),p=(0,ed.eY)(),g=(0,eg.t)(),f=t?.is_chat_history_removed!=null?!t.is_chat_history_removed:void 0;return{user:i,org:r,orgUser:n,allowedAuthors:u,allowedCocreatorsPromise:h,authedProfilesById:_,authedActiveCommunityProfile:m,sceneGraph:p,siteTitle:(g.title??g.placeholder).trim(),shouldShowChatHistory:f}}let eT=(0,E._d)(function(e){let t=eS({figFile:e.figFile,existingHubFile:e.existingHubFile}),i=(0,Y.m_)({...e,...t}),a=(0,ef._t)(e.figFile?.key??"");return(0,n.jsx)(g.fu,{name:eh.e0.COMMUNITY_HUB_FILE_PUBLISH_MODAL_V2,properties:{userId:t.user.id,orgId:t.org?.id,resourceType:em.vt.HUB_FILE,resourceId:e.existingHubFile?.id,fileKey:e.figFile?.key,editorType:e.figFile?.editor_type,isPaid:(0,$.wC)(i.fieldStates.price)},children:(0,n.jsx)(ey,{draft:i,publishedDomainInfo:a})})},"MakeFormView");function ev({draft:e,publishedDomainInfo:t,canPublishAsHubFile:i,cannotPublishAsHubFileReason:o,onPublishFailure:r}){let l=(0,s.wA)(),d=(0,f.H)(r),{trackEvent:m}=(0,g.j6)(),h=(0,f.H)(m),[p,E]=a.useState();a.useEffect(()=>{h.current(en.in,{step:en.WX.OPENED})},[h]),a.useEffect(()=>{i&&!p&&(async()=>{if(e.submit){h.current(en.in,{step:en.WX.PUBLISH}),E({result:"pending"});let t=await e.submit();"failure"===t.result?(h.current(en.in,{step:en.WX.ERROR}),d.current?.("failed_to_submit")):h.current(en.in,{step:en.WX.SUCCESS}),E(t)}})()},[e,p,i,d,h]),a.useEffect(()=>{o&&(h.current(en.in,{step:en.WX.ERROR,errorType:"source_file_cannot_be_published",errorReason:o}),E({result:"failure"}),d.current?.("source_file_cannot_be_published"))},[o,d,h]),a.useEffect(()=>{!p&&!e.submit&&(0,N.MQ)(e)&&(h.current(en.in,{step:en.WX.ERROR,errorType:"errors_in_form"}),E({result:"failure"}),d.current?.("errors_in_form"))},[e,p,d,h]);let b=a.useCallback(()=>{l(ei.Ce())},[l]),[y,S]=a.useState(V.X.STOPPED),T=y===V.X.PLAYING,v=a.useMemo(()=>{if(!T&&p?.result==="failure"){let t;if(o)return(0,ea.Yw)(o);let i="error"===e.status?e.errors.find(e=>"submission"===e.type):void 0,n=i?.data.rawError;return(t=(0,eE.l)(i))||!n||(t=(0,u.J)(n)),t??(0,_.t)("community.publishing.an_error_occurred_please_try_again")}},[e,p?.result,T,o]);return(0,n.jsxs)(R.I,{onClose:b,width:"fit-content",height:"dynamic",children:[(0,n.jsxs)(c.vo,{children:[(0,n.jsx)(c.Y9,{children:(0,n.jsx)(c.hE,{children:(0,_.tx)("community.publishing.publish_your_file_to_community")})}),(0,n.jsx)(c.nB,{padding:0,scrolling:"manual",children:(0,n.jsx)(V.S,{publishedResourceContent:p?.result==="success"?p.data.hubFile:void 0,draftSubmissionStatus:p?.result??"pending",carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author,onAnimationStateChange:S,viewerModeField:e.fieldStates.viewerMode,hideLikeAndUsage:!0})}),(0,n.jsxs)(c.wi,{children:[(0,n.jsx)("span",{className:eb.$o,"aria-live":"assertive","aria-atomic":!0,children:v}),(0,n.jsx)(c.jk,{children:p?.result==="success"&&!T&&(0,n.jsx)(eI,{publishedHubFile:p.data.hubFile,publishedDomainInfo:t})})]})]}),(0,n.jsx)(I.r,{draft:e,customRetryAction:{draftFailedToSubmit:e.submit}})]})}let eR=(0,E._d)(function(e){let t=eS({figFile:e.figFile,existingHubFile:e.existingHubFile}),i=(0,Y.NY)({...e,...t,autoAcceptToSIfNeeded:!0},{name:t.siteTitle,chatHistoryVisibility:e.shouldShowChatHistory,...e.customThumbnailMedium&&{carouselMedia:{allMedia:[e.customThumbnailMedium],thumbnailMedium:e.customThumbnailMedium}},...e.tagsV2.length&&{tagsV2:e.tagsV2}}),s=(0,ef._t)(e.figFile?.key??""),{canPublishAsHubFile:o,reason:r}=(0,ea.Of)("StreamlinedMakeFormView",e.figFile),[l,d]=a.useState(!1);return l?(0,n.jsx)(ey,{draft:i,publishedDomainInfo:s,fastForwardOnMount:!0}):(0,n.jsx)(ev,{draft:i,publishedDomainInfo:s,onPublishFailure:e=>{"errors_in_form"===e&&d(!0)},canPublishAsHubFile:o,cannotPublishAsHubFileReason:r})},"StreamlinedMakeFormView");function eI({publishedHubFile:e,publishedDomainInfo:t}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ex,{publishedResourceContent:e}),(0,n.jsx)(eA,{publishedDomainInfo:t})]})}function ex({publishedResourceContent:e}){return(0,n.jsx)(l.N.Button,{variant:"secondary",href:(0,B.jT)(e),newTab:!0,trusted:!0,"data-testid":"resource-publishing-success-screen-actions-see-in-community-button",children:(0,_.t)("community.publishing.see_in_community")})}function eA({publishedDomainInfo:e}){return e?(0,n.jsx)(l.N.Button,{href:e.fullURL,newTab:!0,trusted:!0,"data-testid":"resource-publishing-success-screen-actions-go-to-web-button",children:(0,_.t)("community.publishing.go_to_web")}):null}function eO({existingHubFile:e}){let t=(0,s.wA)(),i=(0,S.FT)(),o=a.useCallback(()=>{e&&i&&t(ei.to({type:ep.V,data:{hubFile:e,confirmationTitle:(0,_.t)("community.hub_files.remove_file_from_community_hub"),content:(0,_.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:(0,_.t)("community.resource.unpublish")}}))},[t,e,i]);return e&&i?(0,n.jsx)(d.$n,{variant:"destructiveSecondary",onClick:o,children:(0,_.t)("community.resource.unpublish")}):null}},109988(e,t,i){i.d(t,{Zp:()=>l,iB:()=>r});var n=i(886213),a=i(357661),s=i(242716),o=i(964130);let r=n.M4.Query({fetch:async e=>(await s.c.getAll({editorType:e})).data.meta}),l=n.M4.Query({fetch:async({categorySlug:e,tagSlug:t,locale:i})=>(await s.c.getCategoryBySlug(e,{tagSlug:t,locale:i})).data.meta});n.M4.Query({fetch:async e=>(await o.A.getCommunityShelves({categorySlug:e,shelfType:a.cS.CATEGORY_PAGE})).data.meta[0]})},256478(e,t,i){i.d(t,{e:()=>r});var n=i(239976),a=i(523702),s=i(388120);let o="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",r=(0,s.makeComponentSet)(function(e){return(0,n.jsxs)(a.ComponentSet,{name:"Avatar",children:[(0,n.jsx)(a.Component,{name:"type=Letter,size=Large",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center",children:(0,n.jsx)(a.Text,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",letterSpacing:-.14399999618530274,children:e.letter??"A"})}),(0,n.jsx)(a.Component,{name:"type=Letter,size=Small",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center",children:(0,n.jsx)(a.Text,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",fontSize:14,letterSpacing:-.014000000208616257,children:e.letter??"A"})}),(0,n.jsx)(a.Component,{name:"type=Image,size=Large",effect:{spread:1,color:"#FFF",offset:{x:0,y:0},blur:0,type:"drop-shadow"},fill:{type:"image",src:o,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center"}),(0,n.jsx)(a.Component,{name:"type=Image,size=Small",fill:{type:"image",src:o,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:13,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center"})]})})},427996(e,t,i){i.d(t,{F:()=>o});var n=i(350923),a=i(572914),s=i(508604);let o=new class{openTemplatePicker(){n.zl.set(a.YA,!0)}isBuzzApprovalsEnabled(){return(0,s.yL)()}}},129096(e,t,i){i.d(t,{RD:()=>r,i2:()=>s,ie:()=>o});var n=i(497935),a=i(745463);function s(e){return"IMAGE"===e.type&&(0,a.Vq)(e.imageVar?.value?.cmsAliasValue?.collectionId)}function o(e,t,i){let a=[...e],o=a.findIndex(e=>s(e)),r=i?a.findIndex(e=>(function(e,t){let{visible:i,...a}=e,{visible:s,...o}=t;return(0,n.c2)(a,o)})(i,e)):-1;return -1!==o?a[o]=t:-1!==r?a[r]=t:a.push(t),a}function r(e,t){return{type:"IMAGE",color:{r:1,g:1,b:1,a:1},opacity:1,imageScaleMode:"FILL",imageVar:{value:{cmsAliasValue:{collectionId:e,fieldId:t,itemId:""}},dataType:"CMS_ALIAS",resolvedDataType:"IMAGE"}}}},287132(e,t,i){let n;i.d(t,{BT:()=>l,Ju:()=>c,q$:()=>d,rS:()=>n});var a=i(706354),s=i(688357),o=i(462198);let r=[];function l(e){if(r.push(e),r.length){if(!s.w3z)return void(0,o.$D)(a.FigmaTeam.CODE_CONNECT,Error("HandoffBindingsCpp unavailable when registering node change callback"));s.w3z.setIsNodeChangeCallbackRegistered(!0)}}function d(e){if(!(r=r.filter(t=>t!==e)).length){if(!s.w3z)return void(0,o.$D)(a.FigmaTeam.CODE_CONNECT,Error("HandoffBindingsCpp unavailable when unregistering node change callback"));s.w3z.setIsNodeChangeCallbackRegistered(!1)}}function c(){n={nodeChange:e=>{for(let t of r)t(e)}}}},79877(e,t,i){i.d(t,{g:()=>n});let n=(0,i(350923).eU)(new Set)},327659(e,t,i){i.d(t,{U:()=>o});var n=i(151524),a=i(575425),s=i(279117);function o(e,{searchLocalPlugins:t,searchPublishedPlugins:i}){let o,r,l=(o=n.D.getState().localPlugins,(0,s.NW)(a.nT.DevHandoff,o)),d=(r=n.D.getState().publishedPlugins,(0,s.xC)(a.nT.DevHandoff,r));return(0,s.DM)({idToSearch:e,localExtensionsByFileId:t?l:void 0,publishedExtensions:i?d:void 0})}},797465(e,t,i){i.d(t,{ZH:()=>r,r$:()=>o,r5:()=>l});var n=i(990879),a=i(30890),s=i(921282);(0,i(265773).nF)(e=>{let t=e.getState().appWindow.inFullScreenMode;s.eD?s.eD.setFullScreen(!t):a.R7.fullscreen&&(t?a.R7.getFullscreenElement()?a.R7.exitFullscreenFunc():e.dispatch(r()):a.R7.requestFullscreenFunc.call(document.documentElement))});let o=(0,n.NC)("WINDOW_DID_ENTER_FULL_SCREEN"),r=(0,n.NC)("WINDOW_DID_EXIT_FULL_SCREEN");function l(e){!a.R7.fullscreen||s.eD||(document.addEventListener(a.R7.fullscreenChangeEventName,function(){let t=e.getState();a.R7.getFullscreenElement()&&!t.appWindow.inFullScreenMode?e.dispatch(o()):t.appWindow.inFullScreenMode&&e.dispatch(r())}),document.addEventListener(a.R7.fullscreenErrorEventName,function(t){console.warn("failed to enter fullscreen:",t),e.getState().appWindow.inFullScreenMode&&e.dispatch(r())}))}},614547(e,t,i){var n=i(850159),a=i(350923);i(513427);var s=i(30890),o=i(613629),r=i(506026);i(961137),i(773201),i(7854);var l=i(351823);function d(e){if(!e)return;e.presenterViewer=null;let t=new Set(["close","open","alert","confirm","prompt","focus","blur","postMessage","addEventListener","removeEventListener","dispatchEvent","setTimeout","clearTimeout","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","document","location","history","navigator","screen","innerWidth","innerHeight","outerWidth","outerHeight","scrollX","scrollY","pageXOffset","pageYOffset","localStorage","sessionStorage","console","performance","parent","top","self","window","frames","length","name","opener","origin","devicePixelRatio","crypto","isSecureContext","visualViewport","customElements","trustedTypes","onload","onunload","onbeforeunload","onerror","onresize","onmessage","onmessageerror","onfocus","onblur","Object","Array","Function","String","Number","Boolean","Date","RegExp","Error","Promise","Map","Set","WeakMap","WeakSet","JSON","Math","parseInt","parseFloat","isNaN","isFinite","encodeURI","decodeURI","encodeURIComponent","decodeURIComponent"]);for(let i of Object.keys(e))if(!t.has(i))try{let t=e[i];("object"==typeof t||"function"==typeof t)&&t&&t instanceof e.Object&&(e[i]=null)}catch(e){}}i(355949);let c=(0,a.um)({readyForMessages:!1},(e,t)=>{switch(t.type){case 0:{d(e.avWindow);let i=function(e,t,i,l){if(""===t)return void e(o.F.enqueue({message:(0,n.t)("slides.presenter_view.unknown_error"),error:!0}));if(!i)return void e(o.F.enqueue({message:(0,n.t)("slides.presenter_view.network_error"),error:!0}));let d=t.split("/")[4],u=`audience-view-${d}`;new URL(t);let _=.8*window.screen.availHeight,m=(0,s.FJ)(t,u,`height=${_},width=${16*_/9},left=0,top=0,popup=yes`);if(null===m){let s={text:(0,n.t)("slides.presenter_view.open_popup"),action:()=>{a.zl.set(c,{type:0,dispatch:e,url:t,isOnline:i})}};e(o.F.enqueue({message:(0,n.t)("slides.presenter_view.pop_up_error"),error:!0,button:s})),a.zl.set(c,{type:2})}else"manual"!==l&&e(o.F.enqueue({icon:r.zX.NOTES_ON_RECTANGLE,message:(0,n.t)("slides.presenter_view.visual_bells.opened_audience_view_in_separate_window")}));return m}(t.dispatch,t.url,t.isOnline,t.openReason);if(i)return{avWindow:i,readyForMessages:!1,openReason:t.openReason};return{readyForMessages:!1}}case 1:if(e.avWindow)return{avWindow:e.avWindow,readyForMessages:!0,openReason:e.openReason};return{readyForMessages:!1};case 3:return{avWindow:t.window,readyForMessages:!0,openReason:e.openReason};case 2:return d(e.avWindow),{readyForMessages:!1}}}),u=(0,l.Wh)(()=>(0,a.eU)(new Set));(0,l.Wh)(()=>(0,a.eU)(e=>e(u),(e,t,i)=>{let n=e(u);i&&t(u,new Set([...n,i]))}))},945824(e,t,i){i.d(t,{DI:()=>l,NY:()=>d,V2:()=>s,cL:()=>c,dY:()=>o,sV:()=>a,zx:()=>r});var n=i(990879);let a=(0,n.NC)("CANVAS_SEARCH_SET_MODE"),s=(0,n.NC)("CANVAS_SEARCH_SET_SCOPE"),o=(0,n.NC)("CANVAS_SEARCH_CLEAR_CATEGORY_FILTERS"),r=(0,n.NC)("CANVAS_SEARCH_SWITCH_CATEGORY_FILTER_EXCLUSIVE"),l=(0,n.NC)("CANVAS_SEARCH_TOGGLE_CATEGORY_FILTER"),d=(0,n.NC)("CANVAS_SEARCH_SET_QUERY"),c=(0,n.NC)("CANVAS_SEARCH_RESET")},818100(e,t,i){i.d(t,{$:()=>m,C:()=>_});var n=i(393106),a=i(850159),s=i(463592),o=i(116682),r=i(613629),l=i(265773),d=i(231484),c=i(924114),u=i(357661);let _=(0,l.nF)((e,{id:t,resourceType:i},{loadingKey:l})=>{let _=o.Ay.post(`/api/${(0,d.n)(i)}/${t}/like`,{orgId:e.getState().currentUserOrgId});(0,c.N)(_,e,l),_.catch(t=>{e.dispatch(r.F.enqueue({message:i===u.vt.PLUGIN?(0,a.t)("community.actions.unable_to_like_this_plugin_error",{error:(0,n.J)(t,t.data.message)}):(0,a.t)("community.actions.unable_to_like_this_widget_error",{error:(0,n.J)(t,t.data.message)}),type:`${i.toUpperCase()}_LIKE_FAILED`,error:!0}))});let m=e.getState().user,h=m&&(0,d.sD)(m,e.getState().authedProfilesById);m?.id&&h&&(0,s.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${t}-${h.id}`]:{pluginId:t,hubFileId:null,resourceId:null,profileId:h.id,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},_)},({id:e})=>`LIKE_RESOURCE_${e}`),m=(0,l.nF)((e,{id:t,resourceType:i,likeId:n},{loadingKey:l})=>{let _=o.Ay.del(`/api/${(0,d.n)(i)}/${t}/like`,{orgId:e.getState().currentUserOrgId});(0,c.N)(_,e,l),_.catch(t=>{e.dispatch(r.F.enqueue({message:i===u.vt.PLUGIN?(0,a.t)("community.actions.unable_to_unlike_this_plugin_error",{error:t.data.message}):(0,a.t)("community.actions.unable_to_unlike_this_widget_error",{error:t.data.message}),type:`${i.toUpperCase()}_UNLIKE_FAILED`,error:!0}))}),e.getState().user?.id&&n&&(0,s.WB)().optimisticallyDelete({CommunityHubLike:{[n]:null}},_)})},55184(e,t,i){i.d(t,{F6:()=>p,Ho:()=>m,K6:()=>_,PU:()=>f,V9:()=>b,mu:()=>g,sm:()=>u,sp:()=>y,wE:()=>E,yc:()=>h});var n=i(688357),a=i(63744),s=i(491852),o=i(990879),r=i(181254),l=i(560637),d=i(607273),c=i(265773);let u=(0,o.NC)("MULTIPLAYER_EMOJI_UPDATE_EMOJI_WHEEL_POSITION"),_=(0,o.NC)("MULTIPLAYER_EMOJI_CLEAR_STATE"),m=(0,c.nF)(e=>{a.GT?.setIsInCursorChat(!1),e.dispatch(_())}),h=(0,o.NC)("MULTIPLAYER_EMOJI_START_CHATTING"),p=(0,c.nF)((e,t)=>{let i=e.getState();0>[s.NLJ.HAND,s.NLJ.SELECT,s.NLJ.HAND_SELECT].indexOf(i.mirror.appModel.currentTool)&&n.glU?.triggerAction("set-tool-default",null),(0,d.q)().then(e=>{e||(a.GT?.setIsInCursorChat(!0),(0,r.ds)("Started chatting",i.openFile?.key,i,{source:t.source}))}),e.dispatch(h(t))}),g=(0,o.NC)("MULTIPLAYER_EMOJI_STOP_REACTING"),f=(0,o.NC)("MULTIPLAYER_EMOJI_START_REACTING"),E=(0,c.nF)((e,t)=>{l.R9.resetReactions(),e.dispatch(f(t))}),b=(0,o.NC)("MULTIPLAYER_EMOJI_TOGGLE_EMOJI_WHEEL"),y=(0,c.nF)((e,t)=>{let i=e.getState();(0,r.ds)("Toggled emoji wheel",i.openFile?.key,i,{wheelType:t.wheelType,...t.source&&{source:t.source}}),e.dispatch(b(t))})},90300(e,t,i){i.d(t,{Im:()=>Z,aS:()=>function e(t,i){switch(t.type){case"run-menu-action":return{displayText:n.PluginMenu.nameOfMenuItem(t),callback:i(t)};case"separator":return{displayText:"",separator:!0};case"header":return{header:!0,displayText:t.name};case"submenu":{let n=[];return t.submenu.forEach(t=>{n.push(e(t,i))}),{displayText:t.name,children:n}}default:(0,a.xb)(t)}},ft:()=>K,gy:()=>W,qs:()=>J});var n=i(348362),a=i(523924),s=i(706354),o=i(688357),r=i(806266),l=i(939932),d=i(741542),c=i(350923),u=i(181645),_=i(151524),m=i(436174),h=i(307512),p=i(462198),g=i(613629),f=i(169611),E=i(872124),b=i(726715),y=i(376334),S=i(74241),T=i(348231),v=i(424752),R=i(39304),I=i(38900),x=i(539554),A=i(24611),O=i(510550),N=i(448775),C=i(345668),L=i(763985),w=i(993299),D=i(459272),j=i(211291),k=i(279117),P=i(642891),M=i(254509),F=i(710469),U=i(357661),G=i(990639),V=i(249020),B=i(777479),X=i(839198),H=i(125466);let z=(0,j.M)();function W(e){return[...e].sort((e,t)=>new Intl.Collator().compare(n.PluginMenu.nameOfMenuItem(e),n.PluginMenu.nameOfMenuItem(t)))}function K({nameStringKey:e,menuAction:t,disabled:i,property:n,propertyValue:a,iconType:s}){return{type:"run-menu-action",name:{type:"string-key",key:e,string:(0,A.A)(e)},menuAction:t,disabled:i,property:n,propertyValue:a,iconType:s,path:[]}}function q(){N.Y5.dispatch(g.F.enqueue({message:"File must be fully loaded to run plugin.",type:"missing-file-key-to-run-plugin",error:!0}))}function $(e){return"publishedPlugins"in e&&"allSavedPlugins"in e&&"activeTextReviewPlugin"in e&&"userCanViewPlugins"in e}function Y(e){return"publishedWidgets"in e}function J(e){return"insert-local-widget"===e.menuAction.type||"insert-installed-widget"===e.menuAction.type}function Z(e,t,i){let{openFile:n,localExtensions:g}=e,A=(0,k.T)(),j=(0,d.getFeatureFlags)().ext_require_appropriate_seat&&!e.userCanRunExtensions,W=`extension-action-${t}`;switch(i.type){case"insert-local-widget":{if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_WIDGET);if(!Y(e))return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected WidgetsMenuArgs"),{tags:{menuActionType:"insert-local-widget"}});if(!n)return void q();let t=g[i.localFileId];t?r.l7.user("insert-widget",()=>(0,w.j)({pluginID:t.plugin_id,widgetName:t.name,pluginVersionID:""})):(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Widget not found"),{tags:{menuActionType:"insert-local-widget",localFileId:i.localFileId}});return}case"insert-installed-widget":{if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_WIDGET);if(!Y(e))return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected WidgetsMenuArgs"),{tags:{menuActionType:"insert-installed-widget"}});let t=e.publishedWidgets[i.pluginId],n=(0,k.Ar)(t);t&&n?r.l7.user("insert-widget",()=>(0,w.j)({pluginID:t.id,widgetName:n.name,pluginVersionID:n.id})):(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Widget not found"),{tags:{menuActionType:"insert-installed-widget",widgetId:i.pluginId}});return}case"run-local-plugin":{if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_PLUGIN);if(!$(e))return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected PluginsMenuArgs"),{tags:{menuActionType:"run-local-plugin"}});if(i.parameterOnly&&i.parameterEntry)return void(0,H.nO)(i,t,N.Y5.dispatch);let a=g[i.localFileId];if(!a)return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Plugin not found"),{tags:{menuActionType:"run-local-plugin"},extra:{localFileId:i.localFileId,localExtensions:g}});let o=(0,k.JT)({plugin:a});o.canRun?P.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:a,command:i.command||"",queryMode:!1,runMode:"default",triggeredFrom:t,openFileKey:n?.key||"",isWidget:!1}}):(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Cannot run plugin"),{tags:{menuActionType:"run-local-plugin",canRunMessage:o.message}});return}case"run-installed-plugin":{if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_PLUGIN);if(!$(e))return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected PluginsMenuArgs"),{tags:{menuActionType:"run-installed-plugin"}});if(i.parameterOnly&&i.parameterEntry)return void(0,H.nO)(i,t,N.Y5.dispatch);let a=function(e,t){let{allSavedPlugins:i,orgSavedPlugins:n,recentlyUsedPlugins:a,publishedPlugins:s}=t;if(i[e])return i[e];if(n&&n[e])return n[e];let o=a?.find(t=>t.plugin_id===e&&!(0,V.ZQ)(t));if(o)return o;let r=s[e];return(0,k.Ar)(r)}(i.pluginId,{allSavedPlugins:e.allSavedPlugins,orgSavedPlugins:e.orgSavedPlugins,recentlyUsedPlugins:e.recentlyUsedPlugins,publishedPlugins:e.publishedPlugins});if(!a)return void(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Plugin not found"),{tags:{menuActionType:"run-installed-plugin",pluginId:i.pluginId}});let o=(0,k.JT)({plugin:a});o.canRun?P.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:a,command:i.command||"",queryMode:!1,runMode:"default",triggeredFrom:t,openFileKey:n?.key||"",isWidget:!1}}):(0,p.$D)(s.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Cannot run plugin"),{tags:{menuActionType:"run-installed-plugin",pluginId:i.pluginId,canRunMessage:o.message}});return}case"set-text-review-plugin":if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_PLUGIN);(0,C.Br)(i.textReviewPluginInfo),L.$4.reset();return;case"run-last":if(j)return P.R0.instance.handleUpgrade(R.Q7.RUN_PLUGIN);N.Y5.triggerAction("plugins-run-last",{source:"menu"});return;case"manage-widgets":N.Y5.dispatch(T.EG({toolType:"widget"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,v.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.WIDGETS:void 0,initialFdResourceTab:"figma"===A?F.sk.WIDGET:void 0,initialFdView:"figma"===A?"development":void 0,scrollDevelopmentSectionIntoView:"figjam"===A,source:W});return;case"manage-plugins":{if("dev"===A||"inspect"===A){(0,C.ax)(o._gJ.PLUGIN),c.zl.set(b.HT,"development"),setTimeout(()=>{c.zl.set(b.uP,!0)},0),B.mN.getInstance()?.getIframeId()===B.Wh.INSPECT&&(0,M.wY)();return}if("buzz"===A){c.zl.set(E.Lk,E.x.PLUGINS),c.zl.set(f.zM,"development"),B.mN.getInstance()?.getIframeId()===B.Wh.BUZZ_LEFT_PANEL&&(0,M.wY)();return}N.Y5.dispatch(T.EG({toolType:"plugin"})),N.Y5.triggerAction("clear-tool",{source:"menu"});let e="figma"===A||"slides"===A;(0,v.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.PLUGINS:void 0,initialFdResourceTab:e?F.sk.PLUGIN:void 0,scrollDevelopmentSectionIntoView:"figjam"===A,initialFdView:e?"development":void 0,source:W});return}case"browse":return void m.Ay.redirect("/community/plugins","_blank");case"browse-plugins":if((0,O.nV)(),N.Y5.dispatch(T.EG({toolType:"plugin"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,u.sx)(x.s0.FIND_MORE_PLUGINS,{isWidget:!1,triggeredFrom:t}),"dev"===A||"inspect"===A){(0,C.ax)(o._gJ.PLUGIN),c.zl.set(b.HT,"recents_and_saved"),B.mN.getInstance()?.getIframeId()===B.Wh.INSPECT&&(0,M.wY)();return}if("buzz"===A){c.zl.set(E.Lk,E.x.PLUGINS),c.zl.set(f.zM,"recents_and_saved"),B.mN.getInstance()?.getIframeId()===B.Wh.BUZZ_LEFT_PANEL&&(0,M.wY)();return}(0,v.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.PLUGINS:void 0,initialFdResourceTab:"figma"===A?F.sk.PLUGIN:void 0,initialFdView:"figma"===A?"recents_and_saved":void 0,source:W});return;case"select-all-widgets":return void N.Y5.triggerAction("select-all-widgets");case"browse-widgets":(0,O.nV)(),N.Y5.dispatch(T.EG({toolType:"widget"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,u.sx)(x.s0.FIND_MORE_PLUGINS,{isWidget:!0,triggeredFrom:t}),(0,v.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.WIDGETS:void 0,initialFdResourceTab:"figma"===A?F.sk.WIDGET:void 0,source:W});return;case"set-widget-thumbnail":{if(!n)return void q();let e=(0,l.NT)().get(i.widgetId);if(!e)return;let t=(0,D.xG)(e),a=URL.createObjectURL(t);_.D.dispatch((0,S.r)({localFileId:i.localFileId,publishedPluginId:i.widgetId,entryPoint:G.k2.EDITOR,localSnapshotUrl:a,localSnapshotBlob:t,widgetNodeId:i.widgetId}));return}case"publish-widget":if(j)return P.R0.instance.handleUpgrade(R.Q7.MANAGE_EXTENSIONS);if(!n)return void q();_.D.dispatch((0,S.r)({localFileId:i.localFileId,publishedPluginId:i.widgetId,entryPoint:G.k2.EDITOR}));return;case"view-api-docs":{let e="https://www.figma.com/plugin-docs/api/api-reference/";(0,h.e)(e)||open(e,"_blank");return}case"create-new-plugin":if(j)return P.R0.instance.handleUpgrade(R.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,I.to)({type:X.h,data:{resourceType:U.bD.PLUGIN}}));return;case"create-new-widget":if(j)return P.R0.instance.handleUpgrade(R.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,I.to)({type:X.h,data:{resourceType:U.bD.WIDGET}}));return;case"import-widget-from-manifest":if(j)return P.R0.instance.handleUpgrade(R.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,y.JZ)({resourceType:"widget"}));return;case"import-plugin-from-manifest":if(j)return P.R0.instance.handleUpgrade(R.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,y.JZ)({resourceType:"plugin"}));return;case"open-console":case"toggle-console":if(!z)return;if("toggle-realms"===i.actualTypeForBackwardsCompatibility)return void N.Y5.triggerAction("toggle-use-realms-for-plugin-dev");z.toggleDevTools("bottom"),i.showError?console.error(i.showError):(0,u.sx)("Plugin Open Dev Tools");return;case"toggle-use-local-related-link-plugin":{if(!z)return;let e=_.D.getState().mirror.appModel.useLocalRelatedLinkPlugin;(0,C.gX)({useLocalRelatedLinkPlugin:!e});return}case"open-dir":if(!z)return;z.openExtensionDirectory(i.localFileId);return;case"unpurchased-plugin":return;case"toggle-hot-reload-plugin-dev":{let e=_.D.getState().mirror.appModel.hotReloadPluginDev;(0,C.gX)({hotReloadPluginDev:!e});return}default:(0,a.xb)(i)}}},243721(e,t,i){i.d(t,{C1:()=>d,Nv:()=>u,TI:()=>_,rC:()=>l,z5:()=>c});var n=i(850159),a=i(573598),s=i(452172),o=i(696791);class r extends o.A{constructor(e={}){super(),this.options=e}parse(e,t,i=!1){let n=t?.a??1,s=(0,a.H0)(e,this.options.parseAlpha?n:void 0,i);if(!s)throw Error("Could not parse hex");return this.options.parseAlpha?s:(0,a.X9)(s,n)}format(e){if(!e)return"";let t=this.floatToHex(e.r),i=this.floatToHex(e.g),n=this.floatToHex(e.b);if(this.options.formatAlpha&&1!==e.a){let a=this.floatToHex(e.a);return`#${t}${i}${n}${a}`.toUpperCase()}return`#${t}${i}${n}`.toUpperCase()}formatForAndroid(e){if(1===e.a)return this.format(e);let t=this.floatToHex(e.a),i=this.floatToHex(e.r),n=this.floatToHex(e.g),a=this.floatToHex(e.b);return`#${t}${i}${n}${a}`.toUpperCase()}getIncrementTargets(e,t){let{start:i,end:n}=t,a=i===n,s={};return(i<=2||a&&3===i)&&(s.r=!0),(i<=4&&n>3||a&&5===i)&&(s.g=!0),(i<=6&&n>5||a&&7===i)&&(s.b=!0),s}getSelection(e,t){let i={start:1,end:1};return t.r?i.start=1:t.g?i.start=3:i.start=5,t.b?i.end=7:t.g?i.end=5:i.end=3,i}floatToHex(e){let t=this.normalize255(e).toString(16);return 1===t.length&&(t="0"+t),t}}class l extends r{constructor(e={}){super(e)}format(e,{withAlpha:t=!1,showDot:i=!1}={}){if(!e)return"";let n=this.floatToHex(e.r),a=this.floatToHex(e.g),s=this.floatToHex(e.b),o=this.floatToHex(e.a),r=(100*e.a).toLocaleString("en",{maximumFractionDigits:2})+"%";return t?i?`${n}${a}${s} \xb7 ${r}`.toUpperCase():`${n}${a}${s}${o}`.toUpperCase():`${n}${a}${s}`.toUpperCase()}getIncrementTargets(e,t){let{start:i,end:n}=t,a=i===n,s={};return(i<=1||a&&2===i)&&(s.r=!0),(i<=3&&n>2||a&&4===i)&&(s.g=!0),(i<=5&&n>4||a&&6===i)&&(s.b=!0),s}getSelection(e,t){let i={start:1,end:1};return t.r?i.start=1:t.g?i.start=3:i.start=5,t.b?i.end=7:t.g?i.end=5:i.end=3,i.start-=1,i.end-=1,i}}class d extends l{constructor(e={}){super(e)}parse(e,t,i=!1){return"auto".startsWith(e.toLowerCase())?s.Q8:super.parse(e,t,i)}format(e){return e?(0,s.gl)(e)?(0,n.t)("fullscreen.mixed"):(0,s.SX)(e)?(0,n.t)("fullscreen.properties_panel.stack_panel.auto"):super.format(e):""}clamp(e){return(0,s.SX)(e)?e:super.clamp(e)}}let c=new r,u=new r({parseAlpha:!0,formatAlpha:!0}),_=new l;new d},714472(e,t,i){i.d(t,{i:()=>a});var n=i(3752);function a(e){return"which"in e?3===e.which||n.A.mac&&1===e.which&&e.ctrlKey:"button"in e&&(2===e.button||n.A.mac&&0===e.button&&e.ctrlKey)}},625828(e,t,i){let n;i.d(t,{_:()=>b,ky:()=>y});var a=i(105652),s=i(706354),o=i(67548),r=i(688357),l=i(236723),d=i(103735),c=i(851289),u=i(148814),_=i(920727),m=i(173021),h=i(462198),p=i(608293),g=i(578880),f=i(448775),E=i(612719);function b(){let e=(0,E.g)(),{addThemeListener:t}=(0,o.G)(),i=(0,g.E3)(),n=a.useRef(i);a.useEffect(()=>{n.current=i},[i]),a.useEffect(()=>{e&&r.SIf&&y.updateColorsInFullscreen(r.SIf.colorTokensState())},[e,i]),a.useEffect(()=>t(()=>{f.Y5.isReady()&&r.SIf&&y.updateColorsInFullscreen(r.SIf.colorTokensState())}),[t])}let y={getTokenValue:S,updateColorsInFullscreen:function(e){let t={},i=getComputedStyle(document.body),a=e.currentTokens.getCopy();for(let o in n||(n=function(){let e,t=document.head.querySelector('link[href*="figma_app"][href*="css"]');try{t instanceof HTMLLinkElement&&(e=t.sheet?.cssRules)}catch{}return!!(e&&e.length>0)}()),a){let a=S(i,o),r=function(e){if(!e)return;let t=T(e);if(!t)return;let{r:i,g:n,b:a,alpha:s}=t;return((void 0===s?255:Math.round(255*s))<<24|Math.round(255*a)<<16|Math.round(255*n)<<8|Math.round(255*i))>>>0}(a);if(void 0!==r)t[o]=r;else if(n)(0,h.$D)(s.FigmaTeam.FPL,Error(`Failed to find valid value for color token ${o}, found ${a}`));else{(0,h.us)("Cannot fetch color tokens from CSS, CSS was not loaded"),e.hasRunTokenSync.set(!0);return}}e.currentTokens.set(t),e.hasRunTokenSync.set(!0)}};function S(e,t){let i;if(t.startsWith("fs"))i="color-"+t;else{let e="color"+t.charAt(0).toUpperCase()+t.slice(1);i=(0,p.VZ)(e).replace("desktop-backgrounded","desktopBackgrounded").replace("desktop-foreground","desktopForeground").replace("desktop-fullscreen","desktopFullscreen")}return e.getPropertyValue(`--${i}`)?.trim()||void 0}(0,l.b2)(d.A),(0,l.b2)(c.A),(0,l.b2)(u.A),(0,l.b2)(_.A);let T=(0,m.A)("rgb")},580618(e,t,i){i.d(t,{Ln:()=>v,SG:()=>R,Tc:()=>y,Y$:()=>u,jv:()=>T,vK:()=>f,vu:()=>I});var n,a=i(745463),s=i(706354),o=i(779757),r=i(462198),l=i(376715),d=i(886213),c=i(836354),u=((n=u||{}).CURRENT="current",n.AT_NEXT_RENEWAL="atNextRenewal",n);function _(e){(0,r.$D)(s.FigmaTeam.BILLING,e,t=>(t.setExtras({error:e}),t))}let m=d.M4.Query({fetch:e=>c.n.getRates(e).then(e=>e.data.meta).catch(e=>{throw _(e),e}),label:"billing_prices_active_rates"}),h=d.M4.Query({fetch:e=>c.n.getContractRates(e).then(e=>e.data.meta).catch(e=>{throw _(e),e}),label:"billing_prices_contract_rates"}),p=d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getContractRates({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw _(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_current_contract_rates"}),g=d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getPricesAtContractRenewal({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw _(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_at_contract_renewal"});function f(e,t={}){!function(e){let{planParentId:t,planType:i}=e;return""!==t&&!(0,a.uy)(i)}(e)&&(t.enabled=!1);let[i]=(0,d.IT)(h(e),t);return i.transform(({product_prices:e})=>e[0]?.currency??null)}d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getAdminContractRates({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw _(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_admin_current_contract_rates"}),d.M4.Query({fetch:async({planKey:e,renewalTerm:t,nextInvoiceInterval:i})=>{try{return(await c.n.getAdminTeamPricesAtNextInvoice({planType:e.type,planParentId:e.parentId||"",renewalTerm:t,nextInvoiceInterval:i})).data.meta}catch(e){throw _(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_admin_team_at_next_invoice"});class E extends Error{}function b(e,t){let i=e[0]?.[t];if(i&&e.every(e=>e[t]===i))return i;throw new E(`Could not infer value for ${t} from price data`)}function y(e){return b(Object.values(e),"currency")}function S(e,t,i,n){try{return e.transform(e=>{if(n&&0===e.product_prices.length)return null;let o="currency"in i?i.currency:b(e.product_prices,"currency"),d="tier"in i?i.tier:b(e.product_prices,"tier"),c=t.dict(t=>{let n={billableProductKey:t,billableProductVariantId:null,...i,currency:o,tier:d};try{return(0,l.y)(e,n)}catch(e){(0,r.$D)(s.FigmaTeam.BILLING,e);return}});if(Object.keys(c).forEach(e=>{(0,a.uy)(c[e])&&delete c[e]}),0===Object.keys(c).length)throw Error("No prices found");return c})}catch(e){return(0,r.$D)(s.FigmaTeam.BILLING,e),o.Qw.errorSuspendable(e,{release:()=>{}})}}function T({billableProductKeys:e,baseQuery:t,planKey:i,options:n={}}){let a=m(i??null),[s]=(0,d.IT)(a,n);return S(s,e,t)}function v(e,t,i,n={}){let a=p({planKey:e}),[s]=(0,d.IT)(a,n);return S(s,t,i,!0)}function R(e,t,i,n={}){let a=g({planKey:e}),[s]=(0,d.IT)(a,n);return S(s,t,i,!0)}function I(e){if("loaded"===e.status)return e;if("errors"===e.status){let t=[e.errors].flat()[0];if(t)throw t}throw Error(`Unexpected result status: ${JSON.stringify(e)}`)}},70321(e,t,i){i.d(t,{y:()=>c});var n=i(645186),a=i(916290),s=i(706354),o=i(462198),r=i(435326),l=i(38900),d=i(494423);function c(e,t){let i=(0,n.wA)();return(0,d.dh)(t)?()=>i((0,l.to)({type:r.V,data:{entrypoint:t,teamId:e,openCheckoutInNewTab:!0}})):((0,o.$D)(s.FigmaTeam.EXPANSION,Error("Missing upsell source for plan comparison modal."),void 0,!0),a.lQ)}},595519(e,t,i){i.d(t,{z:()=>g});var n=i(58414),a=i(870088);function s(e){return function(t){return t<.5?(t/2**(e-1))**(1/e):1-(2-2*t)**(1/e)/2}}function o(e){return function(t){return t**(1/e)}}function r(e){return function(t){return 1-(1-t)**(1/e)}}let l={easeInSine:e=>2*Math.acos(1-e)/Math.PI,easeOutSine:e=>2*Math.asin(e)/Math.PI,easeInOutSine:e=>Math.acos(-2*e+1)/Math.PI,easeInQuad:o(2),easeOutQuad:r(2),easeInOutQuad:s(2),easeInCubic:o(3),easeOutCubic:r(3),easeInOutCubic:s(3),easeInQuart:o(4),easeOutQuart:r(4),easeInOutQuart:s(4),easeInQuint:o(5),easeOutQuint:r(5),easeInOutQuint:s(5),easeInExpo:e=>0===e?0:(Math.log2(e)+10)/10,easeOutExpo:e=>1===e?1:-Math.log2(1-e)/10,easeInOutExpo:e=>0===e?0:1===e?1:e<.5?(Math.log2(2*e)+10)/20:(10-Math.log2(2-2*e))/20,easeInCirc:e=>Math.sqrt(1-(1-e)**2),easeOutCirc:e=>1-Math.sqrt(1-e**2),easeInOutCirc:e=>e<.5?Math.sqrt(1-(1-2*e)**2)/2:(2-Math.sqrt(1-(2*e-1)**2))/2},d={in:{sine:l.easeInSine,quad:l.easeInQuad,cubic:l.easeInCubic,quart:l.easeInQuart,quint:l.easeInQuint,expo:l.easeInExpo,circ:l.easeInCirc},out:{sine:l.easeOutSine,quad:l.easeOutQuad,cubic:l.easeOutCubic,quart:l.easeOutQuart,quint:l.easeOutQuint,expo:l.easeOutExpo,circ:l.easeOutCirc},inOut:{sine:l.easeInOutSine,quad:l.easeInOutQuad,cubic:l.easeInOutCubic,quart:l.easeInOutQuart,quint:l.easeInOutQuint,expo:l.easeInOutExpo,circ:l.easeInOutCirc}};var c=i(239976),u=i(630372),_=i(141320);function m(){return(0,c.jsx)("div",{className:"msal_animation--overlay--E-zJx"})}class h{constructor({rootNodes:e,msalFrames:t,order:i,timing:n,isSticky:a,duration:s,ease:o}){this.addOverlay=e=>{e.removed?this.cancel():(this.activeOverlays.add(e.id),(0,u.Vm)(e.id,(0,c.jsx)(m,{})))},this.removeOverlay=e=>{e.removed?this.cancel():this.isSticky||(this.activeOverlays.delete(e.id),(0,u.ks)(e.id))},this.removeAllOverlays=()=>{Array.from(this.activeOverlays).forEach(e=>(0,u.ks)(e))},this.shouldSkipNode=e=>!this.msalFrames.has(e.id),this.activeOverlays=new Set,this.rootNodes=e,this.msalFrames=new Set(t.map(e=>e.id)),this.rootNodes.forEach(e=>this.msalFrames.add(e.id)),this.isCanceled=!1,this.cancelFunctions=[],this.order=i,this.timing=n,this.isSticky=a,this.duration=s,this.ease=o,this.animateIn=this.animateIn.bind(this),this.animateOut=this.animateOut.bind(this),this.cancel=this.cancel.bind(this),this.resolve=()=>{},this.promise=new Promise(e=>this.resolve=e)}animateIn(e){return{type:"ANIMATION",duration:1,exec:()=>{this.addOverlay(e)},start:0,data:{addNode:e.id}}}animateOut(e){return{type:"ANIMATION",duration:0,exec:()=>{this.removeOverlay(e)},start:0,data:{removeNode:e.id}}}animate(){return Promise.all(this.rootNodes.map(e=>{let t=(0,_.BY)({node:e,order:this.order,timing:this.timing,shouldSkipNode:this.shouldSkipNode,animateIn:this.animateIn,animateOut:this.animateOut}),i=(0,_.gC)(t,this.ease,this.duration),{cancel:n,animationFinish:a}=(0,_.vU)(i);return this.cancelFunctions.push(n),a})).then(this.resolve).catch(this.resolve),this.promise}cancel(){this.cancelFunctions.forEach(e=>e()),this.cancelFunctions=[],this.removeAllOverlays(),this.resolve()}}let p=["mousedown","keydown"];function g(e,t){let i=new h({rootNodes:e,msalFrames:t,order:"PREFIX",timing:"SERIES",isSticky:!0,duration:750,ease:d.inOut.sine});function s(){p.forEach(e=>{document.removeEventListener(e,s,{capture:!0})}),i.cancel()}return(0,a.lu)((0,n.d)().activeCanvasCurrentZoom,{onChangeImmediate:i.cancel}),p.forEach(e=>{document.addEventListener(e,s,{once:!0,capture:!0})}),i.animate()}},500401(e,t,i){i.d(t,{Lf:()=>s,U4:()=>l,W6:()=>a,rQ:()=>r,y8:()=>o}),i(513427);var n=i(42053);function a(e,t){(0,n.x1)("Autosave",e,t,{reportAsSentryError:!0})}function s(e,t){a(e,{"original message":t.message})}function o(e){return"autosave-file"===e.type}function r(){return!1}async function l(){try{if(!navigator.storage?.estimate)return Promise.resolve({usageBytes:void 0,quotaBytes:void 0});let{usage:e,quota:t}=await navigator.storage.estimate();return{usageBytes:e,quotaBytes:t}}catch(e){return(0,n.xi)("Autosave","Failed to get storage usage",{message:e?.message}),Promise.resolve({usageBytes:void 0,quotaBytes:void 0})}}},587612(e,t,i){i.d(t,{F:()=>l});var n=i(105652),a=i(870527),s=i(493094),o=i(487817),r=i(644350);function l(e){let[t]=(0,s.IT)((0,r.zqW)(e?.planParentId?{orgId:e.planParentId}:null),{enabled:e?.planType===o.OL.ORG&&!!e?.planParentId});return(0,n.useMemo)(()=>t.transform(e=>e.org?.activeOrgBillingPeriod?{...e.org.activeOrgBillingPeriod,effectiveEndAt:(0,a.A)(e.org.activeOrgBillingPeriod.effectiveEndAt).toDate(),startAt:(0,a.A)(e.org.activeOrgBillingPeriod.startAt).toDate()}:null),[t])}},77972(e,t,i){i.d(t,{d:()=>d,h:()=>l});var n=i(779757),a=i(493094),s=i(462198),o=i(331850),r=i(587612);function l({planType:e,planParentId:t}){let{status:i,errors:a,suspense:s,data:o}=(0,r.F)({planType:e,planParentId:t});switch(i){case"loading":return n.Qw.loadingSuspendable(s);case"loaded":return n.Qw.loadedSuspendable(o?.isEla??!1,a,s);case"disabled":return n.Qw.loadedSuspendable(!1,[],s);case"errors":return n.Qw.errorSuspendable(a,s)}}function d({reportErrorsToTeam:e}){let t=(0,o.XP)({reportErrorsToTeam:e}),i=l({planType:t.type,planParentId:t.key.parentId}),[n]=(0,a.Ad)(i);if("loaded"!==n.status){let t=Error("Error fetching isELA info");throw(0,s.$D)(e,t),t}return n.data}},376715(e,t,i){i.d(t,{c:()=>r,y:()=>o});var n=i(618458),a=i(735292);class s extends Error{}function o(e,t){if(0===e.product_prices.length)throw new s("Product price list is empty");let{tier:i,currency:n,renewalTerm:o,unit:r,billableProductKey:l,billableProductVariantId:d}=t,c=r;i===a.Ju.PRO&&o===a.IX.YEAR&&c===a.IX.MONTH&&(c=a.IX.YEAR),i===a.Ju.PRO&&o===a.IX.MONTH&&c===a.IX.YEAR&&(c=a.IX.MONTH),(i===a.Ju.ORG||i===a.Ju.ENTERPRISE)&&o===a.IX.YEAR&&c===a.IX.YEAR&&(c=a.IX.MONTH);let u=e.product_prices.filter(e=>e.tier===i&&e.currency===n&&e.renewal_term===o&&e.unit===c&&e.billable_product_key===l&&e.billable_product_variant_id===d);if(1===u.length){if(c===a.IX.YEAR&&r===a.IX.MONTH){let e=u[0].amount/12;return{...u[0],unit:r,amount:e}}if(c===a.IX.MONTH&&r===a.IX.YEAR){let e=12*u[0].amount;return{...u[0],unit:r,amount:e}}return u[0]}if(u.length>1)throw new s(`Multiple product prices available for: ${JSON.stringify(t)}`);throw new s(`No product price available for: ${JSON.stringify(t)})`)}let r={[n.OL.TEAM]:[a.IX.MONTH,a.IX.YEAR],[n.OL.ORG]:[a.IX.YEAR]}},286734(e,t,i){i.d(t,{O:()=>s});var n=i(850159),a=i(63504);function s(e){switch(e){case a.ud.EXPERT:return(0,n.t)("billing_modals.billing_remodel_edu.full_seat");case a.ud.DEVELOPER:return(0,n.t)("billing_modals.billing_remodel_edu.dev_seat");case a.ud.COLLABORATOR:return(0,n.t)("billing_modals.billing_remodel_edu.collab_seat");case a.ud.CONTENT:return(0,n.t)("billing_modals.billing_remodel_edu.content_seat");case a.Gu.VIEW:return(0,n.t)("billing_modals.billing_remodel_edu.view_seat");default:return""}}},53253(e,t,i){i.d(t,{o:()=>s});var n=i(491852);let a=null;function s(e){return(!a&&(a=n.dS3?.getEditScopeMigrationMap()??new Map),a).get(e)??e}},918167(e,t,i){i.d(t,{$V:()=>l,IA:()=>o,U9:()=>c,nC:()=>d,qL:()=>u,vS:()=>r});var n=i(491852),a=i(850159);function s(e){switch(e){case 1:return(0,a.t)("fullscreen.accessibility.node_resize_decrease");case 2:return(0,a.t)("fullscreen.accessibility.node_resize_increase");default:return(0,a.t)("fullscreen.accessibility.node_resize_none")}}function o(e,t){let i,n,o,r=0,l=0,d=0;switch(0!==e.x&&(r|=1,l=e.x>0?2:1),0!==e.y&&(r|=2,d=e.y>0?2:1),r){case 0:return;case 1:i=(0,a.t)("fullscreen.accessibility.node_resize_horizontal"),n=s(l),o=Math.abs(e.x);break;case 2:i=(0,a.t)("fullscreen.accessibility.node_resize_vertical"),n=s(d),o=Math.abs(e.y);break;default:let c=Math.abs(e.x),u=s(l),_=Math.abs(e.y),m=s(d);return(0,a.t)("fullscreen.accessibility.node_resize_bidirectional",{nodeType:t,resizedComparisonX:u,nodeResizeXDelta:(0,a.t)("fullscreen.accessibility.node_unit",{numUnits:c}),resizedComparisonY:m,nodeResizeYDelta:(0,a.t)("fullscreen.accessibility.node_unit",{numUnits:_})})}return(0,a.t)("fullscreen.accessibility.node_resize_unidirectional",{nodeType:t,nodeSizeDelta:o,resizeComparison:n,nodeDirection:i})}function r(e,t){let i,n,s=0;switch(e.x>0?s|=4:e.x<0&&(s|=8),e.y<0?s|=1:e.y>0&&(s|=2),s){case 0:return;case 1:i=(0,a.t)("fullscreen.accessibility.node_movement_up"),n=Math.abs(e.y);break;case 2:i=(0,a.t)("fullscreen.accessibility.node_movement_down"),n=Math.abs(e.y);break;case 4:i=(0,a.t)("fullscreen.accessibility.node_movement_right"),n=Math.abs(e.x);break;case 8:i=(0,a.t)("fullscreen.accessibility.node_movement_left"),n=Math.abs(e.x);break;default:let o=(4&s)==4?(0,a.t)("fullscreen.accessibility.node_movement_right"):(0,a.t)("fullscreen.accessibility.node_movement_left"),r=Math.abs(e.x),l=(1&s)==1?(0,a.t)("fullscreen.accessibility.node_movement_up"):(0,a.t)("fullscreen.accessibility.node_movement_down"),d=Math.abs(e.y);return(0,a.t)("fullscreen.accessibility.node_movement_bidirectional",{nodeType:t,nodePositionXDelta:(0,a.t)("fullscreen.accessibility.node_unit",{numUnits:r}),nodeDirectionX:o,nodePositionYDelta:(0,a.t)("fullscreen.accessibility.node_unit",{numUnits:d}),nodeDirectionY:l})}return(0,a.t)("fullscreen.accessibility.node_movement_unidirectional",{nodeType:t,nodePositionDelta:n,nodeDirection:i})}function l(e,t){let i=e>0?(0,a.t)("fullscreen.accessibility.node_rotate_cw"):(0,a.t)("fullscreen.accessibility.node_rotate_ccw"),n=Math.round(180/Math.PI*Math.abs(e));return(0,a.t)("fullscreen.accessibility.node_rotate",{nodeType:t,nodeRotateDelta:n,nodeRotateDirection:i})}function d(e,t,i,n){return e>0?t():e<-0?i():n?.()}function c(e,t){let i;switch(e){case n.UwK.TOP:i=(0,a.t)("fullscreen.accessibility.selection_aligned_top");break;case n.UwK.VERTICAL_CENTER:i=(0,a.t)("fullscreen.accessibility.selection_aligned_vertical_center");break;case n.UwK.BOTTOM:i=(0,a.t)("fullscreen.accessibility.selection_aligned_bottom");break;case n.UwK.LEFT:i=(0,a.t)("fullscreen.accessibility.selection_aligned_left");break;case n.UwK.HORIZONTAL_CENTER:i=(0,a.t)("fullscreen.accessibility.selection_aligned_horizontal_center");break;case n.UwK.RIGHT:i=(0,a.t)("fullscreen.accessibility.selection_aligned_right");break;case n.UwK.VERTICAL_INTERSECTING:return(0,a.t)("fullscreen.accessibility.selection_aligned_vertical_intersecting");case n.UwK.HORIZONTAL_INTERSECTING:return(0,a.t)("fullscreen.accessibility.selection_aligned_horizontal_intersecting");default:return}return t===n.vAL.ALIGNING_TO_PARENT?(0,a.t)("fullscreen.accessibility.selection_aligned_to_parent",{direction:i}):e===n.UwK.HORIZONTAL_CENTER||e===n.UwK.VERTICAL_CENTER?(0,a.t)("fullscreen.accessibility.selection_aligned_to_nodes_vert_hor_intersection",{direction:i}):(0,a.t)("fullscreen.accessibility.selection_aligned_to_nodes_in_selection",{direction:i})}function u({sourceNodeName:e,targetNodeName:t,leftDistance:i,rightDistance:n,topDistance:s,bottomDistance:o}){let r=null===e?(0,a.t)("fullscreen.accessibility.design.measurement.selection"):e,l=e=>null===e?null:(0,a.t)("fullscreen.accessibility.design.measurement.distance",{distance:Math.abs(e)});if(null!==i&&null!==n&&null!==s&&null!==o)return(0,a.t)("fullscreen.accessibility.design.measurement.overlapping_announcement",{sourceNodeName:r,targetNodeName:t,leftDistance:l(i)||"",rightDistance:l(n)||"",topDistance:l(s)||"",bottomDistance:l(o)||""});{let e=[],d=[];null!==i&&e.push((0,a.t)("fullscreen.accessibility.design.measurement.gap.left",{distance:l(i)||""})),null!==n&&e.push((0,a.t)("fullscreen.accessibility.design.measurement.gap.right",{distance:l(n)||""})),null!==s&&e.push((0,a.t)("fullscreen.accessibility.design.measurement.gap.top",{distance:l(s)||""})),null!==o&&e.push((0,a.t)("fullscreen.accessibility.design.measurement.gap.bottom",{distance:l(o)||""}));let c=e.length>0?e.join(", ")+".":"",u=d.length>0?" "+d.join(", ")+".":"";return(0,a.t)("fullscreen.accessibility.design.measurement.gap_announcement",{sourceNodeName:r,targetNodeName:t,gapDescription:c,counterDescription:u})}}},424075(e,t,i){let n;i.d(t,{D:()=>u,J:()=>n});var a=i(106681),s=i(506608),o=i(44265);function r(e){return{action_flags:e}}let l=[{code_name:"NONE",json_name:"none",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"PLACE",json_name:"place",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"QUIT",json_name:"quit",is_edit:!1,enabled:r(["figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"BACK_TO_FILES",json_name:"back-to-files",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_FONT_SETTINGS",json_name:"open-font-settings",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"SAVE",json_name:"save",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"SAVE_AS",json_name:"save-as",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_SAVEPOINT",json_name:"create-savepoint",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","variables_table","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_VERSION_HISTORY",json_name:"toggle-version-history",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_SELECTED_EXPORTABLES",json_name:"export-selected-exportables",is_edit:!1,enabled:r(["mode_selection","property","feedback_and_history","dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_SELECTED_EXPORTABLES_DIRECT",json_name:"export-selected-exportables-direct",is_edit:!1,enabled:r(["dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_NODE_DIRECT_COOPER",json_name:"export-node-direct-cooper",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"EXPORT_ASSETS_HANDOFF",json_name:"export-assets-handoff",is_edit:!1,enabled:r(["dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_ALL_EXPORTABLES",json_name:"export-all-exportables",is_edit:!1,enabled:r(["property","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_SELECTION_OR_CURRENT_PAGE",json_name:"export-selection-or-current-page",is_edit:!1,enabled:r(["mode_selection","property","feedback_and_history","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_SELECTED_VIDEO",json_name:"export-selected-video",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","sites"]),handler:o.X,team:o.R},{code_name:"COMBINE_SELECTED_VIDEO_STACK",json_name:"combine-selected-video-stack",is_edit:!0,enabled:r(["mode_paint_selection","property"]),handler:o.X,team:o.R},{code_name:"EXPORT_BUZZ_ASSETS",json_name:"export-buzz-assets",is_edit:!1,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"IMPORT_FROM_CSV",json_name:"import-from-csv",is_edit:!0,enabled:r(["mode_selection","property","feedback_and_history","figjam","sites"]),handler:o.X,team:o.R},{code_name:"IMPORT",json_name:"import",is_edit:!0,enabled:r(["mode_selection","property","feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PAGE_NEW",json_name:"page-new",is_edit:!0,enabled:r(["mode_selection","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"PAGE_PREVIOUS",json_name:"page-previous",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_NEXT",json_name:"page-next",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_DELETE",json_name:"page-delete",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_DUPLICATE",json_name:"page-duplicate",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_MOVE_TO",json_name:"page-move-to",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_RENAME",json_name:"page-rename",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"TRACK_PAGE_RENAME",json_name:"track-page-rename",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"BATCH_PAGE_RENAME",json_name:"batch-page-rename",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"PAGE_MOVE_TO_MENU",json_name:"page-move-to-menu",is_edit:!0,enabled:r(["mode_selection","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"PAGE_MOVE_TO_NEW_FILE",json_name:"page-move-to-new-file",is_edit:!0,enabled:r(["mode_selection","dev_handoff"]),handler:o.X,team:o.R},{code_name:"PAGE_COPY_LINK",json_name:"page-copy-link",is_edit:!1,enabled:r(["figjam","dev_handoff","variables_table","slides","cooper","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"COPY_LINK",json_name:"copy-link",is_edit:!1,enabled:r(["figjam","dev_handoff","variables_table","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"UNDO",json_name:"undo",is_edit:!0,enabled:r(["mode_all","feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"REDO",json_name:"redo",is_edit:!0,enabled:r(["mode_all","feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"CUT",json_name:"cut",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY",json_name:"copy",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_MENU",json_name:"copy-as-menu",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_PASTE_MENU",json_name:"copy-paste-menu",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_CODE",json_name:"copy-as-code",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_CSS",json_name:"copy-as-css",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_CSS_RECURSIVE",json_name:"copy-as-css-recursive",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_ANDROID",json_name:"copy-as-android",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_IOS",json_name:"copy-as-ios",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_SVG",json_name:"copy-as-svg",is_edit:!1,enabled:r(["mode_selection","property","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_AS_PNG",json_name:"copy-as-png",is_edit:!1,enabled:r(["mode_selection","property","figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PANELS_MENU",json_name:"panels-menu",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"MASTER_COMPONENT_MENU",json_name:"main-component",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"COPY_PROPERTIES",json_name:"copy-properties",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_TEXT",json_name:"copy-text",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"COPY_LAYER_NAME",json_name:"copy-layer-name",is_edit:!1,enabled:r(["dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"PASTE",json_name:"paste",is_edit:!0,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PASTE_HERE",json_name:"paste-here",is_edit:!0,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PASTE_PROPERTIES",json_name:"paste-properties",is_edit:!0,enabled:r(["mode","mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PASTE_OVER_SELECTION",json_name:"paste-over-selection",is_edit:!0,enabled:r(["mode","figjam","mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PASTE_TO_REPLACE",json_name:"paste-to-replace",is_edit:!0,enabled:r(["mode","figjam","mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PASTE_WIDGETS_AS_SUBLAYERS",json_name:"paste-widgets-as-sublayers",is_edit:!0,enabled:r(["mode","mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_ROTATION_ORIGIN",json_name:"show-rotation-origin",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_CHILD",json_name:"select-child",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_PARENT",json_name:"select-parent",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_NEXT_SIBLING",json_name:"select-next-sibling",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","tool","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_PREVIOUS_SIBLING",json_name:"select-previous-sibling",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","tool","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_NEXT_NODE",json_name:"select-next-node",is_edit:!1,enabled:r(["figjam","dev_handoff","slides","cooper","tool","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_PREVIOUS_NODE",json_name:"select-previous-node",is_edit:!1,enabled:r(["figjam","dev_handoff","slides","cooper","tool","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_ALL",json_name:"select-all",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_ALL_WIDGETS",json_name:"select-all-widgets",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_ALL_SLIDES",json_name:"select-all-slides",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper"]),handler:o.X,team:o.R},{code_name:"SELECT_INVERSE",json_name:"select-inverse",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TEXT_SELECTION_END",json_name:"move-text-selection-end",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TEXT_SELECTION_START",json_name:"move-text-selection-start",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXTEND_TEXT_SELECTION_END",json_name:"extend-text-selection-end",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXTEND_TEXT_SELECTION_START",json_name:"extend-text-selection-start",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TEXT_SELECTION_FORWARD",json_name:"move-text-selection-forward",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TEXT_SELECTION_BACKWARD",json_name:"move-text-selection-backward",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXTEND_TEXT_SELECTION_FORWARD",json_name:"extend-text-selection-forward",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXTEND_TEXT_SELECTION_BACKWARD",json_name:"extend-text-selection-backward",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_MATCHING",json_name:"select-matching",is_edit:!1,enabled:r(["feedback_and_history","mode_selection","slides","cooper","slides_single_slide_view_change","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SIMILAR",json_name:"select-similar",is_edit:!1,enabled:r(["feedback_and_history","mode_selection","slides_single_slide_view_change","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_NODE",json_name:"select-node",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_NODE_MENU",json_name:"select-node-menu",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"SET_DEFAULT_STYLE",json_name:"set-default-style",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FIND_SYMBOL",json_name:"find-symbol",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"FIND_COMPONENT_IN_FILE",json_name:"find-component-in-file",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_SYMBOL",json_name:"create-symbol",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_MULTIPLE_SYMBOLS",json_name:"create-multiple-symbols",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_MULTIPLE_SYMBOLS_AND_STATE_GROUP",json_name:"create-multiple-symbols-and-state-group",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"PUBLISH_SELECTION",json_name:"publish-selection",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"PUBLISH_CHANGES_TO_LIBRARY",json_name:"publish-changes-to-library",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"PUBLISH_TEMPLATE",json_name:"publish-template",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PUSH_CHANGES_TO_MAIN",json_name:"push-changes-to-main",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_SYMBOL",json_name:"reset-symbol",is_edit:!0,enabled:r(["mode_selection","property","slides","sites"]),handler:o.X,team:o.R},{code_name:"RESET_FAUXVERRIDE",json_name:"reset-fauxverride",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_RESPONSIVE_CONTAINER_OVERRIDES",json_name:"reset-responsive-container-overrides",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_SIZE",json_name:"reset-size",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_EXPORTS",json_name:"reset-exports",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_EFFECTS",json_name:"reset-effects",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_LAYER",json_name:"reset-layer",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_VISIBLE",json_name:"reset-visible",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_NAME",json_name:"reset-name",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_FILL",json_name:"reset-fill",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_STROKE",json_name:"reset-stroke",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_TEXT",json_name:"reset-text",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_TEXT_STYLE",json_name:"reset-text-style",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_PROTOTYPE_INTERACTIONS",json_name:"reset-prototype-interactions",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_OVERLAY",json_name:"reset-overlay",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESTORE_SYMBOL_OR_STATE_GROUP",json_name:"restore-symbol-or-state-group",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"SWAP_TO_RELATED_SYMBOL",json_name:"swap-to-related-symbol",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"ADD_VARIANT",json_name:"add-variant",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_STATE_GROUP",json_name:"create-state-group",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_STATE",json_name:"create-state",is_edit:!0,enabled:r(["mode_selection","slides","sites"]),handler:o.X,team:o.R},{code_name:"SWAP_TO_RELATED_STATE",json_name:"swap-to-related-state",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_BUZZ_TEMPLATES",json_name:"create-buzz-templates",is_edit:!0,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"CREATE_BUZZ_TEMPLATE_SET_ROW",json_name:"create-buzz-template-set-row",is_edit:!0,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"CREATE_BUZZ_TEMPLATES_FROM_ROW",json_name:"create-buzz-templates-from-row",is_edit:!0,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"ADD_VARIANT_TO_BUZZ_TEMPLATE_SET",json_name:"add-variant-to-buzz-template-set",is_edit:!0,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"DETACH_LOCKED_TEMPLATE",json_name:"detach-locked-template",is_edit:!0,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"CREATE_WEBPAGE",json_name:"create-webpage",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_RESPONSIVE_NODE_SET",json_name:"create-responsive-node-set",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_TEMPLATE",json_name:"create-template",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CONVERT_TO_SLOT",json_name:"convert-to-slot",is_edit:!0,enabled:r(["mode_selection","property","sites","slides","cooper"]),handler:o.X,team:o.R},{code_name:"GROUP_SELECTION_INTO_SLOT",json_name:"group-selection-into-slot",is_edit:!0,enabled:r(["mode_selection","sites","slides","cooper"]),handler:o.X,team:o.R},{code_name:"EMPTY_SLOT_CONTENTS",json_name:"empty-slot-contents",is_edit:!0,enabled:r(["mode_selection","property","sites","slides","cooper"]),handler:o.X,team:o.R},{code_name:"RESET_SLOT_ASSIGNMENT",json_name:"reset-slot-assignment",is_edit:!0,enabled:r(["mode_selection","property","sites","slides","cooper"]),handler:o.X,team:o.R},{code_name:"SWAP_NODES",json_name:"swap-nodes",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DETACH_INSTANCE",json_name:"detach-instance",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_DETACHED_SYMBOL_ID",json_name:"remove-detached-symbol-id",is_edit:!0,enabled:r(["dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"UPDATE_INSTANCE_LAYOUT_VERSION",json_name:"update-instance-layout-version",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"REGENERATE_ALL_INSTANCES",json_name:"regenerate-all-instances",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REGENERATE_SELECTED_INSTANCES",json_name:"regenerate-selected-instances",is_edit:!0,enabled:r(["selection"]),handler:o.X,team:o.R},{code_name:"REGENERATE_FILE_GEOMETRY",json_name:"regenerate-file-geometry",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REGENERATE_MISSING_THUMBNAILS",json_name:"regenerate-missing-thumbnails",is_edit:!0,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"BACKUP_ALL_OVERRIDES",json_name:"backup-all-overrides",is_edit:!0,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"DETACH_ALL_INSTANCES",json_name:"detach-all-instances",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_VARIABLES",json_name:"toggle-variables",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"REMOVE_ORPHANED_VARIABLES",json_name:"remove-orphaned-variables",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_RESPONSIVE_TEXT_STYLE_VARIANTS",json_name:"remove-responsive-text-style-variants",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"REPAIR_SELECTED_INSTANCES",json_name:"repair-selected-instances",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_BREAKPOINT_MULTIEDIT",json_name:"repair-breakpoint-multiedit",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DETACH_DELETED_VARIABLES",json_name:"detach-deleted-variables",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"DETACH_DELETED_STYLES",json_name:"detach-deleted-styles",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_STATE_GROUP_VERSIONS",json_name:"repair-state-group-versions",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_VARIABLE_CONNECTIONS",json_name:"repair-variable-connections",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REPAIR_VARIABLE_MODE_VALUES",json_name:"repair-variable-mode-values",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"RESTORE_SOFT_DELETED_VARIABLE_SETS",json_name:"restore-soft-deleted-variable-sets",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"RERESOLVE_VARIABLE_REFERENCES",json_name:"reresolve-variable-references",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"RESTORE_AUTOLAYOUT_POSITION",json_name:"restore-autolayout-position",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"RESET_TRANSFORM",json_name:"reset-transform",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"RESET_VARIABLE_MODES",json_name:"reset-variable-modes",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"RESET_ALL_VARIABLE_MODES",json_name:"reset-all-variable-modes",is_edit:!0,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"FIND_SHARED_INSTANCES_NEED_RELINKING",json_name:"find-shared-instances-need-relinking",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"RELINK_INSTANCES_TO_LOCAL_COMPONENT",json_name:"relink-instances-to-local-component",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"CALC_DELETED_COMPONENT_PUBLISHED_VERSION",json_name:"calculate-deleted-components-published-version",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPUBLISH_SELECTED_COMPONENTS",json_name:"republish-selected-components",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"REPUBLISH_AUTO_LAYOUT_COMPONENTS",json_name:"republish-auto-layout-components",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_BROKEN_FIXED_SCROLLING_NODES",json_name:"select-broken-fixed-scrolling-nodes",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"CLEAR_SELECTION_COMPONENT_PROPS",json_name:"clear-component-props-data-for-selection",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REGENERATE_COMPONENT_PROPS",json_name:"regenerate-component-props",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"PRUNE_INVALID_COMPONENT_PROP_REFS",json_name:"prune-invalid-component-prop-refs",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_MISSING_OVERRIDE_KEYS",json_name:"repair-missing-override-keys",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_CORRUPT_OVERRIDE_KEYS_FOR_SELECTION",json_name:"repair-corrupt-override-keys-for-selected",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"RESTORE_SOFT_DELETED_SELECTION",json_name:"restore-soft-deleted-selection",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPAIR_DUPLICATE_SUBSCRIBED_ASSETS",json_name:"repair-duplicate-subscribed-assets",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"REFLOW_IMMUTABLE_FRAMES",json_name:"reflow-immutable-frames",is_edit:!0,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"DISABLE_ALL_UNFRAMED_MASKS",json_name:"disable-all-unframed-masks",is_edit:!0,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"RESIZE_TO_FIT",json_name:"resize-to-fit",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_FRAME_ORIENTATION",json_name:"toggle-frame-orientation",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"START_CHAT",json_name:"start-chat",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_FRAME_CLIPPING",json_name:"toggle-frame-clipping",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"HIDE_SIBLING_LAYERS",json_name:"hide-sibling-layers",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"COLLAPSE_LAYERS",json_name:"collapse-layers",is_edit:!0,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"DUPLICATE",json_name:"duplicate",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DUPLICATE_IN_PLACE",json_name:"duplicate-in-place",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"QUICK_CREATE",json_name:"quick-create",is_edit:!0,enabled:r(["mode_selection","tool","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"QUICK_CREATE_DIAGRAM_SIBLING",json_name:"quick-create-diagram-sibling",is_edit:!0,enabled:r(["mode_selection","tool","figjam"]),handler:o.X,team:o.R},{code_name:"FLIP_HORIZONTAL",json_name:"flip-horizontal",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"FLIP_VERTICAL",json_name:"flip-vertical",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ROTATE_180",json_name:"rotate-180",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ROTATE_90_COUNTERCLOCKWISE",json_name:"rotate-90-counterclockwise",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ROTATE_90_CLOCKWISE",json_name:"rotate-90-clockwise",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"BRING_TO_FRONT",json_name:"bring-to-front",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"BRING_FORWARD",json_name:"bring-forward",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SEND_BACKWARD",json_name:"send-backward",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SEND_TO_BACK",json_name:"send-to-back",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CONVERT_TO_RASTER",json_name:"convert-to-raster",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FLATTEN_SELECTION",json_name:"flatten-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_ANNOTATIONS",json_name:"remove-annotations",is_edit:!0,enabled:r(["mode_selection","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"ADD_ANNOTATION",json_name:"add-annotation",is_edit:!0,enabled:r(["mode_selection","dev_mode_access","tool","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_FILL",json_name:"remove-fill",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_GUIDE",json_name:"remove-guide",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_HORIZONTAL_GUIDES",json_name:"remove-horizontal-guides",is_edit:!0,enabled:r(["property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_VERTICAL_GUIDES",json_name:"remove-vertical-guides",is_edit:!0,enabled:r(["property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_STROKE",json_name:"remove-stroke",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SWAP_FILL_AND_STROKE",json_name:"swap-fill-and-stroke",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_FILL",json_name:"select-same-fill",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_STROKE",json_name:"select-same-stroke",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_EFFECT",json_name:"select-same-effect",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_TEXT",json_name:"select-same-text",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_FONT",json_name:"select-same-font",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_STYLE",json_name:"select-same-style",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_INSTANCE",json_name:"select-same-instance",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_SAME_VARIANT",json_name:"select-same-variant",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_ALL_TEXT",json_name:"select-all-text",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REPLACE_SELECTED_TEXT",json_name:"replace-selected-text",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LOCK_ASPECT_RATIO",json_name:"aspect-ratio-lock",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"UNLOCK_ASPECT_RATIO",json_name:"aspect-ratio-unlock",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FRAME_SELECTION",json_name:"frame-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"GROUP_SELECTION",json_name:"group-selection",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"UNGROUP_SELECTION",json_name:"ungroup-selection",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_TEXT_NODE",json_name:"create-text-node",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_TRIANGLE",json_name:"create-triangle",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_ELLIPSE",json_name:"create-ellipse",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_ROUNDED_RECTANGLE",json_name:"create-rounded-rectangle",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_DIAMOND",json_name:"create-diamond",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_COMMENT",json_name:"create-comment",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_STICKY",json_name:"create-sticky",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_SECTION",json_name:"create-section",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_SLIDE",json_name:"create-slide",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"CREATE_ROW",json_name:"create-row",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"MASK_SELECTION",json_name:"mask-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"RENAME_SELECTION",json_name:"rename-selection",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_SECTION_FROM_SELECTION",json_name:"create-section-from-selection",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_AS_PRIMARY_BREAKPOINT",json_name:"set-as-primary-breakpoint",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"REPLACE_SELECTED_FRAME_WITH_SECTION",json_name:"replace-selected-frame-with-section",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CONVERT_SELECTED_NODES_TO_FRAME",json_name:"convert-selected-nodes-to-frame",is_edit:!0,enabled:r(["mode_selection","property","sites","slides","cooper"]),handler:o.X,team:o.R},{code_name:"ADD_SELECTION_READY_STATUS",json_name:"add-selection-ready-status",is_edit:!0,enabled:r(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"MARK_INCOMPLETE",json_name:"mark-incomplete",is_edit:!0,enabled:r(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_SELECTION_COMPLETED_STATUS",json_name:"set-selection-completed-status",is_edit:!0,enabled:r(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_SELECTION_STATUS",json_name:"remove-selection-status",is_edit:!0,enabled:r(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_STATUS_IN_FOCUS_VIEW",json_name:"remove-status-in-focus-view",is_edit:!0,enabled:r(["property","selection","dev_handoff"]),handler:o.X,team:o.R},{code_name:"CONVERT_TABLE_TO_STICKY_GRID",json_name:"convert-table-to-sticky-grid",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"FIND_INSPIRATION",json_name:"find-inspiration",is_edit:!1,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"FIND_CODEBASE_SUGGESTIONS",json_name:"find-codebase-suggestions",is_edit:!1,enabled:r(["mode_selection","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"INSPECT_FRAGMENT",json_name:"inspect-fragment",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_BRUSH_MENU",json_name:"create-brush-menu",is_edit:!1,enabled:r(["mode_selection","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"CREATE_STRETCH_BRUSH",json_name:"create-stretch-brush",is_edit:!1,enabled:r(["mode_selection","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"CREATE_SCATTER_BRUSH",json_name:"create-scatter-brush",is_edit:!1,enabled:r(["mode_selection","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"MIGRATE_PATTERN_SPACING",json_name:"migrate-pattern-spacing",is_edit:!0,enabled:r(["mode_selection","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"STACK_SELECTION",json_name:"stack-selection",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"STACK_SELECTED_NODES",json_name:"stack-selected-nodes",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"UNSTACK_SELECTION",json_name:"unstack-selection",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"GRID_SELECTION",json_name:"grid-selection",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"SET_SELECTION_FILL_HORIZONTAL",json_name:"set-selection-fill-horizontal",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SELECTION_HUG_HORIZONTAL",json_name:"set-selection-hug-horizontal",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SELECTION_FILL_VERTICAL",json_name:"set-selection-fill-vertical",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SELECTION_HUG_VERTICAL",json_name:"set-selection-hug-vertical",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_ARC",json_name:"create-arc",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"APPLY_TRANSFORM_MODIFIERS",json_name:"apply-transform-modifiers",is_edit:!0,enabled:r(["mode_selection","property","sites"]),handler:o.X,team:o.R},{code_name:"OUTLINE_STROKE",json_name:"outline-stroke",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LIVE_BOOLEAN_UNION",json_name:"live-boolean-union",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LIVE_BOOLEAN_SUBTRACT",json_name:"live-boolean-subtract",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LIVE_BOOLEAN_INTERSECT",json_name:"live-boolean-intersect",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LIVE_BOOLEAN_XOR",json_name:"live-boolean-xor",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_TRANSFORM_MODIFIER_TO_SELECTION",json_name:"add-transform-modifier-to-selection",is_edit:!0,enabled:r(["mode_selection","property"]),handler:o.X,team:o.R},{code_name:"ADD_LINEAR_REPEAT_TO_SELECTION",json_name:"add-linear-repeat-to-selection",is_edit:!0,enabled:r(["mode_selection","property"]),handler:o.X,team:o.R},{code_name:"ADD_SKEW_MODIFIER_TO_SELECTION",json_name:"add-skew-modifier-to-selection",is_edit:!0,enabled:r(["mode_selection","property"]),handler:o.X,team:o.R},{code_name:"ALIGN_TOP",json_name:"align-top",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_VERTICAL_CENTER",json_name:"align-vertical-center",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_BOTTOM",json_name:"align-bottom",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_LEFT",json_name:"align-left",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_HORIZONTAL_CENTER",json_name:"align-horizontal-center",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_RIGHT",json_name:"align-right",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_TOP_AS_GROUP",json_name:"align-top-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_VERTICAL_CENTER_AS_GROUP",json_name:"align-vertical-center-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_BOTTOM_AS_GROUP",json_name:"align-bottom-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_LEFT_AS_GROUP",json_name:"align-left-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_HORIZONTAL_CENTER_AS_GROUP",json_name:"align-horizontal-center-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ALIGN_RIGHT_AS_GROUP",json_name:"align-right-as-group",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ROUND_TO_PIXELS",json_name:"round-to-pixels",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"ARRANGE_AS_GRID",json_name:"arrange-as-grid",is_edit:!0,enabled:r(["mode_selection_detected_grid","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ARRANGE_AS_LIST",json_name:"arrange-as-list",is_edit:!0,enabled:r(["mode_selection_detected_list","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TIDY_UP",json_name:"tidy-up",is_edit:!0,enabled:r(["mode_selection_smart_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PACK_HORIZONTAL",json_name:"pack-horizontal",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"PACK_VERTICAL",json_name:"pack-vertical",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_HORIZONTAL_SPACING",json_name:"distribute-horizontal-spacing",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_VERTICAL_SPACING",json_name:"distribute-vertical-spacing",is_edit:!0,enabled:r(["mode_selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_TOP",json_name:"distribute-top",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_VERTICAL_CENTER",json_name:"distribute-vertical-center",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_BOTTOM",json_name:"distribute-bottom",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_LEFT",json_name:"distribute-left",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_HORIZONTAL_CENTER",json_name:"distribute-horizontal-center",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DISTRIBUTE_RIGHT",json_name:"distribute-right",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_BOLD",json_name:"toggle-bold",is_edit:!0,enabled:r(["mode_selection","tool","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_TOGGLE_ITALIC",json_name:"text-toggle-italic",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_BOLD_INCREASE",json_name:"text-bold-increase",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_BOLD_DECREASE",json_name:"text-bold-decrease",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_TOGGLE_UNDERLINE",json_name:"text-toggle-underline",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_TOGGLE_STRIKETHROUGH",json_name:"text-toggle-strikethrough",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_REMOVE_DECORATION",json_name:"text-remove-decoration",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_DELETE_SELECTION_OR_END",json_name:"text-delete-selection-or-end",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_DELETE_SELECTION_OR_NEXT_CHARACTER",json_name:"text-delete-selection-or-next-character",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_UPGRADE_TEXT_EXPLICIT_LAYOUT_VERSION",json_name:"text-upgrade-explicit-layout-version",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_UPGRADE_TO_BIDI",json_name:"text-upgrade-to-bidi",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_TOGGLE_ORDERED_LIST",json_name:"text-toggle-ordered-list",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_TOGGLE_UNORDERED_LIST",json_name:"text-toggle-unordered-list",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_CLEAR_LIST_FORMATTING",json_name:"text-clear-list-formatting",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_INDENT_LIST",json_name:"text-indent-list",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_DEDENT_LIST",json_name:"text-dedent-list",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_DIRECTIONALITY_MENU",json_name:"text-directionality-menu",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_DIRECTIONALITY_LTR",json_name:"text-set-directionality-ltr",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_DIRECTIONALITY_LTR_QA",json_name:"text-set-directionality-ltr-qa",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_DIRECTIONALITY_RTL",json_name:"text-set-directionality-rtl",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_DIRECTIONALITY_RTL_QA",json_name:"text-set-directionality-rtl-qa",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_EDIT_HYPERLINK",json_name:"text-edit-hyperlink",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper"]),handler:o.X,team:o.R},{code_name:"FOCUS_LINK_PANEL",json_name:"focus-link-panel",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_CASE_MENU",json_name:"text-case-menu",is_edit:!1,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_ORIGINAL_CASE",json_name:"text-original-case",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_UPPER_CASE",json_name:"text-upper-case",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_LOWER_CASE",json_name:"text-lower-case",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_TITLE_CASE",json_name:"text-title-case",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_SMALL_CAPS",json_name:"text-small-caps",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_SET_FORCED_SMALL_CAPS",json_name:"text-forced-small-caps",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_RELAYOUT",json_name:"text-relayout",is_edit:!0,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_MENU",json_name:"text-align-menu",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_LEFT",json_name:"text-align-left",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_CENTER",json_name:"text-align-center",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_RIGHT",json_name:"text-align-right",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_JUSTIFIED",json_name:"text-align-justified",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_TOP",json_name:"text-align-top",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_MIDDLE",json_name:"text-align-middle",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ALIGN_BOTTOM",json_name:"text-align-bottom",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_STYLE_TITLE",json_name:"text-style-title",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_STYLE_H1",json_name:"text-style-h1",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_STYLE_H2",json_name:"text-style-h2",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_STYLE_H3",json_name:"text-style-h3",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_STYLE_NORMAL",json_name:"text-style-normal",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_ADJUST_MENU",json_name:"text-adjust-menu",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_LINE_HEIGHT_DECREASE",json_name:"text-line-height-decrease",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_LINE_HEIGHT_INCREASE",json_name:"text-line-height-increase",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_FONT_SIZE_DECREASE",json_name:"text-font-size-decrease",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_FONT_SIZE_INCREASE",json_name:"text-font-size-increase",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_LETTER_SPACING_DECREASE",json_name:"text-letter-spacing-decrease",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TEXT_LETTER_SPACING_INCREASE",json_name:"text-letter-spacing-increase",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"GOTO_LAYER",json_name:"goto-layer",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"COMMIT",json_name:"commit",is_edit:!1,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"AFTER_UNDO_REDO_COMMIT",json_name:"after-undo-redo-commit",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"PURGE_ALL_MEMORY",json_name:"purge-all-memory",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"REDRAW_CANVAS",json_name:"redraw-canvas",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"AFTER_FIRST_RENDER",json_name:"after-first-render",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"REQUEST_EDIT_MODE",json_name:"request-edit-mode",is_edit:!1,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"REQUEST_EDIT_MODE_VIA_TOOLBAR",json_name:"request-edit-mode-via-toolbar",is_edit:!1,enabled:r(["mode_selection","figjam","cooper","sites"]),handler:o.X,team:o.R},{code_name:"LEAVE_EDIT_MODE",json_name:"leave-edit-mode",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_EDIT_MODE",json_name:"toggle-edit-mode",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_GRADIENT_EDIT_MODE",json_name:"toggle-gradient-edit-mode",is_edit:!1,enabled:r(["mode_paint_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PROGRESSIVE_BLUR_EDIT_MODE",json_name:"toggle-progressive-blur-edit-mode",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RASTER_EDIT_MODE",json_name:"toggle-raster-edit-mode",is_edit:!1,enabled:r(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CROP_IMAGE",json_name:"crop-image",is_edit:!0,enabled:r(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_IMAGE_OVERLAY",json_name:"add-image-overlay",is_edit:!0,enabled:r(["mode_paint_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_IMAGE_OVERLAY",json_name:"remove-image-overlay",is_edit:!0,enabled:r(["mode_paint_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ROTATE_IMAGE_90_CLOCKWISE",json_name:"rotate-image-90-clockwise",is_edit:!0,enabled:r(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_LAYOUT_MODE",json_name:"enter-layout-mode",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_PREVIEW_MODE",json_name:"enter-preview-mode",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_HISTORY_MODE",json_name:"enter-history-mode",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_BRANCHING_MODE",json_name:"enter-branching-mode",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_LIBRARY_MODE",json_name:"enter-library-mode",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEV_HANDOFF_FOCUS_PREVIOUS",json_name:"dev-handoff-focus-previous",is_edit:!1,enabled:r(["mode","feedback_and_history","dev_handoff","tool"]),handler:o.X,team:o.R},{code_name:"DEV_HANDOFF_FOCUS_NEXT",json_name:"dev-handoff-focus-next",is_edit:!1,enabled:r(["mode","feedback_and_history","dev_handoff","tool"]),handler:o.X,team:o.R},{code_name:"TOGGLE_UI",json_name:"toggle-ui",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","overview_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_KEYBOARD_SHORTCUTS",json_name:"toggle-keyboard-shortcuts",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_HELP_WIDGET",json_name:"toggle-help-widget",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_LAYERS",json_name:"toggle-layers",is_edit:!1,enabled:r(["slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PUBLISH",json_name:"toggle-publish",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_LIBRARY",json_name:"toggle-library",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_COMPONENT_INSERT_MODAL",json_name:"component-insert",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SIDEBAR",json_name:"toggle-sidebar",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","figjam","slides","overview_mode","dev_variables_table_view","dev_mode_component_browser","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SNAPPING_TO_PIXELS",json_name:"toggle-snapping-to-pixels",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SNAPPING_TO_OBJECTS",json_name:"toggle-snapping-to-objects",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_SNAPPING_TO_GEOMETRY",json_name:"toggle-snapping-to-geometry",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_SMART_QUOTES",json_name:"toggle-smart-quotes",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_FLIP_DURING_RESIZE",json_name:"toggle-flip-during-resize",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"DISABLE_PINCH_ZOOM_FIX",json_name:"disable-pinch-zoom-fix",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_LAYER_HOVER",json_name:"toggle-layer-hover",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_STICKY_TOOLS",json_name:"toggle-sticky-tools",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_COPY_RENAMING",json_name:"toggle-copy-renaming",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_VIEWPORT_OVERLAY_HIDING",json_name:"toggle-viewport-overlay-hiding",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_KEYBOARD_ZOOM_TO_SELECTION",json_name:"toggle-keyboard-zoom-to-selection",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_MULTIPLAYER_CURSORS",json_name:"toggle-multiplayer-cursors",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_PROPERTY_LABELS",json_name:"toggle-show-property-labels",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ZOOM_IN",json_name:"zoom-in",is_edit:!1,enabled:r(["feedback_and_history","figjam","zoom","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ZOOM_OUT",json_name:"zoom-out",is_edit:!1,enabled:r(["feedback_and_history","figjam","zoom","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ZOOM_RESET",json_name:"zoom-reset",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ZOOM_TO_FIT",json_name:"zoom-to-fit",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ZOOM_TO_SELECTION",json_name:"zoom-to-selection",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_SELECTED_NODES",json_name:"show-selected-nodes",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"HIDE_SELECTED_NODES",json_name:"hide-selected-nodes",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOWN_FOR_SELECTED_NODES",json_name:"toggle-shown-for-selected-nodes",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"UNHIDE_ALL",json_name:"unhide-all",is_edit:!0,enabled:r(["figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"LOCK_SELECTED_NODES",json_name:"lock-selected-nodes",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"LOCK_SELECTED_SECTION_ONLY",json_name:"lock-selected-section-only",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"UNLOCK_SELECTED_NODES",json_name:"unlock-selected-nodes",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_LOCKED_FOR_SELECTED_NODES",json_name:"toggle-locked-for-selected-nodes",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"UNLOCK_ALL",json_name:"unlock-all",is_edit:!0,enabled:r(["figjam","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_AND_HEAL_SELECTION",json_name:"delete-and-heal-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"JOIN_SELECTION",json_name:"join-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SMOOTH_JOIN_SELECTION",json_name:"smooth-join-selection",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"BREAK_VECTOR_NETWORK_INTO_PATHS",json_name:"break-vector-network-into-paths",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DESELECT_ALL",json_name:"deselect-all",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_SELECTION",json_name:"delete-selection",is_edit:!0,enabled:r(["mode_selection","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_MENU",json_name:"toggle-menu",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"INSERT_INTERACTIVE_ELEMENT_INTO_ACTIVE_SLIDE",json_name:"insert-interactive-element-into-active-slide",is_edit:!0,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PREFERENCES",json_name:"toggle-preferences",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","variables_table","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ENTER",json_name:"enter",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"ESCAPE",json_name:"escape",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MULTI_EDIT_TEXT",json_name:"multi-edit-text",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_single_slide_view_change","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_MODE",json_name:"focus-mode",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_MODE_COMPONENT_SET_TOGGLE",json_name:"focus-mode-component-set-toggle",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_MODE_RESPONSIVE_SET_TOGGLE",json_name:"focus-mode-responsive-set",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RESPONSIVE_CONTAINER_MULTIEDIT",json_name:"toggle-responsive-container-multiedit",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_MODE_EXIT",json_name:"focus-mode-exit",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"CANVAS_SEARCH",json_name:"canvas-search",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CANVAS_SEARCH_EXIT",json_name:"canvas-search-exit",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CANVAS_SEARCH_NEXT",json_name:"canvas-search-next",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CANVAS_SEARCH_PREV",json_name:"canvas-search-prev",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CANVAS_SEARCH_REPLACE",json_name:"canvas-search-replace",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RETINA_MODE",json_name:"toggle-retina-mode",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PIXEL_PREVIEW",json_name:"toggle-pixel-preview",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_GOOGLE_FONTS",json_name:"toggle-google-fonts",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_SLICES",json_name:"toggle-show-slices",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_COMMENTS",json_name:"toggle-show-comments",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_ANNOTATIONS",json_name:"toggle-show-annotations",is_edit:!1,enabled:r(["mode","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ALWAYS_EXPAND_ANNOTATIONS",json_name:"toggle-always-expand-annotations",is_edit:!1,enabled:r(["mode","feedback_and_history","sites","dev_mode_access"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DROPPER",json_name:"toggle-dropper",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_INVERT_ZOOM",json_name:"toggle-invert-zoom",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_CURSOR_HIGH_FIVE_WIGGLE",json_name:"toggle-cursor-high-five-wiggle",is_edit:!1,enabled:r(["feedback_and_history","figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_USE_NUMBERS_FOR_OPACITY",json_name:"toggle-use-numbers-for-opacity",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_USE_OLD_OUTLINE_SHORTCUTS",json_name:"toggle-use-old-outline-shortcuts",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_TEXT_SUGGESTIONS_PREFERENCE",json_name:"toggle-text-suggestions-preference",is_edit:!1,enabled:r(["sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SUGGESTED_AI_ACTIONS_PREFERENCE",json_name:"toggle-suggested-ai-actions-preference",is_edit:!1,enabled:r(["sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_CHAT_ON_CANVAS",json_name:"toggle-show-chat-on-canvas",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_AI_SOUND_NOTIFICATION",json_name:"toggle-ai-sound-notification",is_edit:!1,enabled:r(["figmake","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_CTRL_CLICK_CONTEXT_MENU",json_name:"toggle-ctrl-click-context-menu",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_NUDGE_AMOUNT_PICKER",json_name:"show-nudge-amount-picker",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_0",json_name:"set-opacity-0",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_1",json_name:"set-opacity-1",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_2",json_name:"set-opacity-2",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_3",json_name:"set-opacity-3",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_4",json_name:"set-opacity-4",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_5",json_name:"set-opacity-5",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_6",json_name:"set-opacity-6",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_7",json_name:"set-opacity-7",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_8",json_name:"set-opacity-8",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_OPACITY_9",json_name:"set-opacity-9",is_edit:!0,enabled:r(["mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_US_QWERTY",json_name:"keyboard-layout-us-qwerty",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_FRENCH_AZERTY",json_name:"keyboard-layout-french-azerty",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_GERMAN",json_name:"keyboard-layout-german",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_JAPANESE_KANA",json_name:"keyboard-layout-hiragana-kana",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_DVORAK",json_name:"keyboard-layout-dvorak",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_RESET",json_name:"keyboard-layout-reset",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_UK_MAC",json_name:"keyboard-layout-uk-mac",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_UK_PC",json_name:"keyboard-layout-uk-pc",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_SWEDISH",json_name:"keyboard-layout-swedish",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_FINNISH",json_name:"keyboard-layout-finnish",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_DANISH",json_name:"keyboard-layout-danish",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_NORWEGIAN",json_name:"keyboard-layout-norwegian",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_ITALIAN",json_name:"keyboard-layout-italian",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_SPANISH",json_name:"keyboard-layout-spanish",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_SPANISH_LATAM",json_name:"keyboard-layout-spanish-latam",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_CHINESE",json_name:"keyboard-layout-chinese",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_PORTUGUESE",json_name:"keyboard-layout-portuguese",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"KEYBOARD_LAYOUT_KOREAN",json_name:"keyboard-layout-korean",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_LEADING_TRIM",json_name:"toggle-leading-trim-preference",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_HANGING_PUNCTUATION",json_name:"toggle-hanging-punctuation-preference",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_HANGING_LIST",json_name:"toggle-hanging-list-preference",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_SPELL_CHECK",json_name:"toggle-spell-check",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"REDO_SPELL_CHECKING",json_name:"redo-spell-checking",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ENABLE_CODGEN_MCP_SERVER",json_name:"toggle-enable-codegen-mcp-server",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_DEFAULT_EMOJI_SKIN_TONE",json_name:"set-default-emoji-skin-tone",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_FRAME",json_name:"set-tool-frame",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLICE",json_name:"set-tool-slice",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SCALE",json_name:"set-tool-scale",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_TYPE",json_name:"set-tool-type",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_TEXT_PATH",json_name:"set-tool-text-path",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_LINE",json_name:"set-tool-line",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_ARROW",json_name:"set-tool-arrow",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_PEN",json_name:"set-tool-pen",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_PENCIL",json_name:"set-tool-pencil",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_BEND",json_name:"set-tool-bend",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CUT",json_name:"set-tool-cut",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_OFFSET_PATH",json_name:"set-tool-offset-path",is_edit:!1,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SIMPLIFY_VECTOR",json_name:"set-tool-simplify-vector",is_edit:!1,enabled:r(["mode","selection"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_RECOLOR",json_name:"set-tool-recolor",is_edit:!1,enabled:r(["mode","selection"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_RECOLOR_DEBUG",json_name:"set-tool-recolor-debug",is_edit:!1,enabled:r(["mode","selection"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_PAINT_BUCKET",json_name:"set-tool-paint-bucket",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_BUILDER",json_name:"set-tool-shape-builder",is_edit:!1,enabled:r(["mode","slides_tool_mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_VECTOR_LASSO",json_name:"set-tool-vector-lasso",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_IMAGE_LASSO",json_name:"set-tool-image-lasso",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_VAR_WIDTH_POINT",json_name:"set-tool-var-width-point",is_edit:!1,enabled:r(["mode","slides_tool_mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_STAR",json_name:"set-tool-star",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_ELLIPSE",json_name:"set-tool-ellipse",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_RECTANGLE",json_name:"set-tool-rectangle",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_REGULAR_POLYGON",json_name:"set-tool-regular-polygon",is_edit:!1,enabled:r(["mode","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_DEFAULT",json_name:"set-tool-default",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_DEFAULT_FIGJAM",json_name:"set-tool-default-figjam",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_DEFAULT_DEV_HANDOFF",json_name:"set-tool-default-dev-handoff",is_edit:!1,enabled:r(["mode","dev_handoff"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_HAND",json_name:"set-tool-hand",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_OLD_SELECT",json_name:"set-tool-old-select",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_MULTISELECT",json_name:"set-tool-multiselect",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_LASSO",json_name:"set-tool-lasso",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_COMMENTS",json_name:"set-tool-comments",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SPOTLIGHT_ME",json_name:"spotlight-me",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","spotlight","sites"]),handler:o.X,team:o.R},{code_name:"FOLLOW_PRESENTER",json_name:"follow-presenter",is_edit:!1,enabled:r(["mode","feedback_and_history","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CONNECTOR_ELBOWED",json_name:"set-tool-connector-elbowed",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CONNECTOR_STRAIGHT",json_name:"set-tool-connector-straight",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CONNECTOR_CURVED",json_name:"set-tool-connector-curved",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CONNECTOR_STRAIGHT_NO_ENDPOINTS",json_name:"set-tool-connector-straight-no-endpoints",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_STICKY",json_name:"set-tool-sticky",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_STAMP",json_name:"set-tool-stamp",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SQUARE",json_name:"set-tool-shape-whiteboard-square",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ELLIPSE",json_name:"set-tool-shape-whiteboard-ellipse",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DIAMOND",json_name:"set-tool-shape-whiteboard-diamond",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRIANGLE_UP",json_name:"set-tool-shape-whiteboard-triangle-up",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRIANGLE_DOWN",json_name:"set-tool-shape-whiteboard-triangle-down",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ROUNDED_RECTANGLE",json_name:"set-tool-shape-whiteboard-rounded-rectangle",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT",json_name:"set-tool-shape-whiteboard-parallelogram-right",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT",json_name:"set-tool-shape-whiteboard-parallelogram-left",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_DATABASE",json_name:"set-tool-shape-whiteboard-eng-database",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_QUEUE",json_name:"set-tool-shape-whiteboard-eng-queue",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_FILE",json_name:"set-tool-shape-whiteboard-eng-file",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_FOLDER",json_name:"set-tool-shape-whiteboard-eng-folder",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRAPEZOID",json_name:"set-tool-shape-whiteboard-trapezoid",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_STAR",json_name:"set-tool-shape-whiteboard-star",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SHIELD",json_name:"set-tool-shape-whiteboard-shield",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_HEXAGON",json_name:"set-tool-shape-whiteboard-hexagon",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PENTAGON",json_name:"set-tool-shape-whiteboard-pentagon",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_OCTAGON",json_name:"set-tool-shape-whiteboard-octagon",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PLUS",json_name:"set-tool-shape-whiteboard-plus",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PREDEFINED_PROCESS",json_name:"set-tool-shape-whiteboard-predefined-process",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DOCUMENT_SINGLE",json_name:"set-tool-shape-whiteboard-document-single",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE",json_name:"set-tool-shape-whiteboard-document-multiple",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_MANUAL_INPUT",json_name:"set-tool-shape-whiteboard-manual-input",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_CHEVRON",json_name:"set-tool-shape-whiteboard-chevron",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ARROW_LEFT",json_name:"set-tool-shape-whiteboard-arrow-left",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ARROW_RIGHT",json_name:"set-tool-shape-whiteboard-arrow-right",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SUMMING_JUNCTION",json_name:"set-tool-shape-whiteboard-summing-junction",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_OR",json_name:"set-tool-shape-whiteboard-or",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SPEECH_BUBBLE",json_name:"set-tool-shape-whiteboard-speech-bubble",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_INTERNAL_STORAGE",json_name:"set-tool-shape-whiteboard-internal-storage",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_MINDMAP_TREE_NUCLEUS",json_name:"set-tool-mindmap-tree-nucleus",is_edit:!1,enabled:r(["mode","figjam"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PLATFORM",json_name:"set-tool-shape-whiteboard-platform",is_edit:!1,enabled:r(["mode","figjam"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_ERASER",json_name:"set-tool-eraser",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_HIGHLIGHTER",json_name:"set-tool-highlighter",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SECTION",json_name:"set-tool-section",is_edit:!1,enabled:r(["mode","figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_WASHI_TAPE",json_name:"set-tool-washi-tape",is_edit:!1,enabled:r(["mode","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_TABLE",json_name:"set-tool-table",is_edit:!1,enabled:r(["mode","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_ANNOTATE",json_name:"set-tool-annotate",is_edit:!1,enabled:r(["mode","dev_mode_access","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"START_MAGIC_LINK",json_name:"start-magic-link",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"END_MAGIC_LINK",json_name:"end-magic-link",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"START_ANIMATION_MODE",json_name:"start-animation-mode",is_edit:!1,enabled:r(["mode"]),handler:o.X,team:o.R},{code_name:"END_ANIMATION_MODE",json_name:"end-animation-mode",is_edit:!1,enabled:r(["mode"]),handler:o.X,team:o.R},{code_name:"OPEN_MAKE_PROTOTYPE_MODAL",json_name:"open-make-prototype-modal",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_MEASURE",json_name:"set-tool-measure",is_edit:!1,enabled:r(["mode","dev_mode_access","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_BRUSH",json_name:"set-tool-brush",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_KEYBOARD_SELECT",json_name:"set-tool-keyboard-select",is_edit:!1,enabled:r(["mode","dev_handoff","figjam","slides","cooper","sites","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDES_POLL",json_name:"set-tool-slides-poll",is_edit:!1,enabled:r(["slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDES_EMBED",json_name:"set-tool-slides-embed",is_edit:!1,enabled:r(["slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDES_FACEPILE",json_name:"set-tool-slides-facepile",is_edit:!1,enabled:r(["slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDES_ALIGNMENT_SCALE",json_name:"set-tool-slides-alignment-scale",is_edit:!1,enabled:r(["slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDES_YOUTUBE",json_name:"set-tool-slides-youtube",is_edit:!1,enabled:r(["slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SLIDE_NUMBER",json_name:"set-tool-slide-number",is_edit:!1,enabled:r(["slides"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SITES_RESPONSIVE_SET",json_name:"set-tool-sites-responsive-set",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SITES_WEBPAGE",json_name:"set-tool-sites-webpage",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SITES_RESPONSIVE_NODE_SET",json_name:"set-tool-sites-responsive-node-set",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SITES_LINK",json_name:"set-tool-sites-link",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_SITES_EMBED",json_name:"set-tool-sites-embed",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CODE_COMPONENT",json_name:"set-tool-code-component",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_PATTERN_SOURCE_SELECTOR",json_name:"set-tool-pattern-source-selector",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_JSX",json_name:"set-tool-jsx",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SECTION_VISIBILITY",json_name:"toggle-section-visibility",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_TIMER",json_name:"open-timer",is_edit:!1,enabled:r(["mode","figjam"]),handler:o.X,team:o.R},{code_name:"SET_TOOL_CODE_BLOCK",json_name:"set-tool-code-block",is_edit:!1,enabled:r(["mode","figjam","slides","sites"]),handler:o.X,team:o.R},{code_name:"ADD_CONNECTOR_TEXT",json_name:"add-connector-text",is_edit:!0,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_GUIDS",json_name:"toggle-show-guids",is_edit:!1,enabled:r(["slides","cooper","feedback_and_history","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION",json_name:"test-independent-layer-animation",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION_EASED",json_name:"test-independent-layer-animation-eased",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION_OPACITY",json_name:"test-independent-layer-animation-opacity",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"TEST_NON_INDEPENDENT_LAYER_ANIMATION",json_name:"test-non-independent-layer-animation",is_edit:!0,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"PRINT_VECTOR_NETWORK_AS_TEST_CODE",json_name:"debug-print-vector-network-as-test-code",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_SHOW_VECTOR_NETWORK_LABELS",json_name:"debug-toggle-show-vector-network-labels",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_DONT_MERGE_STROKE_OUTLINES",json_name:"debug-toggle-dont-merge-stroke-outlines",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_SEMANTIC_TAGS_ON_LAYER_ROWS",json_name:"toggle-show-semantic-tags-on-layer-rows",is_edit:!1,enabled:r(["sites"]),handler:o.X,team:o.R},{code_name:"FORCE_PUBLISH_STATE_GROUP",json_name:"force-publish-state-group",is_edit:!0,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"INSPECT_IN_FIGMASCOPE",json_name:"debug-inspect-layer-figma-scope",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_QUICK_COMMAND_RANK_DEBUG",json_name:"toggle-show-quick-command-rank-debug",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RESOURCE_USE",json_name:"toggle-resource-use",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_MEMORY_USAGE_INDICATOR",json_name:"toggle-memory-usage-indicator",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RULERS",json_name:"toggle-rulers",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADJUST_RULER_GUIDES",json_name:"adjust-ruler-guides",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PRINT_MARKS",json_name:"toggle-print-marks",is_edit:!1,enabled:r(["feedback_and_history","cooper"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RULER_UNIT_PIXELS",json_name:"toggle-ruler-unit-pixels",is_edit:!1,enabled:r(["feedback_and_history","cooper"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RULER_UNIT_INCHES",json_name:"toggle-ruler-unit-inches",is_edit:!1,enabled:r(["feedback_and_history","cooper"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RULER_UNIT_CENTIMETERS",json_name:"toggle-ruler-unit-centimeters",is_edit:!1,enabled:r(["feedback_and_history","cooper"]),handler:o.X,team:o.R},{code_name:"RULER_MENU",json_name:"ruler-unit-menu",is_edit:!1,enabled:r(["feedback_and_history","cooper"]),handler:o.X,team:o.R},{code_name:"RUN_MULTI_STACK_AUTO_LAYOUT",json_name:"run-multi-stack-auto-layout",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"RUN_SET_RESPONSIVE_SETTINGS",json_name:"run-set-responsive-settings",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"DESTROY_ALL_AUTO_LAYOUT",json_name:"destroy-all-auto-layout",is_edit:!0,enabled:r(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ANNOTATIONS",json_name:"toggle-annotations",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_GRID",json_name:"toggle-grid",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PERF_HUD",json_name:"toggle-perf-hud",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_FAKE_MP_ACTIVITY",json_name:"toggle-fake-mp-activity",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_TSMER_CONFIG",json_name:"toggle-tsmer-config",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DEBUG_DOC_SYNC_LOGS",json_name:"toggle-debug-doc-sync-logs",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DEBUG_USER_SYNC_LOGS",json_name:"toggle-debug-user-sync-logs",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DEBUG_PAGE_SYNC_LOGS",json_name:"toggle-debug-page-sync-logs",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_INCREMENTAL_LOADING_ALL_PAGES",json_name:"debug-incremental-loading-all-pages",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_INCREMENTAL_LOADING_CURRENT_ONLY",json_name:"debug-incremental-loading-current-only",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DEBUG_LAYOUT_LOGS",json_name:"toggle-debug-layout-logs",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DEBUG_MATERIALIZER_LOGS",json_name:"toggle-debug-materializer-logs",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_OUTLINES",json_name:"toggle-outlines",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_OUTLINE_HIDDEN_LAYERS",json_name:"toggle-outline-mode-hidden-layers",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_OUTLINE_OBJECT_BOUNDS",json_name:"toggle-outline-mode-object-bounds",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOWN_LAYOUT_GRIDS",json_name:"toggle-shown-layout-grids",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_MASKS",json_name:"toggle-show-masks",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_ARTBOARD_OUTLINES",json_name:"toggle-show-artboard-outlines",is_edit:!1,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_USE_REALMS_FOR_PLUGIN_DEV",json_name:"toggle-use-realms-for-plugin-dev",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"CLEAR_TOOL",json_name:"clear-tool",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"PLACE_ALL_IMAGES",json_name:"place-all-images",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"DISCARD_ALL_IMAGES",json_name:"discard-all-images",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_PEN_TOOL_AVOID_SINGLE_HANDLES",json_name:"toggle-pen-tool-avoid-single-handles",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_SNAPPING_TO_DOTS",json_name:"toggle-snapping-to-dots",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_DOT_GRID",json_name:"toggle-show-dot-grid",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SCROLL_WHEEL_ZOOM",json_name:"toggle-scroll-wheel-zoom",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RIGHT_CLICK_PAN",json_name:"toggle-right-click-pan",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_SCROLL_WHEEL_ZOOM_ENABLED",json_name:"set-scroll-wheel-zoom-enabled",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_SCROLL_WHEEL_ZOOM_DISABLED",json_name:"set-scroll-wheel-zoom-disabled",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_RIGHT_CLICK_PAN_ENABLED",json_name:"set-right-click-pan-enabled",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_RIGHT_CLICK_PAN_DISABLED",json_name:"set-right-click-pan-disabled",is_edit:!1,enabled:r(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_INCLUDE_EVERYTHING_IN_TAB_ORDER",json_name:"toggle-include-everything-in-tab-order",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_RECENTER_BUTTON",json_name:"toggle-recenter-button",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"REMOVE_INTERACTIONS_ON_SELECTION",json_name:"remove-interactions-on-selection",is_edit:!0,enabled:r(["property","selection","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_INTERACTIONS_ON_PAGE",json_name:"remove-interactions-on-page",is_edit:!0,enabled:r(["property","selection","sites"]),handler:o.X,team:o.R},{code_name:"ADD_PROTOTYPE_STARTING_POINT",json_name:"add-prototype-starting-point",is_edit:!0,enabled:r(["property","selection","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_PROTOTYPE_STARTING_POINT",json_name:"delete-prototype-starting-point",is_edit:!0,enabled:r(["property","selection","sites"]),handler:o.X,team:o.R},{code_name:"UPDATE_INTERACTIONS_STATE_MANAGEMENT_ON_PAGE",json_name:"update-interactions-state-management-on-page",is_edit:!0,enabled:r(["property","selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_INLINE_PREVIEW",json_name:"toggle-inline-preview",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_INLINE_HTML_PREVIEW",json_name:"toggle-inline-html-preview",is_edit:!1,enabled:r(["feedback_and_history","selection","sites"]),handler:o.X,team:o.R},{code_name:"INLINE_PREVIEW_RESET_SIZE",json_name:"inline-preview-reset-size",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"INLINE_PREVIEW_LOADED",json_name:"inline-preview-loaded",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"INLINE_PREVIEW_PRESENTED_NODE_CHANGED",json_name:"inline-preview-presented-node-changed",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"INLINE_PREVIEW_IFRAME_FOCUS_STATE_CHANGED",json_name:"inline-preview-iframe-focus-state-changed",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_HELP",json_name:"open-help",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_SHORTCUTS",json_name:"open-shortcuts",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_SUPPORT_FORUM",json_name:"open-support-forum",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_TUTORIALS",json_name:"open-tutorials",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_LEGAL_SUMMARY",json_name:"open-legal-summary",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_RELEASE_NOTES",json_name:"open-release-notes",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_ACCOUNT_SETTINGS",json_name:"open-account-settings",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_PREFERENCES_MODAL",json_name:"open-preferences-modal",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","sites","cooper"]),handler:o.X,team:o.R},{code_name:"SIMULATE_BACK_TO_FILES",json_name:"simulate-back-to-files",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"DUMP_PENDING_REGISTERS",json_name:"dump-pending-registers",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"DUMP_UNDO_HISTORY",json_name:"dump-undo-history",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_RECORDING_INTERACTIONS",json_name:"toggle-recording-interactions",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:o.X,team:o.R},{code_name:"TOGGLE_FEATURE_FLAG_BISECTOR",json_name:"toggle-show-feature-flag-bisector",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:o.X,team:o.R},{code_name:"CLEAR_MAKE_EDITS_DEBUG_DATA",json_name:"clear-make-edits-debug-data",is_edit:!0,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:o.X,team:o.R},{code_name:"INSERT_LOTS_OF_TEXT",json_name:"insert-lots-of-text",is_edit:!0,enabled:r(["feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"ADD_FILL_TO_SELECTION",json_name:"add-fill-to-selection",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"ADD_STROKE_TO_SELECTION",json_name:"add-stroke-to-selection",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"ADD_FILL_TO_STYLE_SELECTION",json_name:"add-fill-to-style-selection",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PRESSURE_SENSITIVITY",json_name:"toggle-pressure-sensitivity",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"NEXT_ARTBOARD",json_name:"next-artboard",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"PREVIOUS_ARTBOARD",json_name:"previous-artboard",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"NEXT_ARTBOARD_SAME_ZOOM",json_name:"next-artboard-same-zoom",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"PREVIOUS_ARTBOARD_SAME_ZOOM",json_name:"previous-artboard-same-zoom",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TEST_MULTIPLAYER_UPGRADE",json_name:"test-multiplayer-upgrade",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TEST_REJECT_TOO_OLD",json_name:"test-multiplayer-reject-too-old",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TEST_REJECT_INVALID_PERMISSIONS",json_name:"test-multiplayer-reject-invalid-permissions",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TEST_REJECT_NOT_LOGGED_IN",json_name:"test-multiplayer-reject-not-logged-in",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TEST_REJECT_TOO_MANY_CONNECTIONS",json_name:"test-multiplayer-reject-too-many-connections",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"PLUGINS_RUN_LAST",json_name:"plugins-run-last",is_edit:!1,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"VIEW_WIDGET_DETAILS",json_name:"view-widget-details",is_edit:!1,enabled:r(["mode_selection","figjam","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_BROWSE_ALL_RESOURCES_MODAL",json_name:"browse-all-resources-modal",is_edit:!1,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_DRAW_MODE",json_name:"enter-draw-mode",is_edit:!1,enabled:r(["document","feedback_and_history","dev_mode_focus_node","dev_handoff","variables_table"]),handler:o.X,team:o.R},{code_name:"ENTER_INSPECT_MODE",json_name:"enter-inspect-mode",is_edit:!1,enabled:r(["document","dev_mode_focus_node","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"ENTER_DESIGN_MODE",json_name:"enter-design-mode",is_edit:!1,enabled:r(["document","feedback_and_history","dev_mode_focus_node","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_SLIDES_MODE",json_name:"enter-slides-mode",is_edit:!1,enabled:r(["slides","cooper","slides_tool_mode"]),handler:o.X,team:o.R},{code_name:"ENTER_SLIDES_DESIGN_MODE",json_name:"enter-slides-design-mode",is_edit:!1,enabled:r(["slides","cooper","slides_tool_mode"]),handler:o.X,team:o.R},{code_name:"SHOW_DESIGN_PANEL",json_name:"show-design-panel",is_edit:!1,enabled:r(["mode","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_PROTOTYPE_PANEL",json_name:"show-prototype-panel",is_edit:!1,enabled:r(["mode","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_DEV_MODE_INSPECT_PANEL",json_name:"show-dev-mode-inspect-panel",is_edit:!1,enabled:r(["mode","dev_mode_access","dev_handoff"]),handler:o.X,team:o.R},{code_name:"SHOW_DEV_MODE_PLUGINS_PANEL",json_name:"show-dev-mode-plugins-panel",is_edit:!1,enabled:r(["mode","dev_mode_access","dev_handoff"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PROTOTYPING_INFO",json_name:"toggle-prototyping-info",is_edit:!1,enabled:r(["mode_all","feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ANIMATE_INFO",json_name:"toggle-animate-info",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ENTER_FOCUS_VIEW",json_name:"enter-focus-view",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXIT_FOCUS_VIEW",json_name:"exit-focus-view",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_GRID_FOCUS_VIEW",json_name:"toggle-grid-focus-view",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_CODE_PANEL",json_name:"show-inspect-panel",is_edit:!1,enabled:r(["mode","feedback_and_history","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_SELECTION",json_name:"debug-selection",is_edit:!1,enabled:r(["figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_MIGRATE_KEYFRAME_EXPRESSIONS",json_name:"debug-migrate-keyframe-expressions",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"DEBUG_CLEANUP_ANIMATION_PRESETS",json_name:"debug-cleanup-animation-presets",is_edit:!0,enabled:r([]),handler:o.X,team:o.R},{code_name:"DOWNLOAD_WEBGL_TRACE",json_name:"download-webgl-trace",is_edit:!1,enabled:r(["figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_ALL_FRAMES_TO_PDF",json_name:"export-all-frames-to-pdf",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"EXPORT_SLIDES_TO_PDF",json_name:"export-slides-to-pdf",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper"]),handler:o.X,team:o.R},{code_name:"PRINT_IMAGE_DIAGNOSTICS",json_name:"print-image-diagnostics",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"PRINT_RENDER_TREE",json_name:"print-render-tree",is_edit:!1,enabled:r(["figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"ADD_TABLE_ROW_ABOVE",json_name:"add-table-row-above",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_TABLE_ROW_BELOW",json_name:"add-table-row-below",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_ROW_UP",json_name:"move-table-row-up",is_edit:!0,enabled:r(["selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_ROW_DOWN",json_name:"move-table-row-down",is_edit:!0,enabled:r(["selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_TABLE_COLUMN_BEFORE",json_name:"add-table-column-before",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_TABLE_COLUMN_AFTER",json_name:"add-table-column-after",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_COLUMN_LEFT",json_name:"move-table-column-left",is_edit:!0,enabled:r(["selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_COLUMN_RIGHT",json_name:"move-table-column-right",is_edit:!0,enabled:r(["selection","property","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_TABLE_CONTENTS",json_name:"delete-table-contents",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_CURRENT_TABLE_COLUMN",json_name:"delete-current-table-column",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"DELETE_CURRENT_TABLE_ROW",json_name:"delete-current-table-row",is_edit:!0,enabled:r(["selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ADD_DEFAULT_CELL_STYLES_TO_TABLES",json_name:"add-default-cell-styles-to-tables",is_edit:!0,enabled:r(["figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SELECT_CURRENT_TABLE_ROW",json_name:"select-current-table-row",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"SELECT_CURRENT_TABLE_COLUMN",json_name:"select-current-table-column",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"SELECT_CURRENT_TABLE_CELL",json_name:"select-current-table-cell",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_CELL_SELECTION_LEFT",json_name:"move-table-cell-selection-left",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_CELL_SELECTION_RIGHT",json_name:"move-table-cell-selection-right",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_CELL_SELECTION_UP",json_name:"move-table-cell-selection-up",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"MOVE_TABLE_CELL_SELECTION_DOWN",json_name:"move-table-cell-selection-down",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_LEFT",json_name:"extend-table-cell-selection-left",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_RIGHT",json_name:"extend-table-cell-selection-right",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_UP",json_name:"extend-table-cell-selection-up",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_DOWN",json_name:"extend-table-cell-selection-down",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_ROW_INCREASE",json_name:"resize-table-row-increase",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_ROW_DECREASE",json_name:"resize-table-row-decrease",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_ROW_INCREASE_LARGE",json_name:"resize-table-row-increase-large",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_ROW_DECREASE_LARGE",json_name:"resize-table-row-decrease-large",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_COLUMN_INCREASE",json_name:"resize-table-column-increase",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_COLUMN_DECREASE",json_name:"resize-table-column-decrease",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_COLUMN_INCREASE_LARGE",json_name:"resize-table-column-increase-large",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"RESIZE_TABLE_COLUMN_DECREASE_LARGE",json_name:"resize-table-column-decrease-large",is_edit:!0,enabled:r(["selection","figjam","slides"]),handler:o.X,team:o.R},{code_name:"TEST_ACTION",json_name:"test-action",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_WHITEBOARD_MODE",json_name:"debug-toggle-whiteboard-mode",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_SLIDES_MODE",json_name:"debug-toggle-slides-mode",is_edit:!1,enabled:r(["mode","slides","cooper"]),handler:o.X,team:o.R},{code_name:"DEBUG_SET_SLIDES_GRID_MODE",json_name:"debug-set-slides-grid-mode",is_edit:!1,enabled:r(["mode","slides","cooper"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_SITES_MODE",json_name:"debug-toggle-sites-mode",is_edit:!1,enabled:r(["mode","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_FIGMAKE_MODE",json_name:"debug-toggle-figmake-mode",is_edit:!1,enabled:r(["mode","figmake","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_LOG_CANVAS_SEARCH_INDEX",json_name:"debug-log-canvas-search-index",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"SET_IMAGE_AS_PROFILE_PICTURE",json_name:"set-image-as-profile-picture",is_edit:!1,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_STRAIGHT_PENCIL",json_name:"toggle-straight-pencil",is_edit:!1,enabled:r(["figjam","sites"]),handler:o.X,team:o.R},{code_name:"PRESENT_AS_PROTOTYPE",json_name:"present-as-prototype",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"PRESENT_SITES_FULL_PREVIEW",json_name:"present-sites-full-preview",is_edit:!1,enabled:r(["feedback_and_history","mode","sites"]),handler:o.X,team:o.R},{code_name:"PRESENT_SLIDES_AUDIENCE_VIEW",json_name:"present-slides-audience-view",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper"]),handler:o.X,team:o.R},{code_name:"PRESENT_SLIDES_PRESENTER_VIEW",json_name:"present-slides-presenter-view",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper"]),handler:o.X,team:o.R},{code_name:"TOGGLE_BUZZ_TOOL_MODE",json_name:"toggle-buzz-tool-mode",is_edit:!1,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"ENTER_BUZZ_DESIGN_MODE",json_name:"enter-buzz-design-mode",is_edit:!1,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"BUZZ_MAKE_BRAND_TEMPLATES",json_name:"buzz-make-brand-templates",is_edit:!0,enabled:r(["cooper"]),handler:o.X,team:o.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_LEGACY",json_name:"assign-document-color-profile-legacy",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_DISPLAY_P3",json_name:"assign-document-color-profile-display-p3",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CONVERT_DOCUMENT_COLOR_PROFILE_DISPLAY_P3",json_name:"convert-document-color-profile-display-p3",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_SRGB",json_name:"assign-document-color-profile-srgb",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CONVERT_DOCUMENT_COLOR_PROFILE_SRGB",json_name:"convert-document-color-profile-srgb",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CHANGE_DOCUMENT_COLOR_PROFILE_TO_DISPLAY_P3",json_name:"change-document-color-profile-to-display-p3",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"CHANGE_DOCUMENT_COLOR_PROFILE_TO_SRGB",json_name:"change-document-color-profile-to-srgb",is_edit:!0,enabled:r(["mode","property","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_OVERLAY_UI_RENDERING",json_name:"toggle-overlay-ui-rendering",is_edit:!1,enabled:r(["figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ALLOW_TIME_SLICED_EDIT_RENDERING_OPTIMIZATION",json_name:"toggle-allow-time-sliced-edit-rendering-optimization",is_edit:!1,enabled:r(["figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SYNC_CURSOR_RENDERING",json_name:"toggle-sync-cursor-rendering",is_edit:!1,enabled:r(["figjam","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SIMPLIFY_SELECTED_INSTANCE_PANELS",json_name:"simplify-selected-instance-panels",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SIMILAR_DEFINITION",json_name:"similar-includes-matching",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SIMILAR_HIGHLIGHTS",json_name:"toggle-similar-highlights",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_NOODLES_WITHOUT_DRAGGING",json_name:"toggle-noodles-without-dragging",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_MAGIC_LINK_AI_MODEL",json_name:"debug-magic-link-ai-model",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SHOW_PROTOTYPE_INTERACTION_EDIT_MODAL",json_name:"show-prototype-interaction-edit-modal",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"REPORT_NO_VIDEO_UPLOAD_PERMISSIONS",json_name:"report-no-video-upload-permissions",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_DIRTY_RECTS",json_name:"toggle-display-dirty-rects",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_DIRTY_TILES",json_name:"toggle-display-dirty-tiles",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_PIXEL_HEAT_MAP",json_name:"toggle-display-pixel-heat-map",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_EXPENSIVE_TILES",json_name:"toggle-display-expensive-tiles",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_NODE_OCCLUDERS",json_name:"toggle-display-node-occluders",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_GPU_METRICS",json_name:"toggle-display-gpu-metrics",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_DISPLAY_CPU_TIMER_TREE",json_name:"toggle-display-cpu-timer-tree",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_PERF_MODE_MEDIUM",json_name:"toggle-perf-mode-medium",is_edit:!1,enabled:r(["mode_selection","figjam","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"SET_PROTOTYPE_VIEW_PRESENT",json_name:"set-prototype-view-present",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_PROTOTYPE_VIEW_PREVIEW",json_name:"set-prototype-view-preview",is_edit:!1,enabled:r(["feedback_and_history","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_FULL_PREVIEW",json_name:"set-sites-full-preview",is_edit:!1,enabled:r(["feedback_and_history","mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_INLINE_PREVIEW",json_name:"set-sites-inline-preview",is_edit:!1,enabled:r(["feedback_and_history","mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_SLIDES_AUDIENCE_VIEW",json_name:"set-slides-audience-view",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper"]),handler:o.X,team:o.R},{code_name:"SET_SLIDES_PRESENTER_VIEW",json_name:"set-slides-presenter-view",is_edit:!1,enabled:r(["feedback_and_history","slides","cooper"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_DIAGRAM_LAYOUT_PAUSED",json_name:"debug-toggle-diagram-layout-paused",is_edit:!1,enabled:r(["selection","figjam"]),handler:o.X,team:o.R},{code_name:"START_MIND_MAP",json_name:"start-mind-map",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"REMOVE_IMAGE_BACKGROUND",json_name:"remove-background",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"UPSCALE_IMAGE",json_name:"upscale-image",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"EXPAND_IMAGE",json_name:"expand-image",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"REMOVE_OBJECT",json_name:"remove-object",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SEPARATE_OBJECT",json_name:"separate-object",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"GENERATE_IMAGE",json_name:"generate-image",is_edit:!0,enabled:r(["property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"EDIT_IMAGE",json_name:"edit-image",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"VECTORIZE_IMAGE",json_name:"vectorize-image",is_edit:!0,enabled:r(["paint","property","mode_selection","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"MAKE_VIDEO",json_name:"make-video",is_edit:!0,enabled:r(["property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"BUZZ_PROMPT_TO_DESIGN",json_name:"buzz-prompt-to-design",is_edit:!0,enabled:r(["property","mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"AUTO_RENAME_LAYERS",json_name:"auto-rename-layers",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"MAGIC_LINK",json_name:"magic-link",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT",json_name:"first-draft",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_MAKE_CHANGES",json_name:"first-draft-make-changes",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_MAKE_KIT",json_name:"first-draft-make-kit",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_MAKE_KIT_DEBUG",json_name:"first-draft-make-kit-debug",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_COMPONENTIZE",json_name:"first-draft-componentize",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_SUGGEST_PROPS",json_name:"first-draft-suggest-props",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_LINTING",json_name:"first-draft-linting",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_DEBUG",json_name:"first-draft-debug",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"MAKE_EDITS",json_name:"make-edits",is_edit:!0,enabled:r(["mode_selection","sites","figjam","slides"]),handler:o.X,team:o.R},{code_name:"MAKE_EDITS_DEBUG",json_name:"make-edits-debug",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"MAKE_EDITS_DEBUG_REVIEW",json_name:"make-edits-debug-review",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"FIRST_DRAFT_FINE_TUNE",json_name:"first-draft-fine-tune",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"LINK_TO_COMPONENT",json_name:"link-to-component",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"LINK_TO_EXISTING_COMPONENT",json_name:"link-to-existing-component",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"DETECT_VIOLATIONS",json_name:"detect-violations",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"TRANSLATE_TEXT",json_name:"translate-text",is_edit:!0,enabled:r(["mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"REWRITE_TEXT",json_name:"rewrite-text",is_edit:!0,enabled:r(["mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SHORTEN_TEXT",json_name:"shorten-text",is_edit:!0,enabled:r(["mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"CONTENT_FILL",json_name:"content-fill",is_edit:!0,enabled:r(["mode_selection","slides","cooper","figjam","sites"]),handler:o.X,team:o.R},{code_name:"SLIDES_GENERATE_SPEAKER_NOTES",json_name:"slides-generate-speaker-notes",is_edit:!0,enabled:r(["mode_selection","slides","cooper","slides_single_slide_view_change"]),handler:o.X,team:o.R},{code_name:"SLIDES_REWRITE_TEXT",json_name:"slides-rewrite-text",is_edit:!0,enabled:r(["mode_selection","slides","cooper","figjam"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_SHOW_CANVAS_AXIS",json_name:"debug-toggle-show-canvas-axis",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_SHOW_MOUSE_POSITION",json_name:"debug-toggle-show-mouse-position",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"DEBUG_TOGGLE_WHITEBOARD_PDF_IMPORT_NODE_REPLACEMENT",json_name:"debug-toggle-whiteboard-pdf-import-node-replacement",is_edit:!1,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"TOGGLE_CANVAS_SEARCH_DEBUG",json_name:"toggle-canvas-search-debug",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_ACCESSIBILITY_DOM_DEBUG",json_name:"toggle-accessibility-dom-debug",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING",json_name:"toggle-text-input-shortcut-blocking",is_edit:!1,enabled:r(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"OPEN_FPL_DEBUG",json_name:"open-fpl-debug",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SHOW_FIGMASCOPE",json_name:"debug-toggle-figma-scope",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","figmake","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_TIMELINE",json_name:"toggle-smart-animate-panel",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"PRINT_AS_TEST_CODE",json_name:"debug-print-as-test-code",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_UNDO_REDO_DEBUG",json_name:"toggle-undo-redo-debug",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_COLLABORATIVE_TEXT_DEBUG",json_name:"toggle-collaborative-text-debug",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"TOGGLE_PLUGIN_API_DEBUG",json_name:"toggle-plugin-api-debug",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_PREVIOUS_AREA",json_name:"focus-previous-area",is_edit:!1,enabled:r(["figjam","dev_handoff","variables_table","slides","sites","cooper","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"FOCUS_NEXT_AREA",json_name:"focus-next-area",is_edit:!1,enabled:r(["figjam","dev_handoff","variables_table","slides","sites","cooper","feedback_and_history"]),handler:o.X,team:o.R},{code_name:"CREATE_MAKE_FROM_DESIGN",json_name:"create-make-from-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"EDIT_MAKE_FROM_DESIGN",json_name:"edit-make-from-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"SEND_TO_MAKE_FROM_DESIGN",json_name:"send-to-make-from-design",is_edit:!1,enabled:r(["mode_selection","feedback_and_history","dev_handoff"]),handler:o.X,team:o.R},{code_name:"SEND_TO_MAKE_FROM_FIGJAM",json_name:"send-to-make-from-figjam",is_edit:!0,enabled:r(["figjam","mode_selection"]),handler:o.X,team:o.R},{code_name:"COPY_MAKE_FOR_DESIGN",json_name:"copy-make-for-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"CONVERT_RESPONSIVE_SET_TO_WEBPAGE",json_name:"convert-responsive-set-to-webpage",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_AS_SITE_HOMEPAGE",json_name:"set-as-site-homepage",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_AS_DEFAULT_RESPONSIVE_SET",json_name:"set-as-default-responsive-set",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SITES_COPY_LINK",json_name:"sites-copy-link",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SITES_FIX_ISSUE",json_name:"sites-fix-issue",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"EDIT_CODE",json_name:"edit-code",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_CODE_LAYER_FROM_DESIGN",json_name:"create-code-layer-from-design",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_NATIVE_CODE_LAYER",json_name:"create-native-code-layer",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"RESTORE_DESIGN_IN_PLACE_FROM_CODE",json_name:"restore-design-in-place-from-code",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"COPY_OUT_DESIGN_FROM_CODE",json_name:"copy-out-design-from-code",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_VIEW_FILE",json_name:"set-sites-view-file",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_VIEW_CODE",json_name:"set-sites-view-code",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_VIEW_CMS",json_name:"set-sites-view-cms",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_SITES_INSERTS_OVERLAY",json_name:"set-sites-inserts-overlay",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_BUZZ_INSERTS_PANEL",json_name:"set-buzz-inserts-panel",is_edit:!1,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"GO_TO_REPEATER_COMPONENT",json_name:"goto-repeater-component",is_edit:!1,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"CREATE_CMS_RICH_TEXT",json_name:"create-cms-rich-text",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"UNBIND_SELECTION",json_name:"unbind-cms-selection",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"UPDATE_CMS_TEXT_BINDING",json_name:"update-cms-text-binding",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"FOCUS_NEXT_SLIDE",json_name:"focus-next-slide",is_edit:!1,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"FOCUS_PREVIOUS_SLIDE",json_name:"focus-previous-slide",is_edit:!1,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"FOCUS_SLIDE_UP",json_name:"focus-slide-up",is_edit:!1,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"FOCUS_SLIDE_DOWN",json_name:"focus-slide-down",is_edit:!1,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"SKIP_SLIDE",json_name:"skip-slide",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"UNSKIP_SLIDE",json_name:"unskip-slide",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"SKIP_SLIDES",json_name:"skip-slides",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"UNSKIP_SLIDES",json_name:"unskip-slides",is_edit:!0,enabled:r(["mode_selection","slides","cooper"]),handler:o.X,team:o.R},{code_name:"ADD_SLIDE_OBJECT_ANIMATION",json_name:"add-slide-object-animation",is_edit:!0,enabled:r(["mode_selection","slides","cooper","property"]),handler:o.X,team:o.R},{code_name:"INSERT_SLIDE_NUMBERS_ALL_SLIDES",json_name:"insert-slide-numbers-all-slides",is_edit:!0,enabled:r(["slides"]),handler:o.X,team:o.R},{code_name:"FOCUS_NEXT_ASSET",json_name:"focus-next-asset",is_edit:!1,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"FOCUS_PREVIOUS_ASSET",json_name:"focus-previous-asset",is_edit:!1,enabled:r(["mode_selection","cooper"]),handler:o.X,team:o.R},{code_name:"SEND_TO_BUZZ_FROM_DESIGN",json_name:"send-to-buzz-from-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"SEND_SELECTION_TO_BUZZ_FROM_DESIGN",json_name:"send-selection-to-buzz-from-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"PASTE_SELECTION_INTO_BUZZ_FROM_DESIGN",json_name:"paste-selection-into-buzz-from-design",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"ADD_PLATFORM_SHAPE_DEFINITION",json_name:"add-platform-shape-definition",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"REMOVE_PLATFORM_SHAPE_DEFINITION",json_name:"remove-platform-shape-definition",is_edit:!0,enabled:r(["mode_selection","property"]),handler:o.X,team:o.R},{code_name:"OPEN_SHAPES_SIDEBAR",json_name:"open-shapes-sidebar",is_edit:!0,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"WHITEBOARD_GENERATE_CONTENT",json_name:"whiteboard-generate-content",is_edit:!0,enabled:r(["figjam"]),handler:o.X,team:o.R},{code_name:"SUMMARIZE_STICKIES",json_name:"summarize-stickies",is_edit:!0,enabled:r(["figjam","mode_selection"]),handler:o.X,team:o.R},{code_name:"SORT_STICKIES_BY_TOPIC",json_name:"sort-stickies-by-topic",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"SORT_STICKIES_BY_COLOR",json_name:"sort-stickies-by-color",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"SORT_STICKIES_BY_AUTHOR",json_name:"sort-stickies-by-author",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"SORT_STICKIES_BY_STAMP_COUNT",json_name:"sort-stickies-by-stamp-count",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"SORT_STICKIES_BY_STAMP_TYPE",json_name:"sort-stickies-by-stamp-type",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"MIND_MAP_GENERATE_IDEAS",json_name:"mind-map-generate-ideas",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"CREATE_IDEAS",json_name:"create-ideas",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"MERMAID_TO_DIAGRAM",json_name:"mermaid-to-diagram",is_edit:!0,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"AI_CHAT_DEPRECATED",json_name:"ai-chat-deprecated",is_edit:!1,enabled:r(["slides","cooper","sites"]),handler:o.X,team:o.R},{code_name:"START_AI_ASSISTANT",json_name:"start-ai-assistant",is_edit:!1,enabled:r(["mode_selection","figjam"]),handler:o.X,team:o.R},{code_name:"COPY_TO_FIGMA_SLIDES",json_name:"copy-to-figma-slides",is_edit:!0,enabled:r(["mode_selection"]),handler:o.X,team:o.R},{code_name:"IMAGE_TO_DESIGN",json_name:"image-to-design",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"IMAGE_TO_DESIGN_ORACLE",json_name:"image-to-design-oracle",is_edit:!0,enabled:r(["mode_selection","sites"]),handler:o.X,team:o.R},{code_name:"SET_CONSTRAINTS_AUTOMATICALLY",json_name:"set-constraints-automatically",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_CONSTRAINTS_MANUALLY",json_name:"set-constraints-manually",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"SET_CONSTRAINTS_AUTOMATICALLY_TOGGLE",json_name:"set-constraints-automatically-toggle",is_edit:!1,enabled:r(["mode_selection_focus_mode","sites"]),handler:o.X,team:o.R},{code_name:"TOGGLE_SMART_TEXT_SUBSTITUTION",json_name:"toggle-smart-text-substitution",is_edit:!1,enabled:r([]),handler:o.X,team:o.R},{code_name:"EXPORT_SLIDES_TO",json_name:"export-slides-to",is_edit:!1,enabled:r(["slides"]),handler:o.X,team:o.R},{code_name:"ENTER_STAGING_MODE",json_name:"enter-staging-mode",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"COMMIT_STAGED_CHANGES",json_name:"commit-staged-changes",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R},{code_name:"ROLLBACK_STAGED_CHANGES",json_name:"rollback-staged-changes",is_edit:!1,enabled:r(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:o.X,team:o.R}];var d=i(350923);class c{registerLegacyActions(){(0,a.q)().registerAll(l)}updateActionState(e){d.zl.set(s.f,e)}}function u(){n=new c}},500145(e,t,i){let n;i.d(t,{SL:()=>n,Q1:()=>p});var a=i(688357),s=i(350923),o=i(577005),r=i.n(o),l=i(181645),d=i(620949),c=i(523924),u=i(739261),_=i(77516),m=i(14976);class h{constructor(e){this.store=e}closeAiAssistantCanvasPromptBox(){(0,u.Sz)()}processSelectionChangeForAiAssistant(e){var t;let i,n,a,o,r,l;i=s.zl.get(u.Em),n=0===(0,u.BE)().length,a=s.zl.get(u.SU),t=e,r=i||[],l=t||[],o=r.length===l.length&&r.every(e=>l.includes(e))?null:0===r.length&&0!==l.length?{type:"NONE_TO_SOME",prev:[],new:l}:r.length>0&&0===l.length?{type:"SOME_TO_NONE",prev:r,new:[]}:r.some(e=>l.includes(e))?{type:"OVERLAPPING_SELECTIONS",prev:r,new:l}:{type:"FULLY_NEW_SELECTION",prev:r,new:l},function(){if((0,u.UT)()&&o){if(n||a>0)return(0,u.Sz)();switch(o.type){case"NONE_TO_SOME":s.zl.set(u.SU,0);break;case"SOME_TO_NONE":if(n){(0,u.Sz)();break}s.zl.set(u.lp,o.prev),(0,u.wh)();break;case"OVERLAPPING_SELECTIONS":break;case"FULLY_NEW_SELECTION":s.zl.set(u.lp,o.prev),(0,u.wh)();break;default:(0,c.xb)(o.type)}}}(),s.zl.set(u.Em,e)}startAiAssistant(e){if((0,u.UT)())return;let t=this.store.getState(),i=!r()(t.mirror.sceneGraphSelection);l.az.trackDefinedEvent("ai_assistant.start",{hasSelection:i,source:e?"keyboard_shortcut":"quick_action"}),i?(0,u._C)():(t.leftPanel.activeTab!==a.xae.CHAT&&(s.zl.set(d.qA,e=>"idle"===e?"shouldCreate":e),s.zl.set(d.hM,null),this.store.dispatch((0,_.FP)({tab:a.xae.CHAT}))),setTimeout(()=>{let e=s.zl.get(m.oy);e&&e.focus()},50))}}function p(e){n=new h(e)}},503105(e,t,i){let n,a,s,o;i.d(t,{BF:()=>n,fh:()=>f,tO:()=>y});var r,l=i(24995),d=i(491852),c=i(819543),u=i(350923),_=i(448775),m=i(351823),h=i(781769),p=i(915961);let g={[p.PW.CODE_COMPONENT]:{idl:d.PWo.CODE_COMPONENT,key:(0,l.Sm)(""),version:(0,l.j6)("")}},f={[p.PW.CODE_COMPONENT]:{subscribed:(a=g[r=p.PW.CODE_COMPONENT].idl,s=(0,m.Wh)(()=>(0,u.eU)({})),(o=(0,u.FZ)(s,(e,t)=>{if("changed"in t){if(!(0,h.e)(r))return e;let i=t.changed;return{...e,...i.reduce((e,t)=>(e[t.key]={sourceLibraryKey:t.sourceLibraryKey,pagesByVersion:{...e[t.key]?.pagesByVersion,...function(e){let t={};for(let{version:i,consumingPages:n}of e)t[i]=n;return t}(t.pagesByVersion)}},e),{})}}return"reset"in t?{}:e})).debugLabel=`consumedAssetVersionsByKey(${d.PWo[a]})`,o.onMount=e=>{var t,i;let n=()=>{(0,h.e)(r)&&e({changed:c.IX?.getAllSubscribedAssetConsumptions(a)??[]})};_.Y5.isReady()?n():_.Y5.onReady().then(n);let s=(t=a,i=t=>{e(t)},E[t]=i,()=>{E[t]=null});return()=>{s(),e({reset:!0})}},o)}},E={[d.PWo.CODE_COMPONENT]:null};class b{syncChangedSubscribedConsumptions(e,t){E[e]?.({changed:t})}resetMirrorCache(){for(let e of Object.values(E))e?.({reset:!0})}}function y(){n=new b}},252881(e,t,i){let n;i.d(t,{Mk:()=>T,WY:()=>x,ki:()=>n});var a=i(491852),s=i(819543),o=i(350923),r=i(305194),l=i.n(r),d=i(42053),c=i(448775),u=i(351823),_=i(915961),m=i(783872),h=i(467767),p=i(529416),g=i(777636),f=i(215131),E=i(568753),b=i(368266),y=i(141994);_.PW.RESPONSIVE_SET,a.PWo.RESPONSIVE_SET,_.PW.CODE_LIBRARY,a.PWo.CODE_LIBRARY,_.PW.CODE_FILE,a.PWo.CODE_FILE,_.PW.CODE_COMPONENT,a.PWo.CODE_COMPONENT,_.PW.MANAGED_STRING,a.PWo.MANAGED_STRING,_.PW.VARIABLE,a.PWo.VARIABLE,_.PW.VARIABLE_SET,a.PWo.VARIABLE_SET,_.PW.VARIABLE_OVERRIDE,a.PWo.VARIABLE_OVERRIDE;let S={[a.PWo.RESPONSIVE_SET]:{[a.Ocq.LOCAL]:f.X1,[a.Ocq.SUBSCRIBED]:f._t},[a.PWo.CODE_LIBRARY]:{[a.Ocq.LOCAL]:p.V,[a.Ocq.SUBSCRIBED]:p.Q},[a.PWo.CODE_FILE]:{[a.Ocq.LOCAL]:h.y,[a.Ocq.SUBSCRIBED]:h.d},[a.PWo.CODE_COMPONENT]:{[a.Ocq.LOCAL]:m.rG,[a.Ocq.SUBSCRIBED]:m.Ir},[a.PWo.MANAGED_STRING]:{[a.Ocq.LOCAL]:g.f,[a.Ocq.SUBSCRIBED]:g.c},[a.PWo.VARIABLE]:{[a.Ocq.LOCAL]:E.n,[a.Ocq.SUBSCRIBED]:E.i},[a.PWo.VARIABLE_SET]:{[a.Ocq.LOCAL]:y.R,[a.Ocq.SUBSCRIBED]:y.u},[a.PWo.VARIABLE_OVERRIDE]:{[a.Ocq.LOCAL]:b.d,[a.Ocq.SUBSCRIBED]:b.Q}},T={[_.PW.RESPONSIVE_SET]:{local:v(a.PWo.RESPONSIVE_SET,a.Ocq.LOCAL),subscribed:v(a.PWo.RESPONSIVE_SET,a.Ocq.SUBSCRIBED)},[_.PW.CODE_LIBRARY]:{local:v(a.PWo.CODE_LIBRARY,a.Ocq.LOCAL),subscribed:v(a.PWo.CODE_LIBRARY,a.Ocq.SUBSCRIBED)},[_.PW.CODE_FILE]:{local:v(a.PWo.CODE_FILE,a.Ocq.LOCAL),subscribed:v(a.PWo.CODE_FILE,a.Ocq.SUBSCRIBED)},[_.PW.CODE_COMPONENT]:{local:v(a.PWo.CODE_COMPONENT,a.Ocq.LOCAL),subscribed:v(a.PWo.CODE_COMPONENT,a.Ocq.SUBSCRIBED)},[_.PW.MANAGED_STRING]:{local:v(a.PWo.MANAGED_STRING,a.Ocq.LOCAL),subscribed:v(a.PWo.MANAGED_STRING,a.Ocq.SUBSCRIBED)},[_.PW.VARIABLE]:{local:v(a.PWo.VARIABLE,a.Ocq.LOCAL),subscribed:v(a.PWo.VARIABLE,a.Ocq.SUBSCRIBED)},[_.PW.VARIABLE_SET]:{local:v(a.PWo.VARIABLE_SET,a.Ocq.LOCAL),subscribed:v(a.PWo.VARIABLE_SET,a.Ocq.SUBSCRIBED)},[_.PW.VARIABLE_OVERRIDE]:{local:v(a.PWo.VARIABLE_OVERRIDE,a.Ocq.LOCAL),subscribed:v(a.PWo.VARIABLE_OVERRIDE,a.Ocq.SUBSCRIBED)}};function v(e,t){let i=S[e][t],n=(0,u.Wh)(()=>(0,o.eU)({})),r=(0,o.FZ)(n,(e,t)=>{if("changed"in t){let i=t.changed;return{...e,...i.reduce((e,t)=>(e[t.assetId]=t,e),{})}}if("removed"in t){let i=new Set(t.removed);return l()(e,e=>e&&!i.has(e.assetId))}return"reset"in t?{}:e});return r.debugLabel=`assetByKeyAtom(${a.PWo[e]}, ${a.Ocq[t]})`,r.onMount=n=>{var a,o,r;let l=()=>{n({changed:(s.P5?.getAllAssets(e,t)??[]).map(i).filter(e=>null!==e)})};c.Y5.isReady()?l():c.Y5.onReady().then(l);let d=(a=e,o=t,r=e=>{n(e)},R[a][o]=r,()=>{R[a][o]=null});return()=>{d(),n({reset:!0})}},r}let R={[a.PWo.RESPONSIVE_SET]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.CODE_LIBRARY]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.CODE_FILE]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.CODE_COMPONENT]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.MANAGED_STRING]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.VARIABLE]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.VARIABLE_SET]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null},[a.PWo.VARIABLE_OVERRIDE]:{[a.Ocq.LOCAL]:null,[a.Ocq.SUBSCRIBED]:null}};class I{syncAddedOrChangedAssets(e,t,i){if(t===a.Ocq.SUBSCRIBED){let n=S[e]?.[a.Ocq.SUBSCRIBED];if(!n)return void(0,d.x1)("design-systems",`No parser found for ${e} and ${t}`);R[e]?.[a.Ocq.SUBSCRIBED]?.({changed:i.map(n).filter(e=>null!==e)})}else if(t===a.Ocq.LOCAL){let n=S[e]?.[a.Ocq.LOCAL];if(!n)return void(0,d.x1)("design-systems",`No parser found for ${e} and ${t}`);R[e]?.[a.Ocq.LOCAL]?.({changed:i.map(n).filter(e=>null!==e)})}else(0,d.x1)("design-systems",`Invalid subscription status for AssetMirror: ${t}`)}syncRemovedAssets(e,t,i){R[e]?.[t]?.({removed:i})}resetMirrorCache(){for(let e of Object.values(R))for(let t of Object.values(e))t?.({reset:!0})}}function x(){n=new I}},116791(e,t,i){let n;i.d(t,{X:()=>n,z4:()=>c});var a=i(688357),s=i(151524),o=i(42053),r=i(964680),l=i(500401);class d{readyToAcceptAutosaveChanges(){return!!(0,r.ZG)()?.session()?.readyToAcceptChanges()}hasOngoingCommitTask(){return!!(0,r.ZG)()?.session()?.hasOngoingCommitTask()}async enqueueAutosaveCommit(e,t,i,n,s,o){let d=(0,r.ZG)();if(!d)return(0,l.W6)("AutosaveManager should not be null when committing"),!0;let c=d.session();if(!c)return!0;if(!a.h3O)throw Error("Multiplayer bindings is not available");return await c.enqueueAutosaveCommit({changes:e,commitPolicy:t,fileVersion:i,fileKey:n,newSessionID:a.h3O.currentSessionID(),numberOfUncleanRegisters:s,reason:o}),!0}createAutosaveManager(e){let t=s.D.getState().user;t?(0,r.mu)(e,t.id):(0,o.Lo)("Autosave","Not creating manager for logged out user")}destroyAutosaveManager(){(0,r.t)()}isConnected(){return(0,r.ZG)()?.managerState==="connected"}}function c(){n=new d}},857771(e,t,i){let n;i.d(t,{$W:()=>L,z5:()=>n});var a,s,o=i(45871),r=i(706354),l=i(688357),d=i(850159),c=i(37760),u=i(181645),_=i(151524),m=i(462198),h=i(613629),p=i(506026),g=i(144615),f=i(730351);async function E(e,t=1){let n=(0,f.UN)(),a=e.findContainingTopLevelNodeWithWidthConstraint(2e3);"-1:-1"===a&&(a=e.findContainingTopLevelFrameOrSelf());let s=e&&n.get(a);if(!s)return;let o=0,r=null;try{let t=await Promise.all([i.e("5752"),i.e("9712")]).then(i.bind(i,353883));r=(await t.serializeJSX(s,{includeIDs:!0,excludeImageData:!0,excludeVectorData:!0,includeNames:!0,ignoreFetchingComponentData:!0,filterFunction:e=>(o++,e.visible),ignoreComponentProps:!0,focusNodeId:e.guid,excludeEmptyContainers:!0,maxSerializeNodes:100,maxSerializeTimeMs:100,includeNodeTypes:["TEXT","FRAME","GROUP","INSTANCE","SYMBOL"],fieldGroups:["layout","text"],fieldGroupFilters:{layout:["x","y","width","height","flex"],text:["fontSize","textDecoration"]},maxNodeswithFields:30,strict:!1,includeInstanceSublayers:!0,ignoreDeveloperFriendlyIds:!0,forceAbsolutePosition:!0,flattenTextContent:!0,truncateFlattenedTextContent:1e3,useDivTagsForFrames:!0})).jsxStr}catch(e){console.error("Failed to serialize JSX:",e)}let l=r?y(r,e.guid,t):void 0;return{jsx:l?b(l):void 0,expData:{numSerializedNodes:o,maxSerializeNodes:100,maxNodesWithFields:30}}}(a=s||(s={}))[a.STARTER=1]="STARTER",a[a.STARTING_CHAR=2]="STARTING_CHAR";let b=e=>e.replace(/\n\s*/g," ").trim(),y=(e,t,i)=>{let n;switch(i){case 1:case 2:if(n=e?.replace(RegExp('\\sid="([^"]+)"',"g"),(e,i)=>i===t?e:"")?.replace(RegExp(`<Text([^>]*)id="${t}"([^>]*?)(?:/>|>([\\s\\S]*?)</Text>)`,"g"),(e,i,n)=>{let a=n.replace(/\sname="\{?[^"}]*\}?"/,"");return`<Text${i}id="${t}"${a.trimEnd()} />`})?.replace(RegExp(`(<\\/?)${g.FE}(\\w+)`,"g"),(e,t,i)=>`${t}${i}`),!n?.includes(`id="${t}"`))return void console.error("Failed to find target node in JSX")}return n};var S=i(302110),T=i(297398);let v=["## CONTEXT","## TASK","## OUTPUT","## GUIDELINES","{CURSOR}"],R=["seasoned UX writer","assisting a UX designer","JSX representation","suggest copy","single suggestion","multiple suggestions","target node","contextual clues","final design iteration","generate text","visual hierarchy","textual consistency","completing their unfinished designs"];async function I(e,t,i,n){var a;let o=(0,f.UN)().get(e);if(!o)return;let r=Date.now(),l=await E(o,i),d=Date.now();if(!l||!l.jsx)return;let c=n||"",_=i===s.STARTING_CHAR?o.characters:"",m=await x(l.jsx,t,e,i,c,_),h=Date.now(),p=(a=m.suggestions,a.forEach(t=>{let i=function(e,t){let i=[],n=[];for(let i of(t&&e.includes(t)&&n.push("nodeId"),v))e.includes(i)&&n.push(i);for(let t of R)e.includes(t)&&i.push(t);let a=!n.length,s=i.length<2;return{pass:a&&s,hardStrikes:n,softStrikes:i}}(t,e);if(!i.pass)return u.az.trackDefinedEvent("autosuggest_text.warning",{description:"Basic leak check failed",num_existing_chars:c.length,num_existing_words:c.split(" ").length,num_suggested_chars:t.length,num_suggested_words:t.split(" ").length,hard_strikes:i.hardStrikes.join(", "),soft_strikes:i.softStrikes.join(", ")}),[]}),a.map(e=>{var t,i,n;let a,s,o,r,l=(t=e,a="(Frame|Text|Span|Group)",s=RegExp(`<\\b${a}\\b(\\s+[^>]*)?>`,"g"),o=RegExp(`</\\b${a}\\b>`,"g"),r=RegExp(`<\\b${a}\\b(\\s+[^>]*)*/?>`,"g"),t.replace(/\{CURSOR\}/g,"").replace(/\{BREAK\}/g,"").replace(s,"").replace(o,"").replace(r,"").replace(/{\s*`([^`]*)`\s*}/g,"$1").replace(/\s+/g," ").replace(/^`|`$/g,"").replace(/'/g,"\u2019").trim());return(l===c&&u.az.trackDefinedEvent("autosuggest_text.suggestion_same_as_existing",{suggestion_length:e.length}),_&&(i=l,n=_,l=i&&n&&i.toLowerCase().startsWith(n.toLowerCase())?n+i.substring(n.length):i),l===c)?"":l}).filter(e=>""!==e));return u.az.trackDefinedMetric("autosuggest_text.serialization_latency",{serialization_latency_ms:d-r}),u.az.trackDefinedMetric("autosuggest_text.token_reduction_exp_info",{numSerializedNodes:l.expData.numSerializedNodes,maxSerializeNodes:l.expData.maxSerializeNodes,maxNodesWithFields:l.expData.maxNodesWithFields}),{rawText:m.suggestions,text:p,inputTokens:m.usage.promptTokens,serializationLatencyMs:d-r,requestLatencyMs:h-d}}async function x(e,t,i,n,a,s){let{suggestions:o,usage:r}=await S.Ay.shared.autosuggestText({jsx:e,nodeId:i,suggestionType:n,existingText:a,startingChar:s},{...(0,T.Ay)(),clientLifecycleId:t});return{suggestions:o,usage:r}}let A="text-suggestions-dismiss-count";class O{generateRequestId(){return(0,c.g)()}generateSessionId(){return(0,c.g)()}async getSuggestion(e,t,i,n){let a;try{a=await I(e,t,i,n)}catch(e){e instanceof o.Yh&&!(e instanceof o.M_)&&(0,m.$D)(r.FigmaTeam.EXPRESSIVE_AI,e)}return{text:a?.text,inputTokens:a?.inputTokens,serializationLatencyMs:a?.serializationLatencyMs,requestLatencyMs:a?.requestLatencyMs}}onExplicitDismiss(e){let t=N()+1;t<50?localStorage.setItem(A,t.toString()):(_.D.dispatch(h.F.enqueue({type:"text-suggestion-nudge",message:(0,d.t)("fullscreen.text_suggestion_nudge_message"),icon:p.zX.SPARKLE,button:{text:(0,d.t)("fullscreen.text_suggestion_nudge_turn_off"),action:()=>{l.glU?.triggerActionEnum(l.rcl.TOGGLE_TEXT_SUGGESTIONS_PREFERENCE,{})}}})),(0,u.sx)("autosuggest_text.preference_nudge_shown",{sessionId:e}),C(e))}onFullOrPartialAccept(e){C(e)}}function N(){let e=Number(localStorage.getItem(A)??"0");return isNaN(e)?0:e}function C(e){let t=N();localStorage.removeItem(A),t>0&&(0,u.sx)("autosuggest_text.dismiss_count_reset",{sessionId:e,dismiss_count:t})}function L(){n=new O}},448775(e,t,i){let n,a,s,o;i.d(t,{$q:()=>g,BI:()=>a,QT:()=>E,Vv:()=>p,XT:()=>d,Y5:()=>n,ZP:()=>m,Zi:()=>h,_W:()=>u,fT:()=>_,lQ:()=>r,r1:()=>f,s$:()=>l,uF:()=>c,w8:()=>s});let r=new Promise(e=>{o=e});function l(e){n=e,window._fullscreen_=n,o()}function d(e){a=e}function c(e){u=e}let u=null;function _(e){m=e}let m=null;function h(e){p=e}let p=null;function g(e){f=e}let f=null;function E(e){s=e}},402886(e,t,i){let n;i.d(t,{AG:()=>n,KQ:()=>s});var a=i(363386);function s(){n=new o}class o{didGetBuzzApprovalStatusChange(){(0,a.S)()}}},58414(e,t,i){i.d(t,{X:()=>c,d:()=>l});var n=i(63744),a=i(850159),s=i(763814),o=i(448775),r=i(146556);function l(){if(!n.u7)throw Error("AppStateUiTsApi bindings is not available");return n.u7.canvasViewState()}let d=[{getObservable:()=>l().showOutlines,getMessage:e=>e?(0,s.nX)()?{message:(0,a.t)("visual_bell.show_outlines_visible"),button:{text:(0,a.t)("visual_bell.cancel"),action:e=>{e.stopPropagation(),o.Y5.triggerAction("toggle-outlines")}}}:{message:(0,a.t)("visual_bell.show_outlines_visible")}:{message:(0,a.t)("visual_bell.show_outlines_hidden")}},{getObservable:()=>l().showOutlineHiddenLayers,getMessage:e=>({message:e?(0,a.t)("visual_bell.outlines_show_hidden_layers"):(0,a.t)("visual_bell.outlines_hide_hidden_layers")})},{getObservable:()=>l().showOutlineObjectBounds,getMessage:e=>({message:e?(0,a.t)("visual_bell.outlines_show_object_bounds"):(0,a.t)("visual_bell.outlines_hide_object_bounds")})},{getObservable:()=>l().showFrameGridsViewOnly,getMessage:e=>({message:e?(0,a.t)("visual_bell.show_frame_guides_visible"):(0,a.t)("visual_bell.show_frame_guides_hidden")})}];function c(){(0,r.Mo)(d)}},796700(e,t,i){i.d(t,{P:()=>ey});var n=i(243721),a=i(941610);i(235933),i(733277),i(779277),i(28390),i(521353),i(401143),i(100584),i(933701),i(647340),i(399440),i(345548),i(247447),i(993827),i(382756),i(690252);var s=i(491852);let o=n.z5.parse("#282A36"),r=n.z5.parse("#F8F8F2"),l=n.z5.parse("#AEAFAD"),d=n.z5.parse("#999"),c=n.z5.parse("#6272A4"),u=n.z5.parse("#8BE9FD"),_=n.z5.parse("#50FA7B"),m=n.z5.parse("#FFB86C"),h=n.z5.parse("#FF79C6"),p=n.z5.parse("#BD93F9"),g=n.z5.parse("#FF5555"),f=n.z5.parse("#F1FA8C"),E={backgroundColor:o,defaultColor:r,cursorColor:l,lineNumberColor:d,tokenColors:{atrule:_,attrName:_,attrValue:f,boolean:p,builtin:u,className:u,comment:c,constant:m,entity:h,function:_,important:h,keyword:h,number:p,operator:u,property:m,punctuation:r,regex:g,selector:h,string:f,symbol:m,tag:h,url:u,variable:c}},b=n.z5.parse("#322d29"),y=n.z5.parse("#88786d"),S=n.z5.parse("#bfa05a"),T=n.z5.parse("#ffdac2"),v=n.z5.parse("#bd987f"),R=n.z5.parse("#fcc440"),I={defaultColor:v,backgroundColor:b,lineNumberColor:y,cursorColor:v,tokenColors:{comment:y,prolog:y,doctype:y,cdata:y,punctuation:n.z5.parse("#da70d6"),namespace:{...v,a:.7},tag:S,operator:S,property:v,function:T,"tag-id":T,selector:T,"atrule-id":T,"attr-name":v,boolean:R,number:R,string:R,entity:R,url:R,"attr-value":R,keyword:R,control:R,directive:R,unit:R,statement:R,regex:R,atrule:R,placeholder:R,variable:R,important:v}},x=n.z5.parse("#2a2d2a"),A=n.z5.parse("#a1b5a2"),O=n.z5.parse("#535f53"),N=n.z5.parse("#a2b34d"),C=n.z5.parse("#f0fff0"),L=n.z5.parse("#b3d6b3"),w=n.z5.parse("#e5fb79"),D={defaultColor:A,backgroundColor:x,lineNumberColor:O,cursorColor:A,tokenColors:{comment:O,prolog:O,doctype:O,cdata:O,punctuation:N,namespace:{...A,a:.7},tag:N,operator:N,number:N,property:A,function:L,"tag-id":C,selector:C,"atrule-id":C,"attr-name":L,boolean:w,string:w,entity:w,url:w,"attr-value":w,keyword:w,control:w,directive:w,unit:w,statement:w,regex:w,atrule:w,placeholder:w,variable:w,important:L}},j=n.z5.parse("#faf8f5"),k=n.z5.parse("#728fcb"),P=n.z5.parse("#063289"),M=n.z5.parse("#93abdc"),F=n.z5.parse("#cdc4b1"),U=n.z5.parse("#b6ad9a"),G=n.z5.parse("#b29762"),V=n.z5.parse("#2d2006"),B=n.z5.parse("#896724"),X={defaultColor:B,backgroundColor:j,lineNumberColor:F,cursorColor:k,tokenColors:{comment:U,prolog:U,doctype:U,cdata:U,punctuation:U,namespace:{...k,a:.7},tag:P,operator:P,number:P,property:G,function:G,"tag-id":V,selector:V,"atrule-id":V,"attr-name":B,boolean:k,string:k,entity:k,url:k,"attr-value":k,keyword:k,control:k,directive:k,unit:k,statement:k,regex:k,atrule:k,placeholder:M,variable:M,important:B}},H=n.z5.parse("#1d262f"),z=n.z5.parse("#57718e"),W=n.z5.parse("#4a5f78"),K=n.z5.parse("#88b4e7"),q=n.z5.parse("#0aa370"),$=n.z5.parse("#ebf4ff"),Y=n.z5.parse("#7eb6f6"),J=n.z5.parse("#47ebb4"),Z={defaultColor:K,backgroundColor:H,lineNumberColor:W,cursorColor:z,tokenColors:{comment:W,prolog:W,doctype:W,cdata:W,punctuation:n.z5.parse("#f3cd12"),namespace:{...z,a:.7},tag:q,operator:q,property:K,function:$,"tag-id":$,selector:$,"atrule-id":$,"attr-name":Y,boolean:J,number:J,string:J,entity:J,url:J,"attr-value":J,keyword:J,control:J,directive:J,unit:J,statement:J,regex:J,atrule:J,placeholder:J,variable:J,important:Y}},Q=n.z5.parse("#24242e"),ee=n.z5.parse("#8686cb"),et=n.z5.parse("#5b5b76"),ei=n.z5.parse("#dd672c"),en=n.z5.parse("#ebebff"),ea=n.z5.parse("#aaaaca"),es=n.z5.parse("#fe8c52"),eo={defaultColor:ee,backgroundColor:Q,lineNumberColor:et,cursorColor:ee,tokenColors:{comment:et,prolog:et,doctype:et,cdata:et,punctuation:et,namespace:{...ee,a:.7},tag:ei,operator:ei,number:ei,property:ea,function:ea,"tag-id":en,selector:en,"atrule-id":en,"attr-name":ea,boolean:es,string:es,entity:es,url:es,"attr-value":es,keyword:es,control:es,directive:es,unit:es,statement:es,regex:es,atrule:es,placeholder:es,variable:es,important:ea}},er=n.z5.parse("#9A93AE"),el=n.z5.parse("#ED4F62"),ed=n.z5.parse("#EB8559"),ec=n.z5.parse("#F8D41C"),eu=n.z5.parse("#53E37C"),e_=n.z5.parse("#1BCDF4"),em=n.z5.parse("#C3AAFF"),eh=n.z5.parse("#FFFFFF"),ep={defaultColor:eh,backgroundColor:n.z5.parse("#2F2746"),lineNumberColor:{...eh,a:.5},cursorColor:eh,tokenColors:{comment:er,prolog:er,doctype:er,cdata:er,variable:el,constant:el,tag:el,selector:el,regexp:el,deleted:el,important:el,builtin:ed,url:ed,number:ec,property:ec,"attr-name":ec,"literal-property":ec,string:eu,"string-property":eu,char:eu,symbol:eu,inserted:ed,title:e_,section:e_,params:e_,parameter:e_,function:e_,"class-name":e_,keyword:em,"selector-tag":em,atrule:em,"attr-value":em,punctuation:eh,namespace:eh,operator:eh,entity:eh,"attr-equals":eh,decorator:eh,"generic-function":eh,generic:eh,"raw-string":eu,directive:e_,macro:eh,"macro-name":eh,"directive-hash":eh,expression:eh,module:eh,"double-colon":eh,"base-clause":eh,"method-definition":e_,interpolation:eh,delimiter:eh,spread:eh,"special-attr":eh,script:eh,"language-javascript":eh,"script-punctuation":eh,boolean:em,null:em,scalar:el,"property-query":ec,"definition-query":e_,"definition-mutation":e_,fragment:e_,description:eh,"atom-input":eh,object:eh,"triple-quoted-string":eu,label:eu,annotation:ed}};function eg(e){switch(e){case s._3L.FIGJAM_DARK:return ep;case s._3L.DUOTONE_LIGHT:return X;case s._3L.DUOTONE_SEA:return Z;case s._3L.DUOTONE_SPACE:return eo;case s._3L.DUOTONE_FOREST:return D;case s._3L.DUOTONE_EARTH:return I;case s._3L.DRACULA:return E}}let ef="token",eE=new Set(["tsx","cpp","ruby","css","jsx","markup","json","graphql","python","go","sql","swift","kotlin","rust","bash","plaintext"]);function eb(e,t){if(0===e.length)return void e.push(t);let i=e[e.length-1];if(i.color===t.color&&i.endIndex===t.startIndex){i.endIndex=Math.max(i.endIndex,t.endIndex);return}e.push(t)}let ey=new class{getParsedCodeTokens(e,t,i){return function(e,t,i){let s="";switch(t){case"typescript":t="tsx";break;case"javascript":t="jsx";break;case"html":t="markup"}s=eE.has(t)?a.highlight(e,a.languages[t],t):a.highlight(e,a.languages.tsx,"tsx");let o=[],r=new DOMParser().parseFromString(`<span id="code">${s}</span>`,"text/html"),l=[],d=eg(i),c=(e,t)=>{let{nodeType:i}=e;if(i===Node.TEXT_NODE){let i=[...e.textContent??""];1===t&&eb(o,{startIndex:l.length,endIndex:l.length+i.length,color:n.Nv.format(d.defaultColor),isItalic:!1}),l.push(...i);return}let a=[...e.innerText??e.textContent];if(e.classList.contains(ef))for(let t of e.classList)t!==ef&&eb(o,{startIndex:l.length,endIndex:l.length+a.length,color:n.Nv.format(d.tokenColors[t]||d.defaultColor),isItalic:"comment"===t});for(let i of e.childNodes)c(i,t+1)};return c(r.getElementById("code"),0),o}(e,t,i)}getBackgroundColor(e){return n.Nv.format(eg(e).backgroundColor)}getLineNumberColor(e){return n.Nv.format(eg(e).lineNumberColor)}getCursorColor(e){return n.Nv.format(eg(e).cursorColor)}}},238001(e,t,i){i.d(t,{f:()=>s});var n=i(805590),a=i(42053);let s=new class{getObjectPath(e){let t=(0,n.N)(),i=t.getEntryByGUID(e);return i?t.getObjectPath(i)??"":((0,a.x1)("code-vfs","No VFS entry found for Node",{guid:e}),"")}}},453845(e,t,i){i.d(t,{q:()=>l});var n=i(673890),a=i(958964),s=i(42053),o=i(526296),r=i(879209);let l=new class{constructor(){this.onFrameCb=null,this.switchWebglColorSpace=(e,t)=>{let i=e.drawingBufferColorSpace;switch(t){case n.RY.SRGB:if("srgb"===i)return;e.drawingBufferColorSpace="srgb",e.unpackColorSpace&&(e.unpackColorSpace="srgb"),r.l.setCanvasColorProfile(n.RY.SRGB);break;case n.RY.DISPLAY_P3:if("display-p3"===i)return;e.drawingBufferColorSpace="display-p3",e.unpackColorSpace&&(e.unpackColorSpace="display-p3"),r.l.setCanvasColorProfile(n.RY.DISPLAY_P3);break;default:(0,s.x1)("color management","unsupported color space",{targetColorSpace:t})}}}onFrame(){(0,o.L)(a.B3,o.K.DEFAULT,()=>{this.onFrameCb&&this.onFrameCb()})}queueSwitchWebglColorSpace(e,t,i,n){let a=()=>{this.switchWebglColorSpace(e,t),n&&n.invalidateCanvas()};"mirror"===i?a():this.onFrameCb=a}}},691344(e,t,i){let n;i.d(t,{C5:()=>n,YL:()=>r});var a=i(7e3),s=i(220459);class o{calculateColorWithRampValue(e,t){let i=(0,s.jA)((0,a.aH)(e),t);return i?(0,a.oU)(i):null}calculateColorWithRelativeAdjustment(e,t){let i=(0,s.Hd)((0,a.aH)(e),t);return i?(0,a.oU)(i):null}getRampValueForColor(e){return(0,s.Wn)((0,a.aH)(e))}}function r(){n=new o}},425131(e,t,i){let n;i.d(t,{MD:()=>d,c8:()=>n});var a=i(350923),s=i(493652),o=i(94241),r=i(498881);class l{getInstanceSwapPickerTab(){let e=a.zl.get(r.R);if(!e)return null;let t=a.zl.get(o._S);return(0,s.Z4)(e,t)}}function d(){n=new l}},421444(e,t,i){let n;i.d(t,{Tl:()=>n,pH:()=>c});var a=i(741542),s=i(834825),o=i.n(s),r=i(487817),l=i(584196);class d{constructor(e){this.store=e}trackComponentAction(e,t,i){let n=this.state.openFile,s=n?.key,d=!!this.state.user;if(null==n||null==s||!d)return;let c=n.editorType;if(c===r._Y.SLIDES||c===r._Y.FIGMAKE||(0,a.getFeatureFlags)().dsa_restrict_actions_to_design&&!this.isInDesignFile())return;let u=Object.entries(t).map(([e,t])=>({key:e,count:t}));for(let t of o()(u,5e3))try{l.PT.recordComponentAction({action:e,action_source:i,fileKey:s,components:t})}catch(e){}}trackStyleAction(e,t,i){let n=!!this.state.user;if(!this.isInDesignFile()||!n)return;let a=[];for(let[e,i]of Object.entries(t))a.push({key:e,count:i});if(0!==a.length)try{l.PT.recordStylesAction({action:e,action_source:i,fileKey:this.state.openFile?.key,styles:a})}catch(e){}}trackVariableAction(e,t,i){let n=!!this.state.user;if(!this.isInDesignFile()||!n)return;let a=[];for(let[e,i]of Object.entries(t))a.push({key:e,count:i});if(0!==a.length)try{l.PT.recordVariablesAction({action:e,action_source:i,fileKey:this.state.openFile?.key,variables:a})}catch(e){}}isInDesignFile(){let e=this.state.openFile,t=e?.key;return null!=e&&null!=t&&e.editorType===r._Y.DESIGN}get state(){if(!this.store)throw Error("Calling _state without a valid store");return this.store.getState()}}function c(e){n=new d(e)}},965069(e,t,i){let n;i.d(t,{xo:()=>n,zs:()=>r}),i(513427);var a=i(116682);i(613629);var s=i(575425);class o{constructor(e){this.store=e,this.commentNotificationLogTimePerFile={},this.COMMENT_NOTIFICATION_LOG_INTERVAL_MS=36e5}showErrorBellInLocalDev(e){}onMissingEditScope(){this.showErrorBellInLocalDev("No edit scope is active")}onIntentionalEdit(e){this.maybeSubscribeToCommentNotifications(e)}resetCommentNotificationLogTimes(){this.commentNotificationLogTimePerFile={}}maybeSubscribeToCommentNotifications(e){let t=this.store.getState(),i=t.openFile?.key;if(!i||"fullscreen"===t.selectedView.view&&t.selectedView.editorType===s.nT.DevHandoff)return;let n=this.commentNotificationLogTimePerFile[i],o=Date.now();if(null!=n&&o-n<this.COMMENT_NOTIFICATION_LOG_INTERVAL_MS)return;let r=Array.from(e).find(e=>{if(e.includes("StampBehavior"))return!1;switch(e){case"set-visible":case"set-locked":case"cut":case"select-frame-preset":case"update-selection-export-settings-data":case"reorder-pages":return!1;default:return!0}});r&&(a.Ay.post(`/api/user_notifications/catfile_signup/${i}`,{action_type:r}),this.commentNotificationLogTimePerFile[i]=o)}}function r(e){n=new o(e)}},564660(e,t,i){let n;i.d(t,{Zc:()=>n,jx:()=>s});class a{constructor(e){this._store=e}get _state(){if(!this._store)throw Error("Calling _state without a valid store");return this._store.getState()}isInOrg(){return!!this._state.currentUserOrgId}}function s(e){n=new a(e)}},110306(e,t,i){i.d(t,{P:()=>o});var n=i(523924),a=i(688357),s=i(850159);function o(e){switch(e){case a.h62.MIRO:return(0,s.t)("fullscreen.file_import.import_miro_pdf_failed");case a.h62.MURAL:return(0,s.t)("fullscreen.file_import.import_mural_pdf_failed");case a.h62.LUCID:return(0,s.t)("fullscreen.file_import.import_lucid_pdf_failed");case a.h62.JAMBOARD:return(0,s.t)("fullscreen.file_import.import_jamboard_pdf_failed");case a.h62.UNKNOWN:return(0,s.t)("fullscreen.file_import.import_unknown_pdf_failed");default:(0,n.xb)(e)}}},900710(e,t,i){i.d(t,{E8:()=>_,HW:()=>c});var n=i(935759),a=i(42053),s=i(834861);let o="image/png";async function r(e){return new Uint8Array(await e.arrayBuffer())}async function l(e){if(!e.startsWith("blob:"))return null;let t=await fetch(e);return t.ok?t.blob():null}async function d(e,t,i){let n=await r(e);if(e.type!==o)return(0,a.x1)("pdf","PDF image type was: '"+e.type+"', expected "+o),null;let l=(await s.EC.decodeAsync(n,e.type,t,i,!1)).rgba;return l?s.EC.encodeInPlace(t,i,l,!1,1,!1):((0,a.x1)("pdf","Decoded PDF image returned no rgba data."),null)}function c(e,t){let i=new Map;return t.forEach(({nodeId:e,imageHash:t})=>{i.has(t)||i.set(t,[]),i.get(t)?.push(e)}),e.map(e=>({...e,nodeIds:i.get(e.sha1Hash)??[]}))}async function u(e){let t=e.href.baseVal,i=await l(t);if(!i)return null;let a=e.width.baseVal.value,s=e.height.baseVal.value,o=await d(i,a,s);if(!o)throw Error("Couldn't compress!!");let r=(0,n.Et)(o);e.removeAttribute("href"),e.removeAttribute("xlink:href"),e.setAttribute("imageHash",r);let c=(0,n.aD)(r);return{name:"Image",bytes:o,sha1Hash:r,sha1Bytes:c}}async function _(e){let t=Array.from(e.querySelectorAll("image"));return(await Promise.all(t.map(u))).reduce((e,t)=>null!==t?{...e,images:[...e.images,t]}:{...e,hadImageError:!0},{images:[],hadImageError:!1})}},410661(e,t,i){i.d(t,{r:()=>l});var n=i(267995),a=i(42053),s=i(867648),o=i(420041);let r="#000000";async function l(e,t,i){let l,d=await (0,s.eg)(),c=new d.SVGGraphics(e.commonObjs,e.objs);function u(e){let t=e.message;return t.startsWith("Unknown RadialAxial type")||t.startsWith("Unknown IR type")||"Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'."===t}[{functionName:c.setStrokeColorN.name,isErrorOfInterest:u,callOnFailure:()=>{c.current.setStrokeColorN=r,(0,a.Lo)("pdf",`Unsupported stroke, using: ${r}`,void 0,{logToConsole:n.NU.ALWAYS})}},{functionName:c.setFillColorN.name,isErrorOfInterest:u,callOnFailure:()=>{c.current.setFillColorN=r,(0,a.Lo)("pdf",`Unsupported fill, using: ${r}`,void 0,{logToConsole:n.NU.ALWAYS})}},{functionName:c.paintInlineImageXObject.name,isErrorOfInterest:e=>"invalid format"===e.message,callOnFailure:()=>{(0,a.Lo)("pdf","Unsupported image",void 0,{logToConsole:n.NU.ALWAYS})}},{functionName:c.addFontStyle.name,isErrorOfInterest:e=>e.message.startsWith("addFontStyle: No font data available"),callOnFailure:()=>{(0,a.Lo)("pdf","Unsupported font",void 0,{logToConsole:n.NU.ALWAYS})}}].forEach(e=>{!function(e,t){let{functionName:i,isErrorOfInterest:n,callOnFailure:a}=t,s=e[i].bind(e);e[i]=(...e)=>{try{s(...e)}catch(e){if(n(e))a();else throw e}}}(c,e)});let _=await e.getOperatorList(),m=new Set;if(_.fnArray.forEach((e,t)=>{if(e===d.OPS.setFont){var n;let e=_.argsArray[t][0],a=c.commonObjs.get(e);if(!a?.name)return;l=(0,o.Y)(a.name),i.findFontIdsToBold&&(n=a.name,/(bold|700)/i.test(n))&&m.add(a.loadedName)}e===d.OPS.showText&&_.argsArray[t][0].forEach(e=>{"object"==typeof e&&("\0"!==e.unicode?e.fontChar=e.unicode:l?.[e.originalCharCode]?e.fontChar=l[e.originalCharCode]:e.fontChar="\u25A1"," "===e.fontChar&&(e.isInFont=!0))})}),!i.preserveClipPaths){let e=e=>e!==d.OPS.clip&&e!==d.OPS.eoClip;_.argsArray=_.argsArray.filter((t,i)=>e(_.fnArray[i])),_.fnArray=_.fnArray.filter(t=>e(t))}return{svgElement:await c.getSVG(_,t),additionalData:{fontIdsToBold:m}}}},957753(e,t,i){i.d(t,{u:()=>p});var n=i(688357),a=i(834268),s=i(676243);let o={name:"removeInvisibleElements",fn:()=>({element:{exit:(e,t)=>{(0,a.Q)(e),"path"!==e.name||e.attributes.fill&&"none"!==e.attributes.fill||e.attributes.stroke&&"none"!==e.attributes.stroke||(0,a.L)(e,t)}}})},r={name:"removeTSpanGlyphPositions",fn:()=>({element:{enter:(e,t)=>{"tspan"===e.name&&e.attributes.x&&e.attributes.x.startsWith("0 ")&&delete e.attributes.x}}})},l={name:"combineOutlineAndFill",fn:()=>({element:{enter:e=>{let t=e.children.reduce((e,t)=>{if("element"===t.type&&"path"===t.name){let i=t.attributes.d||"";e[i]??=[],e[i].push(t)}return e},{}),i=new Set;Object.values(t).forEach(e=>{if(e.length>1){let t={};e.forEach((e,n)=>{Object.entries(e.attributes).forEach(([e,i])=>{i&&"none"!==i&&(t[e]=i)}),n>0&&i.add(e)}),e[0].attributes=t}}),i.size>0&&(e.children=e.children.filter(e=>!i.has(e)))}}})},d={name:"combineLucidGroupedOutlineAndFill",fn:()=>({element:{enter:e=>{if("element"!==e.type||"g"!==e.name)return;let t=e.children.reduce((e,t)=>{if("element"===t.type&&"g"===t.name){let i=t.children[0];if(i&&"element"===i.type&&"path"===i.name){let n=JSON.stringify([t.attributes.transform,i.attributes.d]);e[n]??=[],e[n].push(t)}}return e},{}),i=new Set;Object.values(t).forEach(e=>{if(e.length>1){let t={};e.forEach((e,n)=>{Object.entries(e.children[0].attributes).forEach(([e,i])=>{i&&"none"!==i&&(t[e]=i)}),n>0&&i.add(e)}),e[0].children[0].attributes=t}}),i.size>0&&(e.children=e.children.filter(e=>!i.has(e)))}}})},c={name:"replaceRectGradientFillsWithLastStopColor",fn:()=>{let e={};return{element:{enter:t=>{if("linearGradient"===t.name){let i=t.children[t.children.length-1];if(i&&"element"===i.type&&"stop"===i.name){let n=i.attributes["stop-color"];n&&(e["#"+t.attributes.id]=n)}}else if("rect"===t.name&&t.attributes.fill){let i=(e=>{let t=/url\((.+)\)/.exec(e);if(!t)return;let i=t[1];return"'\"".includes(i[0])?i.slice(1,-1):i})(t.attributes.fill);i&&e.hasOwnProperty(i)&&(t.attributes.fill=e[i])}}}}}},u={name:"addWhitespaceToTspans",fn:()=>({element:{enter:e=>{"tspan"===e.name&&(e.attributes["white-space"]="pre")}}})},_={name:"removeWhiteMiroBackground",fn:()=>{let e=0,t=0,i=[];return{element:{enter:(n,o)=>{if("svg"===n.name)e=parseFloat(n.attributes.height||"0"),t=parseFloat(n.attributes.width||"0");else{if(n.attributes.transform){let e=(0,s.ae)(n.attributes.transform);i.push(e)}(function(e,t,i,n,a){if(i&&n&&"element"===t.type&&"path"===e.name&&("#fff"===e.attributes.fill||"#f2f2f2"===e.attributes.fill)){let t=parseFloat(/v(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),{height:o,width:r}=function(e,t,i){let n=e.reduce((e,t)=>(0,s.ZG)(e,t),[1,0,0,1,0,0]),{x:a,y:o}=(0,s.vo)(n,{x:0,y:0}),{x:r,y:l}=(0,s.vo)(n,{x:t,y:0}),{x:d,y:c}=(0,s.vo)(n,{x:t,y:i}),{x:u,y:_}=(0,s.vo)(n,{x:0,y:i});return{height:Math.max(o,l,c,_)-Math.min(o,l,c,_),width:Math.max(a,r,d,u)-Math.min(a,r,d,u)}}(a,parseFloat(/h(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),t);if(o>.9*i&&r>.9*n)return!0}return!1})(n,o,e,t,i)&&(0,a.L)(n,o)}},exit:(e,t)=>{(0,a.Q)(e),e.attributes.transform&&i.pop()}}}}},m={name:"removeWhiteMuralBackground",fn:()=>{let e=0,t=0;return{element:{enter:(i,n)=>{"svg"===i.name?(e=parseFloat(i.attributes.height||"0"),t=parseFloat(i.attributes.width||"0")):function(e,t,i,n){if(i&&n&&"element"===t.type&&"path"===e.name&&"#fafafa"===e.attributes.fill){let t=parseFloat(/v(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),a=Math.abs(n-parseFloat(/h(\d+)/.exec(e.attributes.d||"")?.[1]||"0")/.75);if(10>Math.abs(i-t/.75)&&a<10)return!0}return!1}(i,n,e,t)&&(0,a.L)(i,n)},exit:(e,t)=>{(0,a.Q)(e)}}}}},h={name:"repairAndBoldVectorizedTextFromMiro",fn:()=>({element:{enter:(e,t)=>{if("path"!==e.name||"element"!==t.type||"g"!==t.name)return;let i=t.children[1];if(!i||"element"!==i.type||"text"!==i.name)return;let n=i.children[0];if(n&&"element"===n.type&&"tspan"===n.name&&"0"===n.attributes["fill-opacity"])for(let n of((0,a.L)(e,t),i.children))"element"===n.type&&"tspan"===n.name&&(n.attributes["fill-opacity"]="1",n.attributes["font-weight"]="bold")},exit:(e,t)=>{(0,a.Q)(e)}}})};function p(e,t){let i=e===n.h62.LUCID,a=e===n.h62.MIRO,s=e===n.h62.MURAL,p=e===n.h62.JAMBOARD,g=!i&&!a&&!s&&!p,f=(a||p||g?[_]:[]).concat(s||g?[m]:[]),E=i?[]:[{name:"repairBoldText",fn:()=>({element:{enter:e=>{if("tspan"!==e.name)return;let i=e.attributes["font-family"];i&&t.has(i)&&(e.attributes["font-weight"]="bold")}}})}];return[...i?[]:[o],r,i?d:l,...i?[c]:[],(e=>{let t={makeArcs:!1,curveSmoothShorthands:!1};switch(e){case n.h62.LUCID:return{name:"preset-default",params:{overrides:{removeUnknownsAndDefaults:!1,mergePaths:!1,convertPathData:t}}};case n.h62.MIRO:case n.h62.MURAL:case n.h62.JAMBOARD:case n.h62.UNKNOWN:default:return{name:"preset-default",params:{overrides:{removeUnknownsAndDefaults:!1,moveGroupAttrsToElems:!1,collapseGroups:!1,convertPathData:t}}}}})(e),u,...f,...E,...a||p||g?[h]:[]]}},970700(e,t,i){i.d(t,{T:()=>a});var n=i(688357);function a(e){return e===n.Oin.HIDE_UI||e===n.Oin.ON_AND_LOCKED}},693793(e,t,i){let n;i.d(t,{ip:()=>n,qb:()=>o});var a=i(209114);class s{onFrameDistributionTrackedEvent(e){a.jp(e)}}function o(){n=new s}},539945(e,t,i){let n;i.d(t,{Pp:()=>C,dZ:()=>N,iA:()=>O,u1:()=>x,zi:()=>A});var a=i(706354),s=i(688357),o=i(730351),r=i(741542),l=i(181645),d=i(151524),c=i(462198),u=i(42053),_=i(181254),m=i(981109),h=i(125717);let p=null,g=0,f=!1,E=null,b=null,y=0;function S(){if(!s.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");(0,m.II)(),s.cgc.connectFinished()}function T(e){if(!s.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");null!=n?n.push(e):((0,m.II)(),s.cgc.receive(e))}function v(e,t){let i=new URL(e),n=new URL(t);return i.searchParams.delete("recentReload"),n.searchParams.delete("recentReload"),i.toString()===n.toString()}function R(e){if(null!==p){p.onopen=null,p.onmessage=null,p.onclose=null,p.onerror=null;try{p.close()}catch(e){}p=null;if(!s.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");(0,m.II)(),s.cgc.disconnect(e)}}let I=!1;function x(){if(p){I=!0;let e=p.url;R("breakMultiplayerWebsocketForTesting"),console.log(`breakMultiplayerWebsocketForTesting: disconnected from ${e}`)}}function A(e=!1){if(!p){if(I=!1,!s.h3O)throw Error("Multiplayer bindings not available");s.h3O.reconnect(e),console.log(`unbreakMultiplayerWebsocketForTesting: reconnected to ${p?p.url:null}`)}}function O(){null!=n?console.error("pauseMessageReceive_testOnly: ingestion already paused"):(n=[],console.log("pauseMessageReceive_testOnly: ingestion paused"))}function N(){if(null==s.cgc)return void console.error("unpauseMessageReceive_testOnly: FullscreenWebSocketTsApi bindings not available");if(null==n)return void console.error("unpauseMessageReceive_testOnly: message ingestion was not paused");let e=n;n=void 0;let t=e.length;for(let t of((0,m.II)(),e))s.cgc.receive(t);console.log(`unpauseMessageReceive_testOnly: flushed ${t} messages, ingestion unpaused`)}let C={connect:function(e){if(I)return;function t(){null!==E&&(clearTimeout(E),E=null),b=null}g++,!function(){if(f)return;let e=()=>{null!==E&&(clearTimeout(E),E=null,b=null)};window.addEventListener("offline",e),window.addEventListener("online",e),f=!0}(),R("connect");let i=mpGlobal.sock,n=mpGlobal.perfMetrics,m=mpGlobal.msgs;mpGlobal.sock=null,mpGlobal.msgs=[],mpGlobal.perfMetrics=[],h.xK.setWsUrl(e);let x=d.D?.getState();if(i&&v(i.url,e)&&(i.readyState===WebSocket.CONNECTING||i.readyState===WebSocket.OPEN)){for(let{key:e,ts:t,nBytes:a}of(p=i,y=0,n))h.xK.logWsMsg(e,a,t);S();let e=m.length;for(let[t,i]of m.entries())if((0,u.Lo)("multiplayer","Replaying websocket message",{i:t,total:e,len:i.byteLength}),T(i),!p)return;p.readyState===WebSocket.CONNECTING&&(p.onopen=()=>{h.xK.logWsMsg("mp-ws-onopen")})}else{if((0,_.ds)("multiplayer_connect_attempt_ws_start",x?.openFile?.key,x,{url:e,urlLength:e.length,connectAttemptId:g,isReconnect:!!o.qo&&-1!==(0,o.UN)().scene,isIncremental:s.h3O?.isIncrementalSession()}),null!==i){if(!v(i.url,e)&&((0,u.xi)("multiplayer","Preconnect URL doesn't match URL",{preconnectUrl:i.url,url:e}),(0,r.getFeatureFlags)().report_preconnect_mismatch&&(0,c.$D)(a.FigmaTeam.SCENEGRAPH_AND_SYNC,Error("Multiplayer preconnect URL mismatch"))),i.readyState!==WebSocket.CONNECTING&&i.readyState!==WebSocket.OPEN){let e=null;i.readyState===WebSocket.CLOSED?e="closed":i.readyState===WebSocket.CLOSING&&(e="closing"),(0,u.xi)("multiplayer","readyState is bad, skipping preconnect optimization",{readyState:e})}(0,l.sx)("preconnect_url_mismatch",{preconnectUrl:i.url,url:e,readyState:i.readyState},{forwardToDatadog:!0});try{i.close()}catch{}}let n=e.length;if(y>=3&&n>2e3&&navigator.onLine){let t=new URL(e);t.searchParams.delete("scenegraph-queries-initial-nodes"),e=t.toString()+"&use-incremental-for-editors=0";let i={connectAttemptId:g,originalUrlLength:n,newUrlLength:e.length,forced:!1,consecutiveInitFailureCount:y,shortened_url:!0};(0,_.ds)("multiplayer_connect_truncate_ws_url",x?.openFile?.key,x,i),(0,u.Lo)("multiplayer","Truncating websocket url to force full loading",i)}(p=new WebSocket(e)).binaryType="arraybuffer",null===E&&(b=navigator.onLine,E=setTimeout(()=>{let e=p?p.readyState:-1;if(e===WebSocket.OPEN)return;let t=x?.openFile?.key;t&&(0,_.GS)("scenegraph_and_sync.multiplayer_connect_ws_timeout",t,x,{connectAttemptId:g,online:navigator.onLine,startOnline:b??void 0,readyState:e,consecutiveInitFailureCount:y}),(0,u.Lo)("multiplayer","Websocket connect timeout",{connectAttemptId:g,online:navigator.onLine,startOnline:b,readyState:e,consecutiveInitFailureCount:y})},12e4)),p.onopen=()=>{t(),y=0,S(),h.xK.logWsMsg("mp-ws-onopen"),(0,_.ds)("multiplayer_connect_ws_open",x?.openFile?.key,x,{connectAttemptId:g}),(0,u.Lo)("multiplayer","Websocket opened")}}p.onmessage=e=>{let t=new Uint8Array(e.data);h.xK.logWsMsg("mp-ws-onmessage",t.length*t.BYTES_PER_ELEMENT),T(t)},p.onclose=e=>{t(),e.reason.startsWith("retry-quickly")?R("retry-quickly"):R("socket.onclose");let i=x?.openFile?.key;i&&(0,_.GS)("scenegraph_and_sync.multiplayer_connect_ws_close",i,x,{connectAttemptId:g,code:e.code,reason:e.reason,wasClean:e.wasClean})},p.onerror=()=>{navigator.onLine?y++:y=0,t(),R("socket.onerror"),(0,_.ds)("multiplayer_connect_ws_error",x?.openFile?.key,x,{connectAttemptId:g,consecutiveInitFailureCount:y,online:navigator.onLine}),(0,u.Lo)("multiplayer","Websocket error",{online:navigator.onLine,consecutiveInitFailureCount:y})}},disconnect:R,send:function(e){try{p.send(e)}catch(e){}},bufferedAmount:function(){return p?.bufferedAmount||0}}},644865(e,t,i){let n;i.d(t,{bJ:()=>r,ld:()=>n});var a=i(682894),s=i(891483),o=i(774941);function r(){n=new l}class l{constructor(){this.developerRelatedLinksManager=new a.GK}submitDeveloperRelatedLinks(e){this.developerRelatedLinksManager.addLinks(e)}didGetNodeStatusChange(){(0,s.Q)()}isVariableAvailableInLibraryAsset(e){return(0,o.y7)(e)}}},957551(e,t,i){i.d(t,{FF:()=>_,XT:()=>m,_I:()=>h});var n,a=i(688357),s=i(850159),o=i(90242),r=i(181645),l=i(921282),d=i(436174),c=i(613629);let u="hardware_acceleration_disabled_warning_shown";var _=((n=_||{})[n.UNKNOWN=0]="UNKNOWN",n[n.DISABLED=1]="DISABLED",n[n.ENABLED=2]="ENABLED",n);function m(){if(l.eD)return 0;let e=a.CeL?.getGpuDeviceInfo()??null;return e?e.vendor.includes("Google Inc.")&&e.graphicsCardName.includes("SwiftShader")?1:2:0}function h(e,t){if(0!==e){if(2===e){o.x4&&o.x4.getItem(u)&&((0,r.sx)("Hardware Acceleration Turned On"),delete o.x4[u]);return}if(!o.x4||!o.x4.getItem(u)){let e=()=>{o.x4.setItem(u,"1")};(0,r.sx)("Hardware Acceleration Warning Bell"),t(c.F.enqueue({type:"hardware_acceleration_disabled_warning",message:(0,s.t)("hardware_acceleration_detector.message"),button:{text:(0,s.t)("hardware_acceleration_detector.learn_more"),action:()=>{d.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360039828614-Configure-your-browser-for-Figma#Advanced","_blank"),t(c.F.dequeue({})),e(),(0,r.sx)("Hardware Acceleration Warning Clicked",{dismissed:!1})}},timeoutOverride:1e4,onDismiss:()=>{(0,r.sx)("Hardware Acceleration Warning Clicked",{dismissed:!0}),e()}}))}}}},326121(e,t,i){let n;i.d(t,{SQ:()=>n,Y_:()=>o});var a=i(412616);class s{closeQuickActions(){(0,a.jD)(null,{forceClose:!1})}}let o=()=>{n=new s}},326390(e,t,i){let n;i.d(t,{fG:()=>eP,Dt:()=>n});var a,s,o=i(490276),r=i(838161),l=i(388317),d=i(688357),c=i(63744),u=i(730351),_=i(350923),m=i(566877),h=i(608545);class p extends m.j{constructor(e){super(e)}handleMouseDown(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!c.qm)return;let n=!1;i&&i.canHaveAnnotation&&(_.zl.set(h.m,i.annotations.length),n=!0),n?c.qm.setEventCursor(e,"annotateCursor"):c.qm.setEventCursor(e,"annotateCursorFaded"),!n&&i&&e.accept(this)}handleMouseMove(e){c.qm&&(this.showAnnotationIsPossibleCursor(e)?c.qm.setEventCursor(e,"annotateCursor"):(c.qm.setEventCursor(e,"annotateCursorFaded"),e.accept(this)))}showAnnotationIsPossibleCursor(e){let t=e.findHoveredNodeId();if("-1:-1"===t||null!==_.zl.get(h.m)&&e.selectionNodeGUIDs().some(e=>e===t))return!1;let i=(0,u.UN)().get(t);return!i||!!i.canHaveAnnotation}render(){}handleMouseUp(){}handleMouseLeave(){}handleMouseDrag(){}handleContextMenuOpen(){}handleBeforeFrame(){}renderUnderEditModeUI(){}reset(){d.Ez5&&d.Ez5.editorState().focusedAnnotationId.set(null)}}var g=i(7e3),f=i(461700),E=i(759414),b=i(564575),y=i(650963),S=i(706354),T=i(491852),v=i(462198),R=((a=R||{})[a.NONE=0]="NONE",a[a.REORDER=1]="REORDER",a[a.ADD=2]="ADD",a[a.APPEND=3]="APPEND",a[a.RESIZE=4]="RESIZE",a),I=((s=I||{})[s.INACTIVE=0]="INACTIVE",s[s.HOVERED=1]="HOVERED",s[s.SELECTED=2]="SELECTED",s[s.DRAGGED=3]="DRAGGED",s);function x(e,t,i,n,a){for(let s of(e.fillRoundedRect(t.expand(N.borderStrokeWidth),N.reorderHandleHoveredCornerRadius+2,(0,g.QR)(1,1,1)),e.fillRoundedRect(t,N.reorderHandleHoveredCornerRadius,i),N.equalIconOffsets)){let i=new E.r(s,N.equalIconSize);i=a===f._0.X?i:i.transpose(),e.fillRoundedRect(i.offsetBy(t.topLeft()),N.equalIconCornerRadius,n)}}function A(e,t,i){e.fillRoundedRect(t.expand(N.borderStrokeWidth),N.reorderHandleInactiveCornerRadius+1,(0,g.QR)(1,1,1)),e.fillRoundedRect(t,N.reorderHandleInactiveCornerRadius,i)}let O=class e{constructor(t,i,n,a,s){this._bounds=t,this._widths=i,this._heights=n,this._canvasScale=a,this._shouldRender=s;const o=e.cellStrokeWeight*a;this._columnPositions=i.reduce((e,t,i)=>(e.push(t+e[i]),e),[0]).map((e,t)=>0===t?e:e-o),this._rowPositions=n.reduce((e,t,i)=>(e.push(t+e[i]),e),[0]).map((e,t)=>0===t?e:e-o),c.qm||(0,v.$D)(S.FigmaTeam.FIGJAM,Error("Cannot get table colors (InteractionCpp unavailable)")),this._inactiveColor=c.qm?.getTableNodeColorInactive()??0xffffca80,this._hoverColorPrimary=c.qm?.getTableNodeColorHoveredPrimary()??0xffff990d,this._hoverColorSecondary=c.qm?.getTableNodeColorHoveredSecondary()??0xffffe3bd,this._selectedColor=c.qm?.getTableNodeColorSelected()??0xffff990d,this._whiteColor=(0,g.QR)(1,1,1),this.numColumns=i.length,this.numRows=n.length,this._tableUiHorizontalAxis=this._bounds.origin.y-e.padding-e.reorderHandleInactiveSize.y/2,this._tableUiVerticalAxis=this._bounds.origin.x-e.padding-e.reorderHandleInactiveSize.y/2,this._addColumnButtonPositions=this._getAddColumnButtonPositions(),this._addRowButtonPositions=this._getAddRowButtonPositions(),this._addColumnButtonHitTestBounds=this._getAddColumnButtonHitTestBounds(),this._addRowButtonHitTestBounds=this._getAddRowButtonHitTestBounds(),this._hoveredReorderColumnHandleBounds=this._computeReorderColumnHandleBounds(!0),this._hoveredReorderRowHandleBounds=this._computeReorderRowHandleBounds(!0),this._inactiveReorderColumnHandleBounds=this._computeReorderColumnHandleBounds(!1),this._inactiveReorderRowHandleBounds=this._computeReorderRowHandleBounds(!1),this._reorderColumnHandleHitTestBounds=this._computeReorderColumnHandleHitTestBounds(),this._reorderRowHandleHitTestBounds=this._computeReorderRowHandleHitTestBounds(),this._appendColumnBounds=this._getAppendColumnBounds(),this._appendRowBounds=this._getAppendRowBounds(),this._columnDividerHitTestBounds=this._getColumnDividerBounds(!0),this._rowDividerHitTestBounds=this._getRowDividerBounds(!0),this._columnDividerRenderBounds=this._getColumnDividerBounds(!1),this._rowDividerRenderBounds=this._getRowDividerBounds(!1)}isDirty(e,t,i,n,a){if(!e.equals(this._bounds)||n!==this._canvasScale||a!==this._shouldRender||t.length!==this._widths.length||i.length!==this._heights.length)return!0;for(let e=0;e<t.length;e++)if(t[e]!==this._widths[e])return!0;for(let e=0;e<i.length;e++)if(i[e]!==this._heights[e])return!0;return!1}_getBackgroundColor(e){switch(e){case 0:case 1:return this._hoverColorSecondary;case 3:case 2:return this._selectedColor;default:return(0,g.QR)(1,0,0)}}_getForegroundColor(e){switch(e){case 0:case 1:return this._hoverColorPrimary;case 3:case 2:return this._whiteColor;default:return(0,g.QR)(1,0,0)}}_getAppendColumnBounds(){let t=e.appendButtonLength,i=new b.Mi(this._bounds.right()+e.appendButtonPadding,this._bounds.top());return new E.r(i,new b.Mi(t,this._bounds.height()))}_getAppendRowBounds(){let t=e.appendButtonLength,i=new b.Mi(this._bounds.left(),this._bounds.bottom()+e.appendButtonPadding);return new E.r(i,new b.Mi(this._bounds.width(),t))}_getAddColumnButtonPositions(){let e=[];for(let t=0;t<=this.numColumns;t++){let i=this._bounds.origin.x+this._columnPositions[t],n=this._tableUiHorizontalAxis;e.push(new b.Mi(i,n))}return e}_getAddRowButtonPositions(){let e=[];for(let t=0;t<=this.numRows;t++){let i=this._tableUiVerticalAxis,n=this._bounds.origin.y+this._rowPositions[t];e.push(new b.Mi(i,n))}return e}_getAddColumnButtonHitTestBounds(){let t=[];for(let i=0;i<this.numColumns;i++){let n=new b.Mi(this._columnPositions[i],-e.hitTestPaddingThreshold.y),a=this._bounds.origin.plus(n),s=E.r.fromCenterSize(a,e.hitTestPaddingThreshold.multiplyBy(2));t.push(s)}return t}_getAddRowButtonHitTestBounds(){let t=[];for(let i=0;i<this.numRows;i++){let n=new b.Mi(-e.hitTestPaddingThreshold.y,this._rowPositions[i]),a=this._bounds.origin.plus(n),s=E.r.fromCenterSize(a,e.hitTestPaddingThreshold.multiplyBy(2).transpose());t.push(s)}return t}_getRowPositions(){return this._rowPositions}_getColumnPositions(){return this._columnPositions}_computeReorderColumnHandleHitTestBounds(){let t=[];for(let i=0;i<this.numColumns;i++){let n=new b.Mi((this._columnPositions[i]+this._columnPositions[i+1])/2,-e.hitTestPaddingThreshold.y),a=this._bounds.origin.plus(n),s=new b.Mi(this._columnPositions[i+1]-this._columnPositions[i],2*e.hitTestPaddingThreshold.y);t.push(E.r.fromCenterSize(a,s))}return t}_computeReorderRowHandleHitTestBounds(){let t=[];for(let i=0;i<this.numRows;i++){let n=new b.Mi(-e.hitTestPaddingThreshold.y,(this._rowPositions[i]+this._rowPositions[i+1])/2),a=this._bounds.origin.plus(n),s=new b.Mi(2*e.hitTestPaddingThreshold.y,this._rowPositions[i+1]-this._rowPositions[i]);t.push(E.r.fromCenterSize(a,s))}return t}_computeReorderColumnHandleBounds(t){let i=[],n=t?e.reorderHandleHoveredSize:e.reorderHandleInactiveSize,a=n.divideBy(2),s=this._columnPositions;for(let e=0;e<this.numColumns;e++){let t=this._bounds.origin.x+(s[e]+s[e+1])/2,o=this._tableUiHorizontalAxis,r=new b.Mi(t,o).minus(a),l=new E.r(r,n);i.push(l)}return i}_computeReorderRowHandleBounds(t){let i=[],n=(t?e.reorderHandleHoveredSize:e.reorderHandleInactiveSize).transpose(),a=n.divideBy(2),s=this._rowPositions;for(let e=0;e<this.numRows;e++){let t=this._tableUiVerticalAxis,o=this._bounds.origin.y+(s[e]+s[e+1])/2,r=new b.Mi(t,o).minus(a),l=new E.r(r,n);i.push(l)}return i}_getColumnDividerBounds(t){let i=[],n=e.dividerHeight+(t?e.dividerHitTestPadding:0);for(let e=0;e<this._addColumnButtonPositions.length;e++){let t=this._addColumnButtonPositions[e].x-n/2,a=this._bounds.top(),s=new b.Mi(t,a),o=new b.Mi(n,this._bounds.height());i.push(new E.r(s,o))}return i}_getRowDividerBounds(t){let i=[],n=e.dividerHeight+(t?e.dividerHitTestPadding:0);for(let e=0;e<this._addRowButtonPositions.length;e++){let t=this._bounds.left(),a=this._addRowButtonPositions[e].y-n/2,s=new b.Mi(t,a),o=new b.Mi(this._bounds.width(),n);i.push(new E.r(s,o))}return i}_isOutsideTableUIBounds(t){return!this._bounds.expand(2*e.hitTestPaddingThreshold.y).containsPointIncludingBoundary(t)}getHoveredSpan(e){if(this._isOutsideTableUIBounds(e))return new b.Mi(-1,-1);let t=this.numColumns;for(let i=1;i<this._addColumnButtonPositions.length;i++)if(e.x<=this._addColumnButtonPositions[i].x){t=i;break}let i=this.numRows;for(let t=1;t<this._addRowButtonPositions.length;t++)if(e.y<=this._addRowButtonPositions[t].y){i=t;break}return new b.Mi(t-1,i-1)}getHoveredRegion(e){if(this._bounds.isEmpty()||!this.shouldRender()||this._isOutsideTableUIBounds(e))return{element:0};if(this.shouldRenderAddButton()){let t=this._addColumnButtonHitTestBounds;for(let i=1;i<t.length;i++)if(t[i].containsPointIncludingBoundary(e))return{element:2,tableAxis:T.gSS.COLUMN,elementIndex:i};let i=this._addRowButtonHitTestBounds;for(let t=1;t<i.length;t++)if(i[t].containsPointIncludingBoundary(e))return{element:2,tableAxis:T.gSS.ROW,elementIndex:t}}for(let t=0;t<this.numColumns;t++){let i=this.getReorderHandleHitTestBounds(T.gSS.COLUMN,t);if(i&&i.containsPointIncludingBoundary(e))return{element:1,tableAxis:T.gSS.COLUMN,elementIndex:t}}for(let t=0;t<this.numRows;t++){let i=this.getReorderHandleHitTestBounds(T.gSS.ROW,t);if(i&&i.containsPointIncludingBoundary(e))return{element:1,tableAxis:T.gSS.ROW,elementIndex:t}}if(this._appendColumnBounds.containsPointIncludingBoundary(e))return{element:3,tableAxis:T.gSS.COLUMN};if(this._appendRowBounds.containsPointIncludingBoundary(e))return{element:3,tableAxis:T.gSS.ROW};for(let t=0;t<this._columnDividerHitTestBounds.length;t++)if(this._columnDividerHitTestBounds[t].containsPointIncludingBoundary(e))return{element:4,tableAxis:T.gSS.COLUMN,elementIndex:t};for(let t=0;t<this._rowDividerHitTestBounds.length;t++)if(this._rowDividerHitTestBounds[t].containsPointIncludingBoundary(e))return{element:4,tableAxis:T.gSS.ROW,elementIndex:t};return{element:0}}getNearestSpan(e,t){let i=e===T.gSS.ROW?this._addRowButtonPositions:this._addColumnButtonPositions,n=e===T.gSS.ROW?f._0.Y:f._0.X;for(let e=0;e<i.length-1;e++)if(t<=(i[e].component(n)+i[e+1].component(n))/2)return e;return i.length-1}getNearestColumn(e){return this.getNearestSpan(T.gSS.COLUMN,e)}getNearestRow(e){return this.getNearestSpan(T.gSS.ROW,e)}displaceRectForSpan(e,t,i){if(!c.qm)return void(0,v.$D)(S.FigmaTeam.FIGJAM,Error("Unable to compute table span displacement (InteractionCpp unavailable)"));let n=c.qm.getTableSpanIdAtIndex(e,t),a=c.qm.getViewportTableSpanDisplacement(n);i.origin=i.origin.plus(b.Mi.fromFigVector(a))}getSpanThickness(e,t){return t===T.gSS.COLUMN?this._widths[e]/this._canvasScale:this._heights[e]/this._canvasScale}getReorderHandleHitTestBounds(e,t){let i=e===T.gSS.ROW?this._reorderRowHandleHitTestBounds:this._reorderColumnHandleHitTestBounds;if(t<0||t>=i.length)return null;let n=i[t].clone();return this.displaceRectForSpan(e,t,n),n}getReorderHandleBounds(e,t,i){let n=e===T.gSS.COLUMN?this._inactiveReorderColumnHandleBounds:this._inactiveReorderRowHandleBounds,a=e===T.gSS.COLUMN?this._hoveredReorderColumnHandleBounds:this._hoveredReorderRowHandleBounds,s=0===i?n:a;if(t<0||t>=s.length)return null;let o=s[t].clone();return this.displaceRectForSpan(e,t,o),o}renderInactiveReorderHandle(e,t,i){let n=this.getReorderHandleBounds(t,i,0);null!==n&&A(e,n,this._inactiveColor)}renderInactiveAddButton(t,i,n){if(!this.shouldRenderAddButton())return;let a=i===T.gSS.COLUMN?this._addColumnButtonPositions:this._addRowButtonPositions;if(n<1||n>=a.length-1)return;let s=a[n];t.fillCircle(s,e.addButtonInactiveRadius+e.borderStrokeWidth,this._whiteColor),t.fillCircle(s,e.addButtonInactiveRadius,this._inactiveColor)}renderHitTestBoundsForDebugging(e){for(let t=0;t<Math.max(this.numRows,this.numColumns);++t)for(let i of[T.gSS.ROW,T.gSS.COLUMN])if(t<(i===T.gSS.ROW?this.numRows:this.numColumns)){let n=this.getReorderHandleHitTestBounds(i,t);n&&e.fillRoundedRect(n,0,(0,g.QR)(0,1,0))}if(this.shouldRenderAddButton()){for(let t of this._addColumnButtonHitTestBounds.slice(1))e.fillRoundedRect(t,0,(0,g.QR)(1,0,0));for(let t of this._addRowButtonHitTestBounds.slice(1))e.fillRoundedRect(t,0,(0,g.QR)(1,0,0))}}renderExpandedReorderHandle(e,t,i,n){let a=this.getReorderHandleBounds(t,i,n);null===a||x(e,a,this._getBackgroundColor(n),this._getForegroundColor(n),t===T.gSS.COLUMN?f._0.X:f._0.Y)}_renderPlusButton(t,i,n){let a=e.plusIconStrokeWidth,s=e.plusIconLength,o=new E.r(new b.Mi(i.x-s/2,i.y-a/2),new b.Mi(s,a)),r=new E.r(new b.Mi(i.x-a/2,i.y-s/2),new b.Mi(a,s));t.fillRect(o,n),t.fillRect(r,n)}renderExpandedAddButton(t,i,n){t.fillCircle(i,e.addButtonHoveredRadius+e.borderStrokeWidth,this._whiteColor),t.fillCircle(i,e.addButtonHoveredRadius,this._getBackgroundColor(n)),this._renderPlusButton(t,i,this._getForegroundColor(n))}renderAppendButton(t,i,n){let a=i===T.gSS.COLUMN?this._appendColumnBounds:this._appendRowBounds,s=0===n?this._hoverColorSecondary:this._selectedColor,o=0===n?this._hoverColorPrimary:this._whiteColor;t.fillRoundedRect(a,e.appendButtonCornerRadius,s),this._renderPlusButton(t,a.center(),o)}renderDivider(t,i,n,a){let s=i===T.gSS.COLUMN?this._columnDividerRenderBounds:this._rowDividerRenderBounds;if(n<0||n>=s.length)return;let o=s[n],r=this._getBackgroundColor(a);t.fillRoundedRect(o,e.dividerCornerRadius,r)}renderAddButton(e,t,i,n){if(!this.shouldRenderAddButton())return;let a=t===T.gSS.COLUMN?this._addColumnButtonPositions:this._addRowButtonPositions;if(i<0||i>a.length)return;let s=a[i];this.renderExpandedAddButton(e,s,n)}renderHoveredInactiveElements(e,t){for(let i of(0,y.U)(T.gSS)){let n=t.component(i?f._0.X:f._0.Y);this.renderInactiveReorderHandle(e,i,n),this.renderInactiveAddButton(e,i,n),this.renderInactiveAddButton(e,i,n+1)}}renderAllInactiveElements(e){for(let t of(0,y.U)(T.gSS)){let i=t===T.gSS.COLUMN?this.numColumns:this.numRows;for(let n=0;n<i;n++)this.renderInactiveReorderHandle(e,t,n);for(let n=1;n<i;n++)this.renderInactiveAddButton(e,t,n)}}renderHoveredInactiveElementsUnderEditModeUI(e,t){t.x===this.numColumns-1&&this.renderAppendButton(e,T.gSS.COLUMN,0),t.y===this.numRows-1&&this.renderAppendButton(e,T.gSS.ROW,0)}renderAllInactiveElementsUnderEditModeUI(e){for(let t of(0,y.U)(T.gSS))this.renderAppendButton(e,t,0)}shouldRender(){return!this._bounds.isInvalid()&&this._shouldRender!==c.mi.HIDE}shouldRenderAddButton(){return this.shouldRender()&&this._shouldRender===c.mi.FULL}bounds(){return this._bounds.scaledBy(1/this._canvasScale)}};O.hitTestPaddingThreshold=new b.Mi(11,22),O.padding=18,O.spacing=18,O.borderStrokeWidth=2,O.reorderHandleInactiveSize=new b.Mi(18,6),O.reorderHandleInactiveCornerRadius=4,O.reorderHandleHoveredLength=22,O.reorderHandleHoveredSize=new b.Mi(O.reorderHandleHoveredLength,O.reorderHandleHoveredLength),O.reorderHandleHoveredCornerRadius=6,O.addButtonInactiveRadius=4,O.addButtonHoveredRadius=11,O.appendButtonLength=26,O.appendButtonCornerRadius=5,O.appendButtonPadding=10,O.dividerCornerRadius=100,O.dividerHeight=4,O.dividerHitTestPadding=4,O.plusIconStrokeWidth=2,O.plusIconLength=12,O.equalIconSize=new b.Mi(12,2),O.equalIconCornerRadius=2,O.equalIconOffsets=[new b.Mi(5,8),new b.Mi(5,12)],O.cellStrokeWeight=1;let N=O;class C extends m.j{constructor(e){super(e),this.state={mouseState:I.INACTIVE},this._inactiveColor=c.qm?.getTableNodeColorInactive()??0,this._selectedColor=c.qm?.getTableNodeColorSelected()??0,this._hoverColorPrimary=c.qm?.getTableNodeColorHoveredPrimary()??0,this._hoverColorSecondary=c.qm?.getTableNodeColorHoveredSecondary()??0,this._whiteColor=(0,g.QR)(1,1,1)}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseLeave(){}renderUnderEditModeUI(){}handleMouseMove(e){if(this.state.mouseState===I.INACTIVE||!this.state.node||!this.state.node.isAlive)return;let{activeBounds:t}=this._getHandleBounds(this.state.node,e.viewport());t.containsPointIncludingBoundary(b.Mi.fromVectorD(e.viewportSpaceMouse()))?this.state={...this.state,mouseState:I.HOVERED}:this.state={...this.state,mouseState:I.SELECTED}}handleMouseDown(e){if(this.state.mouseState!==I.INACTIVE&&this.state.mouseState===I.HOVERED){let t=this._singleSelectedEmbedNode();if(!t||!t.parentNode)return void this.reset();let i=b.Mi.fromVectorD(e.canvasSpaceMouse()),n=new b.Mi(t.absoluteTransform.m02,t.absoluteTransform.m12).minus(i),a=new b.Mi(t.parentNode.absoluteTransform.m02,t.parentNode.absoluteTransform.m12);this.state={mouseState:I.DRAGGED,node:t,canvasSpaceMouseToEmbedRelativeTransformOffset:e=>e.minus(a).plus(n)},e.accept(this)}}handleMouseDrag(e){if(this.state.mouseState!==I.DRAGGED)return;let t=this.state.canvasSpaceMouseToEmbedRelativeTransformOffset(b.Mi.fromVectorD(e.canvasSpaceMouse())),i=this.state.node.relativeTransform;i.m02=t.x,i.m12=t.y,this.state.node.relativeTransform=i,e.accept(this)}handleMouseUp(){this.state.mouseState===I.DRAGGED&&(this.state={...this.state,mouseState:I.SELECTED})}_singleSelectedEmbedNode(){let e=(0,u.UN)().getDirectlySelectedNodes();if(1!==e.length)return null;let t=e[0];return t&&"INTERACTIVE_SLIDE_ELEMENT"===t.type&&"EMBED"===t.interactiveSlideElementType?t:null}_getHandleBounds(e,t){let{x:i,y:n,h:a}=e.absoluteBoundingBox,{x:s,y:o}=t.canvasSpaceToViewportSpace({x:i,y:n}),r=t.canvasScale()*a,l=new b.Mi(s-N.padding-N.reorderHandleInactiveSize.y/2,o+r/2),d=N.reorderHandleInactiveSize.transpose(),c=N.reorderHandleHoveredSize.transpose();return{inactiveBounds:E.r.fromCenterSize(l,d),activeBounds:E.r.fromCenterSize(l,c)}}_getBackgroundColor(){let{mouseState:e}=this.state;switch(e){case I.INACTIVE:case I.HOVERED:case I.SELECTED:return this._hoverColorSecondary;case I.DRAGGED:return this._selectedColor;default:return(0,g.QR)(.78,0,.92)}}_getForegroundColor(){let{mouseState:e}=this.state;switch(e){case I.INACTIVE:case I.HOVERED:return this._hoverColorPrimary;case I.DRAGGED:case I.SELECTED:return this._whiteColor;default:return(0,g.QR)(1,0,1)}}_maybeHandleSelectionChange(e){e?(this.state.mouseState===I.INACTIVE||this.state.node.guid!==e.guid)&&(this.state={mouseState:I.SELECTED,node:e}):this.reset()}render(e,t){let i=this._singleSelectedEmbedNode();if(this._maybeHandleSelectionChange(i),!i)return;let{inactiveBounds:n,activeBounds:a}=this._getHandleBounds(i,e);switch(this.state.mouseState){case I.SELECTED:A(t,n,this._inactiveColor);break;case I.HOVERED:case I.DRAGGED:x(t,a,this._getBackgroundColor(),this._getForegroundColor(),f._0.Y);case I.INACTIVE:}}reset(){this.state={mouseState:I.INACTIVE}}}var L=i(741542),w=i(110674),D=i(225164),j=i(18645),k=i(893511),P=i(573372),M=i(244114);class F extends w.C{getDefaultChildSize(){return T.CNR?new b.Mi(T.CNR.slideWidth(),T.CNR.slideHeight()):new b.Mi(1920,1080)}addBlankChildAtCoord(e,t,i,n,a){return(0,P.Sz)(e,t,i,n)}shouldHideUI(){return _.zl.get(k.v2)||!!_.zl.get(M.Ei)}shouldRenderEmptyCanvasPlaceholder(){return!(0,u.UN)().getRoot().slideThemeId.endsWith("-1:-1")}renderEmptyCanvasPlaceholder(e,t){if(!(d.Ez5&&T.CNR))return;let i=d.Ez5.canvasGrid().rectForCoord({row:0,col:0},this.getDefaultChildSize(),!0);if((0,D.zw)(i,e,t,this._getDashedPlaceholderBgColor(),this._getDashedPlaceholderOutlineColor()),"ADD_FIRST_CHILD_HOVERED"===this._state.mouse){let n={x:i.origin.x+i.size.x/2,y:i.origin.y+i.size.y/2},a=e.canvasSpaceToViewportSpace(n),s=T.CNR.slideHeight()*e.canvasScale()/2.5;(0,j.ft)(a,t,s,2,this.getActiveOutlineColor())}}addRowDotVerticalOffset(){return(0,L.getFeatureFlags)().slide_chapters?-(d.Ez5?.canvasGrid().gridRowSpacing()||600)/4:0}getActiveBgColor(){return d.Ez5?.getBgFSDesignTertiary()??0xffffff}getActiveOutlineColor(){return d.Ez5?.getCanvasButton()??0xcccccc}}var U=i(460830),G=i(813527);class V extends G.k{getDefaultChildSize(){return T.CNR?new b.Mi(T.CNR.slideWidth(),T.CNR.slideHeight()):new b.Mi(1920,1080)}isRowHeaderSelectable(){return!!(0,L.getFeatureFlags)().slide_chapters}shouldHideUI(){return _.zl.get(k.v2)||_.zl.get(U.BT).length<=1}selectRow(e){(0,L.getFeatureFlags)().slide_chapters?d.Ez5?.canvasGrid().selectRow(e):d.Ez5?.canvasGrid().selectChildrenInRow(e)}addOrRemoveRowFromSelection(e){(0,L.getFeatureFlags)().slide_chapters?d.Ez5?.canvasGrid().addOrRemoveRowFromSelection(e):d.Ez5?.canvasGrid().addOrRemoveRowChildrenFromSelection(e)}}var B=i(322751);class X extends m.j{constructor(e){super(e),this._button=new B.R(this),this._button.setButtonSize(new b.Mi(24,24))}handleMouseDown(e){this._button.handleMouseDown(e)}handleMouseUp(e){c.qm?.canTidyUp()&&this._button.handleMouseUp(e)&&d.glU?.triggerAction("tidy-up",{source:"canvas"})}handleMouseMove(e){this._button.handleMouseMove(e)}render(e,t){if(!(c.qm?.editorTypeConfig().showTidyUpButtonsOnCanvas()&&c.qm?.canTidyUp()&&c.qm?.activeCanvasExists()&&c.qm?.isSelectionViewportOverlayVisible()))return void this._button.removeBounds();let i=E.r.fromRectD(e.viewportSpaceSelectionBounds());if(this._button.positionInsideBounds(i),this._button.isSelectionHovered())if(this._button.render(t),c.qm?.isActionEnabled("arrange-as-grid")){let e=new b.Mi(2,2);for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++){let a=new b.Mi(5*i,5*n),s=this._button.buildRectangleOffsetFromCenter(a,e);t.fillRoundedRect(s,0,c.qm?.getCanvasButtonInterior()??0)}}else{let e=c.qm?.getArrangeAsListAxisForCurrentSelection()??null;if(null!=e){let i=e===f._0.X?new b.Mi(5,0):new b.Mi(0,5),n=e===f._0.X?new b.Mi(2,13):new b.Mi(13,2);for(let e=-1;e<=1;e++){let a=i.multiplyBy(e),s=this._button.buildRectangleOffsetFromCenter(a,n);t.fillRect(s,c.qm?.getCanvasButtonInterior()??0)}}}}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}renderUnderEditModeUI(e,t){}reset(){}}var H=i(932858),z=i.n(H),W=i(384473);class K extends m.j{constructor(e){super(e)}render(e,t){if(!_.zl.get(W.L))return;let i=(0,u.UN)().getDirectlySelectedNodes(),n=new Set(i.map(e=>e.id));z()(i.flatMap(e=>e.getNodesForCmsBinding()),e=>e.id).forEach(i=>{var a,s;let o,r,l,c;if(!i||n.has(i.id))return;let u=(a=i,s=e,o=a.absoluteBoundingBox,r=new b.Mi(o.x,o.y),l=s.canvasSpaceToViewportSpace(r),c=new b.Mi(o.w,o.h).multiplyBy(s.canvasScale()),new E.r(b.Mi.fromVectorD(l),b.Mi.fromVectorD(c)));if(d.Ez5){let e=d.Ez5.getBorderFSComponent();t.strokeRect(u,e,1)}})}handleMouseMove(e){}handleMouseDown(e){}handleMouseUp(e){}handleMouseLeave(e){}handleMouseDrag(e){}handleBeforeFrame(){}handleContextMenuOpen(e){}renderUnderEditModeUI(e,t){}reset(){}}var q=i(397371);class $ extends m.j{constructor(e){super(e)}render(e,t){if(!_.zl.get(W.C))return;let i=(0,q.ci)(d.ZEs.HAS_IDENTICAL_CHILDREN,"CMSRepeaterCandidateBehavior"),n=new Set((0,u.UN)().getDirectlySelectedNodes().map(e=>e.id));for(let a=0;a<i.length;a++)for(let s of i[a]??[])if(!n.has(s)){let i=(0,u.UN)().get(s);if(i){let n=i.absoluteBoundingBox,s=new b.Mi(n.x,n.y),o=e.canvasSpaceToViewportSpace(s),r=new b.Mi(n.w,n.h).multiplyBy(e.canvasScale()),l=new E.r(b.Mi.fromVectorD(o),b.Mi.fromVectorD(r));if(d.Ez5){let e=0===a?d.Ez5.getBorderFSDesignStrong():d.Ez5.getBorderFSDesign();t.strokeRect(l,e,1)}}}}handleMouseMove(e){}handleMouseDown(e){}handleMouseUp(e){}handleMouseLeave(e){}handleMouseDrag(e){}handleBeforeFrame(){}handleContextMenuOpen(e){}renderUnderEditModeUI(e,t){}reset(){}}var Y=i(806266),J=i(591766),Z=i(42053),Q=i(448775),ee=i(345668),et=i(209114),ei=i(910012);class en extends m.j{constructor(e){super(e),this._toolLineStyle=void 0,this._endpointHoverzone=c.oH.NONE,this._createdFromCenter=!1,this._snapper=void 0,this._ignoreMagnetsTimer=0,this._shouldIgnoreMagnets=!1,this._insertionPoint=b.Mi.invalid(),this._didDragPastThreshold=!1,this._didSetConnectorStartWithClick=!1,this._keyboardShortcutTracked=!1,this.IGNORE_CONNECTOR_MAGNETS_MS=1e3,this._connectorGUID="-1:-1",this._hoveredEndpoint=null,this._startEndpointWithAuto={endpointNodeID:"-1:-1",position:b.Mi.invalid(),magnet:T.SpR.NONE,relativePosition:new b.Mi},this._endpointHoverzone=c.oH.NONE,this._hoveredEndpointIgnoringMagnets={endpointNodeID:"-1:-1",position:b.Mi.invalid(),magnet:T.SpR.NONE,relativePosition:new b.Mi}}_getToolLineStyle({interactionCpp:e}){return this._toolLineStyle||(this._toolLineStyle=e.getToolLineStyle()),this._toolLineStyle}_getSnapper({interactionCpp:e}){return this._snapper||(this._snapper=e.getConnectorSnapper()),this._snapper}handleMouseLeave(e){}handleMouseDown(e){this.handleMouseMove(e),"-1:-1"===this._connectorGUID?this.createConnector(e)?((0,L.getFeatureFlags)().figjam_select_connector_after_created&&ee.wr(),e.accept(this),e.invalidateViewport()):(0,Z.x1)("connector tool","unable to create new connector",{},{reportAsSentryError:!0}):(e.accept(this),this.updateConnector(e)),c.qm?.setEventCursor(e,"crosshairCursor")}handleMouseDrag(e){clearTimeout(this._ignoreMagnetsTimer),this.updateHoverState(e),this.updateConnector(e),c.qm?.setEventCursor(e,"crosshairCursor"),!this._didDragPastThreshold&&b.Mi.fromVectorD(e.canvasSpaceMouse()).distanceTo(this._insertionPoint)>e.canvasSpaceMouseThreshold()&&(this._didDragPastThreshold=!0)}handleMouseMove(e){this.updateHoverState(e),c.qm?.setEventCursor(e,"crosshairCursor");let t="-1:-1"!==this._connectorGUID;t&&(clearTimeout(this._ignoreMagnetsTimer),Y.l7.user("connector-tool-mouse-move",()=>this.updateConnector(e))),t&&e.invalidateViewport()}handleMouseUp(e){if(e.wasCanceled())return void this.resetState();let t="-1:-1"!==this._connectorGUID?(0,u.UN)().get(this._connectorGUID):null;t&&(this.handleMouseDrag(e),this._didDragPastThreshold||this._didSetConnectorStartWithClick?(this.possiblyDeleteConnectorIfNotVisible(t),(0,u.UN)().get(this._connectorGUID)?c.qm?.logConnectorInsertion(this._connectorGUID):c.qm?.trySwitchToSelectToolCpp(e),this.resetState()):(this._didSetConnectorStartWithClick=!0,this._didDragPastThreshold=!1),e.invalidateViewport())}handleContextMenuOpen(){}handleBeforeFrame(){}render(e,t){if(!e.isMouseOverCanvas()||!c.qm||.35>e.canvasScale())return;c.qm.renderStraightConnectorGuidelines(this._connectorGUID,e,t);let i=(0,u.UN)().get(this._hoveredEndpoint?.endpointNodeID||""),n="-1:-1"!==this._connectorGUID?(0,u.UN)().get(this._connectorGUID):null;i&&"CANVAS"!==i.type&&c.qm.renderEndpointNodeHoverIndicators(i.guid,this._hoveredEndpoint,this._endpointHoverzone,n?n.connectorLineStyle:c.qm.getToolLineStyle(),e,t),c.qm.renderSnappingVisualizations(this._getSnapper({interactionCpp:c.qm}),t,e)}renderUnderEditModeUI(e,t){}renderMagnet(e,t,i){if(!c.qm)return;let n=(0,g.QR)(1,1,1),a=c.qm.getNodeImmutableFrameSelected();i.fillAndStrokeCircle(e,6,t?a:n,t?n:a,2,T.OR7.OUTSIDE)}possiblyDeleteConnectorIfNotVisible(e){return!!d.DV9?.isDegenerateConnector(e.connectorStart,e.connectorEnd)&&(e.removeSelfAndChildren(),!0)}updateHoverState(e){if(!c.qm)return;let t=(0,u.UN)().get(this._connectorGUID),i=this._hoveredEndpoint,n=this._endpointHoverzone,a=t?b.Mi.fromVectorD(t.connectorStartCanvasPosition):b.Mi.invalid(),s=ei.F.getHoveredEndpoint(e,t,i,n,a,this._getSnapper({interactionCpp:c.qm}),this._shouldIgnoreMagnets,c.qm);if(this._hoveredEndpoint=s.endpoint,this._endpointHoverzone=s.hoverzone,this._shouldIgnoreMagnets&&ei.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)&&(this._shouldIgnoreMagnets=!1),i&&i.endpointNodeID!==this._hoveredEndpoint.endpointNodeID){this._shouldIgnoreMagnets=!1;let e=i.magnet===T.SpR.NONE&&this._hoveredEndpoint.magnet!==T.SpR.NONE,t=i.magnet!==T.SpR.NONE&&this._hoveredEndpoint.magnet===T.SpR.NONE,a=n===c.oH.NONE&&this._endpointHoverzone!==c.oH.NONE,s=n!==c.oH.NONE&&this._endpointHoverzone===c.oH.NONE;(e||t||a||s)&&J.H.trigger(d.JA.SNAP)}let o=ei.F.getHoveredEndpoint(e,t,i,this._endpointHoverzone,this._insertionPoint,this._getSnapper({interactionCpp:c.qm}),!0,c.qm);this._hoveredEndpointIgnoringMagnets=this._shouldIgnoreMagnets||this._hoveredEndpoint?.magnet===T.SpR.NONE?this._hoveredEndpoint:o.endpoint,(i?.endpointNodeID!==this._hoveredEndpoint.endpointNodeID||i.magnet!==this._hoveredEndpoint.magnet||n!==this._endpointHoverzone||this._endpointHoverzone!==c.oH.NONE)&&e.invalidateViewport()}createConnector(e){if(!c.qm)return!1;this._connectorGUID=c.qm.createNewConnector(e);let t="-1:-1"!==this._connectorGUID?(0,u.UN)().get(this._connectorGUID):null;if(t){t.connectorStart=t.connectorEnd=this._hoveredEndpoint;let i=t.connectorStart.endpointNodeID?(0,u.UN)().get(t.connectorStart.endpointNodeID):null,n=i?.type==="SHAPE_WITH_TEXT"||i?.type==="INSTANCE";this._createdFromCenter=this._endpointHoverzone===c.oH.CENTER;let a=this._getToolLineStyle({interactionCpp:c.qm});this._createdFromCenter&&(a===T.PoC.ELBOWED||a===T.PoC.CURVED)&&n&&(this._hoveredEndpoint.magnet=T.SpR.AUTO,this._startEndpointWithAuto=this._hoveredEndpoint),this._insertionPoint=b.Mi.fromVectorD(c.qm.getConnectorMousePosition(e,c.Mo.YES));let s=t.guid;c.qm.insertNodeAtPoint(e.canvasGUID(),s,this._insertionPoint,new b.Mi(0,0));let o=e.canvasScene().immutableFrameObserverReference();o.invalidateConnectorForReparenting(s),o.updateImmutableFrameInternal();let r=Y.nc.user("connector-tool-hover-ignore-magnets-timer",()=>{!ei.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)&&(this._shouldIgnoreMagnets=!0,t&&(this._hoveredEndpoint=this._hoveredEndpointIgnoringMagnets,t.connectorStart=t.connectorEnd=this._hoveredEndpoint))});return this._ignoreMagnetsTimer=setTimeout(r,this.IGNORE_CONNECTOR_MAGNETS_MS),!0}return!1}updateConnector(e){if(!c.qm)return;let t="-1:-1"!==this._connectorGUID?(0,u.UN)().get(this._connectorGUID):null;if(t){let i=t.connectorLineStyle=e.isShiftPressed()?T.PoC.STRAIGHT:this._getToolLineStyle({interactionCpp:c.qm});t.connectorLineStyle=i,t.immutableFrameShape&&(t.immutableFrameShape.cornerRadius=c.qm.getDefaultCornerRadius(i)),e.isShiftPressed()&&!this._keyboardShortcutTracked&&(this._keyboardShortcutTracked=!0,Q.Y5.usedKeyboardShortcut("straight-connector")),this._createdFromCenter&&"-1:-1"!==this._startEndpointWithAuto.endpointNodeID&&(t.connectorStart=this._startEndpointWithAuto);let n=t.connectorEnd.endpointNodeID?(0,u.UN)().get(t.connectorEnd.endpointNodeID):null,a=n?.type==="SHAPE_WITH_TEXT"||n?.type==="INSTANCE";if((this._toolLineStyle===T.PoC.ELBOWED||this._toolLineStyle===T.PoC.CURVED)&&a&&this._endpointHoverzone===c.oH.CENTER&&(this._hoveredEndpoint.magnet=T.SpR.AUTO),t.connectorEnd=this._hoveredEndpoint,t.connectorStart?.endpointNodeID&&t.connectorEnd?.endpointNodeID){let e=(0,u.UN)().get(t.connectorStart.endpointNodeID),i=(0,u.UN)().get(t.connectorEnd.endpointNodeID);e?.type==="SHAPE_WITH_TEXT"&&i?.type==="SHAPE_WITH_TEXT"&&(0,et.H0)()}if(!this._shouldIgnoreMagnets){let e=Y.nc.user("connector-tool-hover-ignore-magnets-timer",()=>{if(!ei.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)){this._shouldIgnoreMagnets=!0;let e=(0,u.UN)().get(this._connectorGUID);e&&(this._hoveredEndpoint=this._hoveredEndpointIgnoringMagnets,e.connectorEnd=this._hoveredEndpoint)}});this._ignoreMagnetsTimer=setTimeout(e,this.IGNORE_CONNECTOR_MAGNETS_MS)}e.invalidateViewport()}}resetState(){let e="-1:-1"!==this._connectorGUID?(0,u.UN)().get(this._connectorGUID):null;e&&!Y.l7.system("connector-tool-reset-state",()=>this.possiblyDeleteConnectorIfNotVisible(e))&&(0,L.getFeatureFlags)().figjam_select_connector_after_created&&ee.tJ([this._connectorGUID],!1),this._connectorGUID="-1:-1",this._insertionPoint=b.Mi.invalid(),clearTimeout(this._ignoreMagnetsTimer),this._shouldIgnoreMagnets=!1,this._createdFromCenter=!1,this._startEndpointWithAuto={endpointNodeID:"-1:-1",position:b.Mi.invalid(),magnet:T.SpR.NONE,relativePosition:new b.Mi},this._snapper?.clearCache(),this._didDragPastThreshold=!1,this._didSetConnectorStartWithClick=!1}reset(){this.resetState()}}let ea="-1:-1",es=["hoveredOverButtonLeft","hoveredOverButtonRight"];function eo({leftGapWidth:e,rightGapWidth:t,heightOfShortestFrame:i,medianYPosition:n,defaults:a},s){function o(e,t,i,n){return null!==e?e:null!==t?t<i?i:t:n}let r=e??null,l=t??null,d=a.gapWidth;return{leftGapWidth:o(r,l,s,d),rightGapWidth:o(l,r,s,d),height:i,topYPosition:n}}function er(e,{leftGapWidth:t,rightGapWidth:i,topYPosition:n,height:a}){return{left:b.Mi.fromVectorD({x:e.x-t/2,y:n+a/2}),right:b.Mi.fromVectorD({x:e.x+e.w+i/2,y:n+a/2})}}function el(e,{leftGapWidth:t,rightGapWidth:i,height:n}){return{left:{x:e.x-t,y:e.y,w:t,h:n},right:{x:e.x+e.w,y:e.y,w:i,h:n}}}function ed(e,t,i){let n=(0,g.QR)(1,1,1);(0,j.GJ)(e,t,i,n,d.Ez5.getCanvasButton())}function ec(e,t,i){let n=(0,g.QR)(1,1,1);(0,j.kP)(e,t,i,d.Ez5.getCanvasButton(),n)}class eu extends m.j{constructor(e){super(e),this._state="inactive",this._insertionType=T.Roq.DUPLICATE,this._canvasSpaceMousePosition=new b.Mi,this._hoveredFrameGuid=null,this._seriesMeasurementsFromActiveFrame=null,this._previousCurrentTool=null,this._selectedFrameGuid=null}_resetState(){this._state="inactive",this._insertionType=T.Roq.DUPLICATE}_getActiveFrameGuidOrNull(){return this._selectedFrameGuid??this._hoveredFrameGuid}handleMouseLeave(e){}handleMouseMove(e){if(this._state="inactive",this._insertionType=T.Roq.DUPLICATE,this._canvasSpaceMousePosition=b.Mi.fromVectorD(e.canvasSpaceMouse()),!c.qm||!c.qm.isFrameQuickAddEnabled())return;let t=this._getActiveFrameGuidOrNull(),i=c.qm.setHoveredNodeForFrameQuickAdd(e,this._hoveredFrameGuid??ea);this._hoveredFrameGuid=i===ea?null:i;let n=c.qm.getCurrentTool();if(this._hoveredFrameGuid)this._selectedFrameGuid=null;else if(n===T.NLJ.FRAME&&this._previousCurrentTool!==n){let t=c.qm.getSingleSelectedNodeIfEligibleForFrameQuickAdd(e);this._selectedFrameGuid=t===ea?null:t}this._previousCurrentTool=n;let a=this._getActiveFrameGuidOrNull();if(a){let i=(0,u.UN)().get(a);if(!i||(t!==a&&(this._seriesMeasurementsFromActiveFrame=function(e){let t=(0,u.UN)().get(e);if(!c.qm||!t)return null;let i=t.absoluteBoundingBox,{gapWidthsForSourceFrame:n,heightOfShortestFrame:a,medianYPosition:s}=c.qm.getSeriesMeasurements(e),o=c.qm.getDefaultGapWidthForFrameQuickAdd(e),r=c.qm.getDefaultHeightForFrameQuickAdd(e);return{leftGapWidth:n.left,rightGapWidth:n.right,heightOfShortestFrame:a,medianYPosition:s??i.y,defaults:{height:r,gapWidth:o}}}(a)),!this._seriesMeasurementsFromActiveFrame))return;let n=i.absoluteBoundingBox,s=c.qm.getMinimumAllowedGapWidthForFrameQuickAdd(),o=eo(this._seriesMeasurementsFromActiveFrame,s);if(!function(e,t,i){let n=e.canvasSpaceViewportRect();if(t.y<n.origin.y&&t.y+t.h>n.origin.y+n.size.y)return!1;let{left:a,right:s}=er(t,i),o=b.Mi.fromVectorD({x:t.x,y:t.y}),r=b.Mi.fromVectorD({x:t.x+t.w,y:t.y}),l=e.canvasSpaceToViewportSpace(o),d=e.canvasSpaceToViewportSpace(r),c=e.canvasSpaceToViewportSpace(a),u=e.canvasSpaceToViewportSpace(s),_=c.x+j.Bm,m=u.x-j.Bm,h=_>l.x&&Math.abs(_-l.x)>8,p=m<d.x&&Math.abs(d.x-m)>8;return!h||!p}(e.viewport(),n,o))return;this._state=this.getBehaviorStateOnMouseMove(e,n,s,o),this._insertionType=this.getInsertionTypeFromEvent(e),es.includes(this._state)&&(c.qm.setEventCursor(e,"blackCursor"),e.accept(this))}}getBehaviorStateOnMouseMove(e,t,i,n){if(this._canvasSpaceMousePosition.x>=t.x&&this._canvasSpaceMousePosition.x<=t.x+t.w)return"hoveredInside";let a=n.leftGapWidth>=i,s=n.rightGapWidth>=i,{left:o,right:r}=er(t,n),l=o.distanceTo(this._canvasSpaceMousePosition)*e.viewport().canvasScale(),d=r.distanceTo(this._canvasSpaceMousePosition)*e.viewport().canvasScale();if(a&&l<j.Bm+24)return"hoveredOverButtonLeft";if(s&&d<j.Bm+24)return"hoveredOverButtonRight";let{left:c,right:u}=el(t,n),_=this._canvasSpaceMousePosition.x>=c.x&&this._canvasSpaceMousePosition.x<=c.x+c.w,m=this._canvasSpaceMousePosition.x>=u.x&&this._canvasSpaceMousePosition.x<=u.x+u.w;return _||m?"hoveredOutside":this._selectedFrameGuid?"frameAlreadySelected":"inactive"}getInsertionTypeFromEvent(e){return e.isAltPressed()&&"inactive"!==this._state?T.Roq.BLANK:T.Roq.DUPLICATE}handleMouseDown(e){if(!c.qm||!c.GT||this._hoveredFrameGuid&&c.qm.setHoveredNodeForFrameQuickAdd(e,this._hoveredFrameGuid)!==this._hoveredFrameGuid)return;let t=this._getActiveFrameGuidOrNull();t&&this._seriesMeasurementsFromActiveFrame&&(this._insertionType=this.getInsertionTypeFromEvent(e),"hoveredOverButtonLeft"===this._state?c.GT.createFrameFromQuickAdd(t,T.btW.LEFT,this._insertionType):"hoveredOverButtonRight"===this._state&&c.GT.createFrameFromQuickAdd(t,T.btW.RIGHT,this._insertionType),es.includes(this._state)?e.accept(this):this._resetState())}handleMouseDrag(e){}handleMouseUp(e){}handleContextMenuOpen(){}handleBeforeFrame(){}reset(){}render(e,t){let i=this._getActiveFrameGuidOrNull();if(!i||!this._seriesMeasurementsFromActiveFrame||!c.qm)return;let n=(0,u.UN)().get(i);if(!n)return;let a=c.qm.getMinimumAllowedGapWidthForFrameQuickAdd(),s=n.absoluteBoundingBox,o=eo(this._seriesMeasurementsFromActiveFrame,a),{left:r,right:l}=el(s,o),d=r.w>=a,_=l.w>=a,{left:m,right:h}=er(s,o);("hoveredOverButtonLeft"===this._state||"hoveredOverButtonRight"===this._state)&&this._insertionType===T.Roq.DUPLICATE&&c.qm.renderHoverOutlineAroundFrameForQuickAdd(i,e,t),"inactive"!==this._state&&this.renderHoveredState({leftDotOrButtonPosition:m,rightDotOrButtonPosition:h,viewport:e,canvasContext:t,shouldRenderLeftDotOrButton:d,shouldRenderRightDotOrButton:_})}renderHoveredState({leftDotOrButtonPosition:e,rightDotOrButtonPosition:t,viewport:i,canvasContext:n,shouldRenderLeftDotOrButton:a,shouldRenderRightDotOrButton:s}){if("inactive"===this._state||!c.qm)return;let o=c.qm.getIndicatorColorForFrameQuickAdd();"hoveredOverButtonLeft"===this._state?a&&(this._insertionType===T.Roq.BLANK?ec(e,i,n):ed(e,i,n)):a&&(0,j.ZR)(e,i,n,o,0),"hoveredOverButtonRight"===this._state?s&&(this._insertionType===T.Roq.BLANK?ec(t,i,n):ed(t,i,n)):s&&(0,j.ZR)(t,i,n,o,0)}renderUnderEditModeUI(e,t){}}var e_=i(151524),em=i(792178);class eh extends m.j{constructor(e){super(e),this.responsiveNodeSetId=null}handleMouseDown(e){if(!(0,L.getFeatureFlags)().sts_rns_breakpoint_view_icon)return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(i&&i.isResponsiveNodeSet&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON)){this.responsiveNodeSetId=t;let i=(0,u.UN)().get(e.canvasGUID());i&&i.setSelectionToSingleNode(this.responsiveNodeSetId),e.accept(this);return}}handleMouseUp(e){if(!this.responsiveNodeSetId||e.wasCanceled()){this.responsiveNodeSetId=null;return}let t=c.GU?.eventHitTestNameUIBounds(e,this.responsiveNodeSetId,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON),i=(0,u.UN)().get(e.canvasGUID()),n=(0,u.UN)().get(this.responsiveNodeSetId);t&&i&&n&&(0,em.V2)(n)&&e.accept(this),this.responsiveNodeSetId=null}handleMouseMove(e){if(!(0,L.getFeatureFlags)().sts_rns_breakpoint_view_icon)return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!i||!i.isResponsiveNodeSet)return void this.clearHoveredNodes();let n=e_.D.getState().mirror.appModel.onCanvasNameEditorInfo.mode===d.nzw.RESPONSIVE_NODE_SET_NAME,a=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON);this.clearHoveredNodes(),a&&!n&&c.qm?.setHoveredResponsiveNodeSetViewIconNode(t)}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}clearHoveredNodes(){c.qm?.setHoveredResponsiveNodeSetViewIconNode("-1:-1")}}var ep=i(889901),eg=i(941418),ef=i(94241),eE=i(644350),eb=i(743514),ey=i(172495);function eS(){return e_.D.getState().mirror.appModel.activeCanvasEditModeType===T.m1T.CMS_BINDING_CONSTRAINED}class eT extends m.j{constructor(e){super(e),this.webpageId=null,this.breakpointFrameId=null,this.canEditCmsContent=!1,this.unsubscribeCmsPermission=null,this.initializeCmsPermission()}initializeCmsPermission(){if(!(0,L.getFeatureFlags)().cms_can_edit_mouse_behaviour)return;let e=_.zl.get(ef.ze);if(!e)return;let t=eE.r7k.Query({key:e}),i=()=>{let e=_.zl.get(t);this.canEditCmsContent="loaded"===e.status&&"loaded"===e.data.file.status&&e.data.file.data?.hasPermission===!0};i(),this.unsubscribeCmsPermission=_.zl.sub(t,i)}handleMouseDown(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t),n=e.selectionNodeGUIDs();if(!i||!i.isResponsiveSetOrWebpage)return;let a=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),s=e_.D.getState().openFile?.canEdit&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),o=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.CMS_ITEM_BUTTON);if(a||s||o){if(this.webpageId=t,this.breakpointFrameId=null,1===n.length&&n[0]){let e=(0,u.UN)().get(n[0]),i=e?.isWebpage?e.containingDerivedBreakpoint:e?.containingBreakpointFrame,a=i?e?.isWebpage?e.containingWebpage:(0,ep.f)(i):null;e&&i&&a?.guid===t&&(this.breakpointFrameId=i.guid)}let i=(0,u.UN)().get(e.canvasGUID());i&&i.setSelectionToSingleNode(this.webpageId),e.accept(this);return}}handleMouseUp(e){let t=_.zl.get(eb.s0);if(!this.webpageId||e.wasCanceled()){this.webpageId=null,this.breakpointFrameId=null;return}let i=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),n=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),a=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.CMS_ITEM_BUTTON),s=(0,u.UN)().get(e.canvasGUID()),o=(0,u.UN)().get(this.webpageId);if(i&&s&&o){let t=e_.D.dispatch;o&&(0,ey.b)(o,t)&&e.accept(this)}else if(n&&s&&o){if(o.childCount>0&&d.Ez5){let e=o.childrenGuids[0],i=d.Ez5.prototypingEditorState().prototypeViewMode.getCopy()===d.dBj.PRESENT?"present-sites-full-preview":"toggle-inline-html-preview";t!==T.Nfd.FILE&&_.zl.set(eb.s0,T.Nfd.FILE),d.glU?.triggerActionInUserEditScope(i,{source:"breakpoint_bar",startingNodeId:this.breakpointFrameId?this.breakpointFrameId:e})}}else if(a&&o){let e=e_.D.dispatch;(0,eg.h)(o,e)}this.webpageId=null,this.breakpointFrameId=null}handleMouseMove(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!i||!i.isResponsiveSetOrWebpage)return void this.clearHoveredNodes();let n=e_.D.getState().mirror.appModel.onCanvasNameEditorInfo.mode===d.nzw.RESPONSIVE_SET_NAME,a=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),s=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),o=((0,L.getFeatureFlags)().cms_can_edit_mouse_behaviour?this.canEditCmsContent:e_.D.getState().openFile?.canEdit)&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.CMS_ITEM_BUTTON);this.clearHoveredNodes(),s?c.qm?.setHoveredResponsiveSetPlusButtonNode(t):a?c.qm?.setHoveredResponsiveSetPlayButtonNode(t):o&&!n&&c.qm?.setHoveredResponsiveSetCMSItemPickerButtonNode(t)}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){(0,L.getFeatureFlags)().cms_can_edit_mouse_behaviour&&(this.unsubscribeCmsPermission?.(),this.unsubscribeCmsPermission=null)}clearHoveredNodes(){c.qm?.setHoveredResponsiveSetPlayButtonNode("-1:-1"),c.qm?.setHoveredResponsiveSetPlusButtonNode("-1:-1"),c.qm?.setHoveredResponsiveSetCMSItemPickerButtonNode("-1:-1")}}var ev=i(214030),eR=i(195784),eI=i(296150),ex=i(997149);class eA extends m.j{constructor(e){super(e),this.sectionId=null}handleMouseDown(e){if(!_.zl.get(eI.w))return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(i&&i.isSection&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.SECTION_PRESET_PICKER)){this.sectionId=t,e.accept(this);return}}handleMouseUp(e){if(!this.sectionId||e.wasCanceled()){this.sectionId=null;return}let t=c.GU?.eventHitTestNameUIBounds(e,this.sectionId,d.f2e.SECTION_PRESET_PICKER),i=(0,u.UN)().get(e.canvasGUID());if(t&&i){let t=e_.D.dispatch,n=(0,u.UN)().get(this.sectionId);(0,ex.BQ)(n,t)&&(e.accept(this),(0,eR.Cu)({nodeId:this.sectionId,trackingDescriptor:ev.c.SECTION_PRESET_PICKER_CLICKED})),i.setSelectionToSingleNode(this.sectionId)}this.sectionId=null}handleMouseMove(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);i&&i.isSection?_.zl.get(eI.w)&&(c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.SECTION_PRESET_PICKER)?d.Ez5?.setHoveredSectionPresetPickerNode(t):d.Ez5?.clearHoveredSectionPresetPickerNode()):d.Ez5?.clearHoveredSectionPresetPickerNode()}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}var eO=i(3752);let eN=class e extends m.j{constructor(e){super(e),this._snapper=null,this.ui=new N(E.r.invalidRect(),[],[],1,c.mi.HIDE),this.state={element:R.NONE,mouse:I.INACTIVE},this.hoveredSpans=new b.Mi(-1,-1),this.didDrag=!1,this.shouldRenderTableUi=c.mi.HIDE,this.previousMouseDragPos=b.Mi.invalid()}_getSnapper({interactionCpp:e}){return this._snapper||(this._snapper=e.getTableSpanSnapper()),this._snapper}_getOrUpdateTableUI(e){let t=e.canvasScale(),{bounds:i,widths:n,heights:a}=c.qm?{bounds:E.r.fromRectD(c.qm.viewportSpaceTableBounds()),widths:c.qm.getTableSpanLengths(T.gSS.COLUMN).map(e=>e*t),heights:c.qm.getTableSpanLengths(T.gSS.ROW).map(e=>e*t)}:{bounds:E.r.invalidRect(),widths:[],heights:[]};return this.ui.isDirty(i,n,a,t,this.shouldRenderTableUi)&&(this.ui=new N(i,n,a,t,this.shouldRenderTableUi)),this.ui}_getRegion(e,t){return e.getHoveredRegion(b.Mi.fromVectorD(t.viewportSpaceMouse()))}_selectSpan({axis:e,spanIndex:t,addToExistingSelection:i,interactionCpp:n,tableBindings:a}){let s=n.getTableSpanIdAtIndex(e,t);i&&n.isEntireSpanSelected(e,s)?(n.deselectSpan(e,s),n.maybeUpdatePivot()):a.selectTableSpans(e,[s],s,i)}_updateCursor({event:e,element:t,axis:i,interactionCpp:n}){let a=i===T.gSS.COLUMN?"horizontal":"vertical";switch(t){case R.RESIZE:n.setEventCursor(e,`${a}ResizeCursor`);break;case R.REORDER:n.setEventCursor(e,`${a}BlackMoveCursor`)}}_mouseComponent(e,t){return t===T.gSS.COLUMN?e.x:e.y}_isSelectingOrDraggingReorderHandle(){return this.state.element===R.REORDER&&(this.state.mouse===I.SELECTED||this.state.mouse===I.DRAGGED)}_isResizingSpan(){return this.state.element===R.RESIZE&&(this.state.mouse===I.SELECTED||this.state.mouse===I.DRAGGED)}_springDistanceFunction(t,i){let n=1/e.springStiffnessPower,a=Math.pow(1/n,1/(n-1)),s=a/i,o=Math.abs(t)*s,r=Math.pow(a,n)-a;return(o<a?o:Math.pow(o,n)-r)/s*Math.sign(t)}_extendedSpringDistanceFunction(e,t,i,n){let a=0;if(e>i)a=-i;else{if(!(e<t))return e;a=t}return this._springDistanceFunction(e+a,n)-a}_displacementSpringEffect(t,i,n){let a,s,o,r=this.ui.bounds(),l=1;t===T.gSS.ROW?(a=i.x,s=n.y,o=r.height(),l=.5):(a=i.y,s=n.x,o=r.width());let d=t===T.gSS.ROW?this.ui.numRows:this.ui.numColumns;var c=this._extendedSpringDistanceFunction(s,0,o-this.ui.getSpanThickness(d-1,t),e.boundarySpringStiffnessDistance*l)-s;return(a=this._springDistanceFunction(a,e.springStiffnessDistance),t===T.gSS.ROW)?new b.Mi(a,i.y+c):new b.Mi(i.x+c,a)}_updateSnapTargets({event:e,axis:t,spanFencepostIndex:i,interactionCpp:n}){let a=this._getSnapper({interactionCpp:n});n.cacheSnapTargetsForTableSpan(a,t,i),a.cacheTemporarySnapTargetsForLayoutGrids(e.canvasScene().handle,e.selectionNodeGUIDs(),e.canvasSpaceSnappingThreshold())}_getSnapOffset({event:e,mouse:t,interactionCpp:i}){if(this.state.element!==R.RESIZE)return 0;let n=this.state.tableAxis===T.gSS.COLUMN?new b.Mi(1,0):new b.Mi(0,1),a=e.canvasSpaceSnappingThreshold(),s=e.viewport().canvasSpaceViewportRect();return i.snapPointAlongAxis(this._getSnapper({interactionCpp:i}),t,n,a,s)}handleMouseLeave(e){}_hideTableUiForOtherInteraction({interactionCpp:e}){let t=e.getActiveUserAction();return t!==d.QOV.DEFAULT&&t!==d.QOV.SELECTING_TEXT&&!(this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan())}_canProcessTableEvents({interactionCpp:e}){return this.shouldRenderTableUi!==c.mi.HIDE&&!this._hideTableUiForOtherInteraction({interactionCpp:e})}handleMouseMove(e){if(!c.qm||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport());this.hoveredSpans=t.getHoveredSpan(b.Mi.fromVectorD(e.viewportSpaceMouse()));let i=this._getRegion(t,e);i.element===R.RESIZE&&this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),this.state={...i,mouse:I.HOVERED}}handleMouseDown(e){if(!c.qm||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport()),i=this._getRegion(t,e);switch(i.element){case R.NONE:return;case R.REORDER:{let t=c.qm.getTableSpanIdAtIndex(i.tableAxis,i.elementIndex),n=c.qm.viewportSpaceToTableSpanRelativePosition(t,e.viewportSpaceMouse());this.state={element:i.element,elementIndex:i.elementIndex,dividerHoverIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:I.SELECTED,elementId:t,spanMouseDown:b.Mi.fromFigVector(n),numReorderingSpans:null},this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),c.qm.setActiveUserAction(d.QOV.DRAGGING),(0,et.HF)();break}case R.ADD:this.state={element:i.element,elementIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:I.SELECTED};break;case R.RESIZE:if(this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),2===e.clickCount()){let e=c.qm.getTableSpanIdAtIndex(i.tableAxis,Math.max(0,i.elementIndex-1));c.qm.resizeTableSpanToFitContents(i.tableAxis,e)}else{let e=c.qm.getTableSpanOppositePosition(i.tableAxis,i.elementIndex);this.state={element:i.element,opposite:e,elementIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:I.SELECTED},c.qm.setActiveUserAction(d.QOV.RESIZING)}break;case R.APPEND:this.state={element:i.element,tableAxis:i.tableAxis,mouse:I.SELECTED}}e.accept(this)}_calculateDirectionOfMouseDrag(e,t){let i=t.minus(this.previousMouseDragPos),n=e===T.gSS.ROW?i.y:i.x;if(n<0)if(e===T.gSS.ROW)return 2;else return 0;if(n>0)if(e===T.gSS.ROW)return 3;else return 1}_calculateRepresentativeSpanIndex({tableAxis:e,directionOfMouseDrag:t,currentElementIndex:i,numSelectedSpans:n,interactionCpp:a}){if(n<=1||void 0===t)return i;switch(t){case 2:case 0:return a.findSmallestIndexOfSelectedSpans(e);case 3:case 1:return a.findLargestIndexOfSelectedSpans(e)}}_shouldReorderSpans(e,t,i,n){return(2===n||0===n)&&i>e||(3===n||1===n)&&!!(i<e)}_getSortedSelectedSpanIds({tableAxis:e,directionOfMouseDrag:t,interactionCpp:i,tableBindings:n}){let a;if(void 0===t)return[];let s=n.tableCellSelectionSelectedSpanIndexes(e);switch(t){case 2:case 0:a=s.sort((e,t)=>e-t);break;case 3:case 1:a=s.sort((e,t)=>t-e)}let o=[];for(let t of a)o.push([i.getTableSpanIdAtIndex(e,t),t]);return o}handleMouseDrag(e){if(c.qm&&d.Xxy&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this._getSnapper({interactionCpp:c.qm}).clearSnappingVisualizations(),this.state.mouse===I.SELECTED||this.state.mouse===I.DRAGGED)){switch(this.state.element){case R.REORDER:{let{element:t,tableAxis:i,elementId:n,elementIndex:a}=this.state;if(this._updateCursor({event:e,element:t,axis:i,interactionCpp:c.qm}),(0,et.HF)(),!this.didDrag){for(let e of(d.Xxy.tableCellSelectionSelectedSpanIndexes(i).includes(a)||this._selectSpan({axis:i,spanIndex:a,addToExistingSelection:!1,interactionCpp:c.qm,tableBindings:d.Xxy}),d.Xxy.tableCellSelectionSelectedSpanIndexes(i))){let t=c.qm.getTableSpanIdAtIndex(i,e);c.qm.setTableSpanFloating(t,!0)}d.Xxy.tableCellSelectionSelectedSpanIndexes(i).length>1&&c.qm.clumpTogetherSelectedSpansAround(i,n)}let s=d.Xxy.tableCellSelectionSelectedSpanIndexes(i);if(null===this.state.numReorderingSpans)this.state.numReorderingSpans=s.length;else if(this.state.numReorderingSpans!==s.length){this.handleMouseUp(e),c.qm.ensureNoTableSpansAreFloating();return}let o=e.viewportSpaceMouse(),r=b.Mi.fromVectorD(o),l=this._calculateDirectionOfMouseDrag(i,r),u=this._calculateRepresentativeSpanIndex({tableAxis:i,directionOfMouseDrag:l,currentElementIndex:a,numSelectedSpans:s.length,interactionCpp:c.qm}),_=c.qm.getTableSpanIdAtIndex(i,u),m=i===T.gSS.ROW?this.ui._getRowPositions():this.ui._getColumnPositions(),h=m[a]-m[u],p=i===T.gSS.ROW?new b.Mi(0,h):new b.Mi(h,0),g=r.minus(p),f=this.ui.getNearestSpan(i,i===T.gSS.ROW?g.y:g.x),E=f>u?f-1:f;if(this._shouldReorderSpans(f,E,u,l)){let e=d.Xxy.tableCellSelectionSelectedSpanIndexes(i).length;if(1===e)c.qm.reorderTableSpan(i,_,f),this.state.elementIndex=E;else if(e>1){let e=this._getSortedSelectedSpanIds({tableAxis:i,directionOfMouseDrag:l,interactionCpp:c.qm,tableBindings:d.Xxy}),t=f-u;for(let[n,a]of e)c.qm.reorderTableSpan(i,n,a+t);this.state.elementIndex=this.state.elementIndex+(E-u)}}this.state.dividerHoverIndex=f,this.state.mouse=I.DRAGGED;let y=b.Mi.fromFigVector(c.qm.viewportSpaceToTableSpanRelativePosition(this.state.elementId,o)),S=c.qm.getTableSpanIdAtIndex(this.state.tableAxis,0),v=b.Mi.fromFigVector(c.qm.viewportSpaceToTableSpanRelativePosition(S,o)),R=this._displacementSpringEffect(i,y.minus(this.state.spanMouseDown),v.minus(this.state.spanMouseDown));for(let e of d.Xxy.tableCellSelectionSelectedSpanIndexes(i)){let t=c.qm.getTableSpanIdAtIndex(i,e);c.qm.setTableSpanDisplacement(t,R)}this.previousMouseDragPos=b.Mi.fromVectorD(o),e.accept(this);break}case R.RESIZE:{let{tableAxis:t,elementIndex:i,opposite:n}=this.state;this._updateSnapTargets({event:e,axis:t,spanFencepostIndex:i,interactionCpp:c.qm}),this._updateCursor({event:e,element:this.state.element,axis:t,interactionCpp:c.qm});let a=e.viewport().viewportSpaceToCanvasSpace(e.viewportSpaceMouse()),s=c.qm.gridSnapBehavior(),o=b.Mi.fromVectorD(a).divideBy(s).rounded().multiplyBy(s),r=(0===i?-1:1)*(this._mouseComponent(o,t)-n),l=(0===i?-1:1)*this._getSnapOffset({event:e,mouse:o,interactionCpp:c.qm}),d=Math.max(0,i-1);c.qm.resizeTableSpan(t,d,r+l,0===i),this._getSnapper({interactionCpp:c.qm}).addPostSnappingVisualizations(),this.state.mouse=I.DRAGGED,e.accept(this)}}this.didDrag=!0}}handleMouseUp(e){if(!c.qm||!d.Xxy||!this._canProcessTableEvents({interactionCpp:c.qm})){this.didDrag=!1;return}let t=this._getOrUpdateTableUI(e.viewport()).getHoveredRegion(b.Mi.fromVectorD(e.viewportSpaceMouse()));if(this.state.mouse===I.SELECTED||this.state.mouse===I.DRAGGED){switch(this.state.element){case R.ADD:let{element:i,elementIndex:n,tableAxis:a}=this.state;t.element===i&&t.elementIndex===n&&c.qm.insertTableSpan(a,n);break;case R.REORDER:{let{elementId:i,elementIndex:n,tableAxis:a}=this.state;if(this.didDrag&&d.Xxy.tableCellSelectionSelectedSpanIndexes(a).length>0){for(let e of(c.qm.logTableSpanReordered(a,i,n),(0,et.HF)(),d.Xxy.tableCellSelectionSelectedSpanIndexes(a))){let t=c.qm.getTableSpanIdAtIndex(a,e);c.qm.setTableSpanFloating(t,!1)}c.qm.setActiveUserAction(d.QOV.DEFAULT);break}if(t.element===this.state.element&&t.elementIndex===this.state.elementIndex)if(e.isShiftPressed()){let e=c.qm.getTableSpanIdAtIndex(a,n);c.qm.selectTableSpanRange(a,e,!1)}else{this._selectSpan({axis:a,spanIndex:n,addToExistingSelection:e.isMetaPressed(),interactionCpp:c.qm,tableBindings:d.Xxy});let t=(0,u.UN)().get(e.canvasGUID());0===(t?.directlySelectedNodes.length??0)&&(this.state={element:R.NONE,mouse:I.INACTIVE})}for(let e of d.Xxy.tableCellSelectionSelectedSpanIndexes(a)){let t=c.qm.getTableSpanIdAtIndex(a,e);c.qm.setTableSpanFloating(t,!1)}c.qm.setActiveUserAction(d.QOV.DEFAULT);break}case R.APPEND:{let e=this.state.tableAxis===T.gSS.COLUMN?this.ui.numColumns:this.ui.numRows;c.qm.insertTableSpan(this.state.tableAxis,e);break}case R.RESIZE:c.qm.setActiveUserAction(d.QOV.DEFAULT),this._getSnapper({interactionCpp:c.qm}).clearCache()}this.didDrag=!1,this.state.mouse=I.HOVERED,e.accept(this)}}handleBeforeFrame(){if(!c.qm)return;let e=this.shouldRenderTableUi;this.shouldRenderTableUi=c.qm.shouldRenderTableUiForSelection(),e&&!this.shouldRenderTableUi&&c.qm.ensureNoTableSpansAreFloating()}handleContextMenuOpen(e){if(!c.qm||!d.Xxy||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport()),i=this._getRegion(t,e);if(i.element===R.REORDER){let t=i.tableAxis,n=i.elementIndex;if(e.isShiftPressed()){let e=c.qm.getTableSpanIdAtIndex(t,n);c.qm.selectTableSpanRange(t,e,!1)}else this._selectSpan({axis:t,spanIndex:n,addToExistingSelection:e.isMetaPressed(),interactionCpp:c.qm,tableBindings:d.Xxy});e.setOwnedBySelection(!0),e.accept(this)}}renderSelection(e){if(d.Xxy)for(let t of(0,y.U)(T.gSS))for(let i of d.Xxy.tableCellSelectionSelectedSpanIndexes(t))this.ui.renderExpandedReorderHandle(e,t,i,I.SELECTED)}renderHoveredElements(e,t){let i=this._getOrUpdateTableUI(e);switch(this.state.element){case R.NONE:break;case R.ADD:{let{tableAxis:e,elementIndex:n,mouse:a}=this.state;i.renderAddButton(t,e,n,a),i.renderDivider(t,e,n,a);break}case R.REORDER:{let{tableAxis:e,elementIndex:n,mouse:a}=this.state;i.renderExpandedReorderHandle(t,e,n,a)}}}renderHoveredElementsUnderEditModeUI(e,t){let i=this._getOrUpdateTableUI(e);this.state.element===R.APPEND&&i.renderAppendButton(t,this.state.tableAxis,this.state.mouse)}shouldRenderAllInactiveElements(){return eO.A.isIpad}render(e,t){let i=this._getOrUpdateTableUI(e);c.qm&&i.shouldRender()&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this.shouldRenderAllInactiveElements()?i.renderAllInactiveElements(t):this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan()||i.renderHoveredInactiveElements(t,this.hoveredSpans),this.renderHoveredElements(e,t),this.renderSelection(t),c.qm.renderSnappingVisualizations(this._getSnapper({interactionCpp:c.qm}),t,e))}renderUnderEditModeUI(e,t){let i=this._getOrUpdateTableUI(e);c.qm&&i.shouldRender()&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this.shouldRenderAllInactiveElements()?i.renderAllInactiveElementsUnderEditModeUI(t):this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan()||i.renderHoveredInactiveElementsUnderEditModeUI(t,this.hoveredSpans),this.renderHoveredElementsUnderEditModeUI(e,t))}reset(){}};eN.springStiffnessDistance=25,eN.boundarySpringStiffnessDistance=64,eN.springStiffnessPower=3;var eC=i(62993);class eL extends m.j{constructor(e){super(e)}handleMouseMove(e){c.NE?.hitTestTemplatePreview(e)}handleMouseDown(e){c.NE?.hitTestTemplatePreview(e)&&e.accept(this)}handleMouseUp(e){c.NE?.hitTestTemplatePreview(e)&&_.zl.set(eC.bj,{selectTemplateAfterCommit:!0,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:T.zkO.USER})}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}var ew=i(723846);class eD extends m.j{constructor(e){super(e)}handleMouseDown(e){if(this.isPointWithinVideoNode(e.viewportSpaceMouse())&&eO.A.isIpad){let{pointerDownOnVideo:e}=_.zl.get(ew.H);_.zl.set(ew.H,{isVideoNodeHovered:!0,pointerDownOnVideo:!e})}}handleMouseMove(e){if(this.isPointWithinVideoNode(e.viewportSpaceMouse())){let{pointerDownOnVideo:e}=_.zl.get(ew.H);_.zl.set(ew.H,{isVideoNodeHovered:!0,pointerDownOnVideo:e})}else _.zl.set(ew.H,{isVideoNodeHovered:!1,pointerDownOnVideo:!1})}isPointWithinVideoNode(e){let t=c.qm?.viewportSpaceVideoBounds();if(!t)return!1;let i=E.r.fromRectD(t);return!i.isInvalid()&&i.containsPointIncludingBoundary(b.Mi.fromVectorD(e))}handleMouseUp(e){}handleMouseDrag(e){}handleMouseLeave(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}let ej={ArrangeAsListBehavior:X,ConnectorToolBehavior:en,TableBehavior:eN,TemplatePreviewBehavior:eL,VideoBehavior:eD,SectionPresetBehavior:eA,DevHandoffAnnotationsMouseBehavior:p,WebpageBehavior:eT,ResponsiveNodeSetBehavior:eh,SlideDeckAddBehavior:F,SlideDeckReorderRowBehavior:V,MoveEmbeddedPrototypeBehavior:C,BuzzGridAddBehavior:o.X,BuzzGridReorderRowBehavior:r.r,BuzzGridStateGroupErrorBehavior:l.A,FrameQuickAddBehavior:eu,CMSRepeaterCandidateBehavior:$,CMSFieldPickerCandidateBehavior:K};class ek{createMouseBehavior(e){if(e in ej)return new ej[e](e);throw Error("unexpected mouse behavior name: "+e)}tableUiReorderHandleHoveredLength(){return N.reorderHandleHoveredLength}tableUiAddButtonHoveredRadius(){return N.addButtonHoveredRadius}}function eP(){n=new ek}},557361(e,t,i){let n;i.d(t,{F_:()=>n,dB:()=>d});var a=i(885705),s=i(741542),o=i(539236);class r{constructor(e,t,i){this.getFeatureFlags=e,this.observabilityClient=t,this.timerAPI=i,this.panVital=null,this.zoomVital=null,this.dragVital=null,this.panDebounceTimer=null,this.zoomDebounceTimer=null,this.dragDebounceTimer=null}onPan(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.panVital||(this.panVital=this.observabilityClient.createVital("viewport_pan_interaction",{level:a.$.INFO,trackFps:!0,description:"Tracks FPS during viewport pan interactions"}),this.panVital.start()),null!==this.panDebounceTimer&&this.timerAPI.clearTimeout(this.panDebounceTimer),this.panDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopPan()},100))}onZoom(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.zoomVital||(this.zoomVital=this.observabilityClient.createVital("viewport_zoom_interaction",{level:a.$.INFO,trackFps:!0,description:"Tracks FPS during viewport zoom interactions"}),this.zoomVital.start()),null!==this.zoomDebounceTimer&&this.timerAPI.clearTimeout(this.zoomDebounceTimer),this.zoomDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopZoom()},100))}stopPan(){this.panVital&&(this.panVital.stop(),this.panVital=null),null!==this.panDebounceTimer&&(this.timerAPI.clearTimeout(this.panDebounceTimer),this.panDebounceTimer=null)}stopZoom(){this.zoomVital&&(this.zoomVital.stop(),this.zoomVital=null),null!==this.zoomDebounceTimer&&(this.timerAPI.clearTimeout(this.zoomDebounceTimer),this.zoomDebounceTimer=null)}onDrag(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.dragVital||(this.dragVital=this.observabilityClient.createVital("viewport_drag_interaction",{level:a.$.INFO,trackFps:!0,description:"Tracks FPS during viewport drag interactions"}),this.dragVital.start()),null!==this.dragDebounceTimer&&this.timerAPI.clearTimeout(this.dragDebounceTimer),this.dragDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopDrag()},100))}stopDrag(){this.dragVital&&(this.dragVital.stop(),this.dragVital=null),null!==this.dragDebounceTimer&&(this.timerAPI.clearTimeout(this.dragDebounceTimer),this.dragDebounceTimer=null)}}let l={setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:e=>window.clearTimeout(e)};function d(){n=new r(s.getFeatureFlags,o.J,l)}},640678(e,t,i){i.d(t,{j:()=>a});var n=i(521464);let a=new class{constructor(){this.counterAtom=(0,n.hR)({value:0},{changeFileBehavior:n.hW.RESET_VALUE_ON_FILE_CHANGE}),this.arrayAtom=(0,n.hR)([{value:0}],{changeFileBehavior:n.hW.RESET_VALUE_ON_FILE_CHANGE}),this.jsValueTestsCallback=null}jsEchoUintValue(e){if(e<0)throw Error("Unsigned value was negative");return e}jsEchoStringValue(e){return e}jsEchoInt64Value(e){return e}jsEchoUint64Value(e){return e}jsEchoInt64Struct(e){return e}jsEchoIntArrayValue(e){return e}jsEchoBoolArrayValue(e){return e}jsEchoJsonValue(e){return e}jsEchoJsValue(e){return e}jsEchoOptionalJsValue(e){return e}jsEchoDeeplyNestedJsValue(e){return e}jsEchoIntMapValue(e){return e}jsEchoFastParseableStructValue(e){return e}jsEchoNonFastParseableStructValue(e){return e}jsEchoIntSetValue(e){return e}jsEchoOptionalStringValue(e){return e}jsEchoOptionalStringStruct(e){return e}jsEchoCallbackValue(e){return e}getObservableCounter(){return this.counterAtom.observable}getObservableArray(){return this.arrayAtom.observable}jsValueTestsDone(e){this.jsValueTestsCallback?.(e),this.jsValueTestsCallback=null}setJsValueTestsCallback(e){this.jsValueTestsCallback=e}}},407409(e,t,i){i.d(t,{v:()=>a});var n=i(914600);function a(e){let t=n.y.isApple();switch(e.toUpperCase()){case"'":return"\u2032";case"-":return"\u2013";case"ESCAPE":return"\u238B";case"ENTER":return"\u21A9";case"RETURN":return"\u23CE";case"TAB":return"\u21E5";case"LEFT":case"ARROWLEFT":return"\u2190";case"RIGHT":case"ARROWRIGHT":return"\u2192";case"UP":case"ARROWUP":return"\u2191";case"DOWN":case"ARROWDOWN":return"\u2193";case"DELETE":return"\u2326";case"BACKSPACE":return"\u232B";case"CAPS LOCK":return"\u21EA";case"CONTROL":return t?"\u2303":"Ctrl";case"ALT":case"RIGHTALT":return t?"\u2325":"Alt";case"SHIFT":return t?"\u21E7":"Shift";case"META":return t?"\u2318":n.y.isWindows()?"Win":"Meta";case"BACKSLASH":return"\\";default:return e}}},262387(e,t,i){let n;i.d(t,{LC:()=>r,zT:()=>n});var a=i(347213),s=i(522675);class o{onNodeUpdate(e){let t=(0,a.X5)();t&&t.onNodeUpdate(e)}onNodeDeleted(e){let t=(0,a.X5)();t&&t.onNodeDeleted(e)}onNodeCreated(e){let t=(0,a.X5)();t&&t.onNodeCreated(e)}async isDesignLinterEnabledForUser(){return await (0,s.kU)()}isDesignLinterEnabledForUser_UNSAFE(){return(0,s.Ki)()}}function r(){n=new o}},607345(e,t,i){let n;i.d(t,{YN:()=>n,qZ:()=>m});var a=i(688357),s=i(850159),o=i(350923),r=i(230191),l=i(613629),d=i(617593),c=i(175591),u=i(448775);class _{setMentionsTypeaheadQuery(e){o.zl.set(c.h1,e)}clearMentionsTypeaheadQuery(e,t){if(e){let e=o.zl.get(c.h1),i=o.zl.get(c.LQ)?.index||null,n=o.zl.get(c.wm);(0,d.W)(e,t,i,n)}o.zl.set(c.h1,null),this.endSearchSession()}isShowingMentionsTypeaheadResults(){let e=o.zl.get(c.LQ);return!!e?.mentions?.length}setMentionsTypeaheadTargetRect(e,t,i){o.zl.set(c.MX,{x:e,y:t,height:i,width:0})}startSearchSession(){let e=(0,r.MZ)();return o.zl.set(c.wm,e),e}endSearchSession(){let e=o.zl.get(c.wm);return o.zl.set(c.wm,""),e}showVisualBellForPastedMentions(e,t){u.Y5.dispatch(l.F.enqueue({message:(0,s.t)("whiteboard.visual_bell.canvas_at_mentions_send_notifications_from_pasted_mentions",{numUsers:t}),button:{text:(0,s.t)("whiteboard.visual_bell.canvas_at_mentions_send_notifications_from_pasted_mentions_action"),action:()=>{a.fp8?.allowSendNotificationsForPastedMentions(e)}}}))}}function m(){n=new _}},854897(e,t,i){let n;i.d(t,{DI:()=>u,Ds:()=>g,ZO:()=>n,e8:()=>_,vS:()=>m});var a=i(491852),s=i(151524),o=i(181254);let r=!1,l=!1,d=!1,c=!1;function u(){l=!0,h()}function _(){r=!1,l=!1,d=!1,c=!1}function m(e,t){let i=s.D.getState(),n=i.openFile?.key;n&&!c&&((0,o.ds)("Show Missing Fonts Popover",n,i,{fontListLoaded:e,counts:t,timeNow:performance.now()}),c=!0)}function h(){if(r&&l&&!d){let e=s.D.getState(),t=new Set(Object.values(e.fonts).map(e=>Object.values(e)).flat().map(e=>e.source)),i=e.openFile?.key,n=e.figFileDuplicatedFromHubFile,r=!1;void 0!==i&&void 0!==n&&(r=null!=n[i]),(0,o.ds)("has_missing_font",i,e,{has_google_fonts:t.has(a.jXp.GOOGLE),has_local_fonts:t.has(a.jXp.LOCAL),has_shared_fonts:t.has(a.jXp.SHARED),is_community_duplicated_file:r}),d=!0}}class p{markMissingFontScannerAsComplete(){r=!0,h()}}function g(){n=new p}},527829(e,t,i){let n;i.d(t,{PU:()=>r,pY:()=>n});var a=i(350923),s=i(94241);class o{getOpenFileParentOrgId(){return a.zl.get(s.yV)?.parentOrgId??null}}function r(){n=new o}},71202(e,t,i){i.d(t,{Ts:()=>x,Z_:()=>S,yQ:()=>y});var n=i(267995),a=i(688357),s=i(63744),o=i(741542),r=i(350923),l=i(3752),d=i(513427),c=i(181645),u=i(921282),_=i(151524),m=i(181254),h=i(338524),p=i(303203),g=i(720654),f=i(788804);let E={periodMs:36e5,frequentPeriodMs:6e4},b={periodMs:3e5,frequentPeriodMs:6e4};function y(e,t){return Object.keys(e).reduce((i,n)=>{let a=t[n],s=e[n];return null!=a&&null!=s&&(i[n]=a-s),i},{})}function S(){let e=T();if(!s.P2)return{...e};let t=s.P2.getHeapMemoryBreakdown(),i={};for(let e of Object.keys(t))i[`heap_breakdown_${e}`]=t[e];let n=s.P2.getRendererMemoryBreakdown()||{};function a(e){return"number"==typeof e?e:parseInt(e)}return{...e,renderer_gpu_memory:a(s.P2.getRendererGpuMemory()),renderer_textures_memory:a(n.textures),renderer_vertex_buffers_memory:a(n.vertexBuffers),renderer_render_buffers_memory:a(n.renderBuffers),renderer_uniform_buffers_memory:a(n.uniformBuffers),image_memory:a(s.P2.getTotalImageMemory()),...i}}function T(){let e=(0,h.aW)()??0,t=n.hM;if(!t)return{process_memory:e,emscripten_reserved_memory:(0,h.le)()};let i=t.getTotalUsedHeapMemory();return{process_memory:e,cpp_memory:i,js_memory:e>i?e-i:void 0,cpp_max_memory:t.getMaxUsedHeapMemory(),alloc_total:t.getAllocTotal(),alloc_call_count:t.getAllocCallCount(),emscripten_reserved_memory:(0,h.le)(),indirect_buffer_memory:t.getJsBufferMemory(),texture_image_memory:t.getTextureMemStatsTotal(n.aD.IMAGE),texture_tile_atlas_memory:t.getTextureMemStatsTotal(n.aD.TILE_ATLAS),texture_tile_stack_memory:t.getTextureMemStatsTotal(n.aD.TILE_STACK),texture_glyph_data_memory:t.getTextureMemStatsTotal(n.aD.GLYPH_DATA),compressed_images:t.getImageMemStatsTotal(n.fL.BITMAP),uncompressed_images_arraybuffer:t.getImageMemStatsTotal(n.fL.COMPRESSED),uncompressed_images_imagebitmap:t.getImageMemStatsTotal(n.fL.BUFFER)}}async function v(){if(u.eD){let e=await u.eD.getCPUUsage();if(e)return e.percent}return null}async function R(e,t,i,s,o){let u="Fullscreen Periodic Metrics"===e;if(!(!n.hM||"ok"!==r.zl.get(g.h)||(0,d.PN)()))if(u){let n=S();i&&(n.cpu_usage=await v());let r=(0,f.dd)(),d=(0,f.PH)();(0,m.ds)(e,s,_.D.getState(),{reporting_interval:t,file_key:s,is_hidden:document.hidden,product_type:o,is64BitBrowser:l.A.is64BitBrowser,multiplayer_state:a.h3O&&(0,p.LD)(a.h3O.getSessionState()),...n,...r,...d},{forwardToDatadog:!0})}else{let n=T();i&&(n.cpu_usage=await v());let a=(0,f.dd)(),o=(0,f.PH)();(0,c.sx)(e,{reporting_interval:t,file_key:s,is_hidden:document.hidden,is64BitBrowser:l.A.is64BitBrowser,...n,...a,...o},{forwardToDatadog:!0})}}let I=!1;function x(e,t,i){if(I)return;I=!0;let n=(0,o.getFeatureFlags)().cpu_monitoring_enabled||!1,a="Fullscreen Periodic Metrics"===e?E:b,s=a.periodMs;(0,o.getFeatureFlags)().frequent_periodic_metrics&&(s=a.frequentPeriodMs),setTimeout(()=>{R(e,0,n,t(),i())},3e5),setInterval(()=>{R(e,s,n,t(),i())},s)}},74757(e,t,i){let n,a;i.d(t,{$G:()=>a,LU:()=>d,Pu:()=>n});var s=i(834861),o=i(414672);class r{isRenderWorkerSupported(){return o.s.isRenderWorkerSupported()}async convertToBitmapViaRenderWorker(e,t,i,n,a,s){let r=o.s.getInstance();await r.waitForReady();let l=r.channel;if(!l)throw Error("Render worker channel not found");return r.beginExport(),new Promise(async(o,d)=>{r.registerExportRejection(d);try{let c=s.map(e=>this.sendImageDataToRenderWorker(e.imageHash,e.compressedData,e.mimeType,e.imageMetadata,e.isThumbnail,e.emojiIdString,e.uncompressedData));await Promise.all(c);let u=await l.request("convertToBitmapFromRenderTree",{input:e,settings:t,renderTree:i,baseFilename:n,stopAfterTimeSeconds:a},[i.buffer]);r.unregisterExportRejection(d),o({imageBuffer:new Uint8Array(u.imageBuffer),cpuTimerTree:u.cpuTimerTree,gpuMetrics:u.gpuMetrics})}catch(e){r.unregisterExportRejection(d),d(e)}finally{r.endExport()}})}async sendImageDataToRenderWorker(e,t,i,n,a,r,l){let d,c=o.s.getInstance();await c.waitForReady();let u=c.channel;if(!u)throw Error("Render worker channel not found");if(l&&l.length>0){let e=n.width,t=n.height,i=new ImageData(new Uint8ClampedArray(l.buffer,l.byteOffset,e*t*4),e,t);d={bitmap:await createImageBitmap(i),width:e,height:t}}else{if(!t||0===t.length)throw Error(`Empty or null compressed data for image. ImageHash: ${e}, MimeType: ${i}`);if(!(d=await s.EC.decodeAsync(t,i,0,0,!0)).bitmap)throw Error(`Failed to decode image as ImageBitmap for render worker. ImageHash: ${e}, MimeType: ${i}, ImageBitmap support may not be available on this device.`)}let _={bitmap:d.bitmap,width:d.width,height:d.height};return r?u.request("sendEmojiDataToRenderWorker",{emojiIdString:r,imageBitmap:_.bitmap,width:_.width,height:_.height},[_.bitmap]):u.request("sendImageDataToRenderWorker",{imageHash:e,compressedData:t.buffer,decodedImage:_.bitmap,imageMetadata:n,isThumbnail:a},[t.buffer,_.bitmap]),!0}}class l{sendRenderTreeToRenderWorkerForCanvasRendering(e,t,i,n,a){let s=o.s.getInstance(),r=s.getCurrentState();if("started"!==r&&"exporting"!==r)return;let l=s.channel;l?l.request("sendRenderTreeToRenderWorkerForCanvasRendering",{renderTree:e,devicePixelRatio:t,canvasOriginX:i,canvasOriginY:n,canvasScale:a},[e.buffer]):console.warn("Render worker channel not found, skipping sendRenderTreeToRenderWorkerForCanvasRendering")}}function d(){n=new r,a=new l}},414672(e,t,i){i.d(t,{s:()=>y});var n=i(442549),a=i(741542),s=i(181645),o=i(436174),r=i(838719),l=i(539236),d=i(462198),c=i(42053),u=i(914597),_=i(122245),m=i(250076),h=i(914600);let p=Fig.renderWorkerURL,g=(0,a.getFeatureFlags)()?.fullscreen_use_threaded_rendering||(0,a.getFeatureFlags)()?.fullscreen_use_threaded_exporter,f=g?Fig.renderBundleURLs["compiled_wasm.js"]:"compiled_wasm.js",E=g?Fig.renderBundleURLs["compiled_wasm.wasm"]:"compiled_wasm.wasm",b=class e{constructor(){this._worker=null,this._channel=null,this._currentState="uninitialized",this._previousState=null,this._onEnterStateCallbacks={},this._activeExportCount=0,this._activeExportRejects=[],this._readyPromise=null,this._readyResolve=null,this._readyReject=null,this._RenderingWorkerStates={uninitialized:{spawn:{_event:"spawn",_target:"spawned",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},restarting:{spawn:{_event:"spawn",_target:"spawned",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},spawned:{init:{_event:"init",_target:"initializing",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},initializing:{initialized:{_event:"initialized",_target:"initialized",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},initialized:{start:{_event:"start",_target:"starting",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},starting:{started:{_event:"started",_target:"started",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},started:{beginExport:{_event:"beginExport",_target:"exporting",_callback:this.defaultTransitionCallback},stop:{_event:"stop",_target:"stopping",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback},restart:{_event:"restart",_target:"restarting",_callback:this.defaultTransitionCallback}},exporting:{endExport:{_event:"endExport",_target:"started",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback},restart:{_event:"restart",_target:"restarting",_callback:this.defaultTransitionCallback}},stopping:{stopped:{_event:"stopped",_target:"stopped",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},stopped:{start:{_event:"start",_target:"starting",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}}}}defaultTransitionCallback(t,i,n){"started"===i&&this._readyResolve&&(this._readyResolve(),this._readyResolve=null,this._readyReject=null,this._readyPromise=null);let a=e.getInstance()._onEnterStateCallbacks[i];a&&a(t,i,n)}defaultErrorCallback(e,t,i){(0,c.x1)("RenderingWorker",`Critical error: invalid event ${i} while in state ${e} to ${t}`),"error"===t&&(this._activeExportCount>0&&this.triggerExportFallbacks(),this._activeExportCount=0,this._readyReject&&(this._readyReject(Error("Render worker failed to initialize")),this._readyResolve=null,this._readyReject=null,this._readyPromise=null))}processStateMachineEvent(e){let t=this._RenderingWorkerStates[this._currentState];if(t){let i=t[e];i?(this._previousState=this._currentState,this._currentState=i._target,i._callback&&i._callback(this._previousState,this._currentState,e)):(0,c.xi)("RenderingWorker",`No transition found for event ${e} in state ${this._currentState}`)}else(0,c.x1)("RenderingWorker",`No state information found for ${this._currentState}`)}processIdMessage(t){e.getInstance()._currentState,t&&(t?e.getInstance().processStateMachineEvent(t):(0,c.x1)("RenderingWorker",`Unknown event ${t} received`))}get channel(){return this._channel}get worker(){return this._worker}getCurrentState(){return this._currentState}onError(t){let i=e.getInstance();switch(i._currentState){case"started":(0,c.x1)("RenderingWorker","Render Worker crashed while not in an export. Restarting.",{error:t}),i.restartWorker();break;case"exporting":"exporting"===i._currentState&&i._activeExportCount>0&&((0,c.x1)("RenderingWorker","Render worker crashed during export. Restarting and triggering export fallbacks",{error:t,activeExportCount:i._activeExportCount}),i.triggerExportFallbacks()),i.restartWorker();break;default:(0,c.x1)("RenderingWorker","Error from rendering worker while already in an error state!",{error:t})}}static isRenderWorkerSupported(){let e="u">typeof OffscreenCanvas;return"u">typeof Worker&&e}static getInstance(){return e._instance||(e._instance=new e),e._instance}waitForReady(){return"started"===this._currentState||"exporting"===this._currentState?Promise.resolve():"error"===this._currentState?Promise.reject(Error("Render worker is in error state")):(this._readyPromise||(this._readyPromise=new Promise((e,t)=>{this._readyResolve=e,this._readyReject=t})),this._readyPromise)}installListenersOnChannel(){this._channel?.addServerMethod("trackDefinedEvent",({eventName:e,data:t})=>(s.az.trackDefinedEvent(e,t),{data:{}})),this._channel?.addServerMethod("setGlobalContext",({key:e,value:t})=>(l.J.setGlobalContext(e,t),{data:{}})),this._channel?.addServerMethod("reportErrorToSentry",({team:e,error:t})=>((0,d.$D)(e,t),{data:{}})),this._channel?.addServerMethod("trackDefinedEventFromFullscreen",({event:e,args:t})=>(console.warn("trackDefinedEventFromFullscreen: ",e,t),s.az.trackDefinedFullscreenEvent(e,(0,m.r)(t||{})),{data:{}}))}async spawnWorker(){if(this._worker||"uninitialized"!==this._currentState&&"restarting"!==this._currentState)return void(0,c.x1)("RenderingWorker","Attempting to spawn the rendering worker but it's already spawned");let{worker:e,channel:t}=await (0,u.r)(p,"render-worker");if(this._worker=e,this._channel=t,this.installListenersOnChannel(),!this._worker){(0,c.x1)("RenderingWorker","Failed to spawn rendering worker"),this.processStateMachineEvent("error");return}this._worker.addEventListener("error",this.onError),this.processStateMachineEvent("spawn")}needsAlphaGPUBackingStore(){return!!new URLSearchParams(o.Ay.location.search).get("needsAlpha")}init(){if(!this._worker)return void(0,c.x1)("RenderingWorker","Trying to init Rendering Worker but it isn't spawned yet");"spawned"===this._currentState||(0,c.x1)("RenderingWorker","Trying to init Rendering Worker that isn't valid in state "+this._currentState);let e=document.createElement("canvas");if(n.v.getFeatureGate("fullscreen_use_threaded_rendering")){let t=document.getElementsByTagName("canvas")[0];t.parentNode?.appendChild(e),t.parentNode?.removeChild(t),e.id="fullscreen-root-2"}let t=e.transferControlToOffscreen();this.processStateMachineEvent("init");var i=null;try{i=self.localStorage}catch(e){}var s=!!(i&&!0===i["low-power"]);if(!f||!E){(0,c.x1)("RenderingWorker","Failed to get rendering worker bundle URLs"),this.processStateMachineEvent("error");return}let o=h.y.getMemoryLimit();this._channel.request("init",{jsUrl:f,wasmUrl:E,canvas:t,powerPref:s?"low-power":"high-performance",featureFlags:(0,a.getFeatureFlags)(),dynamicConfigs:(0,r.default)()?.dynamic_configs||{},webGPUSupport:{isWebGL2Supported:(0,_.ap)(),isWebGPUSupported:(0,_.Vu)(),isWebGPUSupportedAndAllowed:(0,_.wO)(),mustUseWebGPU:(0,_.Zj)()},isE2ETest:(0,r.default)().e2e_traffic,platformInfo:{isIE:h.y.isIE(),isEdge:h.y.isEdge(),isChrome:h.y.isChrome(),isFirefox:h.y.isFirefox(),isSafari:h.y.isSafari(),isMobileBrowser:h.y.isMobileBrowser(),isMac:h.y.isMac(),isiOS:h.y.isiOS(),isWindows:h.y.isWindows(),isLinux:h.y.isLinux(),isChromeOS:h.y.isChromeOS(),isChromePre118:h.y.isChromePre118(),isInNativeApp:h.y.isInNativeApp(),isIpad:h.y.isIpad(),isIpadNative:h.y.isIpadNative(),isMeetDevice:h.y.isMeetDevice(),isApple:h.y.isApple(),isOnline:h.y.isOnline(),logicalCoreCount:h.y.logicalCoreCount(),physicalMemoryMB:o.physicalMemoryMB,textureMemoryMB:o.textureMemoryMB,hasVirtualMemory:o.hasVirtualMemory,isZoomIntegration:h.y.isZoomIntegration(),isIntlBacklashAndBackquoteSwapped:h.y.isIntlBacklashAndBackquoteSwapped()}},[t]).then(({id:e})=>{this.processIdMessage(e)})}start(){!this._worker||this._currentState in["initialized","stopped"]?console.error("Trying to start Rendering Worker from an invalid state",this._currentState):(this.processStateMachineEvent("start"),this._channel.request("start",{}).then(({id:e})=>{this.processIdMessage(e)}))}beginExport(){"started"===this._currentState?(this._activeExportCount++,this.processStateMachineEvent("beginExport"),this._activeExportCount):"exporting"===this._currentState?(this._activeExportCount++,this._activeExportCount):(0,c.xi)("RenderingWorker",`Attempting to begin export from invalid state: ${this._currentState}`)}endExport(){"exporting"===this._currentState?this._activeExportCount>0?(this._activeExportCount--,this._activeExportCount,0===this._activeExportCount&&this.processStateMachineEvent("endExport")):(0,c.xi)("RenderingWorker","endExport called but export count is already 0"):(0,c.xi)("RenderingWorker",`Attempting to end export from invalid state: ${this._currentState}`)}isExporting(){return"exporting"===this._currentState&&this._activeExportCount>0}registerExportRejection(e){this._activeExportRejects.push(e)}unregisterExportRejection(e){let t=this._activeExportRejects.indexOf(e);-1!==t&&this._activeExportRejects.splice(t,1)}triggerExportFallbacks(){if(this._activeExportRejects.length>0){this._activeExportRejects.length;let e=Error("Render worker crashed during export, falling back to synchronous export");e.isRenderWorkerCrash=!0;let t=[...this._activeExportRejects];for(let i of(this._activeExportRejects=[],t))i(e)}}restartWorker(){this._worker=null,this._activeExportCount=0,this._readyResolve=null,this._readyReject=null,this._readyPromise=null,this.processStateMachineEvent("restart"),this.spawnAndStart()}spawnAndStart(){this._onEnterStateCallbacks.spawned=()=>{e.getInstance().init()},this._onEnterStateCallbacks.initialized=()=>{e.getInstance().start()},this.spawnWorker()}};b._instance=null;let y=b},409551(e,t,i){i.d(t,{m:()=>s});var n=i(491852),a=i(779846);let s=new class{readRichTextFromHtml(e){return(0,a.ln)(e)}createHtmlFromTextNodes(e){return(0,a.QJ)(e)}createHtmlFromTextData(e){if(-1===e)return"";let t=n.YMM.getOrCreateJsCopy(e),i={characters:t.characters,characterStyleIDs:t.characterStyleIDs,styleOverrideTable:t.styleOverrideTable,lines:t.lines};return(0,a.gv)([i])}}},447105(e,t,i){i.d(t,{M:()=>n,g:()=>a});let n=null;function a(e){n=e}},634141(e,t,i){i.d(t,{v:()=>s});var n=i(350923),a=i(743514);let s=new class{setSitesViewState(e){n.zl.set(a.s0,e)}getSitesViewState(){return n.zl.get(a.s0)}}},383642(e,t,i){i.d(t,{u:()=>ee});var n=i(805590),a=i(488690);let s=`import { defineProperties } from "figma:react";

export default function Layer({ text }) {
  return (
    <div className="flex flex-wrap items-center justify-center size-full p-2 gap-1 bg-blue-600 text-white rounded-xl">
      <div className="text-md font-light truncate">{text}</div>
    </div>
  );
}

defineProperties(Layer, {
  text: {
    label: "Text",
    type: "string",
    defaultValue: "Code layer",
  },
});`,o=`import { Frame, Span } from "figma:react-scenegraph-components";
import { defineProperties } from "figma:react";

export default function Layer({ text }) {
  return (
    <Frame
      fill="#155dfc"
      cornerRadius={6}
      flex="vertical"
      spacing={10}
      verticalAlignItems="center"
      horizontalAlignItems="center"
      width={200}
      height={200}
    >
      <Span fill="#FFFFFF">{text}</Span>
    </Frame>
  );
}

defineProperties(Layer, {
  text: {
    label: "Text",
    type: "string",
    defaultValue: "Code layer",
  },
});`;var r=i(706354),l=i(688357),d=i(63744),c=i(491852),u=i(730351),_=i(741542),m=i(350923),h=i(927614),p=i.n(h),g=i(188044),f=i.n(g),E=i(181645),b=i(151524),y=i(462198),S=i(325730),T=i(308931),v=i(927243),R=i(77516),I=i(94241),x=i(487817),A=i(107494),O=i(454125),N=i(14976),C=i(59224),L=i(865467),w=i(367539),D=i(728086),j=i(519893),k=i(240509),P=i(944990),M=i(513427),F=i(192809),U=i.n(F),G=i(934178),V=i(359271),B=i(23518),X=i(695447),H=i(86373),z=i(562961);let W=(e,t)=>{let i=e(K),n=e(z.a);for(let e of i)t((0,X.Vg)({id:e})),(n=n.filter(t=>t!==e)).push(e);t(H._,e=>e+1),t(K,new Set),t(z.R,n)},K=(0,m.eU)(new Set),q=U()(W,30),$=U()(W,3e3),Y=(0,m.eU)(null,(e,t,i)=>{let n=e(K);for(let e of i)n.add(e);t(K,new Set(n)),e(B._b)?.mode==="modal"&&t(B.W,!0),e(G.oD)||e(V.eI)?($.cancel(),q(e,t)):(q.cancel(),$(e,t)),(0,M.PN)()&&(q.flush(),$.flush())});var J=i(496907),Z=i(447105);function Q(e,t){return"pending"!==e.status&&"error"!==e.status&&e.nodeGuid===t}let ee=new class{constructor(){this._isUpdating=!1,this._dirtyNodes=new Set,this._codeNodeGUIDsWithSourceCodeToSync=new Set,this._codeMaterializationManager=new J.O,this._derivedCodeFilesPendingRegeneration=new Map}setMakeThumbnail(e){let t=b.D?.getState(),i=t?.openFile?.key;i?d.u7?.canvasViewState().thumbnailNodeId.getCopy()!==e&&(0,v.FE)(i,e).catch(()=>console.warn("Unable to set thumbnail for make.")):console.warn("No open file found when setting make thumbnail")}updatePreview(e){if(this._isUpdating){for(let t of e)this._dirtyNodes.add(t);return}Z.M&&(this._isUpdating=!0,(0,Z.M)(e).finally(()=>{if(this._isUpdating=!1,this._dirtyNodes.size>0){let e=this._dirtyNodes;this._dirtyNodes=new Set,this.updatePreview(e)}}))}updateDirtyWebpages(e){m.zl.set(Y,[...e])}setLeftPanelTabToCode(){b.D.dispatch(R.FP({tab:l.xae.CODE}))}setCodeWindowPanelToChat(){m.zl.set(O.hi,"chat")}setLeftPanelTabToChat(){b.D.dispatch(R.FP({tab:l.xae.CHAT}))}setNewCodeLayerState(e,t,i){m.zl.set(N.Vp,{newCodeInstanceNodeId:e,newEntryPointCodeFileNodeId:t,initializingNodeIds:i})}markNodeAsDesignToReact(e,t){this._codeMaterializationManager.markNodeAsDesignToReact(e,t)}markCodeNodesDirty(e){this._codeMaterializationManager.markCodeNodesDirty(e)}markCodeNodesDirtyWithOptions(e){this._codeMaterializationManager.markCodeNodesDirtyWithOptions(e)}setSelectedCodeInstancesAndReactFibers(e){this._codeMaterializationManager.setSelectedCodeInstancesAndReactFibers(e)}setAutoDeploySupabase(){m.zl.set(j.GV,!0)}showSupabaseDeployNudge(){m.zl.set(j.Xl,!0)}getCodeLayersDefaultEntryPointFile(e){return e===c.BXJ.NATIVE_LAYER?o:s}setSprigUserCreatedCodeLayerAtom(){m.zl.set(C.f,!0)}async syncCodeFileEntries(e,t){if(0===e.length)return;let i=e.map(e=>({path:e.path,contents:e.binaryContents??e.contents,metadata:e.metadata})),a=(0,n.N)().storageAdapter.updateEntries(i,t??void 0);0!==a.updatedEntries.length&&(m.zl.set(P.mI,e=>e+1),await (0,w.fM)(a.updatedEntries.map(e=>e.asTransferableEntry())))}removeCodeFileEntries(e,t){for(let i of e)(0,n.N)().storageAdapter.removeEntryByGUID(i,t??void 0);e.length>0&&(0,w.WS)(e)}getAutomaticCodeFileNameForNodeName(e,t,i=!1){let a=f()(p()(e))+".tsx",s=new Set((0,n.N)().listFiles().map(e=>e.name));if(!i&&!s.has(a))return a;let o=a.replace(".tsx",`-${t}.tsx`);if(!s.has(o))return o;let r=2,l=o.replace(".tsx",`-${r}.tsx`);for(;s.has(l);)r++,l=o.replace(".tsx",`-${r}.tsx`);return l}updateCodeSnapshotState(e,t,i,n,a){this._codeMaterializationManager.updateCodeSnapshotState(e,t,i,n,a)}cleanupCodeSnapshotOverlays(){this._codeMaterializationManager.cleanupCodeSnapshotOverlays()}clearCodeFileEntries(){(0,n.N)().storageAdapter.clear(),(0,w.tI)(),this._codeMaterializationManager.clearBundleCache()}setAllowNestedObjects(e){(0,n.N)().setAllowNestedObjects(e)}getTimestampForCodeSnapshotInvalidatedAt(){return this._codeMaterializationManager.getTimestampForCodeSnapshotInvalidatedAt()}isCodeSnapshotStale(e,t){return this._codeMaterializationManager.isCodeSnapshotStale(e,t)}resnapshotIfStale(e,t,i){this._codeMaterializationManager.isCodeSnapshotStale(t,i)&&this.markCodeNodesDirty(new Set([e]))}pushAttachmentSourceCode(e,t,i){let n=performance.now(),a=(0,u.UN)(),s=t.reduce((e,t)=>{let i=a.get(t);return i&&e.push({code:i.sourceCode,codeFileGuid:t.toString()}),e},[]);0===s.length?this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,i,c.doA.PUSH_ATTACHMENT_SOURCE_CODE,performance.now()-n,"no code files from d2r output"):(this.trackMakeAttachmentStep(c.doA.PUSH_ATTACHMENT_SOURCE_CODE,i,e,void 0,performance.now()-n),this.processAttachmentImageAsync(e,a.get(e),s,i))}removeAttachment(e){m.zl.set(L.Ah,t=>t.filter(t=>!Q(t,e)))}pushAttachmentError(e,t,i,n,a,s){let o=c.FDn[t];this.trackMakeAttachmentStep(n,i,e,s?`${o}:${s}`:o,a??void 0),m.zl.set(L.Ah,n=>n.map(n=>Q(n,e)?{...n,uniqueId:i,designToCodeErrors:[...n?.designToCodeErrors??[],t]}:n))}terminateOnePendingAttachment(e){(0,L._5)(e)}showErrorBellForAttachmentError(e){(0,L.hH)(e)}async processAttachmentImageAsync(e,t,i,n){if((0,y.Bc)({attachment_id:n}),(0,k.$L)([n]),t){if(0===i.length){this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,n,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,"no code files found"),(0,y.Bc)({attachment_id:void 0});return}}else{this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,n,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,"no node found"),(0,y.Bc)({attachment_id:void 0});return}try{let s=await (0,a.rt)(t);this.trackMakeAttachmentStep(c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,n,e,s?void 0:"failed to generate thumbnail");let o={uniqueId:n,status:"success",nodeGuid:e,codeFiles:i,type:"FIGMA_NODE",image:s};m.zl.set(L.Ah,t=>t.map(t=>Q(t,e)?o:t)),this.trackMakeAttachmentStep(c.doA.FINISH_ATTACHMENT,n,e),E.az.trackDefinedEvent("ai_for_production.chat_attachment_added",{attachmentType:"FIGMA_NODE",fileKey:m.zl.get(I.ze)??void 0,imageSize:s?.length??0,attachmentId:n})}catch(t){(0,y.$D)(r.FigmaTeam.MAKE_EDITING,t),this.pushAttachmentError(e,c.FDn.OTHER,n,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,t.message)}finally{(0,y.Bc)({attachment_id:void 0})}}trackMakeAttachmentStep(e,t,i,n,a){E.az.trackDefinedEvent("ai_for_production.code_chat_figma_attachment_funnel",{step:c.doA[e],attachmentType:"FIGMA_NODE",attachmentId:t,fileKey:m.zl.get(I.yV)?.key??void 0,nodeGuid:i,error:n,elapsedMs:a||0})}regenerateDerivedCodeFileDebounced(e){let t,i,n=(0,u.UN)().getCodeFileNode(e);if(!n)throw Error("CodeFile not found");let a=this._derivedCodeFilesPendingRegeneration.get(e);if(a)return clearTimeout(a.timeout),this._derivedCodeFilesPendingRegeneration.set(e,{timeout:setTimeout(a.callback,500),callback:a.callback}),Promise.resolve(null);let s=new Promise((e,n)=>{t=e,i=n}),o=()=>{let a=n.codeFileCanvasNode;a&&(0,A.Ts)(a).then(i=>{this._derivedCodeFilesPendingRegeneration.delete(e),t(i)}).catch(i)};return this._derivedCodeFilesPendingRegeneration.set(e,{callback:o,timeout:setTimeout(o,500)}),s}directManipulationCanvasEditor(){return this._codeMaterializationManager.directManipulationCanvasEditor()}prewarmSandboxPool(){(0,D.wn)()}enqueueCMSBindingResultVisualBell(e){let t=b.D.getState();return(0,S.M4)({status:e,cmsBindingState:l.Ez5?.cmsState()?.bindingModeState(),existingBell:t.visualBell.find(e=>e.type===S.On),isInBindingMode:t.mirror.appModel.activeCanvasEditModeType===c.m1T.CMS_BINDING_CONSTRAINED,dispatch:b.D.dispatch})}emphasizeCMSUserInstructions(){m.zl.set(T.xW,!0)}enableDerivedSubtreeInstancesForSites(){let e=m.zl.get(I.yV),t=e?.editorType;return!!t&&!!(t===x._Y.SITES&&(0,_.getFeatureFlags)().derived_subtree_instances_sites)}}},938679(e,t,i){let n;i.d(t,{e4:()=>o,mn:()=>n});var a=i(536095);class s{enableSlotsForOpenFile(){(0,a.m)()}}function o(){n=new s}},460380(e,t,i){let n;i.d(t,{Vm:()=>n,no:()=>d});var a=i(706354),s=i(730351),o=i(462198),r=i(590996);class l{getSummaryAsClipboardText(e){let t,i=(0,s.UN)().get(e),n=i?.getWidgetSyncedState()["syncedState:ai-summary-items"],l=i?.getWidgetSyncedState()["syncedState:summarized-at"];try{t=JSON.parse(n)}catch(e){(0,o.$D)(a.FigmaTeam.EXPRESSIVE_AI,Error(`Could not parse summary data, error: ${e}`))}return(0,r.Aq)(t,l)}}function d(){n=new l}},449220(e,t,i){let n;i.d(t,{hR:()=>o,we:()=>n});var a=i(171668);class s{rgbaToThumbhash(e,t,i){if(e>100||t>100){let n=e,a=t,s=e/t;e<t?e=Math.round((t=100)*s):t=Math.round((e=100)/s);let o=new OffscreenCanvas(n,a),r=o.getContext("2d"),l=new ImageData(new Uint8ClampedArray(i),n,a);r.putImageData(l,0,0);let d=new OffscreenCanvas(e,t).getContext("2d");d.drawImage(o,0,0,n,a,0,0,e,t),i=new Uint8Array(d.getImageData(0,0,e,t).data)}return(0,a.WB)(e,t,i)}thumbhashToRgba(e){let{w:t,h:i,rgba:n}=(0,a.Oe)(e);return{width:t,height:i,rgba:n}}}function o(){n=new s}},208551(e,t,i){i.d(t,{b:()=>eQ});var n=i(442549),a=i(624918),s=i(479039),o=i(688071),r=i(877312),l=i(322968),d=i(355731),c=i(115615),u=i(848390),_=i(462198),m=i(427996),h=i(287132),p=i(448775),g=i(703493),f=i(950079),E=i(577266),b=i(322186),y=i(539945),S=i(2102),T=i(861569),v=i(80359),R=i(981109),I=i(834861),x=i(575254),A=i(560637),O=i(540803),N=i(827710),C=i(410796),L=i(681852),w=i(109055),D=i(389966),j=i(412616),k=i(214024),P=i(62993),M=i(496792),F=i(364101),U=i(424075),G=i(500145),V=i(503105),B=i(252881),X=i(621028),H=i(228090),z=i(116791),W=i(857771),K=i(214990),q=i(955396),$=i(402886),Y=i(347947),J=i(796700),Z=i(238001),Q=i(879209),ee=i(691344),et=i(671198),ei=i(425131),en=i(421444),ea=i(965069),es=i(684166),eo=i(564660),er=i(850159),el=i(151524),ed=i(436174),ec=i(613629),eu=i(389218);let e_=new class{exportVideo(e,t){let i=function(e){let t=el.D.getState(),i=t.openFile?.key;if(!i||!e)return!1;let n=(0,eu.xS)(t,{view:"export",fileKey:i,nodeId:e});try{return ed.Ay.redirect(n,"_blank"),!0}catch{return!1}}(e),n=el.D.dispatch;return i?(n(ec.F.enqueueWithCloseButton("video-export-opened",!1,{message:(0,er.t)("video_export.toast_opened_in_new_tab")})),Promise.resolve(new Uint8Array(0))):(n(ec.F.enqueueWithCloseButton("video-export-failed",!0,{message:(0,er.t)("video_export.error.failed_to_open_tab")})),Promise.reject(Error("Failed to open video export tab")))}};var em=i(680642),eh=i(693793),ep=i(745466),eg=i(81312),ef=i(682894),eE=i(644865),eb=i(326121),ey=i(326390),eS=i(557361),eT=i(640678),ev=i(581896),eR=i(262387),eI=i(607345),ex=i(854897),eA=i(527829),eO=i(914600),eN=i(74757),eC=i(409551),eL=i(559884),ew=i(23026),eD=i(956857),ej=i(634141),ek=i(383642),eP=i(938679),eM=i(763985),eF=i(460380),eU=i(163300),eG=i(449220),eV=i(709359),eB=i(951276),eX=i(770084),eH=i(281927),ez=i(98679),eW=i(632098),eK=i(964600),eq=i(57708),e$=i(382129),eY=i(848559),eJ=i(573580),eZ=i(523944);let eQ={CommonApp:()=>({...eB.LO,...(0,K.N)(),appType:()=>c.uC.FullscreenApp}),AccessibleAreasBindings:()=>F.H,ActionBindings:()=>U.J,OOMHelpers:()=>{if(!p._W)throw Error("OOMBindings not initialized at fullscreen init time");return p._W},WebReporting:()=>C.F,PlatformInfo:()=>eO.y,FontManagerJs:()=>em.hB,Async:()=>X.V,JsBindingsTestHelpers:()=>eT.j,ImageTsBindings:()=>x.j5,PdfImportBindings:()=>b.IY,InteractionBindings:()=>ey.Dt,InteractionInstrumentationBindings:()=>eS.F_,SitesBindings:()=>ej.v,SitesJsBindings:()=>ek.u,SlidesTsBindings:()=>k.h,CooperTsBindings:()=>m.F,CodeVfsBindings:()=>Z.f,BoundsWatcherTs:g.Iu,ImageToolsBindingsJs:()=>eb.SQ,FigmaApp:()=>p.Y5,AutoLayoutBindings:()=>H.mX,CurrentUserInfo:()=>p.BI,WebSelection:()=>{if(!p.ZP)throw Error("selectionBindings not initialized at fullscreen init time");return p.ZP},WebMultiplayer:()=>{if(!p.r1)throw Error("multiplayerBindings not initialized at fullscreen init time");return p.r1},WebUserSyncing:()=>A.R9,EmojiWheelBindings:()=>E.CB,Comments:()=>et.lS,PluginCallbacks:()=>O.d1,WidgetBindings:()=>eJ.x,VideoTsBindings:()=>eK.fm,JsKiwiSerialization:()=>new l.s,TsFontManualLoader:()=>new r.E,StylesCheckBindings:()=>{if(!p.Vv)throw Error("stylesCheckBindings not initialized at fullscreen init time");return p.Vv},AutosaveSessionBindings:()=>z.X,CanvasSearchBindings:()=>Y.r,AccessibilityBindings:()=>M.Lj,HandoffScenegraphBindings:()=>eE.ld,BuzzScenegraphBindings:()=>$.AG,RichTextBindings:()=>eC.m,SpellCheckAPIBindings:()=>eM.$4,VariablesBindingsWeb:()=>ez.WH,VariablesMirrorBindings:()=>eW.DQ,AssetMirrorBindings:()=>B.ki,AssetConsumptionMirrorBindings:()=>V.BF,HandoffBindings:()=>ef.z4,HandoffCallbacks:()=>h.rS,JSTextLayout:()=>eU.Q,ScaleToolAPIBindings:()=>eL.h,LinterBindings:()=>eR.zT,EmojiTsBindings:()=>es.jm,NodeChatMessageHelper:()=>a.sv,MentionsTsBindings:()=>eI.YN,EditScopeWebBindings:()=>ea.xo,StateManagementBindings:()=>D.XO,ColorManagementBindings:()=>Q.l,KeyboardShortcutBindings:()=>ev.Gm,WhiteboardTemplatePreviewTsBindings:()=>P.t7,FrameDistributionTrackerBindings:()=>eh.ip,WhiteboardTsBindings:()=>e$.nz,AiAssistantTsBindings:()=>G.SL,CodeBlockBindings:()=>J.P,ColorRampBindings:()=>ee.C5,OpenFileBindings:()=>eA.pY,WhiteboardAnalyticsTsBindings:()=>eq.bN,ExperimentBuildersTsBindings:()=>eo.Zc,ZipImpl:()=>eZ.m,CoreUtils:()=>new s.f,SummaryBindings:()=>eF.Vm,SceneGraphHookBindings:()=>ew.uo,MissingFontsTrackerJs:()=>ex.ZO,StatsigConfigBindings:()=>ep.gR,WhiteboardThemeTsBindings:()=>eX.rG,QuickActionsBindings:()=>j.ZO,BranchingWebBindings:()=>q.B,SafeModeOptions:()=>u.iw,DSAWebBindings:()=>en.Tl,WhiteboardDltConstantBindings:()=>eY.yu,DeprecatedXHRSendBindings:()=>eg.yx,ComponentPropBindings:()=>w.XA,ImageIo:()=>I.YN,HTMLWindowBindings:()=>R.IM,WebGPUTsContext:()=>v.NP,TsGlContextBindings:T.X,ScreenBindings:()=>S.N,FullscreenWebSocketTsCallbacks:()=>y.Pp,AutosuggestTextBindings:()=>W.z5,VariablesJsRuntimeAliasTsBindings:()=>p.w8,UndoRedoEventsBindings:()=>eH.wV,ScenegraphStringManagementBindings:()=>eD.Bm,ThumbnailRequestManager:eV.Db,TsRequestPromiseManager:d.pL,UserActionTimingBindings:()=>L.st,PrototypingFormatter:()=>N.u,SlotsBindingsWeb:()=>eP.mn,DesignSystemsLoggingBindings:()=>ei.c8,ExportTsBindings:()=>n.v.getFeatureGate("panama_new_tab")?e_:new o.G({videoUrlResolver:(0,eK.h3)(),gifDataResolver:(0,x.Nj)()}),RenderWorkerExportBindings:()=>eN.Pu,RenderWorkerCanvasRenderingBindings:()=>eN.$G,jsHelpers:{reportError:_.Cp,preventEnteringCpp:()=>f.y.preventEnteringCpp(),fatalCppError(e,t){f.y.fatalCppError(e,t)}},ThumbhashBindings:()=>eG.we}},770084(e,t,i){let n;i.d(t,{fT:()=>r,rG:()=>n});var a=i(688357),s=i(741542);class o{showUI3Colors(){return a.Ez5?.uiState().showUI3Colors.getCopy()??!0}showUI3ColorsInitialValue(){return!!(0,s.getFeatureFlags)().figjam_ui3_color_palette}}function r(){n=new o}},281927(e,t,i){let n;i.d(t,{EA:()=>d,Zr:()=>c,wV:()=>n});var a=i(739501),s=i(151524),o=i(736202);class r{onUndo(e){l&&l.trigger("undo",{undoneCommitId:e})}onRedo(e){l&&l.trigger("redo",{redoneCommitId:e})}}let l=null;function d(){n=new r;let e=!1;s.D.subscribe(()=>{let t=(0,o.o)(s.D.getState());t!==e&&(t?(l&&l.removeAllListeners(),l=new a.b("fullscreen-undo-redo-events")):l&&(l.removeAllListeners(),l=null),e=t)})}function c(e,t){if(!l)return()=>{};let i=i=>{i.undoneCommitId===e&&t()};return l.on("undo",i),()=>{l?.removeListener("undo",i)}}},98679(e,t,i){let n;i.d(t,{WH:()=>n,_:()=>T});var a=i(688357),s=i(850159),o=i(741542),r=i(350923),l=i(181645),d=i(151524),c=i(436174),u=i(116682),_=i(613629),m=i(191062),h=i(38900),p=i(448775),g=i(656716),f=i(915961),E=i(540653),b=i(573301),y=i(27261);class S{async pasteVariablesWithLocalizationPopup(e,t,i){let n=[];for(let t=0;t<e.size;t+=25){let i=Array.from(e.entries()).slice(t,t+25).map(([e,t])=>`${e}|${t}`).join(","),a=`/api/variables/publish_state?keysAndLibrary=${i}`;n.push(u.Ay.post(a))}let S={};(await Promise.all(n)).forEach(e=>{Object.assign(S,e.data.meta)});let T=new Set;if(Object.keys(S).forEach(e=>!1===S[e]?T.add(e):null),T.size>0)if((0,l.sx)("prototype.variables_pasted",{numPublished:e.size-T.size,numUnpublished:T.size}),(0,o.getFeatureFlags)().variables_paste_remap_popup){if((0,y.YE)())return;d.D.dispatch(_.F.dequeue({matchType:"localize_unpublished_variables"})),d.D.dispatch(_.F.dequeue({matchType:"unpublished_variables_localized"})),d.D.dispatch(_.F.enqueue({message:(0,s.t)("proto.paste_unpublished_variable_localize"),type:"localize_unpublished_variables",button:{text:(0,s.t)("proto.paste_unpublished_variable_localize_cta"),action:()=>{let e=a.CWU?.performVariableLocalizationFromPopup(T,t,i);if(p.Y5.commit(),null!=e&&Object.keys(e).includes("numberOfNewVariables")){let t=e.numberOfNewVariables;t>0&&d.D.dispatch(_.F.enqueue({message:(0,s.t)("proto.unpublished_variables_localized",{numberOfVariables:t}),type:"unpublished_variables_localized"}))}}}}))}else d.D.dispatch(_.F.enqueue({message:(0,s.t)("proto.paste_unpublished_variable"),button:{text:(0,s.t)("proto.paste_unpublished_variable_cta"),action:()=>{c.Ay.unsafeRedirect("https://help.figma.com/hc/articles/14506821864087#copy_paste","_blank")}}}));else{let t=d.D.getState(),i=t.openFile?.editorType,n=t.openFile?.key,a=t.openFile?.libraryKey;if("cooper"!==i||!(0,o.getFeatureFlags)().buzz_variable_modes||!n||!a)return{};let l=new Set(e.values()),c=r.zl.get(g.$p);if(c){let e=new Set(c.map(e=>e.libraryKey)),t=Array.from(l).filter(t=>t!==a&&!e.has(t));t.length>0&&(d.D.dispatch(_.F.dequeue({matchType:"paste_unadded_libraries"})),d.D.dispatch(_.F.enqueue({message:(0,s.t)("proto.paste_unadded_libraries"),type:"paste_unadded_libraries",button:{primary:{text:(0,s.t)("proto.paste_unadded_libraries_add_cta"),action:()=>{t.forEach(t=>{d.D.dispatch((0,m.am)({libraryFileSubscription:{file_key:n,library_key:t,is_subscribed:!0},userInitiated:!0,fileSubscribedLibraryKeys:e}))}),p.Y5.commit()}},secondary:{text:(0,s.t)("proto.paste_unadded_libraries_manage_cta"),action:()=>{d.D.dispatch(h.to({type:b.T,data:{entrypoint:E.r6.PASTE_UNADDED_LIBRARIES,initialTab:f.Wv.LIBRARIES}}))}}}})))}}return{}}}function T(){n=new S}},964600(e,t,i){i.d(t,{fm:()=>m,h3:()=>p,tG:()=>h});var n=i(130729),a=i(688357),s=i(741542),o=i(116682),r=i(833516),l=i(854263),d=i(448775),c=i(575254),u=i(997717);class _{constructor(){this.pendingPasteRequests={},this.pendingVideosToRecordByFileKey={},this.pendingVideosToRecordByLibraryKey={},this.pendingRecordVideosTasksByFileKey={},this.pendingRecordVideosTasksByLibraryKey={},this.allVideos={},this.flushPendingRecordVideos=(0,n.s)(async()=>{let e=this.pendingVideosToRecordByFileKey,t=this.pendingVideosToRecordByLibraryKey,i=this.pendingRecordVideosTasksByFileKey,n=this.pendingRecordVideosTasksByLibraryKey,s=Object.keys(e).map(e=>({fileKey:e,type:"fileKey"})).concat(Object.keys(t).map(e=>({libraryKey:e,type:"libraryKey"})));this.pendingVideosToRecordByFileKey={},this.pendingRecordVideosTasksByFileKey={},this.pendingVideosToRecordByLibraryKey={},this.pendingRecordVideosTasksByLibraryKey={};let r=await this.getEditingFileKey();s.forEach(async s=>{if("fileKey"===s.type&&s.fileKey===r)return void i[s.fileKey].resolve();if("fileKey"===s.type&&!s.fileKey)return void i[s.fileKey].reject("Invalid originFileKey");let l=1,d="fileKey"===s.type?e[s.fileKey]:t[s.libraryKey];if(a.tHB)for(;;){try{let e=await o.Ay.put(`/api/files/${r}`,{video_sha1s:[...new Set(d)],image_origin_file_key:"fileKey"===s.type?s.fileKey:void 0,image_origin_library_key:"libraryKey"===s.type?s.libraryKey:void 0}),{success:t,failed:l}=c.xY.parseFileUpdateResponseForImages(d,e);for(let e of(a.tHB.markVideoPermissionsCopied(t),l))a.tHB.videoIsMissing(e);for(let e of d)delete this.pendingPasteRequests[e];"fileKey"===s.type?i[s.fileKey].resolve():n[s.libraryKey].resolve(),this.getAllVideoUrls();return}catch(e){if(e.status>=400&&e.status<500){for(let e of d)a.tHB.videoIsMissing(e),delete this.pendingPasteRequests[e];"fileKey"===s.type?i[s.fileKey].resolve():n[s.libraryKey].resolve();return}}let e=1e3*l*Math.random();await new Promise(t=>setTimeout(t,e)),l=Math.min(2*l,64)}})},100),this.contextLostCallbacks=new Map,this.nextContextLostCallbackId=0}async getAllVideoUrls(){if(!(0,s.getFeatureFlags)().cross_env_paste)return;let e=await l.S.getVideos({fileKey:await this.getEditingFileKey()});this.allVideos=e.data.meta.videos}getSignedUrls(e){let t=new Map;for(let i of e)t.set(i,this.allVideos[i]);return t}recordVideos(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingVideosToRecordByFileKey[e]=this.pendingVideosToRecordByFileKey[e]||[],this.pendingVideosToRecordByFileKey[e].push(...t),!this.pendingRecordVideosTasksByFileKey[e]){let t,i,n=new Promise((e,n)=>{t=e,i=n});this.pendingRecordVideosTasksByFileKey[e]={promise:n,resolve:t,reject:i}}for(let i of t)this.pendingPasteRequests[i]=this.pendingRecordVideosTasksByFileKey[e].promise;let i=this.pendingRecordVideosTasksByFileKey[e].promise;return this.flushPendingRecordVideos(),i}recordVideosFromLibraryKey(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No sourceLibraryKey specified");if(this.pendingVideosToRecordByLibraryKey[e]??=[],this.pendingVideosToRecordByLibraryKey[e].push(...t),!this.pendingRecordVideosTasksByLibraryKey[e]){let t,i,n=new Promise((e,n)=>{t=e,i=n});this.pendingRecordVideosTasksByLibraryKey[e]={promise:n,resolve:t,reject:i}}for(let i of t)this.pendingPasteRequests[i]=this.pendingRecordVideosTasksByLibraryKey[e].promise;let i=this.pendingRecordVideosTasksByLibraryKey[e].promise;return this.flushPendingRecordVideos(),i}getEditingFileKey(){return d.Y5.openFileKeyPromise()}contextLost(){for(let e of this.contextLostCallbacks.values())e()}subscribeToContextLost(e){let t=this.nextContextLostCallbackId++;return this.contextLostCallbacks.set(t,e),()=>{this.contextLostCallbacks.delete(t)}}}let m=new class{constructor(){this.videoManager=new _,this.thumbnailGenerator=u.t}copyVideoPermissions(e,t){return this.videoManager.recordVideos(e,t)}copyVideoPermissionsFromLibraryKey(e,t){return this.videoManager.recordVideosFromLibraryKey(e,t)}createVideo(){return this.thumbnailGenerator.createVideo()}deleteVideo(e){this.thumbnailGenerator.deleteVideo(e)}getWidth(e){return this.thumbnailGenerator.getWidth(e)}getHeight(e){return this.thumbnailGenerator.getHeight(e)}getCoverImage(e){return this.thumbnailGenerator.getCoverImage(e)}loadVideo(e,t,i){return this.thumbnailGenerator.loadVideo(e,t,i)}getSignedUrls(e){return this.videoManager.getSignedUrls(e)}async setExternalSource(e,t){let i=await fetch(t),n=new Uint8Array(await i.arrayBuffer()),a=await d.Y5.openFileKeyPromise();(0,r.C)([{sha1:e,bytes:n}],a)}loadAllVideos(){return this.videoManager.getAllVideoUrls()}contextLost(){this.videoManager.contextLost()}};function h(){return m.videoManager}function p(){return async e=>{let t=h();return await t.getAllVideoUrls(),t.getSignedUrls(e)}}},57708(e,t,i){let n;i.d(t,{bJ:()=>d,bN:()=>n});var a=i(7e3),s=i(350923),o=i(573598),r=i(833972);class l{isCustomPaletteColor(e,t){let i=s.zl.get(r.$R);if(i){let n=(0,a.aH)(e);for(let e of(0,r.Uh)(t))if(i[e].some(e=>(0,o.DA)(n,e)))return!0}return!1}}function d(){n=new l}},382129(e,t,i){let n;i.d(t,{nz:()=>n,pP:()=>c});var a=i(7e3),s=i(350923),o=i(833972),r=i(102607),l=i(296150);class d{getEyedropperContext(){return s.zl.get(r.Bw)}updateEditPaletteModalColor(e){let t=s.zl.get(o.Jq),i=s.zl.get(o.rN),n=[...i.slice(0,t),(0,a.aH)(e),...i.slice(t+1)];s.zl.set(o.rN,n)}isCustomPaletteApplied(){return!!s.zl.get(o.$R)}showSectionPresets(){return s.zl.get(l.w)}}function c(){n=new d}},848559(e,t,i){let n;i.d(t,{A9:()=>s,yu:()=>n});class a{constructor(){this.getDefaultPencilStrokeWeight=()=>4,this.getDefaultHighlighterStrokeWeight=()=>24}}function s(){n=new a}},341054(e,t,i){i.d(t,{Qx:()=>o,WL:()=>s,ZY:()=>a});let n=new Map;function a(e){return n.has(e)}function s(e,t){return(n.get(e)??[])[+t]??""}function o(e){return String((n.get(e)??[]).length-1)}},523944(e,t,i){i.d(t,{m:()=>l});var n=i(706354),a=i(267995),s=i(616246),o=i.n(s),r=i(462198);let l={readSync(e){let t=new(o());return t.load(e),Object.keys(t.files).map(e=>{let i=t.file(e).asUint8Array();return{name:e,contents:i}})},writeSync(e){try{let t=new(o());for(let i of e)t.file(i.name,i.contents,{compression:i.compressionLevel===a.uP.NONE?"STORE":"DEFLATE"});return t.generate({type:"uint8array"})}catch(e){return(0,r.$D)(n.FigmaTeam.SCENEGRAPH_AND_SYNC,e),new Uint8Array}}}},329774(e,t,i){i.d(t,{J:()=>a});var n=i(42053);function a(e){try{return new s(e)}catch(e){return console.warn(`Failure in parsing GIF: ${e}`),null}}class s{numFrames(){return this._frames.length}loopCount(){return this.loop_count}getFrameDurationMs(e){let t=this._frames[e];if(!t)throw Error("Frame index out of range.");let i=t.delay;return(0===i?10:i)*10}getTotalDurationMs(){let e=0;for(let t of this._frames){let i=t.delay;e+=(0===i?10:i)*10}return e}getFrameTimeOffsets(){let e=[0],t=0;for(let i=0;i<this._frames.length-1;i++){let n=this._frames[i];if(!n)break;let a=n.delay;t+=(0===a?10:a)*10,e.push(t)}return e}frameInfo(e){if(e<0||e>=this._frames.length)throw Error("Frame index out of range.");return this._frames[e]}frameIsFullSized(e){return e.width===this.width&&e.height===this.height}blitFrame(e,t,i){let a;if(e===this.currentFrame)return t;if(this.frameNeedsBackfill(e))if(!this.currentFrame||e<this.currentFrame)for(a=e-1;a>=0&&this.frameNeedsBackfill(a);)a--;else a=this.currentFrame;else a=e;let s=!1;if(0===a)s=!0;else{let e=this.frameInfo(a-1);2===e.disposal&&this.frameIsFullSized(e)&&(s=!0)}s&&(t.data.fill(0),i.putImageData(t,0,0));for(let s=a;s<=e;s++){if(s!==e){if(2===this.frameInfo(s).disposal){let e=this.frameInfo(s);i.clearRect(e.x,e.y,e.width,e.height),t=i.getImageData(0,0,this.width,this.height);continue}else if(3===this.frameInfo(s).disposal){null===this._tmpBufForLastNonDisposedFrame&&((0,n.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),t.data.set(this._tmpBufForLastNonDisposedFrame),i.putImageData(t,0,0);continue}}this.decodeAndBlitFrameRGBA(s,t.data),i.putImageData(t,0,0),this._needsLastNonDisposedFrame&&(0===s||this.frameInfo(s).disposal<2)&&this._tmpIdxForNonDisposedFrame!==s&&(null===this._tmpBufForLastNonDisposedFrame&&((0,n.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),0===s&&this.frameInfo(s).disposal>=2?this._tmpBufForLastNonDisposedFrame.fill(0):this._tmpBufForLastNonDisposedFrame.set(t.data),this._tmpIdxForNonDisposedFrame=s)}return this.currentFrame=e,t}frameNeedsBackfill(e){if(0===e)return!1;let t=this.frameInfo(e);if(null===t.transparent_index&&this.frameIsFullSized(t))return!1;let i=this.frameInfo(e-1);return!this.frameIsFullSized(i)||2!==i.disposal}constructor(e){this.currentFrame=null,this.buf=e;var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||(e[t++]+1&253)!=56||97!==e[t++])throw Error("Invalid GIF 87a/89a header.");this.width=e[t++]|e[t++]<<8,this.height=e[t++]|e[t++]<<8;var i=e[t++],n=1<<(7&i)+1;t+=2;var a=null,s=null;i>>7&&(a=t,s=n,t+=3*n);var o=!0;this._frames=[],this._needsLastNonDisposedFrame=!1,this._tmpIdxForNonDisposedFrame=-1;for(var r=0,l=null,d=0;o&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78===e[t+1]&&69===e[t+2]&&84===e[t+3]&&83===e[t+4]&&67===e[t+5]&&65===e[t+6]&&80===e[t+7]&&69===e[t+8]&&50===e[t+9]&&46===e[t+10]&&48===e[t+11]&&3===e[t+12]&&1===e[t+13]&&0===e[t+16])t+=14,this.loop_count=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var c=e[t++];if(!(c>=0))throw Error("Invalid block size");if(0===c)break;t+=c}break;case 249:if(4!==e[t++]||0!==e[t+4])throw Error("Invalid graphics extension block.");var u=e[t++];r=e[t++]|e[t++]<<8,l=e[t++],(1&u)==0&&(l=null),d=u>>2&7,this._needsLastNonDisposedFrame||3!==d||(this._needsLastNonDisposedFrame=!0,this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),t++;break;case 254:case 1:for(;;){var _=e[t++];if(!(_>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,h=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,f=e[t++],E=f>>7,b=f>>6&1,y=1<<(7&f)+1,S=a,T=s,v=!1;E&&(v=!0,S=t,T=y,t+=3*y);var R=t,I=!1;for(t++;;){var x=e[t++];if(void 0===x){I=!0;break}if(!(x>=0))throw Error("Invalid block size");if(0===x)break;t+=x}I||this._frames.push({x:m,y:h,width:p,height:g,has_local_palette:v,palette_offset:S,palette_size:T,data_offset:R,data_length:t-R,transparent_index:l,interlaced:!!b,delay:r,disposal:d});break;case 59:o=!1;break;default:throw Error("Unknown gif block: 0x"+e[t-1].toString(16))}}decodeAndBlitFrameRGBA(e,t){var i=this.frameInfo(e),n=i.width*i.height,a=new Uint8Array(n);this.GifReaderLZWOutputIndexStream(i.data_offset,a,n);var s=i.palette_offset,o=i.transparent_index;null===o&&(o=256);var r=i.width,l=this.width-r,d=r,c=(i.y*this.width+i.x)*4,u=((i.y+i.height)*this.width-(this.width-i.width-i.x))*4,_=c,m=4*l;!0===i.interlaced&&(m+=4*this.width*7);for(var h=8,p=0,g=a.length;p<g;++p){var f=a[p];if(0===d&&(_+=m,d=r,_>=u&&(m=4*l+4*this.width*(h-1),_=c+(r+l)*(h<<1),h>>=1)),f===o)_+=4;else{var E=this.buf[s+3*f],b=this.buf[s+3*f+1],y=this.buf[s+3*f+2];t[_++]=E,t[_++]=b,t[_++]=y,t[_++]=255}--d}}GifReaderLZWOutputIndexStream(e,t,i){for(var n=this.buf[e++],a=1<<n,s=a+1,o=s+1,r=n+1,l=(1<<r)-1,d=0,c=0,u=0,_=this.buf[e++],m=new Int32Array(4096),h=null;;){for(;d<16&&0!==_;)c|=this.buf[e++]<<d,d+=8,1===_?_=this.buf[e++]:--_;if(d<r)break;var p=c&l;if(c>>=r,d-=r,p===a){o=s+1,l=(1<<(r=n+1))-1,h=null;continue}if(p===s)break;for(var g=p<o?p:h,f=0,E=g;E>a;)E=m[E]>>8,++f;var b=E;if(u+f+ +(g!==p)>i)return void console.warn("Warning, gif stream longer than expected.");t[u++]=b;var y=u+=f;for(g!==p&&(t[u++]=b),E=g;f--;)E=m[E],t[--y]=255&E,E>>=8;null!==h&&o<4096&&(m[o++]=h<<8|b,o>=l+1&&r<12&&(++r,l=l<<1|1)),h=p}return u!==i&&console.warn("Warning, gif stream shorter than expected."),t}}},389238(e,t,i){i.d(t,{Z:()=>r});var n=i(850159),a=i(350923),s=i(964680),o=i(94241);function r(){let e=(0,o.q5)(),t=(0,a.md)(s.lu);return e?e.name:t?t.name:(0,n.t)("fullscreen.filename_view.title_placeholder")}},7854(e,t,i){i.d(t,{Bm:()=>d,Zt:()=>r,pz:()=>u,yw:()=>c});var n=i(98930),a=i(968379),s=i(350923);i(513427);var o=i(487817);let r="INTERACTION_TEST_FAKE_FILE_KEY";(0,n.l)("lk-9a75e874c6cf749cc3e2c2678c7687697c01c5ab6693bc56d8b2775f21b117c468ec00c2f338b97c6c7e12bc5c61cd87d215f492bb77fcd81e449651b080cf4b"),o.kU.STUDENT_TEAM_NULL;let l={};function d(e){delete l[e]}(0,s.eU)("unloaded"),(0,s.eU)("unloaded");let c=(0,s.eU)(!1);(0,s.eU)(40),(0,a.v)(),(0,a.v)();let u=null},211291(e,t,i){i.d(t,{M:()=>l});var n=i(921282),a=i(39263),s=i(793791),o=i(170221);let r=null;function l(){return r||(n.eD&&(r=new s.k),(0,a.T)()&&(r=new o.y)),r}},281554(e,t,i){i.d(t,{k:()=>s});var n=i(523924),a=i(181645);class s{constructor(e){this.eventName=e,this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1,this.logEvent=e=>{if(this.fileKey&&!this.alreadySent)switch(e.type){case"sendSceneGraphQuery":this.queries.push(o(e.queries)),this.queriesTs.push(this.now());break;case"receiveNodeChanges":this.nodeChangesSizes.push(e.size),this.nodeChangesTs.push(this.now());break;case"receiveSceneGraphReply":this.replies.push(o(e.queries)),this.repliesTs.push(this.now());break;case"finishIncrementalLoading":if(e.fileKey===this.fileKey){if(this.nodeChangesSizes.length>0){let t={version:1,fileKey:e.fileKey,nodeChangesSizes:this.nodeChangesSizes,queries:this.queries,replies:this.replies,maxNodeChangesSize:Math.max.apply(null,this.nodeChangesSizes),...r(this.queriesTs,"query",5),...r(this.nodeChangesTs,"node",5),...r(this.repliesTs,"reply",5)};(0,a.sx)(this.eventName,t),this.alreadySent=!0}}else console.error(`IncrementalLoadTimer: file key mismatch ${e.fileKey} != ${this.fileKey}`);this.reset();break;default:(0,n.xb)(e)}}}reset(){this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1}now(){return Math.round(performance.now())}setFileKey(e){this.fileKey=e}}function o(e){return[...e].sort().join(",")}function r(e,t,i){let n={};return e.forEach((e,a)=>{a<i&&(n[`${t}.${a}`]=e)}),n}},254509(e,t,i){i.d(t,{Kd:()=>y,Mt:()=>R,XF:()=>A,XY:()=>v,et:()=>x,fD:()=>g,hw:()=>f,iu:()=>p,lM:()=>E,mv:()=>S,nT:()=>N,qR:()=>b,wY:()=>O,yp:()=>I});var n=i(706354),a=i(350923),s=i(513427),o=i(921282),r=i(151524),l=i(539236),d=i(462198),c=i(88107),u=i(582388),_=i(559365),m=i(951964);let h=null,p={currentPluginRunID:null,stats:null,currentWidget:void 0,setMediaEnabled:!1,allowedPluginOrigin:void 0,resetGlobalPluginAPI:null};function g(){return p.currentPluginRunID}function f(){return a.zl.get(c.GR)}function E(e){l.J.setViewTag("pluginId",e?.plugin_id),a.zl.set(c.GR,e)}function b(e){l.J.setViewTag("pluginTriggeredFrom",e),a.zl.set(c.vT,e??null)}function y(e){a.zl.set(c.$f,e)}function S(){return Math.random().toString(36).slice(2)}function T(e){(0,s.nl)(),(0,d.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,e)}function v(e){h&&T(Error(`Did not close the previous plugin: type=${h.type}`)),h={type:"global",closePluginFunc:e}}function R(e,t){h?.type==="plugin"&&t?.ignorePreviousCloseFunc!==h.closePluginFunc&&T(Error(`Did not close the previous plugin: type=${h.type}`)),h?.type==="global"&&T(Error(`Did not close the previous plugin: type=${h.type}`)),h=e?{type:"plugin",closePluginFunc:e}:null}function I(e){p.resetGlobalPluginAPI=e}function x(){return h?.type==="global"}async function A(e){if(h){let{closePluginFunc:t,type:i}=h;h=null,"global"===i?await t():await t(e)}}let O=(0,_.nh)(async e=>{await A(e?{message:e+"",isError:!0}:{}),N()});function N(){if((0,m.Tj)(void 0),p.currentWidget=void 0,E(null),b(null),y(null),p.currentPluginRunID=null,p.stats=null,a.zl.set(c.d4,null),a.zl.set(c.GR,null),o.eD&&p.setMediaEnabled&&(p.setMediaEnabled=!1),o.eD&&p.allowedPluginOrigin&&(o.eD.removeAllowedPluginOrigin(p.allowedPluginOrigin),p.allowedPluginOrigin=void 0),r.D){let e=(0,u.o8)(),t=(0,u.YR)();e&&t&&p.resetGlobalPluginAPI?.({userID:e,openFileKey:t})}}},967628(e,t,i){i.d(t,{Ol:()=>g,aB:()=>f,jx:()=>h});var n=i(523924),a=i(688357),s=i(741542),o=i(797174),r=i.n(o),l=i(437900),d=i(523454),c=i(781769),u=i(915961);function _(e,t){return void 0===t||t.has(e.node_id)}class m{constructor(e){this.addItem=(e,t,i)=>{if(t[e.type]&&t[e.type][i])return t[e.type][i].push(e),this.shouldReturnEarlyOnUpdate;(0,n.wc)("Unexpected library item type: "+e.type)},this.publishItem=(e,t)=>this.addItem(e,t,u.M$.PUBLISH),this.unpublishItem=(e,t)=>this.addItem(e,t,u.M$.UNPUBLISH),this.getPendingLibraryUpdates=(e,t,i,n,a,o,m,h,g,f)=>{let E={[u.PW.STATE_GROUP]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.COMPONENT]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.STYLE]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.VARIABLE]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.VARIABLE_SET]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.MODULE]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.RESPONSIVE_SET]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.CODE_COMPONENT]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]},[u.PW.MANAGED_STRING]:{[u.M$.PUBLISH]:[],[u.M$.UNPUBLISH]:[]}};if(!h)return E;let b=e=>Object.values(e).filter(e=>(0,c.O)(e.type)&&_(e,f?.itemsToPublish)),y=f?.overridePublishPermissions||(0,d.w5)(h.team_id?g[h.team_id]:null),S=b(y?t:{}),T=b(y?e:{}),v=b(i),R=b(a),I=(0,s.getFeatureFlags)().dse_module_publish?b(o):[],x=b(m);if(f?.unpublishAll){for(let e of[...S,...T,...v,...R,...I,...x])e.status!==u.E8.NOT_STAGED&&e.status!==u.E8.NEW&&(e.type===u.PW.COMPONENT&&e.containing_frame?.containingStateGroup?.nodeId||this.unpublishItem(e,E));return E}let A=new Set(Object.keys(f?.moveRemappings||{}));for(let e of v){if(p(e,A,f?.forcePublish))continue;let t=e.status;if(t===u.E8.DELETED){if(this.unpublishItem(e,E))return E}else if((0,l.lg)(t)&&this.publishItem(e,E))return E}let O=function(e){let t=new Map;for(let i of e){if(i.deletedFromSceneGraph)continue;let e=i.containing_frame?.containingStateGroup?.nodeId;if(!e)continue;let n=t.get(e);n||(n=[],t.set(e,n)),n.push(i)}return t}(Object.values(t)),N=r()(Object.values(n),e=>e.variableSetId);for(let e of T){if(p(e,A,f?.forcePublish))continue;let t=e.status,i=e.node_id,n=O.get(i)??[];if(!(0,l.Hb)(t)){if(t===u.E8.DELETED&&this.unpublishItem(e,E))return E;for(let e of n){let t=e.status!==u.E8.NOT_STAGED&&e.status!==u.E8.NEW;if(e.component_key&&t&&this.unpublishItem(e,E))return E}continue}if((0,l.zE)(e))continue;let a=new Set(n.map(e=>e.node_id));for(let e of n)if(!p(e,A,f?.forcePublish)&&a.has(e.node_id)&&this.publishItem(e,E))return E;if(this.publishItem(e,E))return E}for(let e of S)if(!(e.status===u.E8.NOT_STAGED||p(e,A,f?.forcePublish))&&!e.containing_frame?.containingStateGroup?.nodeId){if(e.component_key&&e.status===u.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}if(this.publishItem(e,E))return E}let C=new Set((0,l.X7)(E[u.PW.COMPONENT][u.M$.PUBLISH]).filter(e=>!!e)),L=new Set((0,l.X7)(E[u.PW.COMPONENT][u.M$.UNPUBLISH]).filter(e=>!!e));for(let e of[])if(!C.has(e.component_key)&&!L.has(e.component_key)&&this.unpublishItem(t[e.node_id],E))return E;for(let e of R)if(e.status!==u.E8.NOT_STAGED){if(e.key&&e.status===u.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}for(let t of N[e.node_id]??[])if(t.status!==u.E8.NOT_STAGED&&t.status!==u.E8.CURRENT){if(t.key&&t.status===u.E8.DELETED){if(this.unpublishItem(t,E))return E;continue}if(this.publishItem(t,E))return E}if(this.publishItem(e,E))return E}for(let e of I){if(e.key&&e.status===u.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}if(this.publishItem(e,E))return E}for(let e of x)if((0,c.O)(e.type)){if(e.status===u.E8.DELETED){if(this.unpublishItem(e,E))break}else if((0,l.lg)(e.status)&&this.publishItem(e,E))break}return E},this.shouldReturnEarlyOnUpdate=!!e?.shouldReturnEarlyOnUpdate}}function h(e,t,i,n,a,s,o,r,l,d){return new m().getPendingLibraryUpdates(e,t,i,n,a,s,o,r,l,d)}function p(e,t,i){return!!a.glU&&!i&&!(e.status!==u.E8.CURRENT||t.has(e.node_id))&&(a.glU.clearLibraryMoveInfo(e.node_id),!0)}function g(e){return!e.some(e=>[u.E8.CURRENT,u.E8.CHANGED,u.E8.NEW].includes(e.status))}function f(e,t){return Object.values(e).filter(e=>_(e,t)).every(e=>!(0,l.Hb)(e.status))}},136704(e,t,i){i.d(t,{J:()=>r,m:()=>l});var n=i(436572),a=i(116682),s=i(926826),o=i(508512);async function r(e,t="",i="",l,d=!1){d&&await (0,o.l)();let{data:{meta:c}}=await a.Ay.post(`/api/multiplayer/${e}/create_savepoint`,{label:t,description:i});return l(s.BC({history:{versions:[c]},direction:n.mL})),l(s.A9({status:!1})),c}async function l(e,t="",i="",n,a=!1){return null!=e?await r(e,t,i,n,a):null}},206324(e,t,i){i.d(t,{AN:()=>l,OC:()=>s,Uc:()=>o,yF:()=>r});var n=i(350923),a=i(812921);let s=(0,a.bt)(e=>e.selectedView),o=(0,a.bt)(e=>e.modalShown),r=(0,n.eU)(e=>e(o)?.type||null),l=(0,a.bt)(e=>e.notifications?.[0]?.type??null)},547077(e,t,i){i.d(t,{H1:()=>g,X0:()=>h,XJ:()=>_,z:()=>u});var n=i(688357),a=i(63744),s=i(491852),o=i(181645),r=i(429163),l=i(151524),d=i(181254),c=i(434533);let u={includeMatches:!0,shouldSort:!1,findAllMatches:!1,ignoreLocation:!0};function _(e){return e.replace(/[\u201D\u201C\"\u2019\u2018]/g,"'")}function m(e){return e.textContent&&(e.textContent=_(e.textContent)),e}function h(e,t,i){let a=[];for(let s of e.indices){let o=s[0],r=s[1]+1,l=e.value;if(!i.matchCase||l.substring(o,r)===t){if(i.wholeWords&&(o>0&&p(l[o-1])||r<e.value.length&&p(l[r])))continue;a.push({start:o,end:r,matchType:n.Ifi.TEXT_MATCH})}}return a}function p(e){return/[\p{L}\p{N}\p{Pc}\p{M}]/u.test(e)}let g=new class{constructor(){this.searchLibrary=new c.CN({keys:["textContent","name","type","annotationTextContent"],exactMatch:!0,...u})}initializeIndex(){if(!a.YE)return void console.warn("CanvasSearchHelpers is null/undefined - coult not initialize index");r.sn.start("canvas_search_index_create");let e=a.YE.getSearchableNodes(!0).map(m),t=l.D.getState();this.searchLibrary.set(e);let i=r.sn.tryStop("canvas_search_index_create");i&&(0,d.ds)("canvas_search_index_create",t.openFile?.key,t,{timeElapsedMs:i,numberOfNodes:e.length})}destroyIndex(){this.searchLibrary.set([])}addNode(e){this.searchLibrary.add(e)}removeNode(e){this.searchLibrary.remove("guid",e)}async search(e,t={}){let i;this.updateIndex(),r.sn.start("canvas_search_query_time");let a=`'"${_(e)}"`,o=[{textContent:a}];if(t.searchLayerNames&&o.push({name:a}),t.searchAnnotationTextContent&&o.push({annotationTextContent:a}),t.layerTypes){let e=[];t.layerTypes.forEach(t=>{e.push({type:t})}),i={$and:[{$or:o},{$or:e}]}}else i={$or:o};let l=await this.searchLibrary.search(i),d={},c=0,u=0;for(let i of l){let a=[];for(let o of i.matches){let r=h(o,e,t);if("textContent"!==o.key&&r.length){let e=r[0];e.matchType=i.item.type===s.Z6A.CANVAS?n.Ifi.PAGE_MATCH:n.Ifi.LAYER_MATCH,a=[e,...a]}else a.push(...r)}if(a.length){c+=a.length,u++;let e=i.item.pageGuid,t={guid:i.item.guid,textMatches:a};d[e]?d[e].push(t):d[e]=[t]}}let m=r.sn.tryStop("canvas_search_query_time");return{resultsByPage:d,metrics:{queryLength:e.length,numMatchingNodes:u,numMatches:c,queryTimeMs:m??0}}}logIndex(){this.updateIndex(),this.searchLibrary.logIndex()}updateIndex(){if(!a.YE)return void console.warn("CanvasSearchHelpers is null/undefined - coult not update index");r.sn.start("canvas_search_index_update");let e=a.YE.getSearchableNodes(!1).map(m);if(e.length>2e3)return void this.initializeIndex();let t=[],i=[];for(let n of e)t.push(n.guid),(n.name||n.textContent)&&i.push(n);e.length&&this.searchLibrary.updateEntries("guid",t,i);let n=r.sn.tryStop("canvas_search_index_update");e.length>0&&n&&(0,o.sx)("canvas_search_index_update",{timeElapsedMs:n,numberOfNodes:e.length})}}},447564(e,t,i){i.d(t,{b:()=>l});var n=i(64561),a=i(39304),s=i(222368),o=i(63504),r=i(487817);async function l({dispatch:e,fileKey:t,folderId:i,plan:l,seatType:d}){return await new Promise((c,u)=>{if(l.key.type===r.OL.ORG){let s=l.key.parentId;e(n.$V({orgId:s,entryPoint:a.tc.NUX,licenseType:o.TI[d],seatTypeKey:d,fileKey:t??void 0,onError:()=>u(Error("Error requesting upgrade for org")),onSuccess:e=>{c(e)},suppressVisualBell:!0,folderId:i??void 0}))}else{let n=l.key.parentId;e(s.Nu({teamId:n,entryPoint:a.tc.NUX,licenseType:o.TI[d],seatTypeKey:d,fileKey:t??void 0,onError:()=>u(Error("Error requesting upgrade for team")),onSuccess:e=>{c(e)},hideSuccessMessage:!0,folderId:i??void 0}))}})}},692561(e,t,i){i.d(t,{_V:()=>s,b4:()=>a,kM:()=>n.k});var n=i(638343);let a=[n.k.Text,n.k.FrameOrGroup,n.k.Component,n.k.Instance,n.k.Image,n.k.Shape,n.k.Other],s=[n.k.MatchCase,n.k.WholeWords]},704502(e,t,i){i.d(t,{Vf:()=>m,_O:()=>_,fK:()=>p,hb:()=>c,ib:()=>d});var n=i(649429);let a=n.By.arrayOf(n.By.exact({name:n.By.string,key:n.By.string,description:n.By.string.isOptional,optional:n.By.bool.isOptional,allowFreeform:n.By.bool.isOptional})),s=n.By.arrayOf(n.By.oneOf([n.By.exact({command:n.By.string,name:n.By.string,parameters:a.isOptional,parameterOnly:n.By.bool.isOptional}),n.By.exact({separator:!0}),n.By.exact({name:n.By.string,get menu(){return s}})])),o=n.By.arrayOf(n.By.string).isOptional,r=n.By.arrayOf(n.By.oneOf([n.By.exact({itemType:"action",propertyName:n.By.string,label:n.By.string.isOptional,includedLanguages:o}),n.By.exact({itemType:"unit",scaledUnit:n.By.string,defaultScaleFactor:n.By.float.isOptional,default:n.By.bool.isOptional,includedLanguages:o}),n.By.exact({itemType:"select",propertyName:n.By.string,label:n.By.string.isOptional,includedLanguages:o,options:n.By.arrayOf(n.By.exact({value:n.By.string,label:n.By.string,isDefault:n.By.bool.isOptional}))})])),l=n.By.exact({label:n.By.string,value:n.By.string}),d=n.By.arrayOf(n.By.string).isOptional,c=n.By.arrayOf(n.By.string).isOptional,u={id:n.By.string.isOptional,name:n.By.string,api:n.By.string,main:n.By.string,ui:n.By.oneOf([n.By.string.isOptional,n.By.dictionaryOf(n.By.string.isOptional)]),build:n.By.string.isOptional,enableProposedApi:n.By.bool.isOptional,enablePrivatePluginApi:n.By.bool.isOptional,permissions:n.By.arrayOf(n.By.string).isOptional,capabilities:c,networkAccess:n.By.exact({allowedDomains:n.By.arrayOf(n.By.string),reasoning:n.By.string.isOptional,devAllowedDomains:n.By.arrayOf(n.By.string).isOptional}).isOptional,documentAccess:n.By.string.isOptional},_=n.By.exact({...u,menu:s.isOptional,relaunchButtons:n.By.arrayOf(n.By.exact({command:n.By.string,name:n.By.string,multipleSelection:n.By.bool.isOptional})).isOptional,parameters:a.isOptional,parameterOnly:n.By.bool.isOptional,editorType:d,enableReadOnly:n.By.bool.isOptional,codegenLanguages:n.By.arrayOf(l).isOptional,codegenPreferences:r.isOptional,relatedLinkDomains:n.By.arrayOf(n.By.string).isOptional,devResourceDomains:n.By.arrayOf(n.By.string).isOptional,lintRules:n.By.arrayOf(n.By.exact({key:n.By.string,name:n.By.string,description:n.By.string.isOptional})).isOptional}),m=n.By.exact({...u,containsWidget:!0,widgetApi:n.By.string.isOptional,editorType:d}),h=n.By.exact({type:n.By.string,data:n.By.string}),p=n.By.exact({clientX:n.By.float,clientY:n.By.float,items:n.By.arrayOf(h).isOptional,files:n.By.arrayOf(n.By.any).isOptional,dropMetadata:n.By.any.isOptional})},180319(e,t,i){i.d(t,{Y:()=>a});let n=class e{static getInstance(t){if(!e.instance[t])throw Error("Running plugin before iframe sandbox started loading");return e.instance[t]}static getInstanceLoading(t){if(t in e.instanceLoading)return e.instanceLoading[t].promise;let i=()=>{},n=()=>{},a=new Promise((e,t)=>{i=e,n=t});return e.instanceLoading[t]={promise:a,resolve:i,reject:n},a}};n.instance={},n.instanceLoading={};let a=n},596034(e,t,i){i.d(t,{WW:()=>d,Ym:()=>r,pN:()=>l});var n=i(613629),a=i(506026),s=i(24611),o=i(448775);function r(e){let t;if(e.isBackground)return;let i=(t=d(e.name,e.vmType),e.isBackground?(0,s.A)("plugins-background",{plugin:t}):e.isInsert?(0,s.A)("plugins-inserting",{plugin:t}):(0,s.A)("plugins-running",{plugin:t}));o.Y5.dispatch(n.F.enqueue({type:"plugins-status",message:i,icon:e.isBackground?a.zX.NONE:e.shouldShowCheck?a.zX.CHECK:a.zX.SPINNER,timeoutType:"exact",timeoutOverride:e.isBackground?1/0:e.shouldShowCheck?1e3:void 0,delay:e.delayOverride??300,button:e.isInsert?void 0:{text:e.isBackground?(0,s.A)("plugins-stop"):(0,s.A)("plugins-cancel"),action:t=>{e.cancelCallback()}}}))}function l(e){o.Y5&&o.Y5.isReady()&&e.shouldShowVisualBell&&o.Y5.dispatch(n.F.dequeue({matchType:"plugins-status"}))}function d(e,t){return"realms"===t?`${e} (${(0,s.A)("plugins-realms-vm")})`:e}},918421(e,t,i){i.d(t,{Z:()=>m});var n=i(745463),a=i(818381),s=i(35212),o=i(116682),r=i(362858),l=i(484770),d=i(12818),c=i(915961),u=i(264489);let _=o.Ay.requiredHeaders,m=new class{constructor(){this.LibraryComponentV2DestinationSchemaValidator=(0,s.YV)("LibraryComponentV2Destination",a.z.object({node_id:u.ZI,file_key:a.z.string(),component:c.$L,component_set:c.Ko.optional()}),"ds_zod_components",!1,!0),this.LibraryPublishedComponentsSchemaValidator=(0,s.vh)(),this.CommunityLibraryPublishedComponentsSchemaValidator=(0,s.vh)(),this.LibraryPublishedComponentsV2SchemaValidator=(0,s.YV)("LibraryPublishedComponentsV2",a.z.object({components:a.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:a.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),file:l.L.nullable(),hub_file:a.Ip.coerce.null(d.NS.nullable())}),"ds_zod_components",!1,!0),this.LibraryStylesSchemaValidator=(0,s.YV)("LibraryStylesSchemaValidator",a.z.object({styles:a.z.array((0,c.XS)(r.P.REST_API).extend(c.Vp.shape))}),"ds_zod_styles",!1,!0),this.LibraryStyleByKeyValidator=(0,s.YV)("LibraryStyleByKeyValidator",a.z.object({style:(0,c.XS)(r.P.REST_API).extend(c.Vp.shape),file:l.L}),"ds_zod_styles",!1,!0),this.LibraryStyleLogByKeyVersionValidator=(0,s.vh)(),this.LibrarySubscribedComponentsEditorTypeSchemaValidator=(0,s.YV)("LibrarySubscribedComponentsEditorType",a.z.object({components:a.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:a.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),files:l.L.array(),hub_files:d.NS.array().optional()}),"ds_zod_components",!1,!0),this.DefaultLibrariesSchemaValidator=(0,s.vh)(),this.DefaultLibraryAttributionSchemaValidator=(0,s.vh)(),this.LibraryPublishedComponentsStatsSchemaValidator=(0,s.vh)(),this.LibraryComponentV2SchemaValidator=(0,s.YV)("LibraryComponentV2",a.z.object({component:(0,c.XS)(r.P.REST_API).extend(c.$L.shape),component_set:(0,c.XS)(r.P.REST_API).extend(c.Ko.shape).nullable(),state_components:a.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),file:l.L.nullable()}),"ds_zod_components",!1,!0),this.LibraryStateGroupSchemaValidator=(0,s.YV)("LibraryStateGroup",(0,c.XS)(r.P.REST_API).extend(c.Ko.shape),"ds_zod_components",!1,!0),this.LibraryPublishedAndMovedComponentsSchemaValidator=(0,s.YV)("LibraryPublishedAndMovedComponents",a.z.object({components:a.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:a.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),files:a.z.array(l.L),move_remappings:a.z.record(c.cI)}),"ds_zod_components",!1,!0),this.LibrariesSchemaValidator=(0,s.vh)(),this.LibrariesV2SchemaValidator=(0,s.vh)(),this.LibraryPublishSchemaValidator=(0,s.vh)(),this.UploadPublishParamsSchemaValidator=(0,s.vh)(),this.UnpublishedStylesSchemaValidator=(0,s.YV)("UnpublishedStylesSchemaValidator",a.z.object({styles:a.z.array((0,c.XS)(r.P.REST_API).extend(c.Vp.shape))}),"ds_zod_styles",!1,!0),this.MissingStylesByLibraryKeySchemaValidator=(0,s.vh)(),this.EverPublishedLibrariesSchemaValidator=(0,s.vh)(),this.LibrariesByLibraryKeys=(0,s.vh)(),this.ValidateCopyValidator=(0,s.vh)(),this.EnableSlotsForFileValidator=(0,s.vh)()}getLibraryComponentV2Destination(e){return this.LibraryComponentV2DestinationSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/component_v2/${e.componentKey}/destination`))}getLibraryPublishedComponents(e){let{key:t,includeThumbnail:i,includeRealtime:n}=e;return this.LibraryPublishedComponentsSchemaValidator.validate(async({xr:e})=>await e.get(`/api/design_systems/library/${t}/published_components`,s.td.toAPIParameters({includeThumbnail:i,includeRealtime:n}),{..._,retryCount:5}))}getCommunityLibraryPublishedComponents(e){return this.CommunityLibraryPublishedComponentsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/community_libraries/${e.hubFileId}/published_components`,null,{..._,retryCount:5}))}getLibraryPublishedComponentsV2(e){let{libraryKey:t,includeThumbnail:i,includeRealtime:n}=e;return this.LibraryPublishedComponentsV2SchemaValidator.validate(async({xr:e})=>await e.get(`/api/design_systems/v2/library/${t}/published_components`,s.td.toAPIParameters({includeThumbnail:i,includeRealtime:n}),{..._,retryCount:5}))}getLibraryStyles(e){return this.LibraryStylesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.libraryFileKey}/styles`))}getLibraryStylesByLibraryKey(e){return this.LibraryStylesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/v2/library/${e.libraryKey}/styles`))}getLibraryStyleByKey(e){return this.LibraryStyleByKeyValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/styles/${e.styleKey}`))}getLibraryStyleByKeyAndVersion(e){return this.LibraryStyleLogByKeyVersionValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/styles/${e.styleKey}/version/${e.version}`))}getLibrarySubscribedComponentsEditorType(e){return this.LibrarySubscribedComponentsEditorTypeSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.key}/subscribed_components?editor_type=${e.editorType}`))}getDefaultLibraries(e){return this.DefaultLibrariesSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/default_libraries",s.td.toAPIParameters(e)))}getDefaultLibraryAttribution(e){return this.DefaultLibraryAttributionSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/default_library_attribution",s.td.toAPIParameters(e)))}getLibraryPublishedComponentsStats(e){return this.LibraryPublishedComponentsStatsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.libraryFileKey}/published_components`))}getLibraryComponentV2(e){return this.LibraryComponentV2SchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/component_v2/${e.componentKey}`,s.td.toAPIParameters(e)))}getLibraryStateGroup(e){return this.LibraryStateGroupSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/state_group/${e.stateGroupKey}`))}getLibraryPublishedAndMovedComponents(e){return this.LibraryPublishedAndMovedComponentsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.openFileKey}/published_and_moved_components`,null,{..._,retryCount:5}))}getLibraries(e){return this.LibrariesSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/libraries",s.td.toAPIParameters(e)))}getLibrariesV2(e){return this.LibrariesV2SchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/v2/libraries",s.td.toAPIParameters(e)))}postLibraryPublish({fileKey:e,checkpointKey:t,paramsPath:i,publishToCommunity:n,publishScope:a}){return this.LibraryPublishSchemaValidator.validate(async({xr:s})=>await s.post(`/api/publish/${e}`,{file_key:e,checkpoint_key:t,params_path:i,publish_to_community:n,publish_scope:a}))}postUploadPublishParams(){return this.UploadPublishParamsSchemaValidator.validate(async({xr:e})=>await e.post("/api/publish_params/upload"))}postUnpublishedStyles({styleKeys:e,orgId:t}){return this.UnpublishedStylesSchemaValidator.validate(async({xr:i})=>await i.post("/api/unpublished_styles",{style_keys:e,org_id:t}))}postMissingStylesByLibraryKey({styleKeys:e}){return this.MissingStylesByLibraryKeySchemaValidator.validate(async({xr:t})=>await t.post("/api/missing_styles_by_library_key",{style_keys:e}))}postEverPublishedLibraries({libraryKeys:e}){return this.EverPublishedLibrariesSchemaValidator.validate(async({xr:t})=>await t.post("/api/design_systems/missing_libraries",{library_keys:e}))}getLibrariesByLibraryKeys({libraryKeys:e,subscriptionFileKey:t,orgId:i}){return this.LibrariesByLibraryKeys.validate(async({xr:a})=>await a.post("/api/design_systems/libraries_by_library_keys",{library_keys:e.filter(n.Vq),subscription_file_key:t,org_id:i}))}postValidateCopy({nodeIds:e,fileKey:t,copyType:i}){return this.ValidateCopyValidator.validate(async({xr:n})=>await n.post("/api/design_systems/validate_copy",s.td.toAPIParameters({nodeIds:e,fileKey:t,copyType:i})))}postEnableSlotsForFile({fileKey:e}){return this.EnableSlotsForFileValidator.validate(async({xr:t})=>await t.put(`/api/enable_slots/${e}`,{slots_enabled:!0}))}}},650161(e,t,i){i.d(t,{e:()=>o});var n=i(491852),a=i(116682),s=i(487817);let o=new class{async recordStatusChange(e){let t=new Date().toISOString();return await a.Ay.post(`/api/files/${e.fileKey}/dev_mode_activity`,{nodes:e.nodes,activity_data:{type:s.o6.STATUS_CHANGE,status:function(e){switch(e){case n.zIx.BUILD:return s.zI.BUILD;case n.zIx.NONE:return s.zI.NONE;case n.zIx.COMPLETED:return s.zI.COMPLETED}}(e.status),description:e.description},version_id:e.versionId,timestamp:t})}}},584196(e,t,i){i.d(t,{PT:()=>l});var n=i(667297),a=i(870527),s=i(795214),o=i(35212);function r(e){let t=o.td.toAPIParameters(e)??{},i=Object.keys(t),r=i.map(e=>t[e]),l=(0,a.A)().utc().unix(),d=["please_use_the_public_api",l,...r].join(","),c=(0,s.F)(d).slice(0,10),u=[l,...i].join(",");return{dsaToken:c,dsaTokenKey:(0,n.aj)(u)}}let l=new class{constructor(){this.LibraryWeeklyInsertionsSchemaValidator=(0,o.vh)(),this.LibraryTeamUsageSchemaValidator=(0,o.vh)(),this.LibraryPublishedComponentsUsagesSchemaValidator=(0,o.vh)(),this.LibraryPublishedComponentsActionsSchemaValidator=(0,o.vh)(),this.LibraryOverviewSchemaValidator=(0,o.vh)(),this.LibrariesSchemaValidator=(0,o.vh)(),this.NumTeamsSchemaValidator=(0,o.vh)(),this.StateGroupComponentsSchemaValidator=(0,o.vh)(),this.ComponentFileUsageSchemaValidator=(0,o.vh)(),this.ComponentSchemaValidator=(0,o.vh)(),this.StateGroupSchemaValidator=(0,o.vh)(),this.OrgMigrationStatusSchemaValidator=(0,o.vh)(),this.LibraryStyleOverviewValidator=(0,o.vh)(),this.LibraryStyleDetailsValidator=(0,o.vh)(),this.LibraryVariableOverviewValidator=(0,o.vh)(),this.LibraryVariableDetailsValidator=(0,o.vh)(),this.RecordStylesActionValidator=(0,o.vh)(),this.RecordVariablesActionValidator=(0,o.vh)(),this.RecordComponentActionValidator=(0,o.vh)()}getLibraryWeeklyInsertions(e){let t=r(e);return this.LibraryWeeklyInsertionsSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.fileKey}/weekly_insertions`,o.td.toAPIParameters({...e,...t})))}getLibraryTeamUsage(e){let t=r(e);return this.LibraryTeamUsageSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.fileKey}/team_usage`,o.td.toAPIParameters({...e,...t})))}getLibraryPublishedComponentsUsages(e){let t={start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging,library_file_key:e.libraryFileKey},i=r(t);return this.LibraryPublishedComponentsUsagesSchemaValidator.validate(async({xr:n})=>await n.get(`/api/dsa/library/${e.libraryFileKey}/published_components_usages`,o.td.toAPIParameters({...t,...i})))}getLibraryPublishedComponentsActions(e){let t={start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging,library_file_key:e.libraryFileKey},i=r(t);return this.LibraryPublishedComponentsActionsSchemaValidator.validate(async({xr:n})=>await n.get(`/api/dsa/library/${e.libraryFileKey}/published_components_actions`,o.td.toAPIParameters({...t,...i})))}getLibraryOverview(e){let t=r(e);return this.LibraryOverviewSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library_overview/${e.libraryFileKey}`,o.td.toAPIParameters({...e,...t})))}getLibraries(e){let t=r(e);return this.LibrariesSchemaValidator.validate(async({xr:i})=>await i.get("/api/dsa/libraries",o.td.toAPIParameters({...e,...t})))}getNumTeams(e){let t=r(e);return this.NumTeamsSchemaValidator.validate(async({xr:i})=>await i.get("/api/dsa/num_teams",o.td.toAPIParameters({...e,...t})))}getStateGroupComponents(e){let t=r(e);return this.StateGroupComponentsSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/state_group/${e.stateGroupKey}/components`,o.td.toAPIParameters({...e,...t})))}getComponentFileUsage(e){let t=r(e);return this.ComponentFileUsageSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/component/${e.componentKey}/file_usage`,o.td.toAPIParameters({...e,...t})))}getComponent(e){let t=r(e);return this.ComponentSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/component/${e.componentKey}`,o.td.toAPIParameters({...e,...t})))}getStateGroup(e){let t=r(e);return this.StateGroupSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/state_group/${e.stateGroupKey}`,o.td.toAPIParameters({...e,...t})))}getOrgMigrationStatus(e){return this.OrgMigrationStatusSchemaValidator.validate(async({xr:t})=>await t.get(`/api/dsa/migration_status/${e.orgId}`))}getLibraryStyleOverview(e){let t=r(e);return this.LibraryStyleOverviewValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/styles/overview`,o.td.toAPIParameters({...e,...t})))}getLibraryStyleDetails(e){let t=r(e);return this.LibraryStyleDetailsValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/styles/${e.styleKey}/details`,o.td.toAPIParameters({...e,...t})))}getLibraryVariableOverview(e){let t=r(e);return this.LibraryVariableOverviewValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/variables/overview`,o.td.toAPIParameters({...e,...t})))}getLibraryVariableDetails(e){let t=r(e);return this.LibraryVariableDetailsValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/variables/${e.variableKey}/details`,o.td.toAPIParameters({...e,...t})))}recordStylesAction(e){return this.RecordStylesActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/style/action",o.td.toAPIParameters(e)))}recordVariablesAction(e){return this.RecordVariablesActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/variable/action",o.td.toAPIParameters(e)))}recordComponentAction(e){return this.RecordComponentActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/component/action",o.td.toAPIParameters(e)))}}},854263(e,t,i){i.d(t,{S:()=>o});var n=i(35212),a=i(116682),s=i(484770);let o=new class{constructor(){this.RelatedLinksSchemaValidator=(0,n.vh)(),this.FilesSchemaValidator=(0,n.vh)(),this.FilesSchemaValidatorWithPerms=(0,n.vh)(),this.VideosSchemaValidator=(0,n.vh)(),this.RealtimeTokenSchemaValidator=(0,n.vh)(),this.SourceCheckpointCreatedAtSchemaValidator=(0,n.vh)(),this.SourceFileUpdatedInfoSchemaValidator=(0,n.vh)(),this.MetaSchemaValidator=(0,n.vh)(),this.LastInteractionSchemaValidator=(0,n.vh)(),this.VideosUploadSchemaValidator=(0,n.vh)(),this.VideoDownloadSchemaValidator=(0,n.vh)(),this.VideoThumbnailsSchemaValidator=(0,n.vh)(),this.IncludeFolderTeamCanEditSchemaValidator=(0,n.vh)(),this.PageCheckpointThumbnailsSchemaValidator=(0,n.vh)(),this.GetHubFileDuplicatesSchemaValidator=(0,n.vh)(),this.GetTaggedUserFileSchemaValidator=(0,n.vh)(),this.PageWAFValidatorSchemaValidator=(0,n.vh)(),this.CopyFileSchemaValidator=(0,n.YV)("CopyFileSchemaValidator",s.L,null),this.ReferenceIdSchemaValidator=(0,n.vh)()}getRelatedLinks(e){let{fileKey:t,...i}=e;return this.RelatedLinksSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/related_links`,n.td.toAPIParameters(i)))}getFiles(e){let{fileKey:t,args:i,...a}=e;return e.includePerms?this.FilesSchemaValidatorWithPerms.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,n.td.toAPIParameters(a),i)):this.FilesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,n.td.toAPIParameters(a),i))}getVideos(e){return this.VideosSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/videos`))}getRealtimeToken(e){return this.RealtimeTokenSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/realtime_token`))}getSourceCheckpointCreatedAt(e){return this.SourceCheckpointCreatedAtSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.currentFileKey}/source_checkpoint_created_at`))}getSourceFileUpdatedInfo(e){return this.SourceFileUpdatedInfoSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.branchFileKey}/source_file_updated_info`))}getMeta(e){return this.MetaSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/meta`))}getLastInteraction(e){return this.LastInteractionSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.openFileKey}/last_interaction`))}getVideosUpload(e){return this.VideosUploadSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/videos/${e.sha1}/upload`))}getVideosDownload(e){return this.VideoDownloadSchemaValidator.validate(({xr:t})=>t.get(`/api/files/${e.fileKey}/videos/${e.hexHash}`))}getVideoThumbnails(e){return this.VideoThumbnailsSchemaValidator.validate(({xr:t})=>{let i=n.td.toAPIParameters({max_results:e.maxResults,start_timestamp_ms:e.startTimestampMs,end_timestamp_ms:e.endTimestampMs});return t.get(`/api/files/${e.fileKey}/videos/${e.sha1}/thumbnails`,i)})}getIncludeFolderTeamCanEdit(e){return this.IncludeFolderTeamCanEditSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,n.td.toAPIParameters({includeFolderTeamCanEdit:+!!e.includeFolderTeamCanEdit})))}putFile(e){return a.Ay.put(`/api/files/${e.file.key}`,e.file)}updatePageCheckpointThumbnails(e){return this.PageCheckpointThumbnailsSchemaValidator.validate(async({xr:t})=>await t.post(`/api/files/${e.fileKey}/page_thumbnails`))}getHubFileDuplicates(e){return this.GetHubFileDuplicatesSchemaValidator.validate(async({xr:t})=>await t.post("/api/files/hub_file_duplicates",n.td.toAPIParameters({fileKeys:e.fileKeys})))}getTaggedUserFiles(e){return this.GetTaggedUserFileSchemaValidator.validate(async({xr:t})=>await t.post("/api/tagged_file",n.td.toAPIParameters({fileTags:e.fileTags,currentOrgId:e.currentOrgId,currentTeamId:e.currentTeamId,shouldRecreate:e.shouldRecreate})))}getWAFValidator(){return this.PageWAFValidatorSchemaValidator.validate(async({xr:e})=>await e.get("/waf-validation-captcha"))}copyFile(e,t){return this.CopyFileSchemaValidator.validate(async({xr:i})=>await i.post(`/api/multiplayer/${e}/copy`,n.td.toAPIParameters({...t||{}})))}getOrCreateReferenceId(e){return this.ReferenceIdSchemaValidator.validate(async({xr:t})=>await t.post(`/api/files/${e.fileKey}/reference_id`))}}},938250(e,t,i){i.d(t,{j:()=>a});var n=i(35212);let a=new class{constructor(){this.AutoAcceptResponseValidator=(0,n.vh)(),this.UpdateInviteBillableProductKeyValidator=(0,n.vh)()}putAcceptInvite(e){return this.AutoAcceptResponseValidator.validate(async({xr:t})=>await t.put("/api/invites/accept",e))}updateInviteBillableProductKey(e){let{inviteId:t,billableProductKey:i}=e;return this.UpdateInviteBillableProductKeyValidator.validate(async({xr:e})=>await e.patch(`/api/invites/${t}/billable_product_key`,{billable_product_key:i}))}}},782270(e,t,i){i.d(t,{f:()=>s});var n=i(491852),a=i(116682);let s=new class{getStatusType(e){switch(e){case n.zIx.BUILD:return"build";case n.zIx.COMPLETED:return"completed";default:return"none"}}recordStatusChange(e){a.Ay.post(`/api/files/${e.fileKey}/node_status`,{node_id:e.nodeId,node_name:e.nodeName,node_type:e.nodeType,node_status_type:this.getStatusType(e.status),page_name:e.pageName,node_prev_status_type:this.getStatusType(e.prevStatus),node_status_description:e.description,node_preview_background:e.previewBackground,prev_activity_id:e.prevActivityId})}}},717638(e,t,i){i.d(t,{G:()=>l,h:()=>r});var n,a=i(818381),s=i(35212),o=i(878),r=((n=r||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",n.MEMBERS_TAB="members_tab",n.FILE_PERMISSIONS_MODAL="file_permissions_modal",n);let l=new class{constructor(){this.GuestResourcesSchemaValidator=(0,s.vh)(),this.OrgUserSchemaValidator=(0,s.YV)("OrgUserSchemaValidator",o.WU,null,!1),this.UpdateOrgUsersSchemaValidator=(0,s.YV)("UpdateOrgUsersSchemaValidator",a.z.array(o.WU),null,!1),this.CreateStarterTeamSchemaValidator=(0,s.vh)(),this.requestUpgradeSchemaValidator=(0,s.vh)()}getGuestResources(e){return this.GuestResourcesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_user/${e.orgUserId}/guest_resources`))}updateOrgUser(e){let{id:t,changes:i}=e;return this.OrgUserSchemaValidator.validate(({xr:e})=>e.put(`/api/org_users/${t}`,s.td.toAPIParameters(i)))}updateOrgUsers(e){let{orgId:t,...i}=e;return this.UpdateOrgUsersSchemaValidator.validate(({xr:t})=>t.put(`/api/orgs/${e.orgId}/org_users`,s.td.toAPIParameters(i)))}createStarterTeam(){return this.CreateStarterTeamSchemaValidator.validate(({xr:e})=>e.post("/api/org_user/create_starter_team"))}postOrgUserFlags(e){let{orgUserId:t,flags:i}=e;return s._5.validate(({xr:e})=>e.post(`/api/org_users/${t}/flags`,{flags:i}))}requestOrgAccountTypeRequest(e){return this.requestUpgradeSchemaValidator.validate(async({xr:t})=>await t.post(`/api/orgs/${e.org_id}/org_users/request_upgrade`,e))}getMemberCSVExport(e){return s._5.validate(({xr:t})=>t.post(`/api/orgs/${e.orgId}/export_members`))}}},554865(e,t,i){i.d(t,{G:()=>a});var n=i(35212);let a=new class{constructor(){this.FileUsersSchemaValidator=(0,n.vh)(),this.TeamSchemaValidator=(0,n.vh)(),this.RolesSchemaValidator=(0,n.vh)()}getFileUsers(e){return this.FileUsersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/file_users/${e.fileKey}`))}getTeam(e){return this.TeamSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/team/${e.teamId}`))}getRoles(e){return this.RolesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/${e.resourceType}/${e.resourceId}`))}}},180196(e,t,i){i.d(t,{z:()=>s});var n=i(818381),a=i(35212);let s=new class{constructor(){this.SitesBundleSchemaValidator=(0,a.vh)(),this.SitesCustomDomainDnsRecordsValidator=(0,a.YV)("SitesCustomDomainDnsRecordsValidator",n.z.array(n.z.object({type:n.z.string(),host:n.z.string(),value:n.z.string()})),null),this.SitesActivateCustomDomainValidator=(0,a.YV)("SitesActivateCustomDomainValidator",n.z.void(),null),this.SitesRemoveCustomDomainValidator=(0,a.YV)("SitesRemoveCustomDomainValidator",n.z.void(),null),this.SitesCustomDomainLimitReachedValidator=(0,a.YV)("SitesCustomDomainLimitReachedValidator",n.z.object({limit_reached:n.z.boolean(),num_domains_allowed:n.z.number(),num_domains:n.z.number()}),null),this.SitesUpdateBundleValidator=(0,a.YV)("SitesUpdateBundleValidator",n.z.void(),null),this.SitesUpdateSubdomainValidator=(0,a.YV)("SitesUpdateSubdomainValidator",n.z.object({domain:n.z.string()}),null),this.SitesValidateSubdomainValidator=(0,a.YV)("SitesValidateSubdomainValidator",n.z.void(),null),this.SitesFileKeyVideos=(0,a.YV)("SitesFileKeyVideosValidator",n.z.object({videos:n.z.record(n.z.string(),n.z.string())}),null),this.SitesFileKeyImages=(0,a.YV)("SitesFileKeyImagesValidator",n.z.object({images:n.z.record(n.z.string(),n.z.string())}),null),this.SitesSetPasswordValidator=(0,a.YV)("SitesSetPasswordValidator",n.z.object({success:n.z.boolean(),password_version:n.z.number()}),null),this.SitesUnsetPasswordValidator=(0,a.YV)("SitesUnsetPasswordValidator",n.z.object({success:n.z.boolean()}),null),this.SitesEnableSsoValidator=(0,a.YV)("SitesEnableSsoValidator",n.z.void(),null),this.SitesDisableSsoValidator=(0,a.YV)("SitesDisableSsoValidator",n.z.void(),null)}postSitesBundleAsync(e){return this.SitesBundleSchemaValidator.validate(async({xr:t})=>{let i={responsive_set_guids:e.responsiveSetGuids,font_index_hash:e.fontIndexHash};return i.file_version_id=e.fileVersionId,await t.post(`/api/sites/${e.fileKey}/async/upload`,i)})}unpublishSite(e){return this.SitesBundleSchemaValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/unpublish`))}addCustomDomain(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/custom_domain`,{domain:e.domain,create_paired_domain:e.createPairedDomain}))}configureRedirect(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/configure_redirect`))}activateCustomDomain(e){return this.SitesActivateCustomDomainValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/verify_custom_domain`))}getDomainDNSRecords(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/get_custom_domain_dns_records`))}removeCustomDomain(e){return this.SitesRemoveCustomDomainValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/remove_custom_domain`))}removeCustomDomainRedirect(e){return this.SitesRemoveCustomDomainValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/remove_custom_domain_redirect`))}customDomainLimitReached(e){return this.SitesCustomDomainLimitReachedValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/check_custom_domain_limit`))}updateBundle(e){return this.SitesUpdateBundleValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/update_bundle`,{bundle_id:e.bundleId}))}updateSubdomain(e){return this.SitesUpdateSubdomainValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/update_subdomain`,{new_base_domain:e.new_base_domain}))}validateSubdomain(e){return this.SitesValidateSubdomainValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/validate_subdomain`,{new_base_domain:e.new_base_domain}))}getFileVideos(e){return this.SitesFileKeyVideos.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/videos`))}getFileImages(e){return this.SitesFileKeyImages.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/images`,{shas:e.shas.join(",")}))}setPassword(e){return this.SitesSetPasswordValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/set_password`,{password:e.password,protected_webpage_guids:e.protectedWebpageGuids&&e.protectedWebpageGuids.length>0?e.protectedWebpageGuids:null}))}unsetPassword(e){return this.SitesUnsetPasswordValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/unset_password`))}enableSso(e){return this.SitesEnableSsoValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/enable_sso`))}disableSso(e){return this.SitesDisableSsoValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/disable_sso`))}}},253929(e,t,i){i.d(t,{B:()=>o,H:()=>r});var n,a=i(35212),s=i(257793),o=((n=o||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",n.MEMBERS_TAB="members_tab",n.FILE_PERMISSIONS_MODAL="file_permissions_modal",n);let r=new class{constructor(){this.UpdateTeamUsersSchemaValidator=(0,a.YV)("UpdateTeamUsersSchemaValidator",s.wF.array(),null)}updateTeamUsers(e){return this.UpdateTeamUsersSchemaValidator.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/team_user_batch`,e))}}},628283(e,t,i){i.d(t,{R:()=>s});var n=i(35212),a=i(542179);let s=new class{constructor(){this.UpgradeSchemaValidator=(0,n.vh)()}upgrade(e,t,i,s,o,r,l,d,c){let u=s===a.J.ADMIN_AUTO_PATHWAY;return this.UpgradeSchemaValidator.validate(async({xr:a})=>await a.post(`/api/upgrade/auto_pathway/${e}/${t}`,n.td.toAPIParameters({upgrade_reason:i,billable_product_key:o,file_key:r,folder_id:l,license_type:d,editor_type:c,is_admin_self_upgrade:u}))??null)}}},560177(e,t,i){i.d(t,{$L:()=>o,Xx:()=>r,sC:()=>s,us:()=>a});var n=i(684666);let a=[n.w3,n.dV,n.$r,n.JT,n.Me,n.$C,n.Wn];function s(e,t){if(!e)return t[0];try{let i=e.substring(e.length-4),n=parseInt(i);if(Number.isNaN(n))return t[Math.abs(function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(e)%t.length)];return t[n%t.length]}catch(e){return t[0]}}function o(e,t){return s(e,t)}function r(e){return e===n.$C?"var(--color-textonmultiplayeryellow)":"var(--color-textonmultiplayerblue)"}},842014(e,t,i){i.d(t,{Q:()=>_});var n=i(239976),a=i(645186),s=i(850159),o=i(227031),r=i(778914),l=i(629743),d=i(759040),c=i(231484),u=i(328151);let _=(0,o._d)(function(e){let{resource:t,viewContext:i,removeButtonBorder:o}=e,_=(0,a.d4)(e=>e.authedActiveCommunityProfile),m=(0,c.cs)(_),h=(0,l.B)(t.id),p=!!h.data?.[0],g=h.data?.[1],f=(0,d.w)(t,p,g||null,i);return m?(0,n.jsx)("div",{"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,s.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0,children:(0,n.jsx)(r.b,{isResourceLiked:!1,disabled:!0})}):(0,n.jsx)(r.b,{onClick:f(),isResourceLiked:p,removeButtonBorder:o})},"LikeButtonTracked")},498881(e,t,i){i.d(t,{J:()=>o,R:()=>s});var n=i(105652),a=i(350923);let s=(0,a.eU)(null);function o(e){n.useEffect(()=>(a.zl.set(s,e),()=>{a.zl.set(s,null)}),[e])}},772022(e,t,i){i.d(t,{sF:()=>f,zJ:()=>g});var n=i(239976),a=i(105652),s=i(645186),o=i(395227),r=i(297151),l=i(732632),d=i(71239),c=i(741542),u=i(436174),_=i(613629);i(38900);var m=i(936652),h=i(804942);let p="figma_ff_bisector_state",g="FeatureFlagBisectorModal",f=(0,m.Ju)(function({open:e,onClose:t}){let i=o.hS({open:e,onClose:t}),m=(0,s.wA)(),[g,f]=a.useState(""),[E,b]=a.useState(""),[y,S]=a.useState(null);a.useEffect(()=>{let e=localStorage.getItem(p);if(e)try{let t=JSON.parse(e);Date.now()<t.expiry?S(t):localStorage.removeItem(p)}catch(e){localStorage.removeItem(p)}},[]);let T=a.useCallback(e=>{localStorage.setItem(p,JSON.stringify(e))},[]),v=a.useCallback(e=>{let{internal_only_debug_tools:t,internal_prototyping_debug_tool:i,...n}=e,a={expiration:Date.now()+144e5,flags:n};localStorage.setItem(c.FEATURE_FLAG_OVERRIDES_KEY,JSON.stringify(a)),u.Ay.reload("Feature flag bisector applying new flags")},[]),R=a.useCallback(()=>{try{let e=JSON.parse(g),t={};for(let[i,n]of Object.entries(e))if("boolean"==typeof n){t[i]=n;continue}else if("object"==typeof n&&n&&"value"in n&&"boolean"==typeof n.value)t[i]=n.value;else{b(`Value for "${i}" must be a boolean`);continue}if(null===t)return void b("Input must be a JSON object");for(let[e,i]of Object.entries(t))if("boolean"!=typeof i)return void b(`Value for "${e}" must be a boolean`);b("");let i=Object.keys(t),n={originalFlags:t,currentSubset:i,currentComplement:[],testingComplement:!1,history:[],phase:"bisecting",expiry:Date.now()+144e5};S(n),T(n),v(t)}catch(e){b("Invalid JSON format")}},[g,T,v]),I=a.useCallback(e=>{let t,i;if(!y)return;let n=y.testingComplement?y.currentComplement:y.currentSubset,a=n.reduce((e,t)=>(void 0===y.originalFlags[t]?console.error(`Flag ${t} is undefined in the original flags`):e[t]=y.originalFlags[t],e),{}),s=[...y.history],o=s[s.length-1];if(o&&"pending"===o.result?o.result=e?"success":"failure":s.push({subset:[...n],isComplement:y.testingComplement,result:e?"success":"failure",testedFlags:a}),1===n.length&&e){let e={...y,history:s,phase:"complete",culpritFlag:n[0]};S(e),T(e),m(_.F.enqueue({message:`Culprit found: ${n[0]}`,type:"feature-flag-bisector-culprit-found"}));return}if(1===n.length&&y.testingComplement&&!e){let e={...y,history:s,phase:"complex_interaction",lastWorkingSet:y.originalFlags};S(e),T(e),m(_.F.enqueue({message:"Complex interaction detected - multiple flags may be involved",type:"feature-flag-bisector-complex-interaction"}));return}let r=!1;if(e){let e=Math.floor(n.length/2);t=n.slice(0,e),i=n.slice(e),r=!1}else if(y.testingComplement){let e=s.slice().reverse().find(e=>"success"===e.result),t={...y,history:s,phase:"complex_interaction",lastWorkingSet:e?.testedFlags||y.originalFlags};S(t),T(t),m(_.F.enqueue({message:"Complex interaction detected - multiple flags may be involved",type:"feature-flag-bisector-complex-interaction"}));return}else t=y.currentSubset,i=y.currentComplement,r=!0;let l=r?i:t,d=l.reduce((e,t)=>(void 0===y.originalFlags[t]?console.error(`Flag ${t} is undefined in the original flags`):e[t]=y.originalFlags[t],e),{}),c={...y,currentSubset:t,currentComplement:i,testingComplement:r,history:[...s,{subset:l,isComplement:r,result:"pending",testedFlags:d}]};S(c),T(c),v(d),m(_.F.enqueue({message:`Moving to next subset: ${l.length} flags, refreshing...`,type:"feature-flag-bisector-culprit-found"}))},[y,T,v,m]),x=a.useCallback(()=>{localStorage.removeItem(p),localStorage.removeItem(c.FEATURE_FLAG_OVERRIDES_KEY),S(null),f(""),b(""),m(_.F.enqueue({message:"Feature flag bisector reset successfully",type:"feature-flag-bisector-reset"})),u.Ay.reload("Feature flag bisector applying new flags")},[m]),A=a.useCallback(()=>{if(!y)return;let e={...y,timestamp:new Date().toISOString()};navigator.clipboard.writeText(JSON.stringify(e,null,2)).then(()=>{m(_.F.enqueue({message:"History copied to clipboard",type:"feature-flag-bisector-history-copied"}))}).catch(e=>{console.error("Failed to copy history:",e),m(_.F.enqueue({message:"Failed to copy history",type:"feature-flag-bisector-copy-failed",error:!0}))})},[y,m]);return(0,c.getFeatureFlags)().internal_prototyping_debug_tool||(0,c.getFeatureFlags)().internal_only_debug_tools?(0,n.jsx)(d.bL,{manager:i,width:"lg",children:(0,n.jsx)(r.vo,{children:(()=>{if(y&&"input"!==y.phase){if("bisecting"===y.phase){if(!y)return null;let e=y.testingComplement?y.currentComplement:y.currentSubset;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Y9,{children:(0,n.jsx)(r.hE,{children:"Feature Flag Bisector - Testing"})}),(0,n.jsx)(r.nB,{children:(0,n.jsxs)("div",{className:h.section,children:[(0,n.jsx)("h3",{className:h.sectionTitle,children:"Is the bug present with this set of feature flags?"}),(0,n.jsxs)("p",{className:h.description,children:['Test the current behavior and click "Yes" if the bug is present, or "No" if it\'s not.',y.testingComplement&&(0,n.jsx)("span",{className:h.complementNote,children:"(Testing complement - the other half of the previous split)"})]}),(0,n.jsxs)("div",{className:h.currentState,children:[(0,n.jsx)("h4",{children:`Current Test Set (${e.length} flags)${y.testingComplement?" - Complement":""}:`}),(0,n.jsx)("div",{className:h.flagList,children:e.map(e=>(0,n.jsx)("span",{className:h.flagItem,children:`${e}: ${y.originalFlags[e]?"true":"false"}`},e))})]}),y.history.length>0&&(0,n.jsxs)("div",{className:h.history,children:[(0,n.jsxs)("div",{className:h.historyHeader,children:[(0,n.jsx)("h4",{children:"Test History:"}),(0,n.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),y.history.map((e,t)=>(0,n.jsxs)("div",{className:h.historyItem,children:[(0,n.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,n.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"failure"===e.result?"Bug Not Present":"Testing..."})]},t))]})]})}),(0,n.jsx)(r.wi,{children:(0,n.jsxs)(r.jk,{children:[(0,n.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Reset"}),(0,n.jsx)(l.$n,{variant:"destructive",onClick:()=>I(!0),children:"Yes - Bug Present"}),(0,n.jsx)(l.$n,{variant:"primary",onClick:()=>I(!1),children:"No - Bug Not Present"})]})})]})}else if("complete"===y.phase)return y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Y9,{children:(0,n.jsx)(r.hE,{children:"Feature Flag Bisector - Complete"})}),(0,n.jsx)(r.nB,{children:(0,n.jsxs)("div",{className:h.section,children:[(0,n.jsx)("h3",{className:h.sectionTitle,children:"\uD83C\uDF89 Culprit Found!"}),(0,n.jsx)("p",{className:h.description,children:"The bisection algorithm has identified the feature flag responsible for the bug."}),(0,n.jsxs)("div",{className:h.currentState,children:[(0,n.jsx)("h4",{children:"Culprit Feature Flag:"}),(0,n.jsx)("div",{className:h.flagList,children:(0,n.jsx)("span",{className:`${h.flagItem} ${h.culpritFlag}`,children:`${y.culpritFlag}: ${y.originalFlags[y.culpritFlag]?"true":"false"}`})})]}),y.history.length>0&&(0,n.jsxs)("div",{className:h.history,children:[(0,n.jsxs)("div",{className:h.historyHeader,children:[(0,n.jsx)("h4",{children:"Test History:"}),(0,n.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),y.history.map((e,t)=>(0,n.jsxs)("div",{className:h.historyItem,children:[(0,n.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,n.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"Bug Not Present"})]},t))]})]})}),(0,n.jsx)(r.wi,{children:(0,n.jsxs)(r.jk,{children:[(0,n.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Start New Bisection"}),(0,n.jsx)(l.$n,{variant:"primary",onClick:t,children:"Close"})]})})]}):null;else if("complex_interaction"===y.phase)return y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Y9,{children:(0,n.jsx)(r.hE,{children:"Feature Flag Bisector - Complex Interaction"})}),(0,n.jsx)(r.nB,{children:(0,n.jsxs)("div",{className:h.section,children:[(0,n.jsx)("h3",{className:h.sectionTitle,children:"\u26A0\uFE0F Complex Feature Flag Interaction Detected"}),(0,n.jsx)("p",{className:h.description,children:"The bug appears to be caused by a complex interaction between multiple feature flags, rather than a single flag. This means the bug only occurs when specific combinations of flags are enabled together."}),(0,n.jsxs)("div",{className:h.currentState,children:[(0,n.jsx)("h4",{children:"Last Known Working Set:"}),(0,n.jsx)("div",{className:h.flagList,children:Object.entries(y.lastWorkingSet||{}).map(([e,t])=>(0,n.jsx)("span",{className:h.flagItem,children:`${e}: ${t?"true":"false"}`},e))})]}),y.history.length>0&&(0,n.jsxs)("div",{className:h.history,children:[(0,n.jsxs)("div",{className:h.historyHeader,children:[(0,n.jsx)("h4",{children:"Test History:"}),(0,n.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),y.history.map((e,t)=>(0,n.jsxs)("div",{className:h.historyItem,children:[(0,n.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,n.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"Bug Not Present"})]},t))]})]})}),(0,n.jsx)(r.wi,{children:(0,n.jsxs)(r.jk,{children:[(0,n.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Start New Bisection"}),(0,n.jsx)(l.$n,{variant:"primary",onClick:t,children:"Close"})]})})]}):null}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Y9,{children:(0,n.jsx)(r.hE,{children:"Feature Flag Bisector"})}),(0,n.jsx)(r.nB,{children:(0,n.jsxs)("div",{className:h.section,children:[(0,n.jsx)("h3",{className:h.sectionTitle,children:"Feature Flag Configuration"}),(0,n.jsx)("p",{className:h.description,children:"Enter a JSON object from the Feature Flag differ tool in the Admin Statsig plugin."}),(0,n.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),placeholder:`{
  "flag_name_1": true,
  "flag_name_2": false,
  "flag_name_3": true
}`,rows:10,className:h.jsonInput,"aria-label":"Feature Flags JSON Input"}),E&&(0,n.jsx)("div",{className:h.error,children:E})]})}),(0,n.jsx)(r.wi,{children:(0,n.jsxs)(r.jk,{children:[(0,n.jsx)(l.$n,{variant:"secondary",onClick:t,children:"Cancel"}),(0,n.jsx)(l.$n,{variant:"primary",onClick:R,disabled:!g.trim(),children:"Start Bisection"})]})})]})})()})}):null},g)},905730(e,t,i){i.d(t,{F:()=>_});var n=i(239976),a=i(523924),s=i(145906),o=i(574988),r=i(597794),l=i(585255),d=i(289886),c=i(113116),u=i(517436);function _(e){let t,{defaultVariant:i,ctaButtonMeta:_,large:m}=e,h=(0,n.jsx)(l.x,{isLoading:!!_.isLoading,className:d.s.flex.alignCenter.$,children:()=>_.label}),p=e.ctaButtonMeta.variantOverride||i;if("custom"===p){let i=e.ctaButtonMeta.customVariantStyles||[];t=function(e){return(0,n.jsx)(c.e6,{...e,...o.Ay.props(i),children:e.children})}}else if("white"===p)t=function(e){return(0,n.jsx)(s.J,{mode:"light",children:(0,n.jsx)(c.e6,{...e,...{className:"x6s0dn4 x1yjdb4r x19y5rnk x1akne3o x78zum5 xl56j7k x4wtjwi xf67zum xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:e.children})})};else{if(m&&"button"===_.type)return(0,n.jsx)(c.c,{variant:"primary-large-wide"===p?"primary":p,onClick:_.onClick,trackingProperties:{trackingDescriptor:_.ctaTrackingDescriptor,..._.trackingProperties},disabled:_.disabled??_.isLoading,..._.tooltipProperties,"data-testid":_.dataTestId,children:h});t=m?c.c:c.$z}switch(p){case"custom":case"white":case"primary":let g={trackingProperties:{trackingDescriptor:_.ctaTrackingDescriptor,..._.trackingProperties},disabled:_.disabled??_.isLoading,..._.tooltipProperties,"data-testid":_.dataTestId};switch(_.type){case"button":return(0,n.jsx)(t,{onClick:_.onClick,variant:e.emphasized?"secondary":"primary",...g,children:h});case"text":return(0,n.jsx)(c.$z,{variant:"ghost",onClick:_.onClick,...g,children:h});case"link":return(0,n.jsx)(u.pW,{href:_.href,newTab:!0,variant:e.emphasized?"secondary":"primary",size:m?"lg":"md",...g,children:h});default:(0,a.xb)(_)}case"primary-large-wide":if("button"!==_.type)return r.k.warn(`[FeatureEducation] CTAButton with variant 'primary-large-wide' is not implemented for type '${_.type}'`),null;return(0,n.jsx)(c.lR,{variant:"primary",onClick:_.onClick,disabled:_.disabled??_.isLoading,..._.tooltipProperties,"data-testid":_.dataTestId,children:h});case"secondary":let f={trackingProperties:{trackingDescriptor:_.ctaTrackingDescriptor,..._.trackingProperties},disabled:_.disabled??_.isLoading,..._.tooltipProperties,"data-testid":_.dataTestId};switch(_.type){case"text":return(0,n.jsx)(t,{variant:"ghost",onClick:_.onClick,...f,children:h});case"button":return(0,n.jsx)(t,{variant:e.emphasized?"ghost":"secondary",onClick:_.onClick,...f,children:h});case"link":return(0,n.jsx)(u.pW,{variant:e.emphasized?"ghost":"secondary",href:_.href,newTab:!0,size:m?"lg":"md",...f,children:h});default:(0,a.xb)(_)}default:(0,a.xb)(p)}}},380552(e,t,i){i.d(t,{b:()=>a});var n=i(350923);let a=(0,i(351823).Wh)(()=>(0,n.eU)({impressionId:null,source:null}))},925114(e,t,i){i.d(t,{KG:()=>s,kh:()=>o,ph:()=>a});var n=i(350923);let a=(0,n.eU)(null),s=(0,n.eU)(null),o=(0,n.eU)(null)},222849(e,t,i){i.d(t,{v:()=>T});var n=i(239976),a=i(105652),s=i(805242),o=i(584355),r=i(267995),l=i(688357),d=i(63744),c=i(429163),u=i(771573),_=i(548951),m=i(660983),h=i(338524);i(526865);var p=i(500273);let g=[{label:"Time between frames (ms)",id:"inter-frame-time",max:100,barWidth:1},{label:"FPS",id:"fps",max:120,barWidth:1},{label:"React work (ms)",id:"react",max:100,barWidth:1},{label:"Frame handler (ms)",id:"frame",max:100,barWidth:1,children:[{label:"Scene render (ms)",id:"scene-render",max:100,barWidth:1,children:[{label:"Render tree creation (ms)",id:"render-tree-generation",max:100,barWidth:1}]},{label:"React + redux (ms)",id:"react-render",max:100,barWidth:1},{label:"Symbol updater (ms)",id:"symbol-updater",max:100,barWidth:1},{label:"Style updater (ms)",id:"style-updater",max:100,barWidth:1},{label:"Comments renderer (ms)",id:"comments-render",max:100,barWidth:1}]},{label:"C++ event handling (ms)",id:"fullscreen-handle-event",max:100,barWidth:1},{label:"malloc call count (#)",id:"cpp-malloc-call-count",autoResize:!0,max:100,barWidth:1},{label:"malloc size totals (KB)",id:"cpp-malloc-size-totals",autoResize:!0,max:1,barWidth:1},{label:"Used JS memory (MB)",id:"total-memory",max:10,autoResize:!0,barWidth:1},{label:"Used c++ heap memory (MB)",id:"cpp-heap-memory",max:10,autoResize:!0,barWidth:1},{label:"Graphics memory (MB)",id:"gpu-memory",max:128,autoResize:!0,barWidth:1},{label:"Render job queue length",id:"render-job-queue-length",max:4,autoResize:!0,barWidth:1},{label:"Time between render tree swaps (ms)",id:"render-tree-swap-time",max:300,autoResize:!0,barWidth:1},{label:"Stale content time (ms)",id:"render-tree-stale-time",max:500,autoResize:!0,barWidth:1},{label:"Est viewport coverage (ms)",id:"estimated-viewport-coverage",max:1,autoResize:!0,barWidth:1},{label:"Min viewport sharpness",id:"min-sharpness",max:1,autoResize:!0,barWidth:1},{label:"Avg viewport sharpness",id:"avg-sharpness",max:1,autoResize:!0,barWidth:1}];function f(e,t){var i=e.getBoundingClientRect();e.width=i.width*t,e.height=i.height*t,e.style.width=`${i.width}px`,e.style.height=`${i.height}px`;let n=e.getContext("2d");n&&(n.scale(t,t),n.imageSmoothingEnabled=!1)}class E extends a.PureComponent{constructor(e){super(e),this.ctx=null,this.lastDisplayedUpdateTime=0,this.displayedNumber=null,this.buffer=[],this.dpr=1,this.canvasRef=a.createRef(),this.lastRenderedHitCount=0,this.updateFromTimer=e=>{let t=e.hitCount-this.lastRenderedHitCount,i=0;for(let n=Math.max(0,e.elapsedTimes.length-t);n<e.elapsedTimes.length;n++)i+=e.elapsedTimes[n];this.append(i),this.lastRenderedHitCount=e.hitCount},this.yAxisMaxValue=e.max,this.bufferCapacity=Math.ceil(e.width/e.barWidth)}componentDidMount(){if(this.canvasRef.current){this.dpr=window.devicePixelRatio;let e=this.canvasRef.current;this.ctx=e.getContext("2d"),f(e,this.dpr)}}append(e){if(!this.ctx)return;let t=this.ctx.canvas,i=this.ctx;for(this.dpr!==window.devicePixelRatio&&(this.dpr=window.devicePixelRatio,f(t,this.dpr)),this.buffer.push(e);this.buffer.length>=this.bufferCapacity;)this.buffer.shift();let n=1/0,a=-1/0;for(let e of this.buffer)n=Math.min(n,e),a=Math.max(a,e);let s=this.props.width,o=this.props.height,r=this.props.barWidth,l=o-20;i.font="9px monospace",i.fillStyle=this.props.bg,i.textBaseline="top",i.fillRect(0,0,s,20),i.fillStyle=this.props.fg;let d=performance.now();if((null===this.displayedNumber||d-this.lastDisplayedUpdateTime>150)&&(this.displayedNumber=e,this.lastDisplayedUpdateTime=d),i.fillText(`sample: ${this.displayedNumber.toFixed(1)}`,0,0),i.fillText(`${n.toFixed(1)} - ${a.toFixed(1)}`,0,10),i.fillStyle=this.props.bg,this.props.autoResize){if(e>this.yAxisMaxValue){let n=Math.pow(2,Math.ceil(Math.log2(e/this.yAxisMaxValue)));this.yAxisMaxValue*=n,i.fillRect(0,o-l,s,(n-1)*l/n),i.drawImage(t,0,(o-l)*this.dpr,s*this.dpr,l*this.dpr,0,o-l/n,s,l/n)}else if(this.yAxisMaxValue>2*Math.max(this.props.max,a)){let e=Math.pow(2,Math.ceil(Math.log2(this.yAxisMaxValue/Math.max(this.props.max,a))));this.yAxisMaxValue/=e,i.drawImage(t,0,(o-l/e)*this.dpr,s*this.dpr,l/e*this.dpr,0,o-l,s,l)}}i.drawImage(t,r*this.dpr,(o-l)*this.dpr,(s-r)*this.dpr,l*this.dpr,0,o-l,s-r,l);let c=Math.floor(l*Math.min(1,e/this.yAxisMaxValue));i.fillRect(s-r,o-l,r,l),i.fillStyle=this.props.fg,i.fillRect(s-r,o-c,r,c)}render(){return(0,n.jsx)("canvas",{className:p.wP,ref:this.canvasRef,width:this.props.width,height:this.props.height})}}function b(e){return e/1048576}E.displayName="Sparkline";class y extends a.PureComponent{constructor(e){super(e),this.sparklines=new Map,this.lastFrameTime=null,this.tsmerMetrics=new _.s,this.updateTimers=()=>{if(this.tsmerMetrics.onFrame(),null==this.lastFrameTime)this.lastFrameTime=performance.now();else{let e=performance.now(),t=this.sparklines.get("inter-frame-time");t&&t.append(e-this.lastFrameTime);let i=this.sparklines.get("fps");i&&i.append(1e3/(e-this.lastFrameTime)),this.lastFrameTime=e}let e=this.sparklines.get("total-memory");e&&e.append(b((0,h.aW)()??0));let t=this.sparklines.get("cpp-heap-memory");t&&t.append(b(r.hM?.getTotalUsedHeapMemory()??0));let i=this.sparklines.get("gpu-memory");i&&r.hM?.getMemStatsTotal&&i.append(b(r.hM.getMemStatsTotal(r.YO.RENDERER)));let n=this.sparklines.get("cpp-malloc-call-count");n&&n.append(r.hM?.getAllocCallCount()??0);let a=this.sparklines.get("cpp-malloc-size-totals");a&&a.append((r.hM?.getAllocTotal()??0)/1024),r.hM?.resetAllocCountsAndTotal();let s=this.sparklines.get("render-job-queue-length");s&&s.append(d.qh?.getRendererJobQueueLength()??0);let o=this.sparklines.get("render-tree-swap-time");o&&o.append(this.tsmerMetrics.lastEditFrameTime());let u=this.sparklines.get("render-tree-stale-time");u&&u.append(this.tsmerMetrics.lastFrameStaleness());let _=this.sparklines.get("estimated-viewport-coverage");_&&_.append(d.GT?.estimatedViewportRenderCoverage(l.pWM.DEFINITELY_COVERED_ONLY)??0);let m=this.sparklines.get("min-sharpness");m&&m.append(d.GT?.minViewportSharpness()??0);let p=this.sparklines.get("avg-sharpness");p&&p.append(d.GT?.avgViewportSharpness()??0);let g=c.rH.report(),f=[],E=e=>{f.push(e.name);let t=this.sparklines.get(f.join(","));for(let i of(t&&t.updateFromTimer(e),e.children))E(i);f.pop()};for(let e of g)E(e);requestAnimationFrame(this.updateTimers)},this.sparklineRef=e=>t=>{t&&this.sparklines.set(e.join(","),t)},this.frameRequest=null,this.renderHUDNode=(e,t=[])=>{let i=t.concat([e.id]),a=150-10*t.length,s=m.sx.add({color:"black"}).$.color,o=m.sx.add({backgroundColor:"white"}).$.backgroundColor,r=!!(this.state?.nodesHiddenState??{})[e.id];return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:p.n5,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:{backgroundColor:"gray",display:"inline-block",marginRight:"2px"},onClick:()=>{this.toggleNodeHidden(e.id)},children:r?"(+)":"(-)"}),e.label]}),!r&&(0,n.jsx)(E,{ref:this.sparklineRef(i),fg:s,bg:o,barWidth:e.barWidth,max:e.max,height:40,autoResize:!!e.autoResize,width:a})]})}),e.children&&!r&&(0,n.jsx)("div",{className:p.Q3,children:e.children.map(e=>this.renderHUDNode(e,i))})]},e.id)},this.state={nodesHiddenState:e.showAllExpanded?{}:{fps:!0,react:!0,frame:!0,"fullscreen-handle-event":!0,"cpp-malloc-call-count":!0,"cpp-malloc-size-totals":!0,"total-memory":!0,"cpp-heap-memory":!0,"gpu-memory":!0,"render-job-queue-length":!0,"render-tree-swap-time":!0,"render-tree-stale-time":!0,"estimated-viewport-coverage":!0,"min-sharpness":!0,"avg-sharpness":!0}}}componentDidMount(){this.frameRequest=requestAnimationFrame(this.updateTimers)}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}toggleNodeHidden(e){let t=this.state?.nodesHiddenState??{},i=!!t[e];this.setState({nodesHiddenState:{...t,[e]:!i}})}render(){let e=this.props.isFigjamFile?0:parseInt("240px",10)+5,t=(0,u.bG)()+5;return(0,n.jsx)("div",{className:p.vY,style:{right:e,top:t},children:g.map(e=>this.renderHUDNode(e))})}}y.displayName="PerfHUD";let S=null;function T(e,t){return S?(s.unmountComponentAtNode(S),document.body.removeChild(S),S=null,!1):(S=document.createElement("div"),document.body.appendChild(S),(0,o.createRoot)(S).render((0,n.jsx)(y,{isFigjamFile:e,showAllExpanded:t})),!0)}},604731(e,t,i){i.d(t,{r2:()=>_,Tu:()=>m,y5:()=>u,JH:()=>p});var n=i(239976),a=i(105652),s=i(819399),o=i(156829),r=i(350923),l=i(970463),d=i(224542),c=i.n(d);function u(e){let t=(0,a.useMemo)(()=>(0,r.eU)(!0),[]),[i,n]=(0,r.fp)(e||t);return(0,a.useCallback)(()=>{e&&n(!1)},[e,n])}function _({isPanelBodyCollapsedAtom:e}){let t=(0,a.useMemo)(()=>(0,r.eU)(!0),[]),i=(0,r.md)(e||t),l=null===e;return(0,n.jsx)("div",{className:c()("collapsible_panel--icon--mh39w",{"collapsible_panel--hiddenIcon--A9QLo":l}),"aria-hidden":l,children:i?(0,n.jsx)(s.k,{}):(0,n.jsx)(o.O,{})})}function m({isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}){return e?(0,n.jsx)(h,{isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}):(0,n.jsx)(n.Fragment,{children:t})}function h({isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}){let[a,s]=(0,r.fp)(e);return(0,n.jsx)(l.GG,{className:c()("collapsible_panel--collapseExpandToggleArea--o2Gsr",{"collapsible_panel--collapseExpandToggleAreaCollapsed--e6uDq":a}),onMouseDown:()=>{s(!a)},recordingKey:i,children:t})}function p({isPanelBodyCollapsedAtom:e,children:t}){return e?(0,n.jsx)(g,{isPanelBodyCollapsedAtom:e,children:t}):(0,n.jsx)(n.Fragment,{children:t})}function g({isPanelBodyCollapsedAtom:e,children:t}){let i=(0,r.md)(e);return(0,n.jsx)("div",{className:i?"collapsible_panel--panelBodyHidden--Tuu-L":void 0,children:t})}},560070(e,t,i){i.d(t,{B1:()=>V,ES:()=>X,TC:()=>B,WP:()=>G,kN:()=>K});var n=i(105652),a=i(523924),s=i(706354),o=i(98930),r=i(350923),l=i(779757),d=i(37760),c=i(270351),u=i(181645),_=i(151524),m=i(462198),h=i(946182),p=i(354991),g=i(12633),f=i(472280),E=i(575425),b=i(578880),y=i(847160),S=i(94241),T=i(437900),v=i(363689),R=i(10104),I=i(435737),x=i(754958),A=i(961429),O=i(574310),N=i(948240),C=i(708822),L=i(85181),w=i(915961),D=i(646350),j=i(439286),k=i(74626),P=i(428323),M=i(134345),F=i(134123),U=i(27261);let G=(0,r.eU)({currentSearch:null}),V=(0,r.eU)({type:w.IS.ALL});function B({debounceWait:e=300,onSearchSuccess:t}){let i=(0,F.s)(),a=(0,r.Xr)(G),s=(0,c.A)(X,e),o=(0,n.useCallback)(()=>{s.cancel(),a(()=>({currentSearch:null}))},[s,a]);return{debouncedAssetSearch:(0,n.useCallback)((e,n)=>{e?s({type:"input-text",query:e,assetTypeOption:n,isKnownLibrary:i},t):o()},[s,o,i,t]),clearAssetSearchAndCancelDebounce:o,cancelDebouncedAssetSearch:s.cancel,flushDebouncedAssetSearch:s.flush}}async function X(e,t){let i=_.D.getState(),n=(0,S.tB)(i),c=(0,L.vx)(i),p=(0,A.B0)(),g=await (0,P.Ci)("input-text"===e.type),O=r.zl.get((0,j.cY)("fileKey")),w=r.zl.get((0,j.cY)("libraryKey")),D=(0,U.Jh)(i.selectedView)?"figmake":"input-text"===e.type?"actions_assets_tab":"actions_visual_search";if(!n||null==c)return;let F=(0,d.g)(),V=r.zl.get(M.dd);r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.loading()}}));try{let s,d=1;for(;!(0,x.Wg)(_.D.getState())&&d<=50;)await new Promise(e=>setTimeout(e,200*d)),d++;if(!(0,x.Wg)(_.D.getState()))throw Error("Failed to initialize assets");i=_.D.getState();let m={...e,openFile:(0,S.tB)(i),selectedView:(0,C.h)(i),inDesignEditor:(0,b.XE)((0,C.h)(i))===E.nT.Design,fileVersion:c,currentOrgId:(0,T.eD)(i),fileByKey:(0,L.t_)(i),libraryByLibraryKey:r.zl.get(y.qp),includeVisualAssets:r.zl.get(k.lj).length>0,usedAssetKeys:(0,T.ET)(i,_.D.dispatch)},P={sessionId:V??"",queryId:F,entryPoint:D,queryType:m.type.replace("input-",""),aiResultsEnabled:g,productType:(0,f.pi)({editorType:n?.editorType}),libraryKey:(0,o.l)(i.openFile?.libraryKey??""),fileKey:n?.key,subscribedLibraryFileKeys:O,subscribedLibraryKeys:w};switch(m.type){case"input-text":{x.YG.refreshSourcesIfNeeded(_.D);let{query:e,assetTypeOption:t}=m,i=(await (0,v.V)(e,t,R.Cn.QuickActions,{sessionId:V??void 0,queryId:F})).normalizedSearchResults;i=i.filter(e=>m.isKnownLibrary(e)),s=(0,x.Ow)(i);break}case"input-image":s=await z(m,V,F),await (0,A.eB)({results:s,...P});break;case"input-selection":s=await W(m,V,F),await (0,A.eB)({results:s,...P});break;default:(0,a.xb)(m)}if(r.zl.get(G).currentSearch?.queryId!==F)return;null===V&&(0,u.sx)("asset_search.missing_session_id",{previousSessionId:i.search.lastLoadedQuery.sessionId,entryPoint:R.g_[R.Cn.QuickActions]},{forwardToDatadog:!0});let{elapsedTime:M,backgrounded:U}=p();if(!("input-text"===m.type&&await (0,I.Z)())){let e={aiResultsEnabled:g,elapsedTime:M,backgrounded:U,query:"input-text"===m.type?m.query:void 0,queryId:F,subscribedSearchResultCount:s.length,entryPoint:D,fileKey:n?.key,numSubscribedLibraries:r.zl.get(j.I1).data?.length??0,queryType:m.type.replace("input-",""),selectedViewFileKey:"fullscreen"===i.selectedView.view&&i.selectedView.fileKey?i.selectedView.fileKey:void 0,totalShownResults:s.length,tier:r.zl.get((0,N.KK)(!0)).data?.tier,planId:n?.plan?.id??void 0,planParentId:n?.planPublicInfo?.key?.parentId??void 0};await (0,h.hW)("exp_asset_search_refactor"),u.az.trackDefinedEvent("assets_panel.search_time",{...e,searchSessionId:V??""}),u.az.trackDefinedEvent("asset_search.query_result",{...e,sessionId:V??""})}r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.loaded(s)}})),t&&t()}catch(t){if((0,m.$D)(s.FigmaTeam.SEARCH,t),r.zl.get(G).currentSearch?.queryId!==F)return;r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.error(t)}}))}}function H(e,t,i){let n;return e.assetTypeOption.type===w.IS.FILE?n=[e.assetTypeOption.libraryKey]:i&&(x.YG.subscribedLibraryKeys.size<O.UR?n=Array.from(x.YG.subscribedLibraryKeys):(0,u.sx)("actions_visual_search.maximum_subscribed_libraries_reached",{searchSessionId:t,fileKey:e.openFile?.key,fileVersion:e.fileVersion,currentOrgId:e.currentOrgId,numSubscribedLibraryKeys:Array.from(x.YG.subscribedLibraryKeys).length})),n}async function z(e,t,i){let{usedProductComponentsOnPage:n,usedProductComponentsFromUnsubscribedLibrary:a}=await (0,O.cu)(_.D.getState(),x.YG.subscribedLibraryKeys,e.openFile?.libraryKey?(0,o.l)(e.openFile.libraryKey):(0,o.l)("")),s=await (0,g.yt)(e.imageFile),r=(0,g.m1)(new p.Mi(s.width,s.height)),l=await (0,g.SW)(s,r,e.imageFile);return(await D.$W.postComponentsFromImage(l,{openFileKey:e.openFile?.key||"",searchSessionId:t||"",queryId:i,subscribedLibraryKeys:H(e,t,await (0,P.Ci)(!1)),usedProductComponents:n,usedProductComponentsFromUnsubscribedLibrary:a,productType:e.openFile?.editorType?.toString(),tier:(0,O.Al)()})).data.meta}async function W(e,t,i){let n=(0,g.T1)(e.node);if(!n)throw Error("Failed to export thumbnail");let{usedProductComponentsOnPage:a,usedProductComponentsFromUnsubscribedLibrary:s}=await (0,O.cu)(_.D.getState(),x.YG.subscribedLibraryKeys,e.openFile?.libraryKey?(0,o.l)(e.openFile.libraryKey):(0,o.l)(""));return(await D.$W.postComponentsFromImage({type:"image",value:n},{openFileKey:e.openFile?.key||"",searchSessionId:t||"",queryId:i,subscribedLibraryKeys:H(e,t,await (0,P.Ci)(!1)),usedProductComponents:a,usedProductComponentsFromUnsubscribedLibrary:s,productType:e.openFile?.editorType?.toString(),tier:(0,O.Al)()})).data.meta}function K(e){let{currentSearch:t}=r.zl.get(G);return null===t||"input-text"!==t.input.type?e.length>0:t.input.query!==e}},99156(e,t,i){i.d(t,{OZ:()=>r,f7:()=>l});var n=i(523924),a=i(3752),s=i(490753);function o(e){switch(e){case s.xH.CONTROL:return a.A.mac?"\u2303":"Ctrl";case s.xH.ALT:return a.A.mac?"\u2325":"Alt";case s.xH.SHIFT:return"\u21E7";case s.xH.META:return a.A.mac?"\u2318":"Ctrl";default:(0,n.xb)(e)}}function r(e){let{modifier:t,key:i}=e,a=t?.map(o).join()??"",r=function(e){switch(e){case s.Uz.BACKSPACE:return"\u232B";case s.Uz.TAB:return"Tab";case s.Uz.ENTER:return"\u23CE";case s.Uz.ESCAPE:return"Esc";case s.Uz.SPACE:return"Space";case s.Uz.LEFT_ARROW:return"\u2190";case s.Uz.UP_ARROW:return"\u2191";case s.Uz.RIGHT_ARROW:return"\u2192";case s.Uz.DOWN_ARROW:return"\u2193";case s.Uz.DELETE:return"Delete";case s.Uz.PERIOD:return".";case s.Uz.KEY_0:return"0";case s.Uz.KEY_1:return"1";case s.Uz.KEY_2:return"2";case s.Uz.KEY_3:return"3";case s.Uz.KEY_4:return"4";case s.Uz.KEY_5:return"5";case s.Uz.KEY_6:return"6";case s.Uz.KEY_7:return"7";case s.Uz.KEY_8:return"8";case s.Uz.KEY_9:return"9";case s.Uz.A:return"A";case s.Uz.B:return"B";case s.Uz.C:return"C";case s.Uz.D:return"D";case s.Uz.E:return"E";case s.Uz.F:return"F";case s.Uz.G:return"G";case s.Uz.H:return"H";case s.Uz.I:return"I";case s.Uz.J:return"J";case s.Uz.K:return"K";case s.Uz.L:return"L";case s.Uz.M:return"M";case s.Uz.N:return"N";case s.Uz.O:return"O";case s.Uz.P:return"P";case s.Uz.Q:return"Q";case s.Uz.R:return"R";case s.Uz.S:return"S";case s.Uz.T:return"T";case s.Uz.U:return"U";case s.Uz.V:return"V";case s.Uz.W:return"W";case s.Uz.X:return"X";case s.Uz.Y:return"Y";case s.Uz.Z:return"Z";case s.Uz.NUMPAD_0:return"0";case s.Uz.NUMPAD_1:return"1";case s.Uz.NUMPAD_2:return"2";case s.Uz.NUMPAD_3:return"3";case s.Uz.NUMPAD_4:return"4";case s.Uz.NUMPAD_5:return"5";case s.Uz.NUMPAD_6:return"6";case s.Uz.NUMPAD_7:return"7";case s.Uz.NUMPAD_8:return"8";case s.Uz.NUMPAD_9:return"9";default:(0,n.xb)(e)}}(i);return`${a}${r}`}function l(e){return e.map(r).join(" or ")}},363127(e,t,i){i.d(t,{b:()=>s});var n=i(350923),a=i(560070);function s(){n.zl.set(a.WP,{currentSearch:null})}},284927(e,t,i){i.d(t,{t:()=>s});var n=i(350923),a=i(258748);let s=(0,n.tx)(a.BY.ALL)},686273(e,t,i){i.d(t,{R:()=>l});var n=i(350923),a=i(423924),s=i(12633),o=i(428323),r=i(818639);function l(){n.zl.set(a.q4),(0,r.C7)()&&n.zl.set(s.hO.currentSearchAtom,null),(0,o.P5)()&&n.zl.set(s.hO.currentCommunitySearchAtom,null)}},125811(e,t,i){i.d(t,{A:()=>s});var n=i(239976);i(574988);var a=i(766205);function s({borderRadiusStyle:e}){return(0,n.jsx)("div",{...{className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x5yr21d x78zum5 x6s0dn4 xl56j7k xkszdks x1c6el4k xz4fkyq x17t6hpn x1ewlznk x1c74tu6 x1esw782 xa4qsjk xfo81ep x47corl xb3r6kr"},style:e,children:(0,n.jsx)(a.H,{})})}},44412(e,t,i){i.d(t,{D:()=>V});var n=i(239976),a=i(105652),s=i(645186),o=i(442549),r=i(706354),l=i(395227),d=i(71239),c=i(297151),u=i(145906),_=i(850159);i(574988);var m=i(214030),h=i(195784),p=i(865804),g=i(655673),f=i(568660),E=i(684325),b=i(360214),y=i(113116),S=i(517436),T=i(660983),v=i(613629),R=i(397383),I=i(490731),x=i(634634),A=i(983256),O=i(38900),N=i(936652),C=i(473397),L=i(39970),w=i(999886),D=i(862958),j=i(387960),k=i(508295),P=i(487817),M=i(113641),F=i(547315),U=i(566840);function G({actionText:e,planUser:t,plan:i,licenseType:a,trackingProperties:s,billingMechanicsText:o}){let r=(0,n.jsx)(S.o,{href:"https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma",trusted:!0,newTab:!0,trackingProperties:{...s,trackingContext:M.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.LEARN_MORE,licenseType:a},...{className:"x1quhyk7 x1ypdohk"},children:(0,_.t)("admin_auto_upgrade_confirmation_modal.body.link_text.learn_more")}),l=(0,k.iZ)(),d=a?(0,w.F2)(a):null,c=t?.id?.split("::").pop()||"0",u=t?.userId||"0",h=(0,A.UL)({planType:i.key.type,targetPlanUserId:c,targetUserId:u}),p=h.data?.planUserById??{currentSeat:null},g=p.currentSeat?.billingInterval??null,{calculateCostForSeatTypeIncrease:f,status:E}=(0,I.n)(i||{key:{parentId:"",type:P.OL.TEAM}},{userId:l?.id??"",currentSeat:{billableProductKey:p.currentSeat?.billableProductKey??void 0,billingInterval:g??void 0},billableProductKey:d,email:l?.email??""}),y=i&&"loaded"===E?f():null,T=!!(y&&(null!=y.price||"available_seat"===y.reason||"missing_currency"===y.reason||"missing_price"===y.reason)),v=(0,C.mA)(T,i?.key.type);if("loading"===E)return(0,n.jsx)(b.Wi,{...{className:"x1mjqqkp xklzc6b x68ok92"},animationType:b.JR.SHIMMER});if("loaded"===E&&y&&v()){let t=(0,_.tx)("admin_auto_upgrade_confirmation_modal.body.legacy_mechanics");return null==y.price&&"available_seat"===y.reason?t=(0,_.tx)("admin_auto_upgrade_confirmation_modal.body.seat_swap",{seatType:d?(0,j.QC)(d):"",learnMore:r}):null!=y.price?t=(0,_.tx)("admin_auto_upgrade_confirmation_modal.body.seat_price",{cost:y.price,learnMore:r}):null==y.price&&("missing_currency"===y.reason||"missing_price"===y.reason)&&(t=(0,_.tx)("admin_auto_upgrade_confirmation_modal.body.proration_mechanics")),(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)("div",{className:"x1mjqqkp x1n0bwc9",children:t})]})}return(0,n.jsxs)("span",{children:[e,o]})}let V=(0,N.Ju)(function({licenseType:e,seatType:t,onRequest:i,onClose:I,open:A,afterRequest:N,trackingProperties:C,planName:j,planUser:k,plan:P,isEduTeam:V,entryPoint:B,planDataForSocialProof:X}){let H=(0,s.wA)(),z=(0,g.L)(r.FigmaTeam.EXPANSION),W=(0,x.k)(),K=(0,L.R)({licenseType:e,planDataForSocialProof:X,entryPoint:B??"admin-auto-upgrade-confirmation-modal"}),q=()=>{H(O.Lo())},$=l.hS({open:A,onClose:()=>{(0,h.Cu)({...C,trackingContext:M.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.CANCEL}),I()}}),Y=(0,a.useMemo)(()=>V?null:W?(0,_.t)("admin_auto_upgrade_confirmation_modal.body.proration_mechanics"):(0,_.t)("admin_auto_upgrade_confirmation_modal.body.legacy_mechanics"),[V,W]),J=(0,D.k0)(t,B),Z=(0,n.jsx)(S.o,{href:"https://www.figma.com/pricing/",trusted:!0,newTab:!0,style:T.sx.colorTextBrand.cursorPointer.$,trackingProperties:{...C,trackingContext:M.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.OTHER_PRODUCTS},children:(0,_.t)("admin_auto_upgrade_confirmation_modal.body.other_products")}),Q=(0,n.jsx)(S.o,{href:"https://www.figma.com/pricing/",trusted:!0,newTab:!0,style:T.sx.colorTextBrand.cursorPointer.$,trackingProperties:{...C,trackingContext:M.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.ALL_PRODUCTS},children:(0,_.t)("admin_auto_upgrade_confirmation_modal.body.all_figma_products")}),ee=(0,D.So)(e,j,Z,Q,t,B);return(0,n.jsx)(E.tH,{boundaryKey:"AdminAutoUpgradeConfirmationModal",fallback:E.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.FigmaTeam.EXPANSION},onError:()=>{H(v.F.enqueue({message:(0,_.t)("admin_auto_upgrade_confirmation_modal.error"),error:!0}))},children:(0,n.jsx)(p.fu,{name:M.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,properties:C,trackingOptions:z,children:(0,n.jsx)(u.J,{brand:(0,w.ju)(e),children:(0,n.jsxs)(d.bL,{manager:$,width:360,children:[(0,n.jsxs)(c.vo,{children:[(0,n.jsx)(c.Y9,{children:(0,n.jsx)(c.hE,{children:J})}),(0,n.jsxs)(c.nB,{padding:0,children:[(0,n.jsx)(U.T,{licenseType:e}),(0,n.jsx)(R.Y,{padding:{top:8,bottom:8,left:16,right:16},children:(0,n.jsx)("div",{...{className:"x13faqbe"},children:o.v.getFeatureGate("should_fetch_pricing_for_admin_self_upgrade")?(0,n.jsx)(f.n,{boundaryKey:"AdminAutoUpgradePricingSection",errorFallback:(0,n.jsxs)("span",{children:[ee,(0,n.jsx)("span",{children:Y})]}),loadingFallback:(0,n.jsx)(b.Wi,{...{className:"x1mjqqkp xklzc6b x68ok92"},animationType:b.JR.SHIMMER}),children:(0,n.jsx)(G,{actionText:ee,planUser:k,plan:P,licenseType:e,trackingProperties:C,billingMechanicsText:Y})}):(0,n.jsxs)("span",{children:[ee,Y]})})})]}),(0,n.jsx)(c.wi,{children:(0,n.jsx)(c.jk,{children:(0,n.jsx)(y.$z,{onClick:e=>{(0,a.startTransition)(()=>{i(e,q).then(()=>{N?.(e)})})},trackingProperties:{trackingDescriptor:m.c.UPGRADE},trackingOptions:z,children:(0,_.tx)("auto_upgrade_confirmation_modal.cta_text")})})})]}),K.seatType&&(0,n.jsx)(c.vo,{...{className:"x1xmf6yo xh8yej3"},children:(0,n.jsx)(c.nB,{padding:0,children:(0,n.jsx)(F.w,{seatType:K.seatType,licenseType:K.licenseType,entryPoint:K.entryPoint,planData:K.planData})})})]})})})})},"AdminAutoUpgradeConfirmationModal")},560512(e,t,i){i.d(t,{$:()=>g});var n=i(239976),a=i(395227),s=i(71239),o=i(297151),r=i(850159);i(574988);var l=i(214030),d=i(865804),c=i(113116),u=i(936652),_=i(487817),m=i(931852),h=i(566840);function p(e){let t=a.hS({open:e.open,onClose:e.onClose});return(0,m.r)(),(0,n.jsx)(s.bL,{manager:t,width:340,children:(0,n.jsxs)(o.vo,{children:[(0,n.jsx)(o.r1,{children:(0,n.jsx)("div",{children:(0,r.tx)("1_click_expansion.you_now_have_full_access")})}),(0,n.jsxs)(o.nB,{children:[(0,n.jsx)("div",{...{className:"x1v4kod4 x14p8jc9 x13ktmxq x1n2onr6"},children:(0,n.jsx)(h.T,{licenseType:_.G_.DESIGN})}),(0,n.jsx)("div",{...{className:"x1vi7shn"},children:e.children})]}),(0,n.jsx)(o.wi,{children:(0,n.jsx)(o.jk,{children:(0,n.jsx)(c.$z,{autoFocus:!0,variant:"primary",onClick:e.onRequestUpgrade||e.onClose,trackingProperties:{trackingDescriptor:l.c.CONTINUE},children:(0,r.tx)("request_upgrade.continue_button")})})})]})})}let g=(0,u.Ju)(function(e){return(0,n.jsx)(d.fu,{name:"Ask To Edit One Click Auto Confirmation Modal",children:(0,n.jsxs)(p,{...e,children:[(0,n.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,r.tx)("1_click_expansion.you_now_have_full_access")}),(0,n.jsx)("div",{...{className:"x1vi7shn"},children:(0,r.tx)("1_click_expansion.you_now_have_a_full",{planName:e.planName})})]})})})},424696(e,t,i){i.d(t,{t:()=>D});var n=i(239976),a=i(105652),s=i(645186),o=i(706354),r=i(395227),l=i(71239),d=i(297151),c=i(145906),u=i(850159);i(574988);var _=i(214030),m=i(195784),h=i(865804),p=i(655673),g=i(684325),f=i(113116),E=i(613629),b=i(397383),y=i(39304),S=i(38900),T=i(936652),v=i(473397),R=i(39970),I=i(999886),x=i(862958),A=i(387960),O=i(113641),N=i(547315),C=i(566840),L=i(304272),w=i(418134);let D=(0,T.Ju)(function({licenseType:e,seatType:t,onRequest:i,onClose:T,open:D,afterRequest:j,trackingProperties:k,planName:P,entryPoint:M,planDataForSocialProof:F}){let U=(0,s.wA)(),[G,V]=a.useState(!1),B=(0,p.L)(o.FigmaTeam.EXPANSION),X=(0,v.I4)(M),H=()=>{U(S.Lo())},z=(0,R.R)({licenseType:e,planDataForSocialProof:F,entryPoint:M??"auto-upgrade-confirmation-modal"}),W=async e=>{G||(V(!0),await i(e,H),j?.(e),V(!1))},K=r.hS({open:D,onClose:()=>{(0,m.Cu)({...k,trackingContext:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:_.c.CANCEL}),T()}}),q=(0,x.qS)(e,t,M),$=(0,L.KL)(e,P,M);if(M&&M===y.tc.USER_SETTINGS&&(q=(0,x.k0)(t,M),$=(0,L.m3)(e,P)),X()){let a=(0,A.DY)(t);return(0,n.jsx)(g.tH,{boundaryKey:"AutoUpgradeConfirmationModal",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.FigmaTeam.EXPANSION},onError:()=>{U(E.F.enqueue({message:(0,u.t)("request_upgrade.modal.error"),error:!0}))},children:(0,n.jsx)(w.G,{afterRequest:j,bodyText:a,buttonText:(0,u.t)("auto_upgrade_confirmation_modal.seat_centric.continue"),buttonTrackingDescriptor:_.c.CONTINUE,entryPoint:M??y.tc.ASK_TO_EDIT,licenseType:e,onClickRequestAsync:i,onClose:T,open:D,planName:P,seatType:t,trackedContextName:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,trackingProperties:k})})}return(0,n.jsx)(g.tH,{boundaryKey:"AutoUpgradeConfirmationModal",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.FigmaTeam.EXPANSION},onError:()=>{U(E.F.enqueue({message:(0,u.t)("request_upgrade.modal.error"),error:!0}))},children:(0,n.jsx)(h.fu,{name:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,properties:k,trackingOptions:B,children:(0,n.jsx)(c.J,{brand:(0,I.ju)(e),children:(0,n.jsxs)(l.bL,{manager:K,width:360,children:[(0,n.jsxs)(d.vo,{children:[(0,n.jsx)(d.Y9,{children:(0,n.jsx)(d.hE,{children:q})}),(0,n.jsxs)(d.nB,{padding:0,children:[(0,n.jsx)(C.T,{licenseType:e}),(0,n.jsx)(b.Y,{padding:{top:8,bottom:8,left:16,right:16},children:(0,n.jsx)("div",{className:"x13faqbe",children:$})})]}),(0,n.jsx)(d.wi,{children:(0,n.jsx)(d.jk,{children:(0,n.jsx)(f.$z,{disabled:G,onClick:W,trackingProperties:{trackingDescriptor:_.c.UPGRADE},trackingOptions:B,children:(0,u.tx)("auto_upgrade_confirmation_modal.cta_text")})})})]}),z.seatType&&(0,n.jsx)(d.vo,{...{className:"x1xmf6yo xh8yej3"},children:(0,n.jsx)(d.nB,{padding:0,children:(0,n.jsx)(N.w,{seatType:z.seatType,licenseType:z.licenseType,entryPoint:z.entryPoint,planData:z.planData})})})]})})})})},"AutoUpgradeConfirmationModal")},304272(e,t,i){i.d(t,{HY:()=>u,KL:()=>h,m3:()=>m,sp:()=>_});var n=i(523924),a=i(850159),s=i(39304),o=i(63504),r=i(999886),l=i(862958),d=i(487817),c=i(729370);let u={type:"RequestUpgradeModal"};function _(e,t,i,n,u){if(n===s.tc.USER_SETTINGS)switch(u){case o.ud.COLLABORATOR:return(0,a.tx)("request_upgrade_modal.body.collab");case o.ud.CONTENT:return(0,a.tx)("request_upgrade_modal.body.content");case o.ud.DEVELOPER:return(0,a.tx)("request_upgrade_modal.body.dev");case o.ud.EXPERT:return(0,a.tx)("request_upgrade_modal.body.full")}return n===s.tc.PUBLISH_SITES&&e===d.G_.FIGMAKE?(0,a.tx)("request_upgrade_modal.body.figmake.publish"):(0,s.Ds)(n)&&u===o.ud.EXPERT?(0,c.T3)()?(0,a.tx)("request_upgrade_modal.body.higher_ai_credit_limits",{planName:t}):(0,a.tx)("request_upgrade_modal.body.ai_ga.higher_limits",{productName:(0,r.VG)(e)}):(0,l.hA)(e,t,i,n)}function m(e,t){switch(e){case d.G_.DESIGN:case d.G_.SITES:case d.G_.FIGMAKE:return(0,a.tx)("auto_upgrade_confirmation_modal.body.full",{planName:t});case d.G_.DEV_MODE:return(0,a.tx)("auto_upgrade_confirmation_modal.body.dev",{planName:t});case d.G_.SLIDES:case d.G_.WHITEBOARD:return(0,a.tx)("auto_upgrade_confirmation_modal.body.collab",{planName:t});case d.G_.COOPER:case d.G_.CMS_STRUCTURE:case d.G_.CMS_CONTENT:return null;default:(0,n.xb)(e)}}function h(e,t,i){switch(e){case d.G_.DESIGN:if((0,c.T3)()&&(0,s.Ds)(i))return(0,a.tx)("auto_upgrade_confirmation_modal.body.design_higher_ai_credit_limits",{planName:t});if(i===s.tc.FILE_ROLE_INVITE_REDEEM)return(0,a.tx)("auto_upgrade_confirmation_modal.body.design_invite_redeem",{planName:t});return(0,a.tx)("auto_upgrade_confirmation_modal.body.design",{planName:t});case d.G_.WHITEBOARD:if((0,c.T3)()&&(0,s.Ds)(i))return(0,a.tx)("auto_upgrade_confirmation_modal.body.figjam_higher_ai_credit_limits",{planName:t});if(i===s.tc.FILE_ROLE_INVITE_REDEEM)return(0,a.tx)("auto_upgrade_confirmation_modal.body.figjam_invite_redeem",{planName:t});return(0,a.tx)("auto_upgrade_confirmation_modal.body.figjam",{planName:t});case d.G_.SLIDES:if((0,c.T3)()&&(0,s.Ds)(i))return(0,a.tx)("auto_upgrade_confirmation_modal.body.slides_higher_ai_credit_limits",{planName:t});if(i===s.tc.FILE_ROLE_INVITE_REDEEM)return(0,a.tx)("auto_upgrade_confirmation_modal.body.slides_invite_redeem",{planName:t});return(0,a.tx)("auto_upgrade_confirmation_modal.body.slides",{planName:t});case d.G_.SITES:if((0,c.T3)()&&(0,s.Ds)(i))return(0,a.tx)("auto_upgrade_confirmation_modal.body.sites_higher_ai_credit_limits",{planName:t});if(i===s.tc.FILE_ROLE_INVITE_REDEEM)return(0,a.tx)("auto_upgrade_confirmation_modal.body.sites_invite_redeem",{planName:t});return(0,a.tx)("auto_upgrade_confirmation_modal.body.sites",{planName:t});case d.G_.FIGMAKE:if((0,c.T3)()&&(0,s.Ds)(i))return(0,a.tx)("auto_upgrade_confirmation_modal.body.figmake_higher_ai_credit_limits",{planName:t});if(i===s.tc.FILE_ROLE_INVITE_REDEEM)return(0,a.tx)("auto_upgrade_confirmation_modal.body.figmake_invite_redeem",{planName:t});return(0,a.tx)("auto_upgrade_confirmation_modal.body.figmake",{planName:t});case d.G_.COOPER:case d.G_.CMS_STRUCTURE:case d.G_.CMS_CONTENT:case d.G_.DEV_MODE:return null;default:(0,n.xb)(e)}}},885339(e,t,i){i.d(t,{u:()=>k});var n=i(239976),a=i(105652),s=i(645186),o=i(523924),r=i(706354),l=i(67548),d=i(145906),c=i(416815),u=i(850159),_=i(843489),m=i(574988),h=i(214030),p=i(865804),g=i(838719),f=i(227031),E=i(462198),b=i(834116),y=i(613629),S=i(311062),T=i(38900),v=i(936652),R=i(63504),I=i(94241),x=i(487817),A=i(948575),O=i(746354),N=i(270360);let C="cb2673de5dce908e59e849955b564818efb747a6",L={kZKoxP:"x1peatla",kmVPX3:"xf7z5ut",kaIpWk:"x19y5rnk",kC7eKd:"x1sjmt1f",kHenm0:"xtt52l0",k8Qsv1:"xuggh6c",$$css:!0};function w(e){let{note:t,onChange:i}=e;return(0,n.jsxs)("div",{...{className:"x4ygwfs x78zum5 xdt5ytf x1nfngrj"},children:[(0,n.jsx)("span",{...m.xk(c.g.textBodyMedium),children:(0,u.tx)("seat_selection_in_nux.note_prompt")}),(0,n.jsx)("textarea",{...m.xk(L,c.g.textBodyMedium),placeholder:(0,u.t)("seat_selection_in_nux.note_placeholder",{seat_type:(0,S.tI)(e.seatType)}),value:t,onChange:e=>i(e.target.value),rows:3})]})}let D={[R.ud.COLLABORATOR]:"whiteboard",[R.ud.DEVELOPER]:"dev-handoff",[R.ud.EXPERT]:"design",[R.ud.CONTENT]:"cooper"};function j(e){let[t,i]=(0,a.useState)(""),{color:c}=(0,l.G)(),m=(0,s.wA)(),f=(0,N.U)("nux_seat_request_confirmation_modal"),S=(0,I.q5)();(0,_.h)(()=>{e.autoApproved||e.requestId||function(e){if((0,g.isDevEnvironment)())throw e;(0,E.$D)(r.FigmaTeam.ACTIVATION,e),m(T.ES(k)),m(y.F.enqueue({message:(0,u.t)("general.an_error_occurred"),error:!0}))}(Error("No request ID for post-NUX seat request confirmation modal"))});let v=async i=>{let n=!1;if(!e.autoApproved&&i&&t.length>0)if(e.requestId)try{let i=e.requestId;i?await A.w.updateRequestMessage({request_id:i,message:t}):n=!0}catch(e){n=!0}else n=!0;m(T.ES(k)),e.seatType===R.ud.DEVELOPER&&S?.editorType===x._Y.DESIGN&&f("handoff"),n&&m(y.F.enqueue({message:(0,u.t)("general.an_error_occurred"),error:!0}))};return(0,n.jsx)(d.J,{brand:D[e.seatType],children:(0,n.jsx)(p.fu,{name:"Post NUX Seat Request Confirmation Modal Outer",children:(0,n.jsx)(O.xx,{title:(0,u.tx)("seat_selection_in_nux.welcome_to_figma"),media:(0,n.jsx)("div",{...{className:"x78zum5 x2lah0s x13a6bvl x6s0dn4 x1jgvi1y xg80ozm x1bifzbx"},children:(0,n.jsx)(b.oW,{alt:"",...{className:"xh8yej3 xgmxx4u x14vqqas"},src:((e,t)=>{if(e)switch(t){case R.ud.COLLABORATOR:return(0,g.staticAssetWithUploadsPath)(C);case R.ud.DEVELOPER:return(0,g.staticAssetWithUploadsPath)("bb9c1da4623599a5b504821d08933e4a62f77738");case R.ud.EXPERT:case R.ud.CONTENT:return(0,g.staticAssetWithUploadsPath)("e64c10dbcf541d5c046e504238332a5a4e6c3936");default:(0,o.xb)(t)}else switch(t){case R.ud.COLLABORATOR:return(0,g.staticAssetWithUploadsPath)(C);case R.ud.DEVELOPER:return(0,g.staticAssetWithUploadsPath)("c01e13ea74266be4e3bd04138f24580a366f34db");case R.ud.EXPERT:case R.ud.CONTENT:return(0,g.staticAssetWithUploadsPath)("8ccf73b4d60956f75e7d328f2f84303814551671");default:(0,o.xb)(t)}})("dark"===c,e.seatType)})}),primaryCta:{type:"button",label:(0,u.tx)("seat_selection_in_nux.continue"),onClick:v,ctaTrackingDescriptor:h.c.CONTINUE},onClose:()=>m(T.ES(k)),trackingContextName:"Post NUX Seat Request Confirmation Modal",description:(0,n.jsxs)(n.Fragment,{children:[((e,t)=>{if(e)switch(t){case R.ud.COLLABORATOR:return(0,u.tx)("seat_selection_in_nux.collab_seat_auto_approved");case R.ud.DEVELOPER:return(0,u.tx)("seat_selection_in_nux.dev_seat_auto_approved");case R.ud.EXPERT:return(0,u.tx)("seat_selection_in_nux.full_seat_auto_approved");case R.ud.CONTENT:return(0,u.tx)("seat_selection_in_nux.content_seat_auto_approved");default:(0,o.xb)(t)}else switch(t){case R.ud.COLLABORATOR:return(0,u.tx)("seat_selection_in_nux.collab_seat_manual_request");case R.ud.DEVELOPER:return(0,u.tx)("seat_selection_in_nux.dev_seat_manual_request");case R.ud.EXPERT:return(0,u.tx)("seat_selection_in_nux.full_seat_manual_request");case R.ud.CONTENT:return(0,u.tx)("seat_selection_in_nux.content_seat_manual_request");default:(0,o.xb)(t)}})(e.autoApproved,e.seatType),!e.autoApproved&&(0,n.jsx)(w,{note:t,onChange:i,seatType:e.seatType})]})})})})}let k=(0,v.Ju)(function(e){return(0,n.jsx)(f.u9,{label:"SeatRequestConfirmationModal",children:(0,n.jsx)(j,{...e})})},"NuxSeatRequestConfirmationModal")},295023(e,t,i){i.d(t,{L:()=>r});var n=i(105652),a=i(710383),s=i(985960),o=i(915548);function r(){let e=(0,o.o)(),t=(0,s.XG)()===a.A5.APPROVE_SEAT_REQUEST?a.A5.REQUESTS:a.A5.INVITE;return(0,n.useCallback)(()=>{e(t)},[e,t])}},836041(e,t,i){i.d(t,{$j:()=>l,Dp:()=>d,Fn:()=>c,M3:()=>b,U:()=>E,W7:()=>g,cH:()=>m,d4:()=>y,hP:()=>f,lX:()=>u,ml:()=>p,nM:()=>S,yJ:()=>_});var n,a,s=i(523924),o=i(850159),r=i(870527),l=((n=l||{}).DAY="24_hours",n.WEEK="7_days",n.CUSTOM="custom",n),d=((a=d||{}).TWENTY_SEC="20_seconds",a.CURRENT="current",a.DAY="24_hours",a.WEEK="7_days",a.CUSTOM="custom",a);function c(e,t){switch(t){case"24_hours":case"24_hours":return h(e.clone().add(24,"h"));case"7_days":case"7_days":return h(e.clone().add(7,"d"));default:return(0,r.A)()}}function u(e,t){let i=t.diff(e,"hours");if(i<1){let i=t.diff(e,"minutes");return{num:i<1?1:i,unit:"minute"}}if(i<24)return{num:i,unit:"hour"};let n=Math.ceil(i/24);return n%30==0?{num:Math.floor(n/30),unit:"month"}:n%7==0?{num:Math.floor(n/7),unit:"week"}:{num:n,unit:"day"}}function _(e,t){let{num:i,unit:n}=u(e,t);switch(n){case"minute":return(0,o.t)("permissions_modal.file_share_settings.minute_text",{num:i});case"hour":return(0,o.t)("permissions_modal.file_share_settings.hour_text",{num:i});case"day":return(0,o.t)("permissions_modal.file_share_settings.day_text",{num:i});case"week":return(0,o.t)("permissions_modal.file_share_settings.week_text",{num:i});case"month":return(0,o.t)("permissions_modal.file_share_settings.month_text",{num:i});default:(0,s.xb)(n)}}function m(e,t=!1){return t?e.startOf("hour"):e.clone().add(30,"minutes").startOf("hour")}function h(e,t=!1){return e.clone().add(30,"seconds").startOf("minute")}function p(e){return e.format("LT")}function g(e){return e.format("YYYY-MM-DD")}function f(e){return e.format("HH:mm")}function E(e,t){return(0,r.A)(e+" "+t,"YYYY-MM-DD HH:mm")}function b(e,t){let i=e.isSame((0,r.A)().add(1,"day"),"day"),n=p(e);if(i&&!t)return(0,o.t)("file_access_row.expiration.24_hours.timestamp",{time:n});let a=e.toDate().toLocaleDateString(e.locale(),{weekday:t?"long":"short",month:"short",day:"numeric"});return(0,r.A)().isSame(e,"year")?(0,o.t)("file_access_row.expiration.date.timestamp",{date:a,time:n}):e.format("L LT")}function y(e){return e&&!e.accessReverted&&e.expiresAt?e.expiresAt:null}function S(e){return e<24||e%24!=0?(0,o.t)("file_access_row.expiration.past_org_limit_hours",{count:e}):(0,o.t)("file_access_row.expiration.past_org_limit_days",{count:e/24})}},545001(e,t,i){i.d(t,{k:()=>h});var n=i(239976),a=i(105652),s=i(824272),o=i(50751),r=i(156829),l=i(850159);i(574988);var d=i(214030),c=i(113116),u=i(517436),_=i(965974),m=i(441571);function h({seatType:e,userInfo:t,priceString:i}){let[h,p]=(0,a.useState)(!1),g=(0,n.jsx)("div",{...{className:"x1g2dr8m xiqqdae xkezfkh x14kxzw3 x1giz659"},children:(0,l.t)("file_permissions_modal.update_seat_tab.this_may_impact_your_costs")}),f=()=>p(!h),E=(0,n.jsx)(u.Ph,{href:m.Z,trusted:!0,newTab:!0,trackingProperties:{trackingDescriptor:d.c.LEARN_MORE},children:(0,l.t)("file_permissions_modal.update_seat_tab.learn_more")}),b=i?(0,l.tx)("file_permissions_modal.update_seat_tab.if_there_is_an_available_seat_proration_enabled",{userString:t,seatType:(0,_.JT)(e),priceString:i,learnMoreLink:E}):(0,l.tx)("file_permissions_modal.update_seat_tab.if_there_is_an_available_seat_proration_not_enabled",{userString:t,seatType:(0,_.JT)(e),learnMoreLink:E});return(0,n.jsx)(s.Yy,{variant:"default",children:h?(0,n.jsxs)(o.Q,{children:[(0,n.jsxs)(c.e6,{onClick:f,trackingProperties:{trackingDescriptor:d.c.SEAT_COST_MESSAGING},...{className:"x78zum5 x1q0g3np x1qughib xh8yej3"},children:[g,(0,n.jsx)(r.O,{className:"x19jd1h0"})]}),(0,n.jsx)("div",{className:"x1rmmofs",children:b})]}):(0,n.jsxs)(c.e6,{onClick:f,trackingProperties:{trackingDescriptor:d.c.SEAT_COST_MESSAGING},...{className:"x78zum5 x1q0g3np x1qughib xh8yej3"},children:[(0,n.jsx)(o.Q,{children:g}),(0,n.jsx)(r.O,{})]})})}},201012(e,t,i){i.d(t,{dU:()=>E});var n=i(239976),a=i(105652);i(645186);var s=i(442549),o=i(757253);i(850159);var r=i(741542);i(224542);var l=i(952650);i(871823);var d=i(968360);i(86878),i(917809);var c=i(930179);i(441740);let u="accessibilitytree--node--axK70",_="accessibilitytree--disabled--Z0pA5 accessibilitytree--node--axK70",m="accessibilitytree--scrollContainer--C-8w0 accessibilitytree--node--axK70";function h({parentId:e,nodeId:t,enabled:i=!0,focusRef:o,accessibilityScope:y,viewer:S}){let T,v=(0,d.W)(t,y),R=S.getPrototypeNode(t);if(!v||!R)return null;let{isClickable:I,tag:x="div",role:A,label:O}=v,N=f.get(x)||{};switch(S.nodeType(R)){case"TABLE":T=function(e,t){let i=e.nodeTableCells(t).map(t=>({text:e.nodeTableCellContent(t),pos:e.nodeDisplayBounds(t)})).sort((e,t)=>e.pos.x<t.pos.x?-1:1),a={};for(let e of i)a[e.pos.y]?a[e.pos.y].push(e):a[e.pos.y]=[e];let s=Object.keys(a).sort((e,t)=>parseFloat(e)-parseFloat(t));return[(0,n.jsx)("div",{role:"rowgroup",children:a[s[0]].map((e,t)=>(0,n.jsx)("span",{role:"columnheader",style:{left:e.pos.x,top:e.pos.y,width:e.pos.width,height:e.pos.height}},`header-${t}`))},"table-header"),(0,n.jsx)("div",{role:"rowgroup",children:s.map((e,t)=>(0,n.jsx)("div",{role:"row","aria-rowindex":t,children:a[e].map((t,i)=>(0,n.jsx)("span",{role:"cell",className:u,style:{display:"inline-block",left:t.pos.x,top:t.pos.y,width:t.pos.width,height:t.pos.height},children:t.text},`${e}-${i}`))},e))},"table-body")]}(S,R);break;case"CODE_BLOCK":(0,r.getFeatureFlags)().slides_viewer_a11y_2&&(T=function(e,t){let i=e.mapChildren(t,e=>e)?.[0];if(!i)return[];let a=b(e,i,"Line numbers"),s=b(e,i,"Text");if(!a||!s)return[];let o=(e.nodeText(a)||"").split("\n"),r=e.nodeText(s)||"";return o.length&&r.length?[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:r})}),(0,n.jsx)("div",{className:"line-numbers",children:o.map(e=>(0,n.jsx)("span",{children:e},e))})]})]:[]}(S,R));break;case"TEXT":T=E(S.nodeText(R)||"",S.nodeLineData(R)||[],S.nodeCharacterStyles(R),S.navigateToFrameAndCloseOverlays);break;case"INTERACTIVE_SLIDE_ELEMENT":(0,r.getFeatureFlags)().slides_viewer_a11y_2&&(T=(0,n.jsx)("div",{id:`${c.Sg}${t}`,style:{position:"relative",zIndex:1}}));break;default:T=v.childIds.map(e=>(0,n.jsx)(h,{nodeId:e,accessibilityScope:y,focusRef:void 0,viewer:S,parentId:t},e))}let C=S.nodeScrollBounds(R),L=e&&S.getPrototypeNode(e),w=!i&&"none"||L||"canvas",D=g(S,R,C?"scrollContainer":w),j=I?{onClick:e=>{(0,l.f)(l.h.PROTOTYPE_BUTTON_CLICKED,{isMouseEvent:e?.screenX!==0&&e?.screenY!==0}),S.nodeTriggerInteraction(R,"ON_CLICK")},onFocus:()=>void S.nodeHover(R),onBlur:()=>void S.nodeReverseHover(R)}:{},k=a.createElement(x,{className:!i&&_||!!C&&m||u,style:D,tabIndex:o?0:void 0,ref:o,role:A,key:t,"aria-label":O,...I&&s.v.getFeatureGate("viewer_visible_focus")&&{"data-prototype-a11y-clickable":""},...N,...j},T);return C&&(k=(0,n.jsx)(p,{displayRect:g(S,R,w),enabled:i,scrollRect:C,onScrolled:(e,t)=>S.nodeScrollTo(R,e,t),scrollAreaContent:k})),k}function p({displayRect:e,enabled:t,onScrolled:i,scrollRect:s,scrollAreaContent:o}){let r=a.useRef(null),l=a.useRef(!1),d=a.useCallback(e=>{let t=e.target;("number"==typeof t?.scrollLeft||"number"==typeof t?.scrollTop)&&(l.current?l.current=!1:i?.(t.scrollLeft*s.width/t.scrollWidth,t.scrollTop*s.height/t.scrollHeight))},[i,s.height,s.width]);return a.useEffect(()=>{let e=r.current;if(e)return e.addEventListener("scrollend",d),()=>e.removeEventListener("scrollend",d)},[d]),a.useEffect(()=>{let e=r.current;e&&(l.current=!0,s.width&&(e.scrollLeft=s.x*e.scrollWidth/s.width),s.height&&(e.scrollTop=s.y*e.scrollHeight/s.height))},[s.x,s.y,s.width,s.height]),(0,n.jsx)("div",{className:t?m:_,style:e,ref:r,children:o})}function g(e,t,i){switch(i){case"none":return{};case"canvas":{let{x:i,y:n,width:a,height:s}=e.nodeDisplayBounds(t);return{left:i,top:n,width:a,height:s}}case"scrollContainer":{let i=e.nodeCanvasSpaceBounds(t),n=e.nodeScrollBounds(t);if(!n)return{};{let e="100%",t="100%";return 0!==n.height&&(e=`${100*n.height/i.height}%`),0!==n.width&&(t=`${100*n.width/i.width}%`),{height:e,width:t}}}default:{let n=e.nodeCanvasSpaceBounds(i),a=e.nodeScrollBounds(i),s=e.nodeCanvasSpaceBounds(t),o=a?a.width:n.width,r=a?a.height:n.height,l=n.x,d=n.y,c=(s.x-l)/o,u=(s.y-d)/r,_=s.width/o,m=s.height/r;return{top:`${100*u}%`,left:`${100*c}%`,height:`${100*m}%`,width:`${100*_}%`}}}}a.memo(function({accessibilityScope:e,autofocus:t,setAutofocus:i,viewer:s}){var o,l;let d,c,u,[_,m]=a.useState(void 0),p=(o=t,l=i,c=(d=a.useRef(null)).current,u=c?.contains(c?.ownerDocument?.activeElement),a.useLayoutEffect(()=>{if(!o&&!u)return;let e=d.current;e&&(o||!e.contains(e.ownerDocument.activeElement))&&(e.focus(),o&&l?.(!1))}),d);return(a.useEffect(()=>{let e=()=>{let e=s.getTopmostFrameNode();e&&(m(s.nodeId(e)),(0,r.getFeatureFlags)().viewer_a11y_autofocus_tlf_change&&i(!0))};return s.on("topLevelFrameChange",e),()=>{s.off("topLevelFrameChange",e)}},[s,i]),a.useEffect(()=>{let e=s.getTopmostFrameNode();m(e?s.nodeId(e):void 0)},[s]),_)?(0,n.jsx)(h,{nodeId:_,parentId:void 0,enabled:!0,focusRef:p,accessibilityScope:e,viewer:s},_):null});let f=new Map([["form",{onSubmit:e=>e.preventDefault()}],["button",{type:"button"}],["input",{readonly:"readonly"}]]);function E(e,t,i,s){let r=e.split(/\n/mu),l=[];function d(e){for(;l.length>e+1;){let e,t,i,[n,s]=l.pop();switch(n){case"UNORDERED_LIST":e="ul",t="li",i="list";break;case"ORDERED_LIST":e="ol",t="li",i="list";break;default:e="p",t="span"}let o=l[l.length-1];if(o&&o.length>1){let n=o[1];n.push(a.createElement(e,{key:n.length,...i&&{role:i}},s.map((e,i)=>a.createElement(t,{key:i},e))))}}}let c=0;for(let e=0;e<r.length;e++){let a=r[e],u=t[e]||{type:"PLAIN",indentLevel:0};for("PLAIN"===u.lineType&&(u.indentLevel=0),d(u.indentLevel),l.length>1&&l[l.length-1][0]!==u.lineType&&d(u.indentLevel-1);l.length<u.indentLevel+1;)l.push([u.lineType,[]]);l[l.length-1][1].push(function(e,t){let a=[];for(let r of i){let{start:i,end:l,props:d}=r,c=[...t].length;if(i>e+c)break;if(l<=e)continue;i=Math.max(0,i-e),l=Math.min(c,l-e);let u=RegExp(`(?:[^]{${i}})([^]{${l-i}})`,"u"),_=t.match(u)?.[1],m=d?.get?.("HYPERLINK"),h=d?.get?.("FONT_STYLE"),p=h?.toLowerCase()?.includes("italic"),g=h?.toLowerCase()?.includes("bold"),f=d?.get?.("FONT_SIZE"),E=d?.get?.("TEXT_DECORATION"),b={fontWeight:g?"bold":void 0,fontStyle:p?"italic":void 0,fontSize:f?`${f}px`:void 0,textDecoration:new Map([["UNDERLINE","underline"],["STRIKETHROUGH","line-through"]]).get(E)};if("string"==typeof m?.url)a.push((0,n.jsx)(o._,{style:b,href:m.url,newTab:!0,trusted:!0,children:_},i+e));else if(s&&"object"==typeof m?.guid){let t=m.guid;a.push((0,n.jsx)("button",{type:"button",role:"link",onClick:()=>s(`${t.sessionID}:${t.localID}`),children:_},i+e))}else g||p||f||E?a.push((0,n.jsx)("span",{style:b,children:_},i+e)):a.push(_)}return a}(c,a)),a?c+=[...a].length+1:c+=1}return d(0),l[0][1].map((e,t)=>"string"!=typeof e?e:(0,n.jsx)("p",{children:e},t))}function b(e,t,i){let n=e.mapChildren(t,e=>e);return n?.find(t=>e.nodeName(t)===i)??null}},930179(e,t,i){i.d(t,{Sg:()=>n});let n="flapp-portal-"},758611(e,t,i){var n=i(883968),a=i(3752),s=i(490753),o=i(771573),r=i(329174);let l=class e{constructor(t,i){this._isUIShown=t,this._inCommentsMode=!1,this._rcsUserFlags=[],this._hideUITask=new n.W,this.handleProgressBarStoppedShowing=()=>{this.showUiAndScheduleFade()},this.onWindowFocus=()=>{this.showUiAndScheduleFade()},this.didEnterCommentsMode=()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0},this.didLeaveCommentsMode=()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())},this.didRscUserFlagsUpdate=e=>{this._rcsUserFlags=e},this.handleUnhideUI=()=>{this.showUiAndScheduleFade()},this.handlePageMouseDownOrTouchStart=e=>{"CURRENT_TLF"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())},this.handleHotspotClicked=()=>{this._setUIShown(!1)},this.handlePageMouseMove=(e,t)=>{let i=e.clientY,n=window.innerHeight-e.clientY,a=85>Math.abs(window.innerWidth/2+t/2-e.clientX)&&n<60;i<(0,o.bG)()||a?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterMove=e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()},this.handleHeaderOrFooterBlur=e=>{this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterFocus=e=>{this._hideUITask.reset(),this._setUIShown(!0)},this.handleKeyDown=(e,t)=>{(t&&this._isUIShown()||e.keyCode===s.Uz.ESCAPE)&&this.showUiAndScheduleFade()},this.teardown=()=>{this._hideUITask.reset()},this.showUiAndScheduleFade=()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()},this.scheduleFadeIfNecessary=()=>{this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},e.FADE_DELAY_MS)},this._setUIShown=t=>{let n=!t&&this._inCommentsMode,a=!t&&this._rcsUserFlags.reduce((t,i)=>t||e.RCS_SHOWN_ON_UI.has(i),!1);n||a||i(t)}}};l.FADE_DELAY_MS=a.A.isMobileBrowser?1e3:2e3,l.RCS_SHOWN_ON_UI=new Set([r.e])},785032(e,t,i){i(239976),i(105652),i(645186),i(850159),i(970463),i(587754),i(645724),i(824234),i(985373),i(772022),i(222849),i(646288)},165402(e,t,i){i.d(t,{Md:()=>r,z2:()=>o});var n,a=i(350923),s=i(596142),o=((n=o||{})[n.NOT_LOADED=0]="NOT_LOADED",n[n.LOADED=1]="LOADED",n);let r=(0,a.um)({status:0,livegraphLoaded:!1,viewerInstanceLoaded:!1},(e,t)=>{if(1===e.status)return e;switch(t.type){case 0:if(e.viewerInstanceLoaded)return s.Su.handleViewerLoaded("livegraph"),{status:1,lastLoaded:"livegraph"};if(e.livegraphLoaded)return e;return{...e,livegraphLoaded:!0};case 1:if(e.livegraphLoaded)return s.Su.handleViewerLoaded("multiplayer"),{status:1,lastLoaded:"multiplayer"};if(e.viewerInstanceLoaded)return e;return{...e,viewerInstanceLoaded:!0}}})},952650(e,t,i){i.d(t,{f:()=>r,h:()=>d});var n,a=i(151524),s=i(181254),o=i(389218);function r(e,t){let i=a.D.getState(),n=(0,o.U2)(i.selectedView);(0,s.ds)(l,n,i,{actionName:e,...t},{forwardToDatadog:!0})}let l="accessibility_actions";var d=((n=d||{}).TOGGLE_DOM_ON_MENU="toggle_dom_on_menu",n.TOGGLE_DOM_OFF_MENU="toggle_dom_off_menu",n.TOGGLE_ENHANCED_CONTRAST_ON="toggle_enhanced_contrast_on",n.TOGGLE_ENHANCED_CONTRAST_OFF="toggle_enhanced_contrast_off",n.PROTOTYPE_BUTTON_CLICKED="prototype_button_clicked",n.SKIP_TO_CONTENT="skip_to_content",n.ENABLE_AND_SKIP_TO_CONTENT="enable_and_skip_to_content",n.FOCUS_CYCLE_NEXT_AREA="focus_cycle_next_area",n.FOCUS_CYCLE_PREVIOUS_AREA="focus_cycle_previous_area",n.DESIGN_INITIAL_TREE_LOAD="design_initial_tree_load",n.DESIGN_UPDATE_NODE="design_update_tree",n.DEVMODE_INITIAL_TREE_LOAD="devmode_initial_tree_load",n.DEVMODE_UPDATE_NODE="devmode_update_node",n.ILLUSTRATION_INITIAL_TREE_LOAD="illustration_initial_tree_load",n.ILLUSTRATION_UPDATE_NODE="illustration_update_node",n.FIGJAM_UPDATE_TREE="figjam_update_tree",n.FIGJAM_UPDATE_NODE="figjam_update_node",n.FIGJAM_INITIAL_TREE_LOAD="figjam_initial_tree_load",n.FIGJAM_INCREMENTAL_UPDATE_DISCREPANCY="figjam_incremental_update_discrepancy",n.TOGGLE_DEFAULT_APPLICATION_ON_MENU="toggle_default_application_on_menu",n.TOGGLE_DEFAULT_APPLICATION_OFF_MENU="toggle_default_application_off_menu",n.TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING_ON="toggle_text_input_shortcut_blocking_on",n.TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING_OFF="toggle_text_input_shortcut_blocking_off",n.SLIDES_INITIAL_TREE_LOAD="slides_initial_tree_load",n.SLIDES_UPDATE_NODE="slides_update_node",n.BUZZ_INITIAL_TREE_LOAD="buzz_initial_tree_load",n.BUZZ_UPDATE_NODE="buzz_update_node",n.QUICK_ACTIONS_MENU_TAB_FOCUS_ON="quick_actions_menu_on",n.QUICK_ACTIONS_MENU_TAB_FOCUS_OFF="quick_actions_menu_off",n)},584065(e,t,i){i.d(t,{L3:()=>m,NO:()=>E,Uc:()=>g,X6:()=>h,ZD:()=>f,iZ:()=>c,t5:()=>b});var n=i(267995),a=i(688357),s=i(741542),o=i(90242),r=i(914600),l=i(857614);let d="customKeyboardShortcuts",c=new Map(Object.entries(n.Xp).map(([e,t])=>[e,t])),u=new Map(Object.entries(n.Xp).map(([e,t])=>[t,e]));function _(e,t,i){let n=u.get(t);return Object.entries(e).find(([e,t])=>t.type===n&&t.action===i)}function m(e,t,i,n){if(!(0,s.getFeatureFlags)().ce_custom_keyboard_shortcuts)return;let c=p(),m=l.dZ.get((0,l.v7)())||"UNKNOWN",h=r.y.isApple()?"mac":"!mac",g=u.get(e),f=c[m]?.[h]??{},[E,b]=_(f,e,t)||[];E&&delete f[E],c[m]={...c[m],[h]:{...f,[i]:{type:g,action:t,pluginMenuAction:n??b?.pluginMenuAction}}},o.x4?.setItem(d,JSON.stringify(c)),a.glU&&a.glU.reloadKeyboardShortcuts()}function h(e,t){if(!(0,s.getFeatureFlags)().ce_custom_keyboard_shortcuts)return!1;let i=p(),n=l.dZ.get((0,l.v7)())||"UNKNOWN",c=r.y.isApple()?"mac":"!mac",m=u.get(e),h=i[n]?.[c]??{},g=_(h,e,t),f=g?.[0];return f?(delete h[f],i[n]={...i[n],[c]:{...h}},o.x4?.setItem(d,JSON.stringify(i)),a.glU?.reloadKeyboardShortcuts(),!0):(console.error("[CustomKeyboardShortcuts] could not find existing shortcut",{typeString:m,action:t,shortcuts:i}),!1)}function p(){let e;if(!o.x4)return{};let t=o.x4.getItem(d);if(!t)return{};try{e=JSON.parse(t)}catch(e){console.error("[Custom Keyboard Shortcuts] Failed to parse from local storage",e)}return e}function g(){let e=l.dZ.get((0,l.v7)())||"UNKNOWN",t=r.y.isApple()?"mac":"!mac",i=p()??{};return i[e]?.[t]??{}}function f(e){return!!(0,s.getFeatureFlags)().ce_custom_keyboard_shortcuts&&Object.keys(g()).includes(e)}function E(e){if((0,s.getFeatureFlags)().ce_custom_keyboard_shortcuts&&o.x4){for(let[t,i]of Object.entries(g()))if(i.action===e)return i.pluginMenuAction}}function b(e,t){if(!(0,s.getFeatureFlags)().ce_custom_keyboard_shortcuts)return!1;let i=g(),n=u.get(e);return Object.values(i).some(e=>e.type===n&&e.action===t)}},617975(e,t,i){i.d(t,{H:()=>h,T:()=>p});var n=i(730351),a=i(350923),s=i(94241),o=i(540803),r=i(642891),l=i(254509),d=i(522675),c=i(867653),u=i(492611),_=i(351801);async function m(e){let t=a.zl.get(d.Z4),i=a.zl.get(d.d$),n=a.zl.get(s.ze),c=[];if(!t||!i)return Promise.resolve([]);try{for(let[a,s]of t.entries()){let t=i.get(a);if(t&&n){let i=t.manifest.lintRules;if(!i)continue;let l=r.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:t,command:"lint",queryMode:!0,runMode:"lint",triggeredFrom:"design-linter",openFileKey:n,deferRunEvent:!0,isWidget:!1},async onStart(){let t=[];for(let n of e)for(let e of s){let s=i.find(t=>t.key===e);if(!s)continue;let r=await (0,o.$7)(3e3,{nodeId:n.guid,rule:e});if(!r.didRun)return[];let l=(await r.returnValue).map(e=>({guid:e.nodeId,pluginId:a,explanation:e.explanation,payload:{},rule:s}));t.push(...l)}return t}});c.push(l)}}}catch(e){console.error(e)}let u=await Promise.allSettled(c);await (0,l.wY)();let _=[];for(let e of u)"fulfilled"===e.status&&e.value&&_.push(...e.value);return _}async function h({selectedNodes:e,abortSignal:t}){if(t.aborted)return Promise.resolve({customRuleResults:[],violatingDevIds:[]});let i=await m(e),a=new Set,s=[],o=(0,n.UN)();return i.forEach(e=>{let t=o.get(e.guid);if(!t)return;a.add(t.developerFriendlyId);let i={explanation:e.explanation,pluginId:e.pluginId,rule:e.rule,payload:e.payload},n=new c.U({ruleId:_.C.EXTENSIBILITY_RULE,detectionContext:i,nodeType:t.type,developerId:t.developerFriendlyId}),r={rule:e.rule,pluginId:e.pluginId};e.payload&&(r.payload=e.payload);let l={ruleId:_.C.EXTENSIBILITY_RULE,valid:!0,fixContext:r};s.push({guid:e.guid,violation:n,fix:l})}),{customRuleResults:s,violatingDevIds:Array.from(a)}}async function p({violations:e}){let t=e[0];if(0===e.length||!t)return[];let i=t.detectionContext.pluginId,n=a.zl.get(d.d$),c=n?.get(i);if(!c)throw Error(`Plugin ${i} not found`);let _=a.zl.get(s.ze);if(!_)throw Error("No open file key found");let m=[];try{await r.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:c,command:"fix",queryMode:!1,runMode:"lint",triggeredFrom:"design-linter",openFileKey:_,deferRunEvent:!0,isWidget:!1},async onStart(){let t=!0;for(let i of e){let e=(0,u.vc)(i.developerId);if(!e)continue;let n=await (0,o.UE)(3e3,{nodeId:e,rule:i.detectionContext.rule.key});if(!n.didRun){console.warn("linting timed out after 3 seconds for node",e),t=!1;continue}(await n.returnValue).success?m.push(i):t=!1}return t}})}catch(e){console.error("Error running plugin fix",e)}return await (0,l.wY)(),m}},296556(e,t,i){i.d(t,{I:()=>r,c:()=>o});var n=i(350923),a=i(559365),s=i(522675);let o=(0,a.nh)(()=>{let e="loaded"===n.zl.get(s.v4).status,t="loaded"===n.zl.get(s.jq).status,i=n.zl.get(s.Ut);return e&&t&&!!i});function r(){let e=n.zl.get(s.Z4),t=n.zl.get(s.d$);return!!e&&!!t}},503715(e,t,i){i.d(t,{F7:()=>s,It:()=>o,eU:()=>n,yU:()=>a});class n extends Error{constructor(){super(),this.name="LinterAbortedError"}}class a extends Error{}class s extends Error{}class o extends Error{}},556074(e,t,i){i.d(t,{O:()=>c});var n=i(350923),a=i(37760),s=i(24745),o=i(503715),r=i(677052),l=i(522675),d=i(492611);class c{constructor(e){this._fixRequestStack=new r.H,this._currentlyProcessingItemIds=new Set,this._BATCH_SIZE=5,this._intervalId=null,this._abortSignal=null,this._groupKeyToFixPromiseMap=new Map,this._ruleManager=e}get groupKeyToFixPromiseMap(){return this._groupKeyToFixPromiseMap}setAbortSignal(e){this._abortSignal=e}startProcessingInterval(){this._intervalId||(this._intervalId=setInterval(()=>this.processFixBatch(),100))}maybeStopProcessingInterval(){this._intervalId&&0===this._fixRequestStack.length&&0===this._currentlyProcessingItemIds.size&&(clearInterval(this._intervalId),this._intervalId=null)}enqueueFetchRequest(e){if(this.hasLinterAborted())return Promise.reject(new o.eU);let t=this._groupKeyToFixPromiseMap.get(e.groupKey);if(t)return this.moveGroupKeyToTopOfStack(e.groupKey),t;let i=n.zl.get(l.VG).get(e.groupKey);if(i?.status==="loaded"&&i?.fix){let t=Promise.resolve(i.fix);return this._groupKeyToFixPromiseMap.set(e.groupKey,t),t}let s=new Promise((t,i)=>{this.updateFixesCache(e.groupKey,null,"loading");let n={violation:e,resolve:t,reject:i,id:(0,a.g)()};this._fixRequestStack.push(n),this.startProcessingInterval()});return this._groupKeyToFixPromiseMap.set(e.groupKey,s),s}addPrecomputedFix(e,t){this.updateFixesCache(t,e,"loaded")}processFixBatch(){if(this.hasLinterAborted())return void this.teardownFixWorker();let e=this._currentlyProcessingItemIds.size,t=this._BATCH_SIZE-e;if(t<=0)return;let i=0;for(;i<t&&this._fixRequestStack.length>0;){if(this.hasLinterAborted())return void this.teardownFixWorker();let e=this._fixRequestStack.pop();e&&(n.zl.get(l.VA).has(e.violation.violationId)?(i++,this.processFixRequest(e)):e.reject(Error("Violation is no longer active")))}this.maybeStopProcessingInterval()}hasLinterAborted(){return this._abortSignal?.aborted??!0}async processFixRequest(e){try{this._currentlyProcessingItemIds.add(e.id);let t=await this.getFixForViolation(e.violation);if(this.hasLinterAborted())return;this.updateFixesCache(e.violation.groupKey,t,"loaded"),e.resolve(t)}catch(t){this.updateFixesCache(e.violation.groupKey,null,"error"),e.reject(t)}finally{this._currentlyProcessingItemIds.delete(e.id)}}updateFixesCache(e,t,i){let a=new Map(n.zl.get(l.VG));a.set(e,{fix:t,status:i}),n.zl.set(l.VG,a)}async getFixForViolation(e){let{ruleId:t,groupKey:i,developerId:a}=e,o=this._ruleManager.getRuleById(t);if(!o)throw Error("Rule not found for violation");let r=(0,d.Qb)(a);if(!r)throw Error("Node not found for violation");let c=n.zl.get(l.VG).get(i);if(c?.status==="loaded"&&c?.fix)return c.fix;let u=await o.getFix(r,e.detectionContext,(0,s.hf)());if(!u||!u.valid)throw Error("Fix should not be undefined or invalid");return u}removePromisesForViolations(e){e.forEach(e=>{this._groupKeyToFixPromiseMap.delete(e.groupKey)})}teardownFixWorker(){this._fixRequestStack.clear().forEach(e=>{e.reject(Error("Fix request stack cleared"))}),this._currentlyProcessingItemIds.clear(),this._groupKeyToFixPromiseMap.clear(),this.maybeStopProcessingInterval()}moveGroupKeyToTopOfStack(e){this._fixRequestStack.moveToTop(e)}}},92195(e,t,i){i.d(t,{R:()=>_});var n=i(730351),a=i(350923),s=i(37760),o=i(522675),r=i(5372);class l{constructor(){this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet=new Set,this._currentViolatingDevIds=new Set,this._visualGroupHashToGroupId=new Map,this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet=new Set,this._visualGroupHashToGroupId=new Map}get groupIdToGroup(){return this._groupIdToGroup}get violatingNodeIdToGroupIdSet(){return this._violatingNodeIdToGroupIdSet}get rootNodeIdToGroupIdSet(){return this._rootNodeIdToGroupIdSet}get similarityGroupIdSet(){return this._similarityGroupIdSet}set currentViolatingNodeIds(e){this._currentViolatingDevIds=e}get currentViolatingNodeIds(){return this._currentViolatingDevIds}resetState(){this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet.clear(),this._currentViolatingDevIds.clear(),this._visualGroupHashToGroupId.clear()}updateVisualGroupsMapAtom(){let e=new Map,t=new Set;for(let e of this._currentViolatingDevIds){let i=this._violatingNodeIdToGroupIdSet.get(e);if(i)for(let e of i)t.add(e)}for(let i of t){let t=this._groupIdToGroup.get(i);t&&e.set(i,t)}a.zl.set(o.Iy,e)}mapViolatingNodeIdAndRootIdsInGroup(e,t,i){e.violatingNodeDevIdToRootNodeDevId.set(t,i),d(e.rootNodeDevIdToViolatingNodeDevIdSet,i).add(t),e.violatingNodeCountAtCreation+=1;let n=e.rootNodeDevIdToViolatingNodeCountAtCreation.get(i)||0;e.rootNodeDevIdToViolatingNodeCountAtCreation.set(i,n+1)}detachNodeFromRoot(e,t,i){let n=e.rootNodeDevIdToViolatingNodeDevIdSet.get(i);n&&(n.delete(t),0===n.size&&(e.rootNodeDevIdToViolatingNodeDevIdSet.delete(i),this._rootNodeIdToGroupIdSet.get(i)?.delete(e.id),this._rootNodeIdToGroupIdSet.get(i)?.size===0&&this._rootNodeIdToGroupIdSet.delete(i)))}terminateGroup(e){let t=this._groupIdToGroup.get(e);if(t){for(let i of t.rootNodeDevIdToViolatingNodeDevIdSet.keys()){let t=this._rootNodeIdToGroupIdSet.get(i);t?.delete(e),t?.size===0&&this._rootNodeIdToGroupIdSet.delete(i)}for(let i of t.violatingNodeDevIdToRootNodeDevId.keys()){let t=this._violatingNodeIdToGroupIdSet.get(i);t?.delete(e),t?.size===0&&this._violatingNodeIdToGroupIdSet.delete(i)}"SIMILARITY"===t.type&&void 0!==t.visualGroupHash&&this._visualGroupHashToGroupId.delete(t.visualGroupHash),this._groupIdToGroup.delete(e),this._similarityGroupIdSet.delete(e)}}pruneEmptyGroups(e){for(let t of e){let e=this._groupIdToGroup.get(t);if(!e)continue;let i=0===e.violatingNodeDevIdToRootNodeDevId.size,n=0===e.rootNodeDevIdToViolatingNodeDevIdSet.size;(i||n)&&this.terminateGroup(t)}}removeViolatingNodeIdFromGroup(e,t){let i=this._groupIdToGroup.get(t);if(!i)return!1;let n=i.violatingNodeDevIdToRootNodeDevId.get(e);return n&&this.detachNodeFromRoot(i,e,n),i.violatingNodeDevIdToRootNodeDevId.delete(e),this._violatingNodeIdToGroupIdSet.get(e)?.delete(t),this._violatingNodeIdToGroupIdSet.get(e)?.size===0&&this._violatingNodeIdToGroupIdSet.delete(e),!0}removeNodeIdsFromAllGroups({violatingDevIds:e}){if(0===e.length)return;let t=new Set;for(let i of e){let e=this._violatingNodeIdToGroupIdSet.get(i);if(e)for(let n of e)t.add(n),this.removeViolatingNodeIdFromGroup(i,n)}this.pruneEmptyGroups(Array.from(t)),this.updateVisualGroupsMapAtom()}addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:i}){if(!e||!t||!i)return!1;let n=this._groupIdToGroup.get(i);return!!n&&(this.mapViolatingNodeIdAndRootIdsInGroup(n,e,t),d(this._violatingNodeIdToGroupIdSet,e).add(i),d(this._rootNodeIdToGroupIdSet,t).add(i),!0)}createNewGroup({rootDevId:e,violatingDevId:t,type:i,visualGroupHash:n}){if(!e||!t)return null;let a=(0,s.g)(),o={id:a,rootNodeDevIdToViolatingNodeDevIdSet:new Map([[e,new Set([t])]]),violatingNodeDevIdToRootNodeDevId:new Map([[t,e]]),type:i,violatingNodeCountAtCreation:1,rootNodeDevIdToViolatingNodeCountAtCreation:new Map([[e,1]]),visualGroupHash:n};return d(this._violatingNodeIdToGroupIdSet,t).add(a),d(this._rootNodeIdToGroupIdSet,e).add(a),this._groupIdToGroup.set(o.id,o),"SIMILARITY"===i&&(this._similarityGroupIdSet.add(o.id),void 0!==n&&this._visualGroupHashToGroupId.set(n,a)),a}updateOrCreateSimilarityGroup({violatingDevId:e,rootDevId:t,visualGroupHash:i}){let n=this._visualGroupHashToGroupId.get(i);if(n){let i=this._groupIdToGroup.get(n);if(i&&"SIMILARITY"===i.type)return this.addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:n}),n}return this.createNewGroup({rootDevId:t,violatingDevId:e,type:"SIMILARITY",visualGroupHash:i})}updateAncestryGroup({violatingDevId:e,rootDevId:t}){let i=this._rootNodeIdToGroupIdSet.get(t);if(i)for(let n of i){let i=this._groupIdToGroup.get(n);if(i&&"ANCESTRY"===i.type)return this.addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:n}),n}return null}updateOrCreateAncestryGroup({violatingDevId:e,rootDevId:t}){let i=this.updateAncestryGroup({violatingDevId:e,rootDevId:t});return i||this.createNewGroup({rootDevId:t,violatingDevId:e,type:"ANCESTRY"})}isInASimilarityGroup(e){let t=this._violatingNodeIdToGroupIdSet.get(e);if(!t||0===t.size)return!1;for(let e of t){let t=this._groupIdToGroup.get(e);if(t?.type==="SIMILARITY")return!0}return!1}isEligibleNodeType(e){return!e.isInstanceSublayer&&(0,r.xi)(e.type)}getDebugInfo(){return{_groupIdToGroup:Array.from(this._groupIdToGroup.entries()).map(([e,t])=>[e,{...t,rootNodeIdToViolatingNodeIdSet:Array.from(t.rootNodeDevIdToViolatingNodeDevIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),violatingNodeIdToRootNodeId:Array.from(t.violatingNodeDevIdToRootNodeDevId.entries()),rootNodeIdToViolatingNodeIdCountAtCreation:Array.from(t.rootNodeDevIdToViolatingNodeCountAtCreation.entries())}]),_violatingDevIdToGroupIdSet:Array.from(this._violatingNodeIdToGroupIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),_rootDevIdToGroupId:Array.from(this._rootNodeIdToGroupIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),_lintingTargetIds:Array.from(a.zl.get(o.yZ)),_similarityGroupIdSet:Array.from(this._similarityGroupIdSet),_visualGroupHashToGroupId:Array.from(this._visualGroupHashToGroupId.entries())}}}function d(e,t){return e.has(t)||e.set(t,new Set),e.get(t)}var c=i(984634),u=i(986301);class _{constructor(){this._groupState=new l,this._abortSignal=null,this.resetInternalState()}createGroupCompositeKey(e,t){let i=t?Object.keys(t).sort().reduce((e,i)=>{let n=t[i];return void 0!==n&&(e[i]=n),e},{}):{};return`${e}:${JSON.stringify(i)}`}hasLinterAborted(){return this._abortSignal?.aborted??!0}setAbortSignal(e){this._abortSignal=e}resetInternalAtomState(){a.zl.set(o.Iy,new Map)}resetInternalState(){this._groupState.currentViolatingNodeIds=new Set,this._groupState.resetState()}resetState(){this.resetInternalState(),this.resetInternalAtomState()}invalidateGroupsForNodeIds(e){this._groupState.removeNodeIdsFromAllGroups({violatingDevIds:e})}createInitialVisualGroups(e){if(this.hasLinterAborted())throw a.zl.set(o.u2,u.td.IDLE),Error("Linter aborted");if(!e.length)return this._groupState;let t=a.zl.get(o.yZ);if(0===t.size)throw Error("No linting target IDs found");try{this._groupState.currentViolatingNodeIds=new Set(e);let i=new Set(e),a=new Map,s=new Map,o=new Map,r=(0,n.UN)();for(let i of e){let e=r.getFromDeveloperFriendlyId(i),n=a.get(i);for(n||(n=[],a.set(i,n));e;){if(this._groupState.isEligibleNodeType(e)){let t=e.developerFriendlyId;n.push(t);let i=e.visualGroupHash;s.has(i)||s.set(i,new Set),s.get(i).add(t)}if(t.has(e.developerFriendlyId)){if(n.length>0){let e=n.length-1,t=n[e];t&&(o.has(e)||o.set(e,[]),o.get(e).push({violatingDevId:i,rootDevId:t}))}break}e=e.parentNode}}for(let e of this.findSimilarityGroups(a,s))i.delete(e);let l=Array.from(o.keys()).sort((e,t)=>t-e);for(let e of l)for(let{violatingDevId:t,rootDevId:n}of o.get(e)){if(this._groupState.isInASimilarityGroup(t)){i.delete(t);continue}this._groupState.updateOrCreateAncestryGroup({violatingDevId:t,rootDevId:n})&&i.delete(t)}for(let e of l)for(let{violatingDevId:t,rootDevId:n}of o.get(e))this._groupState.updateAncestryGroup({violatingDevId:t,rootDevId:n})&&i.delete(t);for(let e of i)this._groupState.createNewGroup({rootDevId:e,violatingDevId:e,type:"ANCESTRY"});return this._groupState}catch(e){throw console.error("Error creating initial visual groups"),e}finally{this._groupState.updateVisualGroupsMapAtom()}}findSimilarityGroups(e,t){let i=new Set,a=(0,n.UN)(),s=new Map;for(let i of this._groupState.currentViolatingNodeIds){if(this._groupState.isInASimilarityGroup(i))continue;let n=e.get(i)??[];if(0!==n.length)for(let e=n.length-1;e>=0;e--){let o=n[e];if(!o)continue;let r=a.getFromDeveloperFriendlyId(o);if(!r)continue;let l=r.visualGroupHash,d=(0,c.D9)(r),u=t.get(l);if(u&&u.size>1){let e=this.createGroupCompositeKey(l,d);s.has(e)||s.set(e,{nodes:[],uniqueRoots:new Set,modeContext:d,visualGroupHash:l});let t=s.get(e);t.nodes.push({violatingDevId:i,rootDevId:o}),t.uniqueRoots.add(o);break}}}for(let{nodes:e,uniqueRoots:t,visualGroupHash:n}of s.values())if(t.size>1)for(let{violatingDevId:t,rootDevId:a}of e)this._groupState.updateOrCreateSimilarityGroup({violatingDevId:t,rootDevId:a,visualGroupHash:n})&&i.add(t);return i}getDebugInfo(){return{_groupState:this._groupState.getDebugInfo(),_lintingTargetIds:Array.from(a.zl.get(o.yZ))}}}},958241(e,t,i){i.d(t,{B:()=>o});var n=i(350923),a=i(522675),s=i(986301);class o{constructor(){this.nodeChanges=new Map,this.debounceTimeoutId=null,this.responsivenessTriggerCallback=null,this.abortSignal=null}initialize(e){this.responsivenessTriggerCallback=e}setAbortSignal(e){this.abortSignal=e}onNodeCreated(e){this.isAborted()||(this.nodeChanges.set(e,0),this.scheduleProcessing())}onNodeDeleted(e){this.isAborted()||(this.nodeChanges.set(e,2),this.scheduleProcessing())}onNodeUpdate(e){this.isAborted()||(this.nodeChanges.set(e,1),this.scheduleProcessing())}onLinterDependencyChange(){for(let e of n.zl.get(a.yZ))this.onNodeUpdate(e)}scheduleProcessing(){this.isAborted()||(null!=this.debounceTimeoutId&&clearTimeout(this.debounceTimeoutId),this.debounceTimeoutId=setTimeout(()=>{this.processAccumulatedChanges()},100))}isAborted(){return this.abortSignal?.aborted??!1}hasChanges(){return this.nodeChanges.size>0}processAccumulatedChanges(){if(this.isAborted())return void this.reset();if(n.zl.get(a.u2)!==s.td.GROUPING_COMPLETE){this.debounceTimeoutId=setTimeout(()=>{this.processAccumulatedChanges()},100);return}this.triggerResponsivenessUpdate()}triggerResponsivenessUpdate(){if(!this.responsivenessTriggerCallback||!this.hasChanges())return void this.reset();let e=[],t=[],i=[];for(let[n,a]of this.nodeChanges.entries()){if(2===a){t.push(n);continue}1===a&&e.push(n),0===a&&i.push(n)}this.reset(),this.responsivenessTriggerCallback({createdDevIds:i,devIdsToUpdate:e,devIdsRemoved:t})}reset(){this.nodeChanges.clear(),null!==this.debounceTimeoutId&&(clearTimeout(this.debounceTimeoutId),this.debounceTimeoutId=null)}getDebugInfo(){return{nodeChanges:Object.fromEntries(this.nodeChanges),debounceTimeoutId:this.debounceTimeoutId,hasCallback:!!this.responsivenessTriggerCallback,isAborted:this.isAborted()}}}},327463(e,t,i){i.d(t,{g:()=>p});var n=i(807213),a=i(232840),s=i(351801),o=i(984e3),r=i(917830),l=i(987239),d=i(643741),c=i(467956),u=i(93997),_=i(136355),m=i(813583);let h=Object.values({[s.C.REQUIRE_FILL_COLOR_VARIABLES]:r.Ty,[s.C.REQUIRE_STROKE_COLOR_VARIABLES]:l.X5,[s.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES]:n.Tr,[s.C.REQUIRE_TEXT_STYLES]:o.tb,[s.C.REQUIRE_CORNER_RADIUS_VARIABLES]:d.bT,[s.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES]:u.Rn,[s.C.REQUIRE_VERTICAL_SPACING_VARIABLES]:_.lS,[s.C.REQUIRE_PADDING_VARIABLES]:c.R7,[s.C.TEXT_BACKGROUND_CONTRAST_AA]:m.S,[s.C.EXTENSIBILITY_RULE]:a.Q});class p{constructor(){this.ruleIdToEnabledRule={},this.refreshEnabledRules()}refreshEnabledRules(){this.ruleIdToEnabledRule=Object.fromEntries(h.filter(e=>e.enabled()).map(e=>[e.id,e]))}getRuleIdToEnabledRule(){return this.ruleIdToEnabledRule}getEnabledRules(){return Object.values(this.getRuleIdToEnabledRule())}getRuleById(e){return this.getRuleIdToEnabledRule()[e]||null}}},365461(e,t,i){i.d(t,{p:()=>d});var n=i(497935),a=i(741542),s=i(350923),o=i(557569),r=i(522675),l=i(986301);class d{constructor(){this.abortController=new AbortController}get linterAbortController(){return this.abortController}get hasAborted(){return!!this.linterAbortController.signal.aborted}resetLinterAbortController(){return this.abortController.abort(),this.abortController=new AbortController,this.abortController}getStatus(){return s.zl.get(r.u2)}setStatus(e){let t,i,n,a=this.getStatus();s.zl.set(r.u2,e),t=performance.now(),i=s.zl.get(o.Av),n=[...s.zl.get(o.L2)],i&&n.push({status:a,duration:t-i}),s.zl.set(o.L2,n),s.zl.set(o.Av,t)}setDetectionOutcome(e){s.zl.set(r.Xy,e)}isLinterDetecting(){return this.getStatus()===l.td.DETECTING}addNewViolations(e){let t=new Map(s.zl.get(r.m7)),i=new Set(s.zl.get(r.VA));for(let n of e){let e=t.get(n.developerId)?.get(n.ruleId);if(e)e.push(n);else{let e=t.get(n.developerId)??new Map;e.set(n.ruleId,[n]),t.set(n.developerId,e)}i.add(n.violationId)}s.zl.set(r.m7,t),s.zl.set(r.VA,i)}isViolationIgnored(e){return s.zl.get(r.F9).has(e.violationId)}isViolationActive(e){return s.zl.get(r.VA).has(e.violationId)}isViolationFixed(e){return s.zl.get(r.XC).has(e.violationId)}processFixedViolations(e){let t=new Map(s.zl.get(r.m7)),i=new Set(s.zl.get(r.VA)),n=new Set(s.zl.get(r.XC)),a=new Set(s.zl.get(r.ju)),o=[];for(let s of e){let{ruleId:e,violationId:r,developerId:l}=s;i.delete(r),n.add(r),a.add(r);let d=t.get(l);if(d){for(let[t,i]of d){if(t!==e)continue;let n=i.findIndex(e=>e.violationId===r);-1!==n&&i.splice(n,1)}d.get(e)?.length===0&&d.delete(e),Array.from(d.values()).some(e=>{for(let t of e)if(i.has(t.violationId))return!0;return!1})?t.set(l,new Map(d)):(t.delete(l),o.push(l))}}return s.zl.set(r.XC,n),s.zl.set(r.VA,i),s.zl.set(r.m7,t),s.zl.set(r.ju,a),o}processObservedViolations(e,t,i){let n=s.zl.get(r.m7),o=s.zl.get(r.VA),l=s.zl.get(r.XC),d=s.zl.get(r.F9),c=new Set(t),u=this._createEmptyDiff();for(let[t,i]of this._groupViolationsByDevIdAndRuleId(e).entries()){let a=e.find(e=>e.developerId===t);a&&c.delete(a.developerId);let s=this._getViolationsDiffForDevId(t,i,n);this._mergeDiffs(u,s)}let _=this._removeViolationsForCleanNodes(c,n);this._mergeDiffs(u,_);let m=this._removeViolationsForDeletedNodes(i,n);return(this._mergeDiffs(u,m),(0,a.getFeatureFlags)().aip_flower_garden_full_responsiveness)?(this._applyDiffToLinterState(u,n,o,l,d),{cleanNodeIds:Array.from(c),newViolations:u.newViolations}):(this._applyDiffToResponsivenessCheckpoint(u,t,i),{cleanNodeIds:[],newViolations:[]})}_createEmptyDiff(){return{deletedViolations:[],newViolations:[]}}_mergeDiffs(e,t){e.deletedViolations.push(...t.deletedViolations),e.newViolations.push(...t.newViolations)}_applyDiffToResponsivenessCheckpoint(e,t,i){let n=new Set(s.zl.get(r.wU));for(let e of t)n.delete(e);for(let e of i)n.delete(e);for(let t of e.newViolations)n.add(t.developerId);for(let t of e.deletedViolations)n.add(t.developerId);s.zl.set(r.wU,n)}_applyDiffToLinterState(e,t,i,n,a){let o=new Map(t),l=new Set(i),d=new Set(n),c=new Set(a);for(let t of e.deletedViolations){let{violationId:e,developerId:i,ruleId:n}=t;l.delete(e),d.delete(e),c.delete(e);let a=o.get(i);if(a){let t=a.get(n);if(t){let i=t.findIndex(t=>t.violationId===e);-1!==i&&t.splice(i,1),0===t.length&&a.delete(n)}0===a.size&&o.delete(i)}}for(let t of e.newViolations){let{violationId:e,developerId:i,ruleId:n}=t;l.add(e),o.has(i)||o.set(i,new Map);let a=o.get(i);a.has(n)||a.set(n,[]),a.get(n).push(t)}s.zl.set(r.m7,o),s.zl.set(r.VA,l),s.zl.set(r.XC,d),s.zl.set(r.F9,c)}_groupViolationsByDevIdAndRuleId(e){return e.reduce((e,t)=>{if(this.isViolationIgnored(t))return e;e.has(t.developerId)||e.set(t.developerId,new Map);let i=e.get(t.developerId);return i.has(t.ruleId)||i.set(t.ruleId,[]),i.get(t.ruleId)?.push(t),e},new Map)}_getViolationsDiffForDevId(e,t,i){let n=this._createEmptyDiff(),a=i.get(e);if(!a)return Array.from(t.values()).forEach(e=>e.forEach(e=>{n.newViolations.push(e)})),n;let s=new Set(t.keys()),o=this._getViolationsDiffForExistingRules(a,t,s);this._mergeDiffs(n,o);let r=this._getViolationsDiffForNewRules(s,t);return this._mergeDiffs(n,r),n}_getViolationsDiffForExistingRules(e,t,i){let a=this._createEmptyDiff(),s=new Map(e);for(let[o,r]of e.entries()){if(!t.has(o)){for(let e of(s.delete(o),r))a.deletedViolations.push(e);i.delete(o);continue}let e=t.get(o)??[],l=new Set,d=[];for(let t of r){let i=!1;for(let a=0;a<e.length;a++){if(l.has(a))continue;let s=e[a];if((0,n.c2)(t.detectionContext,s.detectionContext)){d.push(t),l.add(a),i=!0;break}}i||a.deletedViolations.push(t)}for(let t=0;t<e.length;t++){if(l.has(t))continue;let i=e[t];d.push(i),a.newViolations.push(i)}d.length>0?s.set(o,d):s.delete(o),i.delete(o)}return a}_getViolationsDiffForNewRules(e,t){let i=this._createEmptyDiff();if(0===e.size)return i;for(let n of e)for(let e of t.get(n))i.newViolations.push(e);return i}_removeViolationsForCleanNodes(e,t){let i=this._createEmptyDiff();for(let n of e){let e=t.get(n);if(e)for(let t of e.values())for(let e of t)i.deletedViolations.push(e)}return i}_removeViolationsForDeletedNodes(e,t){let i=this._createEmptyDiff();for(let n of e){let e=t.get(n);if(e)for(let t of e.values())for(let e of t)i.deletedViolations.push(e)}return i}ignoreViolationsForDevIdsWithGroupKey(e,t){let i=s.zl.get(r.m7),n=new Set(s.zl.get(r.F9)),a=new Set(s.zl.get(r.VA)),o=[];for(let s of e){if(!i.get(s))continue;let e=!0,r=!1;for(let o of i.values())for(let i of o.values())for(let o of i)o.developerId===s&&(r=!0,o.groupKey===t?(a.delete(o.violationId),n.add(o.violationId)):a.has(o.violationId)&&(e=!1));r&&e&&o.push(s)}return s.zl.set(r.F9,n),s.zl.set(r.VA,a),o}ignoreViolationIds(e){let t=new Set(s.zl.get(r.F9)),i=new Set(s.zl.get(r.VA)),n=new Map(s.zl.get(r.m7)),a=[];for(let s of e)for(let[e,o]of(t.add(s),i.delete(s),n.entries()))for(let[t,i]of o.entries()){let r=i.findIndex(e=>e.violationId===s);if(-1!==r){let s=i[r];i.splice(r,1),0===i.length&&o.delete(t),0===o.size&&(n.delete(e),a.push(s.developerId))}}return s.zl.set(r.F9,t),s.zl.set(r.VA,i),s.zl.set(r.m7,n),a}resetViolationsState(){s.zl.set(r.m7,new Map),s.zl.set(r.VA,new Set),s.zl.set(r.XC,new Set),s.zl.set(r.F9,new Set)}}},867653(e,t,i){i.d(t,{U:()=>d});var n=i(523924),a=i(37760),s=i(149778),o=i(5372),r=i(351801),l=i(478339);class d{constructor({ruleId:e,detectionContext:t,nodeType:i,developerId:n}){this.ruleId=e,this.detectionContext=t,this.nodeType=i,this.violationId=(0,a.g)(),this.developerId=n;const s=this.detectionContext?this.buildGroupKeyComponents():this.ruleId;this._groupKey=this.hashString(s)}hashString(e){let t=0x811c9dc5;for(let i=0;i<e.length;i++)t^=e.charCodeAt(i),t=Math.imul(t,0x1000193);return(t>>>0).toString(16).padStart(8,"0")}joinKeyParts(e){return e.map(e=>"number"==typeof e?e.toString():e).filter(Boolean).join("-")}getModeContextString(e){return e&&0!==Object.keys(e).length?Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>`${e}:${t}`).join(","):""}get groupKey(){return this._groupKey}buildGroupKeyComponents(){let{ruleId:e}=this;switch(e){case r.C.REQUIRE_FILL_COLOR_VARIABLES:case r.C.REQUIRE_STROKE_COLOR_VARIABLES:return this.buildColorRuleKeyComponents(e,this.detectionContext);case r.C.REQUIRE_TEXT_STYLES:return this.buildTextStyleKeyComponents(this.detectionContext);case r.C.REQUIRE_CORNER_RADIUS_VARIABLES:case r.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case r.C.REQUIRE_VERTICAL_SPACING_VARIABLES:case r.C.REQUIRE_PADDING_VARIABLES:return this.buildNumberRuleKeyComponents(e,this.detectionContext);case r.C.TEXT_BACKGROUND_CONTRAST_AA:return this.buildContrastKeyComponents(e,this.detectionContext);case r.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:return this.buildLibraryMatchKeyComponents(e,this.detectionContext);case r.C.EXTENSIBILITY_RULE:return this.buildExtensibilityKeyComponents(e,this.detectionContext);default:return(0,n.xb)(e)}}normalizeNodeTypeForColorRules(){return"TEXT"===this.nodeType?this.nodeType:(0,o.xi)(this.nodeType)?"FRAME":"SHAPE"}buildColorRuleKeyComponents(e,t){let{color:i,opacity:n,modeContext:a}=t,o=this.normalizeNodeTypeForColorRules(),r=this.getModeContextString(a);return this.joinKeyParts([e,o,(0,s.colorToHex)(i),n,r||null])}buildTextStyleKeyComponents(e){let{fontFamily:t,fontSize:i,lineHeight:n,modeContext:a}=e,s=this.getModeContextString(a);return this.joinKeyParts([r.C.REQUIRE_TEXT_STYLES,t,i,n,s||null])}buildNumberRuleKeyComponents(e,t){let{numericValue:i,modeContext:n}=t,a=this.getModeContextString(n);return this.joinKeyParts([e,i,a||null])}buildContrastKeyComponents(e,t){let{fillColor:i,fillOpacity:n,backgroundColor:a,modeContext:o}=t,r=this.getModeContextString(o);return this.joinKeyParts([e,(0,s.colorToHex)(i),n,(0,s.colorToHex)(a),r||null])}buildLibraryMatchKeyComponents(e,t){let{assetId:i,libraryKey:n,assetType:a,modeContext:s}=t,o=l.p2.includes(a)?this.normalizeNodeTypeForColorRules():"",r=this.normalizeAssetType(a),d=this.getModeContextString(s);return this.joinKeyParts([e,n,o,r,i,d||null])}buildExtensibilityKeyComponents(e,t){let{pluginId:i,rule:n}=t;return this.joinKeyParts([e,i,n.key])}normalizeAssetType(e){return["RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS","RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS"].includes(e)?"CORNER_RADIUS":["STACK_PADDING_TOP","STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT"].includes(e)?"STACK_PADDING":["STACK_SPACING_HORIZONTAL","GRID_COLUMN_GAP"].includes(e)?"SPACING_HORIZONTAL":["STACK_SPACING_VERTICAL","GRID_ROW_GAP"].includes(e)?"SPACING_VERTICAL":e}}},439150(e,t,i){i.d(t,{E:()=>l,Y:()=>c});var n=i(3752),a=i(429445),s=i(42053),o=i(288425);let r="__figma.embed.test.cookie__";function l(){try{a.A.set(r,"enabled",{sameSite:"None",secure:!0});let e="enabled"===a.A.get(r);return a.A.remove(r,{sameSite:"None",secure:!0}),e}catch(e){return!1}}let d=null;function c(){return d||(d=u()),d}async function u(){try{if(!(0,o.l7)()&&!(0,o.ih)())return void(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Not an embed. Skip.");if(!document.requestStorageAccess)return void(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Storage Access API is not available. Give up.");if(l())return void(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Cookies are already accessible. No need to rehydrate storage access.");if(n.A.chrome||n.A.firefox){let e=await document.hasStorageAccess();(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Checking document.hasStorageAccess()",{hasStorageAccess:e});let{state:t}=await navigator.permissions.query({name:"storage-access"}),i="granted"===t;(0,s.ED)("[rehydrateStorageAccessIfNeeded]",'Checking navigator.permissions.query({ name: "storage-access" })',{storageAccessGranted:i}),(i||e)&&i!==e&&((0,s.ED)("[rehydrateStorageAccessIfNeeded]","Conflicting storage access state. Rehydrating.",{storageAccessGranted:i,hasStorageAccess:e}),await document.requestStorageAccess().catch(e=>{(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Error rehydrating storage access",{error:e})}))}}catch(e){(0,s.ED)("[rehydrateStorageAccessIfNeeded]","Error checking storage access. Give up.",{error:e})}}},511843(e,t,i){i.d(t,{AH:()=>_,jY:()=>u}),i(706354),i(267995);var n=i(688357);i(370053);var a=i(491852),s=i(181645),o=i(429163),r=i(536224),l=i(950079),d=i(560637);i(165402);var c=i(626914);function u(e){switch(e){case a.IPZ.SWT_CREATED:return"shapeWithTextCreated";case a.IPZ.SWT_EDITED:return"shapeWithTextEdited";case a.IPZ.SWT_DELETED:return"shapeWithTextDeleted";case a.IPZ.SWT_RESIZED:return"shapeWithTextResized";case a.IPZ.STICKY_EDITED:return"stickyEdited";case a.IPZ.STICKY_DELETED:return"stickyDeleted";case a.IPZ.STICKY_RESIZED:return"stickyResized";case a.IPZ.SCENEGRAPH_UPDATER_PERFORMED_UPDATES:return"scenegraphUpdaterPerformedUpdates"}}i(462198),i(561768);class _{constructor(e,t,i,a=1,o=!1,d=null,u=()=>{},_=null){this._analyticsEventName=e,this._processTimersForLogging=t,this._slowFrameTracker=i,this._timerDepth=a,this._forwardToDatadog=o,this._tsmerMetrics=d,this._customLogMetricsCallbackHistogram=u,this._collectorSlowFrameTracker=_,this._isRecording=!1,this._isCanceled=!1,this._isFirstLogForTab=!0,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._numberOfRenderedCommentsWatermark=0,this._lastRecordedNumberOfRenderedComments=0,this._distributionByWorkName=new Map,this._lastKnownFrameMs=null,this._lastLogTime=null,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._fileKey=null,this._productType="unknown",this._planTier="unknown",this._gpuDeviceInfo=(0,c.l)(),this._activeNamedEvents=new Set,this._singleFrameNamedEvents=new Set,this._eventTrackers=new Map,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,this._tileRenderersUsed=new Set,this._currentTileRenderer="",this.scheduleLogTwoMinutesFromNow=()=>{null===this._scheduledLogAtMs&&(this._scheduledLogAtMs=performance.now()+12e4)},this._onDocumentVisibilityChange=()=>{this.handleDocumentVisibilityChange(document.visibilityState)},this.updateLastKnownFrameMs=e=>{this._lastKnownFrameMs=e},this.startRecording=e=>{this._isRecording=!0,this._resetLogState(),this._lastKnownFrameMs=performance.now(),null===this._lastLogTime&&(this._lastLogTime=this._lastKnownFrameMs),e&&this.scheduleLogTwoMinutesFromNow()},this.stopRecordingAndLog=e=>{let t={};return this._distributionByWorkName.forEach((e,i)=>{t[i]=e.toPOJO()}),this._shouldLogToAnalytics()&&(this._logToAnalytics(e),this._resetLogState()),this._isRecording=!1,t},this.setFileInfo=(e,{productType:t,planTier:i})=>{(e!==this._fileKey||t!==this._productType)&&this._resetLogState(),this._fileKey=e,this._productType=t,this._planTier=i},this._startRecordingNamedEvent=e=>{this._activeNamedEvents.add(e)},this.recordSingleFrameNamedEvent=e=>{this._singleFrameNamedEvents.add(e)},this._stopRecordingNamedEvent=e=>{this._activeNamedEvents.delete(e)},this.handleZoomStart=()=>{this._startRecordingNamedEvent("zoomActive")},this.handleZoomStop=()=>{this._stopRecordingNamedEvent("zoomActive")},this.handleScrollEvent=()=>{this.recordSingleFrameNamedEvent("scrollActive")},this.onNodeDragStart=()=>{this._startRecordingNamedEvent("nodeDragActive")},this.onNodeDragEnd=()=>{this._stopRecordingNamedEvent("nodeDragActive")},this.onTileRendererChanged=e=>{this._tileRenderersUsed.add(e),this._currentTileRenderer=e},this.onContextRestored=()=>{this._contextRestoredCount++},this.updateMaxRenderLayerCount=e=>{this._maxRenderLayerCount=Math.max(this._maxRenderLayerCount,e)},this.updateMaxRenderedTileBytesUsed=e=>{this._maxRenderedTileBytesUsed=Math.max(this._maxRenderedTileBytesUsed,e)},this.incrementNumAnimationsFromCpp=()=>{this._numAnimationsFromCpp++},this.incrementNumAnimationsFromTs=()=>{this._numAnimationsFromTs++},this.handleDocumentVisibilityChange=e=>{"hidden"===e&&this._shouldLogToAnalytics()&&(this._logToAnalytics("tab-hidden"),this._resetLogState()),"hidden"!==e&&this._resetLogState()},this._logToAnalytics=(e,t=!1)=>{let i={};i.schema=new r.UP().schema(),i.reason=e,i.isFirstLogAfterLoad=this._isFirstLogForTab,i.imagesLoading="loading"===this._imagesLoadingState,i.multiplayerUserCount=this._multiplayerUserCount,i.ongoingSpotlight=this._ongoingSpotlight,i.fileKey=this._fileKey,i.productType=this._productType,i.planTier=this._planTier,i.refreshRate=this.refreshRate(),i.commentsRenderCount=this._numberOfRenderedCommentsWatermark,i.contextRestoredCount=this._contextRestoredCount,i.maxRenderLayerCount=this._maxRenderLayerCount,i.maxRenderedTileBytesUsed=this._maxRenderedTileBytesUsed,(0,c.q)(this._gpuDeviceInfo,i),i.lastCheckpointSize=n.CeL?.getServerSideLoadTimeMetadata()?.lastCheckpointSize,i.numAnimationsFromCpp=this._numAnimationsFromCpp,i.numAnimationsFromTs=this._numAnimationsFromTs,this._isFirstLogForTab=!1,null!==this._tsmerMetrics&&(i.editFrames=this._tsmerMetrics.editFrameDistribution().toLogParams(),i.editFramesWhileNotPanningOrZooming=this._tsmerMetrics.editFrameDistributionWhileNotPanningOrZooming().toLogParams(),i.remoteFrames=this._tsmerMetrics.remoteFrameDistribution().toLogParams(),i.remoteFramesWhileNotPanningOrZooming=this._tsmerMetrics.remoteFrameDistributionWhileNotPanningOrZooming().toLogParams()),this._customLogMetricsCallbackHistogram(i),i.tileRenderersUsed=JSON.stringify(Array.from(this._tileRenderersUsed)),this._tileRenderersUsed.clear(),this._tileRenderersUsed.add(this._currentTileRenderer),this._distributionByWorkName.forEach((e,t)=>{if(t in i)throw Error(`attempt to track performance for a work item with a reserved name: ${t}`);i[t]=e.toLogParams()}),i.totalBatchTime=performance.now()-this._lastLogTime,this._lastLogTime=performance.now(),i.hasCmsBoundCollections=n.CeL?.getHasCmsBoundCollections(),i.hasCmsBoundFields=n.CeL?.getHasCmsBoundFields(),t?setTimeout(()=>{this._sendLogRequest(i)},0):this._sendLogRequest(i)},this._sendLogRequest=e=>{let t={forwardToDatadog:this._forwardToDatadog,batchRequest:!0};(0,s.sx)(this._analyticsEventName,e,t)},this._processTimerTree=(e,t,i)=>{if(t>=this._timerDepth)return[];let n=[];for(let a of e){let e=[...i,a.name],s=e.join(".");if(!(s in this._lastRecordedHitCountByName)||!(s in this._lastRecordedDurationSinceLastFrame)){this._lastRecordedHitCountByName[s]=a.hitCount,this._lastRecordedDurationSinceLastFrame[s]=a.totalElapsedTime;continue}let o=a.hitCount-this._lastRecordedHitCountByName[s];if(0===o)continue;o>a.elapsedTimes.length&&console.warn(`Logged performance for ${s} too many times in one animation frame`);let r=a.totalElapsedTime-this._lastRecordedDurationSinceLastFrame[s];this._lastRecordedHitCountByName[s]=a.hitCount,this._lastRecordedDurationSinceLastFrame[s]=a.totalElapsedTime,n.push({path:e,elapsedTime:r});let l=t+1;l<this._timerDepth&&a.children.length>0&&(n=n.concat(this._processTimerTree(a.children,l,e)))}return n},this.checkNotVisibleOrRecording=()=>"visible"!==document.visibilityState||!this._isRecording,this.onFrame=()=>{if("ok"!==l.y.getFullscreenCrashState())return"canceled";try{if(this._isCanceled)return"canceled";if(this.checkNotVisibleOrRecording())return"not-recording";let e=performance.now();if(null!=this._lastKnownFrameMs){let t=e-this._lastKnownFrameMs;if(t<6e4){this._getOrCreateDistribution("all").add(t);let{trackersHitThisFrame:e,trackerTotalTimeMs:i}=this.writeEventTrackerDistributions(t);n.glU?.updatePerfMode(e),null!==this._scheduledLogAtMs&&this._slowFrameTracker?.checkSlowFrameAndSample(t,e,i,{fileKey:this._fileKey,productType:this._productType,planTier:this._planTier},this._gpuDeviceInfo)}}if(this._lastKnownFrameMs=e,this.cancelIfTimersOpen())return"canceled";return this.writeAppTimerDistributions(),this._tsmerMetrics?.onFrame(),this.logIfTwoMinutesElapsed(),"success"}finally{this._slowFrameTracker?.clearPerFrameMetricsAndIncrementFrameCounter()}},this.testOnlyGetDistribution=(e="all")=>this._getOrCreateDistribution(e),this.pendingImagesChanged=e=>{if("loaded"===this._imagesLoadingState)return;let t=e>0?"loading":"loaded";t!==this._imagesLoadingState&&("loading"===this._imagesLoadingState&&(this._logToAnalytics("images-loaded"),this._resetLogState()),this._imagesLoadingState=t)},document.addEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("visibilitychange",this._onDocumentVisibilityChange)}uninstall(){document.removeEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("visibilitychange",this._onDocumentVisibilityChange)}hasScheduledLog(){return null!=this._scheduledLogAtMs}_shouldLogToAnalytics(){return this._isRecording&&null!=this._scheduledLogAtMs}productTypeForTests(){return this._productType}_resetLogState(){this._lastKnownFrameMs=null,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._distributionByWorkName=new Map,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._activeNamedEvents.clear(),this._singleFrameNamedEvents.clear(),this._numberOfRenderedCommentsWatermark=this._lastRecordedNumberOfRenderedComments,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,this._tsmerMetrics?.resetLogState()}getSlowFrameTracker(){return this._slowFrameTracker}refreshRate(){let e=this._distributionByWorkName.get("all");if(e){let t=e.getMode();if(t){if(t.min<9)return"120FPS";else if(t.min<32)return"60FPS";else if(t.min<48)return"30FPS"}}return"UNKNOWN"}estimatedRefreshRate(){let e=this._distributionByWorkName.get("all");if(e){let t=e.getMode();if(t)if(t.min<9)return{frameLength:1e3/120,fps:120};else{if(t.min<32)return{frameLength:1e3/60,fps:60};t.min}}return{frameLength:1e3/30,fps:30}}tsmerMetrics(){return this._tsmerMetrics}_getOrCreateDistribution(e){let t=this._distributionByWorkName.get(e);return t||(t=new r.UP,this._distributionByWorkName.set(e,t)),t}addEventTracker(e,t){this._eventTrackers.set(e,t)}addTimeEvent(e,t){this._getOrCreateDistribution(e).add(t)}trackCollectorFrameAndSample(e,t){if("ok"!==l.y.getFullscreenCrashState()||this.checkNotVisibleOrRecording()||this._isCanceled)return;let i=this._collectorSlowFrameTracker;e<6e4&&(this._getOrCreateDistribution("app_frame_time_collector").add(e),t?this._getOrCreateDistribution("collector_fullscreen_frame_time").add(e):this._getOrCreateDistribution("collector_fullscreen_idle_frame_time").add(e),i?.checkSlowFrameAndSample(e,[],0,{fileKey:this._fileKey,productType:this._productType,planTier:this._planTier,ranFullscreenLoop:t},this._gpuDeviceInfo)),i?.clearPerFrameMetricsAndIncrementFrameCounter()}writeEventTrackerDistributions(e){for(let t of this._activeNamedEvents)this._getOrCreateDistribution(t).add(e);let t=performance.now(),i=[];for(let[t,n]of this._eventTrackers)n.didEventOccur()&&(i.push(t),this._getOrCreateDistribution(t).add(e));let n=performance.now()-t;for(let t of this._singleFrameNamedEvents)this._getOrCreateDistribution(t).add(e);return this._singleFrameNamedEvents.clear(),{trackersHitThisFrame:i,trackerTotalTimeMs:n}}cancelIfTimersOpen(){return!!o.rH.areTimersOpen()&&(this._isCanceled=!0,!0)}writeAppTimerDistributions(){let e=this._processTimerTree(o.rH.report(),0,[]);for(let t of this._processTimersForLogging(e))this._getOrCreateDistribution(t.path.join(".")).add(t.elapsedTime)}logIfTwoMinutesElapsed(){null!==this._scheduledLogAtMs&&performance.now()>this._scheduledLogAtMs&&(this._logToAnalytics("two-minutes-elapsed",!0),this._resetLogState())}setNumberOfRenderedComments(e){this._lastRecordedNumberOfRenderedComments=e,this._numberOfRenderedCommentsWatermark=Math.max(e,this._numberOfRenderedCommentsWatermark)}setMultiplayerPerfInfo(e){let{multiplayerUserCount:t,ongoingSpotlight:i}=e;this._ongoingSpotlight=i,this._multiplayerUserCount=t}trackOtherUserCursorMoved(){d.R9?.setOtherUserMouseMovedCallback(()=>{this.recordSingleFrameNamedEvent("otherUserCursorMoved")})}}},71293(e,t,i){i.d(t,{B:()=>r,N:()=>o});var n=i(105652),a=i(805242),s=i(92218);class o{constructor(e){this._frameBatcher=new s.R,this._value=e}set(e){this._value!==e&&(this._value=e,this._frameBatcher.schedulePublishToUI())}get(){return this._value}use(e){let[t,i]=n.useState(this._value);return this.useSubscription(i,e),t}useSubscription(e,{updateSynchronously:t=!1}={}){n.useEffect(()=>{let i=()=>{let i=()=>e(this._value);t?(0,a.flushSync)(i):i()};return this._frameBatcher.addFrameListener(i),()=>{this._frameBatcher.removeFrameListener(i)}},[e,t])}}class r extends o{constructor(e,t){super(e),this.comparisonFunction=t}set(e){let t=super.get();this.comparisonFunction(t,e)||super.set(e)}}},260957(e,t,i){i.d(t,{o:()=>a,p:()=>s});var n=i(105652);function a(){let e=new Set;return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),emit(t){for(let i of e)i(t)}}}function s(e,t){(0,n.useEffect)(()=>e.subscribe(t),[t,e])}},630352(e,t,i){i.d(t,{GC:()=>r,N7:()=>s,ff:()=>o});var n=i(523924),a=i(497935);function s(e,t){if(typeof e!=typeof t)return!1;if("object"!=typeof e)return e===t;let i={...e},n={...t};for(let e in i)e.startsWith("__IGNORE__")&&delete i[e];for(let e in n)e.startsWith("__IGNORE__")&&delete n[e];return(0,a.c2)(i,n)}function o(e){return{refetch:()=>{if(!e)return;let t=e({type:"refetch"});return(0,n.vA)(t instanceof Promise),t}}}function r(e){return{refetch:()=>{if(!e)return;let t=e({type:"refetch"});return(0,n.vA)(t instanceof Promise),t},fetchNextPage:t=>{if(!e)return;let i=e({type:"fetchNextPage",options:t});return(0,n.vA)(i instanceof Promise),i},fetchPreviousPage:t=>{if(!e)return;let i=e({type:"fetchPreviousPage",options:t});return(0,n.vA)(i instanceof Promise),i}}}},165980(e,t,i){i.d(t,{gc:()=>g,he:()=>f});var n=i(988062),a=i(497935),s=i(968379),o=i(741542),r=i(350923),l=i(779757),d=i(631595),c=i(741242),u=i(668522),_=i(175402),m=i(916290);let h={expireIn:(e,t)=>setTimeout(e,t),now:Date.now,clearExpireIn:e=>clearTimeout(e)},p=(0,r.Iz)(e=>(0,r.eU)(()=>f(e)));function g(e){let t=p(e);return r.zl.get(t)}let f=function(e,t,i=new _.N(h,t)){return t=>{let c;return Object.assign(e=>c(e),{_atomFamily:c=(0,r.Iz)(a=>{let _=new d.W(()=>r.zl.sub(b,()=>{}));if(null===a)return(0,r.eU)(l.Qw.disabledSuspendable(_));let h=(0,n.stableStringify)(a),p=`${t._name}:${h}`,g=null,f=(0,s.v)(),E=(0,r.yu)((0,r.t_)(()=>i.get(p)||(0,u.Xm)()),({setSelf:n})=>{let s=e().subscribe(t,a,e=>{switch(e.status){case"errors":f.reject(e.errors);break;case"loaded":f.resolve(e)}n(t=>"loading"!==t.status&&"loading"===e.status?t:(g=e,e))});return()=>{c.setShouldRemove((e,t)=>t===a),c.setShouldRemove(null),g&&((0,o.getFeatureFlags)().livestore_sanitize_cache?i.set(p,{...g,data:function e(t){if("object"!=typeof t||null===t||t instanceof Date)return t;if(Array.isArray(t)&&"hasNextPage"in t){let e=[];for(let i in t){let n="function"==typeof t[i]?m.lQ:t[i];Object.assign(e,{[i]:n})}return e}let i=Array.isArray(t)?[]:{},n=!0;for(let a in t){let s=t[a],o=e(s);i[a]=o,s!==o&&(n=!1)}return n?t:i}(g.data)}):i.set(p,g)),s()}}),b=(0,r.eU)(e=>l.Qw.suspendableFrom(e(E),()=>f.promise.then(()=>{}),_));return b.debugLabel=performance.now().toString(),b},a.c2)})}}(()=>c.Z.get(),3e5)},804616(e,t,i){i.d(t,{H:()=>n,Kh:()=>o,aX:()=>a,uf:()=>s});let n=Symbol("__OPAQUE_RQ_QUERY__"),a=Symbol("__OPAQUE_RQ_PAGINATED_QUERY__");function s(e){return e.__OPAQUE_RQ_PAGINATED_QUERY__===a}function o(e){return e.__OPAQUE_RQ_QUERY__===n}},601335(e,t,i){i.d(t,{H:()=>n.H,Qw:()=>n.Qw});var n=i(779757)},732545(e,t,i){i.d(t,{Y:()=>o,x:()=>d});var n=i(181645),a=i(151524),s=i(485587);function o(e){return{undoHistoryBatchCount:e.undoHistory.batchCount,undoHistoryCreateNodeChangesCount:e.undoHistory.createNodeChangesCount,undoHistoryRemoveNodeChangesCount:e.undoHistory.removeNodeChangesCount,undoHistoryPropertyChangesCount:e.undoHistory.propertyChangesCount,undoHistoryCollaborativeTextChangesCount:e.undoHistory.collaborativeTextChangesCount,redoHistoryBatchCount:e.redoHistory.batchCount,redoHistoryCreateNodeChangesCount:e.redoHistory.createNodeChangesCount,redoHistoryRemoveNodeChangesCount:e.redoHistory.removeNodeChangesCount,redoHistoryPropertyChangesCount:e.redoHistory.propertyChangesCount,redoHistoryCollaborativeTextChangesCount:e.redoHistory.collaborativeTextChangesCount,untaintedUndoHistoryBatchCount:e.untaintedUndoHistory.batchCount,untaintedUndoHistoryCreateNodeChangesCount:e.untaintedUndoHistory.createNodeChangesCount,untaintedUndoHistoryRemoveNodeChangesCount:e.untaintedUndoHistory.removeNodeChangesCount,untaintedUndoHistoryPropertyChangesCount:e.untaintedUndoHistory.propertyChangesCount,untaintedUndoHistoryCollaborativeTextChangesCount:e.untaintedUndoHistory.collaborativeTextChangesCount,untaintedRedoHistoryBatchCount:e.untaintedRedoHistory.batchCount,untaintedRedoHistoryCreateNodeChangesCount:e.untaintedRedoHistory.createNodeChangesCount,untaintedRedoHistoryRemoveNodeChangesCount:e.untaintedRedoHistory.removeNodeChangesCount,untaintedRedoHistoryPropertyChangesCount:e.untaintedRedoHistory.propertyChangesCount,untaintedRedoHistoryCollaborativeTextChangesCount:e.untaintedRedoHistory.collaborativeTextChangesCount}}let r=!0;function l(e){return e<0x8000000?"0mb-to-128mb":e<0x10000000?"128mb-to-256mb":e<0x20000000?"256mb-to-512mb":e<0x40000000?"512mb-to-1gb":e<0x80000000?"1gb-to-2gb":e<0x100000000?"2gb-to-4gb":">4gb"}function d(e,t,i){if(!r)return;r=!1;let o=l(e.totalMemoryInBytes);t&&(0,s.Rh)("oom_error",{memory:o,productType:i});let d=l(e.failedSize);if((0,n.sx)("Out Of Memory",{...e,memoryUsageBin:o,failedSizeBin:d,productType:i},{forwardToDatadog:t}),"enter-branching-mode"===e.lastAction){let s=a.D.getState();(0,n.sx)("Branching out of memory",{...e,memoryUsageBin:o,failedSizeBin:d,branchingSceneState:s.mirror?.appModel?.branchingSceneState,lastBranchingStagingAction:s.mirror?.appModel?.lastBranchingStagingAction,productType:i},{forwardToDatadog:t})}}},394555(e,t,i){i.d(t,{Z:()=>s});var n=i(704780);class a{constructor(e){this.store=e,this.name="redux"}getContext(){if(!this.store)return null;let e=this.store.getState();return{selectedView:e.selectedView.view,modalShown:e.modalShown?.type??null,dropdownShown:null!==e.dropdownShown}}}function s(e){n.$Y.registerProvider(new a(e))}},626914(e,t,i){i.d(t,{l:()=>o,q:()=>s});var n=i(602689),a=i(688357);function s(e,t){e&&(0,n.Dy)(e,t,"deviceInfo")}function o(){return a.CeL?.getGpuDeviceInfo()??null}},904502(e,t,i){let n,a;i.d(t,{N:()=>l});var s=i(659793),o=i(706354);let r=(n=null,a=[],function(e){a.push(e),null===n&&(n=requestAnimationFrame(()=>{n=null;let e=[...a];for(a.length=0;e.length>0;){let t=e.shift();if(t)try{t()}catch(e){(0,s.N7)(o.FigmaTeam.UNOWNED,e)}}}))});function l(e){let t=!1,i=()=>{t=!1,e()};return function(){t||(t=!0,r(i))}}},561768(e,t,i){i.d(t,{N:()=>c});var n=i(885705),a=i(706354),s=i(688357),o=i(181645),r=i(539236),l=i(626914);let d=class e{constructor(e,t,i,n=null,a=!1,s="slow_frame_tracker"){this.isPrototypingFrameTracker=e,this.addPerFrameMetricsCallback=t,this.clearPerFrameMetricsCallback=i,this.isImageExportFrameCallback=n,this.enableRumTracking=a,this.analyticsEventName=s,this.frameNumber=0,this.lastSampledFrame=0,this.forceNextFrameToBeSampled=!1}incrementFrameCounter(){this.frameNumber++}checkSlowFrameAndSample(t,i,n,a,s){let o=this.isImageExportFrameCallback?.()??!1,r=this.forceNextFrameToBeSampled||o,l=1;t<300&&!r&&(l=t<1?e.sampleRateUpTo1ms:t<9?e.sampleRateUpTo9ms:t<17?e.sampleRateUpTo17ms:t<19?e.sampleRateUpTo19ms:t<20?e.sampleRateUpTo20ms:t<23?e.sampleRateUpTo23ms:t<25?e.sampleRateUpTo25ms:t<29?e.sampleRateUpTo29ms:t<32?e.sampleRateUpTo32ms:t<48?e.sampleRateUpTo48ms:t<64?e.sampleRateUpTo64ms:t<80?e.sampleRateUpTo80ms:t<100?e.sampleRateUpTo100ms:e.sampleRateUpTo300ms),this.forceNextFrameToBeSampled=t>=e.unsampledFrameTimeMs,(r||this.forceNextFrameToBeSampled||l>Math.random())&&this.sampleFrame(t,l,r,o,i,n,a,t>=e.unsampledFrameTimeMs,s)}clearPerFrameMetricsAndIncrementFrameCounter(){this.incrementFrameCounter(),this.clearPerFrameMetricsCallback()}sampleFrame(t,i,d,c,u,_,m,h,p){let g={};g.frameTimeMs=t,g.frameSamplingRate=i,g.protoSlowFrameTracker=this.isPrototypingFrameTracker,g.frameNumber=this.frameNumber,g.frameWasForceSampled=d,g.isImageExportFrame=c,g.trackersHit=u,g.trackerTotalTimeMs=_,g.fileKey=m.fileKey,g.productType=m.productType,g.planTier=m.planTier,"ranFullscreenLoop"in m&&(g.ranFullscreenLoop=m.ranFullscreenLoop),g.lastCheckpointSize=s.CeL?.getServerSideLoadTimeMetadata()?.lastCheckpointSize,(0,l.q)(p,g);let f=this.lastSampledFrame<this.frameNumber-1;this.addPerFrameMetricsCallback(g,f),this.lastSampledFrame=this.frameNumber,setTimeout(()=>{(0,o.sx)(this.analyticsEventName,g,{...e.loggerOptions,forwardToDatadog:h}),this.enableRumTracking&&t>=e.unsampledFrameTimeMs&&r.J.addAction("slowFrameThresholdExceeded",a.FigmaTeam.PRODUCTION_ENGINEERING,n.$.WARN,{slowFrame:{...g,frameTimeMs:t,frameTimeThresholdMs:e.unsampledFrameTimeMs}})},0)}getDrawCallsForGuardrails(){return 0}};d.optimizationExposuresKey="optimizationExposures",d.gpuMetricsCurrentFrameKey="gpuMetricsCurrentFrame",d.gpuMetricsPreviousFrameKey="gpuMetricsPreviousFrame",d.cpuTimerTreeCurrentFrameKey="cpuTimerTreeCurrentFrame",d.cpuTimerTreePreviousFrameKey="cpuTimerTreePreviousFrame",d.activeAnimationsKey="activeAnimations",d.numberOfDevAnnotationsVisibleKey="numberOfDevAnnotationsVisible",d.sampleRateUpTo1ms=.00224,d.sampleRateUpTo9ms=7e-4/15,d.sampleRateUpTo17ms=4e-4/15,d.sampleRateUpTo19ms=.0016/15,d.sampleRateUpTo20ms=58e-5,d.sampleRateUpTo23ms=.0076/15,d.sampleRateUpTo25ms=.00186,d.sampleRateUpTo29ms=.00156,d.sampleRateUpTo32ms=.0338/15,d.sampleRateUpTo48ms=.0113/15,d.sampleRateUpTo64ms=.0585/15,d.sampleRateUpTo80ms=.1204/15,d.sampleRateUpTo100ms=.2134/15,d.sampleRateUpTo300ms=.2134/30,d.unsampledFrameTimeMs=300,d.loggerOptions={forwardToDatadog:!1,batchRequest:!0};let c=d},510005(e,t,i){i.d(t,{d:()=>o,x:()=>s});var n,a=i(485587),s=((n=s||{})[n.SUCCESS=0]="SUCCESS",n[n.NO_WEBGL=1]="NO_WEBGL",n[n.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE",n);function o(){return null==window.webGLTestResult&&(window.webGLTestResult=function(){var e,t=0;try{let i,n,s,o=function(){let e=document.createElement("canvas");try{return e.getContext("webgl")}catch(e){}return null}();o||(t=1),0!==t||o?.isContextLost()||(s={gpu_vendor:(n=(i=(e=o).getExtension("WEBGL_debug_renderer_info"))&&(e.getParameter(i.UNMASKED_RENDERER_WEBGL)+"").toLowerCase())?/\bamd\b|\bati\b/.test(n)?"amd":/\bnvidia\b/.test(n)?"nvidia":/\bintel\b/.test(n)?"intel":"unknown":"unknown",gpu_api:n?/direct3d9/.test(n)?"d3d9":/direct3d11/.test(n)?"d3d11":/opengl/.test(n)?"opengl":"unknown":"unknown"},(0,a.Rh)("page_load",s).catch(e=>console.error("Error trying to send tags",s,e)))}catch(e){}return t}()),window.webGLTestResult}},814149(e,t,i){i.d(t,{J:()=>u,O:()=>c});var n,a=i(239976),s=i(105652),o=i(163652),r=i(850159);let l="devtools_error_overlay--title--oD3Re",d="devtools_error_overlay--subtitle--tnKjz";var c=((n=c||{}).STALE="stale",n.ERROR="error",n.SOFT_DELETED="soft_deleted",n);function u({location:e,message:t,type:i}){let[n,c]=s.useState(!1),u=s.useRef(null);return s.useEffect(()=>{if(!u.current)return;let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:i}=t.contentRect;c(e<196||i<100)}});return e.observe(u.current),()=>{e.disconnect()}},[]),(0,a.jsxs)("div",{ref:u,className:`devtools_error_overlay--error--hKjiq ${n?"devtools_error_overlay--smallSize--LGsBr":""}`,"data-testid":"devtools-error-overlay",children:[(0,a.jsx)(o.i,{}),"window"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:l,children:t??(0,r.tx)("sites.code_component.error_overlay_title")}),(0,a.jsx)("div",{className:d,children:(0,r.tx)("sites.code_component.error_overlay_subtitle_window")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:l,children:["stale"===i&&(0,r.tx)("sites.code_component.error_overlay_title_stale"),"error"===i&&(0,r.tx)("sites.code_component.error_overlay_title"),"soft_deleted"===i&&(0,r.tx)("sites.code_component.error_overlay_title_soft_deleted")]}),(0,a.jsxs)("div",{className:d,children:["stale"===i&&(0,r.tx)("sites.code_component.error_overlay_subtitle_canvas_stale"),"error"===i&&(0,r.tx)("sites.code_component.error_overlay_subtitle_canvas")]})]})]})}},586910(e,t,i){i.d(t,{d:()=>s,n:()=>a});var n=i(805590);function a(e,t,i=(0,n.N)()){if(!e)return;let s=i.getEntryByGUID(t.guid);return s?.entrypointIdentifier??void 0}function s(e){return e.isCodeInstance||e.isCodeBehavior||e.isAnimationPresetInstance?e.backingCodeComponent?.codeExportName||"default":e.codeExportName||"default"}},925169(e,t,i){i.d(t,{x:()=>s});var n=i(523924),a=i(626755);function s(e,t){switch(e?.state){case void 0:case a.TT.FAILED:case a.TT.PROVISIONING:case a.TT.REPROVISIONING:return null;case a.TT.CACHED_PREVIEW:return{type:"snapshot",jsUrl:e.cachedPreview.jsUrl,cssUrl:e.cachedPreview.cssUrl,codeFileExportName:t||"default"};case a.TT.PROVISIONED:return{type:"sandbox",jsUrl:e.url,codeFileExportName:t||"default"};default:return(0,n.S9)(e,null)}}},696728(e,t,i){i.d(t,{_n:()=>s,eC:()=>a,yg:()=>o});var n=i(805769);let{bundleCode:a,fileSaveLocalCopySemaphore:s,fileImportSemaphore:o}={bundleCode:new n.j(3),fileSaveLocalCopySemaphore:new n.j(5),fileImportSemaphore:new n.j(20)}},928331(e,t,i){i.d(t,{P:()=>a,b:()=>n});let n=function(){return[]},a=function(){return[]}},898212(e,t,i){i.d(t,{P:()=>n});let n=function(){return Promise.resolve([])}},40086(e,t,i){i.d(t,{Kf:()=>s,_G:()=>o,nb:()=>a});var n=i(350923);let a=(0,n.eU)(""),s=(0,n.eU)(!1),o=(0,n.eU)(null)},612537(e,t,i){i.d(t,{Iu:()=>G,MZ:()=>x,Ng:()=>w,P8:()=>A,PG:()=>L,cT:()=>O,f1:()=>D,mI:()=>P,qF:()=>N,q_:()=>U,vr:()=>F});var n=i(393106),a=i(850159),s=i(741542),o=i(350923),r=i(181645),l=i(59762),d=i(790884),c=i(436174),u=i(563876),_=i(838719),m=i(841184),h=i(118883),p=i(608293),g=i(116682),f=i(333723),E=i(40086),b=i(869460),y=i(999291),S=i(202516),T=i(863825),v=i(265773),R=i(113641),I=i(297522);function x(){return null===document.querySelector('[data-component-name="auth-view"]')}let A=(0,v.nF)((e,{resp:t})=>{let i,s,o=e.getState(),r=t.data;if(r&&r.reason&&"object"==typeof r.reason){if("mfa_required_by_org"===r.reason.missing&&r.reason.mfa_setup_token)return void c.Ay.redirect(`/mfa_auth?mfa_setup_token=${r.reason.mfa_setup_token}`);else if("two_factor"===r.reason.missing){let t;e.dispatch(f.IY(r.reason.sms)),r.reason.phone_number&&(t=(0,a.t)("auth.two-factor.sms-hint",{phoneNumber:r.reason.phone_number}),e.dispatch(f.kQ({hint:t})));let i=o.auth.formState===b.qB.SIGN_IN||o.auth.formState===b.qB.RESET_PASSWORD?o.auth.formState:b.qB.SIGN_IN;e.dispatch(f.LP({kind:i}));return}}let l=(0,n.J)(t,r?.message||(0,a.t)("auth.default-error"));if(r?.reason==="account_unverified")return void e.dispatch(f.E({formState:b.qB.VALIDATE_EMAIL}));if(r?.reason==="account_suspended"){window.location.href="/blocked.html";return}t&&401===t.status?i=b.By.UNAUTHORIZED:t&&400===t.status?i=b.By.BAD_REQUEST:t&&404===t.status&&"no_saml"===r.reason?i=b.By.NO_SAML:t&&404===t.status&&"magic_link_login_no_account"===r.reason?i=b.By.MAGIC_LINK_LOGIN_NO_ACCOUNT:t&&403===t.status&&"saml_required"===r.reason&&(i=b.By.SAML_REQUIRED),o.auth.formState===b.qB.TWO_FACTOR&&o.auth.twoFactorPromptedBy===b.qB.SIGN_IN?s=b.RE.TOTP_KEY:o.auth.formState===b.qB.RESET_PASSWORD||r&&r.reason&&"object"==typeof r.reason&&("password"===r.reason.missing||"password"===r.reason.invalid)?s=b.RE.PASSWORD:o.auth.formState===b.qB.SAML_START&&(s=b.RE.EMAIL),o.auth.formState===b.qB.VERIFY_HUMAN&&o.auth.prevForm!==b.qB.VERIFY_HUMAN&&e.dispatch(f.E({formState:o.auth.prevForm})),e.dispatch(f.Qg({message:l,errorType:i,invalidInput:s}))}),O=(0,v.nF)((e,{data:t})=>{let i=e.getState();if((0,S.p)("sign_in_user_pass"),(0,y.g)("sign_in_success",i.auth.origin,{user_id:t?.meta?.id}),(0,_.initialOptions)().integration_host&&(0,r.sx)("Integration Login Success",{user_id:t?.meta?.id,integrationHost:(0,_.initialOptions)().integration_host,trackedContext:R.e0.MS_TEAMS_TAB}),N(t,i.auth.redirectUrl)){let i=t.meta.id;e.dispatch(f.Em({userId:i}))}else"design_pricing"===i.auth.signupSource&&e.dispatch(f.WY({redirectUrl:"/upgrade-team"})),e.dispatch(f.My({userId:t.meta.id})),e.dispatch(T.s.flash((0,a.t)("auth.sign-in-success",{email:t.meta.email}))),new m.P().sendToOtherTabs(u.Rg,t.meta.email)});function N(e,t){if(t?.includes("/email/validate"))return!1;let i="email_validated_at";return e.meta.hasOwnProperty(i)&&null===e.meta[i]}let C=["logged_out_footer_continue_with_google","logged_out_footer","request_permissions_entry","google_one_tap_logged_out_file","logged_out_main_menu_toolbar","prototype_header_nav","prototype_comment_signed_out","team_invite_link","claim_invite","account_picker","signed_out_edit","saml_sso","figma_rev_logged_out_footer_continue_with_google","figma_rev_logged_out_header","figma_rev_logged_out_header_with_google","figma_rev_logged_out_footer","google_one_tap_prototype","prototype_header_nav_google_sso","slides_presentation_header_nav_google_sso","mobile_viewer_logged_out_footer"];function L(e){let t=e.email&&e.email.trim();return k(e.password&&e.password.trim(),t)}function w(e){let t=e.email&&e.email.trim(),i=e.password&&e.password.trim(),n=e.name&&e.name.trim(),a=k(i,t);return a.message||(a=M(i,t,n)),a}function D(e){return j(e.email&&e.email.trim())}let j=e=>e?(0,l.xf)(e)?{message:"",invalidInput:null}:{message:(0,a.t)("auth.input-validation.invalid-email"),invalidInput:b.RE.EMAIL}:{message:(0,a.t)("auth.input-validation.no-email"),invalidInput:b.RE.EMAIL},k=(e,t)=>{let i=j(t);return i.message?i:e?{message:"",invalidInput:null}:{message:(0,a.t)("auth.input-validation.no-password"),invalidInput:b.RE.PASSWORD}},P=(e="")=>!!(0,h.qg)(c.Ay.location.search).is_not_gen_0||e&&C.includes(e),M=(e,t,i)=>{let n="";return(0,p.YH)(e).length>500&&(n=(0,a.t)("auth.input-validation.long-password")),Array.from(e).length<8&&(n=(0,a.t)("auth.input-validation.short-password")),e===t&&(n=(0,a.t)("auth.input-validation.email-is-password")),i&&e===i&&(n=(0,a.t)("auth.input-validation.name-is-password")),n?{message:n,invalidInput:b.RE.PASSWORD}:{message:"",invalidInput:null}};function F({url:e,cont:t}){let i=new URL(e);i.searchParams.set("cont",t),c.Ay.redirect(i.toString())}let U=(0,v.nF)((e,{formId:t})=>{(0,y.g)("sms_recover_attempt",e.getState().auth.origin);let i=document.getElementById(t),n=(0,d.t)(i),r=null,l=o.zl.get(E._G);r=l?{name:l.name,token:l.token,token_type:l.tokenType,google_fed_cm_enabled:(0,s.getFeatureFlags)().google_federated_cm??!1}:n,g.Ay.post("/api/session/sms_recover",r).then(({data:t})=>{(0,y.g)("sms_recover_success",e.getState().auth.origin),t&&t.meta&&e.dispatch(f.kQ({hint:(0,a.t)("auth.two-factor.code-hint-confirmation",{phoneNumber:t.meta.phone_number})}))}).catch(t=>e.dispatch(A({resp:t})))});async function G(e,t){let{data:{meta:{available_methods:i}}}=await (0,I.L)().getAuthMethods(e,t);if(1===i.length&&"google"===i[0])return"google";if(1===i.length&&"saml"===i[0])return"saml";if(i.includes("sign_in"))return"sign_in";if(i.includes("sign_up"))return"sign_up";throw Error("Unknown authentication action")}},751158(e,t,i){let n;i.d(t,{Hc:()=>z,p8:()=>G,sT:()=>W});var a,s,o,r,l,d,c=i(239976),u=i(105652),_=i(706354),m=i(843489),h=i(513427),p=i(717636),g=i(181645),f=i(838719),E=i(462198),b=i(726435),y=i(408493),S=i(559365),T=i(681038),v=((a=v||{}).FRAME_MOUNTED="frame-mounted",a.JS_LOADED="js-loaded",a.CHALLENGE_LOADED="loaded",a.CHALLENGE_SUPPRESSED="suppressed",a.CHALLENGE_SHOWN="challenged",a.IFRAMESIZE="iframesize",a.COMPLETED="completed",a.ERRORED="errored",a.LOAD_TIMED_OUT="timed-out",a.ARKOSE_IS_OFF_FOR_USER="arkose-is-off-for-user",a),R=((s=R||{}).FRAME_FAILED_TO_LOAD_IN_TIME="frame failed to load in time",s.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FRAME_NOT_MOUNTED="getArkoseToken failed because Arkose frame was never mounted",s.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED="getArkoseToken failed because Arkose failed",s.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_IS_OFF_FOR_USER="getArkoseToken failed because Arkose is off for user",s.MISSING_ARKOSE_TOKEN_WHEN_GETTING_ARKOSE_TOKEN="getArkoseToken missing token despite frame being ready",s.GETTING_ARKOSE_TOKEN_SUCCEEDED="success",s),I=((o=I||{}).ERROR_HANDLING_MESSAGE="error handling message",o),x=((r=x||{}).REACHABILITY="reachability",r),A=((l=A||{}).IS_ARKOSE_ON_API_CALL_FAILED="Is Arkose On API call failed",l.IS_ARKOSE_ON="Is Arkose On",l);let O={...v,...R,...I,...x,...A};var N=((d=N||{}).CHALLENGE_JS_LOADED="challenge-js-loaded",d.CHALLENGE_LOADED="challenge-loaded",d.CHALLENGE_SUPPRESSED="challenge-suppressed",d.CHALLENGE_SHOWN="challenge-shown",d.CHALLENGE_IFRAMESIZE="challenge-iframesize",d.CHALLENGE_COMPLETE="challenge-complete",d.CHALLENGE_ERROR="challenge-error",d);let C={"challenge-js-loaded":"js-loaded","challenge-loaded":"loaded","challenge-suppressed":"suppressed","challenge-shown":"challenged","challenge-iframesize":"iframesize","challenge-complete":"completed","challenge-error":"errored"},L=[403,422],w=()=>"u"<typeof window||void 0===window.arkose,D=()=>"errored"===window.arkose,j=()=>"timed-out"===window.arkose,k=new p.eu,P=(0,S.Do)(e=>e?864e5:1e4),M=(0,S.Do)(()=>new Date().getTime()),F=(0,S.Do)(()=>!(0,h.Lg)()),U=({event:e,prevFormState:t,getArkoseTokenAction:i,error:n,reachability:a,isArkoseOnAPICheckError:s,arkoseIsOnForUserProperties:o})=>{if("iframesize"===e)return;let r=e.toString();(e===O.ERRORED||e===O.ERROR_HANDLING_MESSAGE)&&n&&(r=`${e}: ${n}`);let l={arkose_event:r};void 0!==window.mountTime&&(l.elapsed_time_since_mount_in_ms=M()-window.mountTime),t&&(l.prev_form_state=t.toString()),i&&(l.get_arkose_token_action=String(i)),s&&(l.is_arkose_on_api_check_action=String(s.action),l.is_arkose_on_api_check_auth_param=s.authParam,l.is_arkose_on_api_check_error=s.error,l.is_arkose_on_api_check_error_status=s.status),o&&(l.arkose_is_on_for_user_action=String(o.action),l.arkose_is_on_for_user_result_from_api=o.resultFromAPI,l.arkose_is_required_from_api=o.requiredFromAPI),e===O.REACHABILITY&&a&&(l.reachability=Object.entries(a).map(e=>`${e[0]}|${e[1]}`).join(",")),F()&&(0,g.sx)("Arkose",l,{forwardToDatadog:!0,batchRequest:!1})};function G(e){let t,i,n=u.useRef(null),a=t=>{t.origin===(0,f.initialOptions)().arkose_origin&&k.runExclusive(()=>{(t=>{let i;if(D()||j())return;let n=JSON.parse(t.data);if(!Object.values(N).includes(n.eventId))return;let a=C[i=n.eventId];switch(window.arkose=a.toString(),U({event:a,prevFormState:e.prevFormState,error:n.payload.error?.error}),i){case"challenge-loaded":e.onLoaded();break;case"challenge-shown":e.onChallenge();break;case"challenge-iframesize":let s=document.getElementById("arkoseFrame");s&&(s.width=n.payload.frameWidth,s.height=n.payload.frameHeight);break;case"challenge-complete":window.arkoseResult=n.payload.sessionToken,e.onCompleted();break;case"challenge-error":window.arkoseResult=a.toString()}})(t)}).catch(t=>{U({event:O.ERROR_HANDLING_MESSAGE,prevFormState:e.prevFormState,error:t})})},s=async(n,a)=>await k.runExclusive(async()=>{if(i)throw i;if(t)return t;try{t=await K(n,e.prevFormState,a)}catch(e){throw i=e,e}return U({event:O.IS_ARKOSE_ON,arkoseIsOnForUserProperties:{action:n,resultFromAPI:t.arkose_on_for_user,requiredFromAPI:t.arkose_required_for_user}}),t});(0,m.h)(()=>{s(e.arkoseAction,e.onFailed).then(t=>{t.arkose_on_for_user&&V(e.prevFormState)}).catch(e=>{})}),(0,m.h)(()=>{let t=()=>{window.removeEventListener("message",a)};return s(e.arkoseAction,e.onFailed).then(t=>{t.arkose_on_for_user?(window.addEventListener("message",a),X(e,n,t.arkose_required_for_user)):(window.arkose="arkose-is-off-for-user",e.onCompleted())}).catch(e=>{if(t(),(0,f.isDevEnvironment)())throw e}),t});let o=(0,y.Gq)().getPrimaryLocale(!1),r=(0,f.initialOptions)().arkose_challenge_public_key,l=(0,f.initialOptions)().arkose_frame_url+"?publicKey="+r+"&locale="+o;return(0,c.jsx)("div",{className:T.i,children:(0,c.jsx)("iframe",{id:"arkoseFrame",height:0,width:0,src:l,title:"Arkose Frame",className:T.$})})}let V=(0,S.Do)(e=>{let t=(0,f.initialOptions)().arkose_challenge_public_key,i=["https://www.arkoselabs.com","https://status.arkoselabs.com","https://status.arkoselabs.com/api/v2/status.json",`https://figma-api.arkoselabs.com/v2/${t}/api.js`,(0,f.initialOptions)().arkose_frame_url,"https://verify.figma.com/arkose_frame.html"];Promise.allSettled(i.map(e=>B(e))).then(t=>{let n={};t.forEach((e,t)=>{n[i[t]]="fulfilled"===e.status}),U({event:O.REACHABILITY,prevFormState:e,reachability:n})})}),B=(0,S.Do)(async e=>{try{return await fetch(e,{method:"HEAD",mode:"no-cors"}),Promise.resolve()}catch(e){return Promise.reject()}}),X=(0,S.Do)((e,t,i)=>{Object.defineProperty(window,"mountTime",{value:M(),configurable:!0,enumerable:!0}),Promise.race([new Promise((n,a)=>{t.current=setTimeout(()=>{k.runExclusive(()=>{w()||"frame-mounted"===window.arkose||D()||j()?(delete window.arkose,window.arkose="timed-out",U({event:O.FRAME_FAILED_TO_LOAD_IN_TIME,prevFormState:e.prevFormState}),a(Error("Arkose script failed to load."))):n(window.arkose)}).then(null)},P(i))}),new Promise((e,t)=>{Object.defineProperty(window,"arkose",{get:()=>"frame-mounted",set:i=>{k.runExclusive(()=>{delete window.arkose,window.arkose=i,D()||j()?t(Error("Arkose script failed to load.")):e(i)}).then(null)},configurable:!0,enumerable:!0})})]).then(null,t=>{window.arkoseResult=window.arkose,e.onCompleted()}).finally(()=>{H(t)})}),H=(0,S.Do)(e=>{null!==e.current&&(clearTimeout(e.current),e.current=null)});async function z(e,t){let i;return await k.runExclusive(()=>{i=function(e,t){if("arkose-is-off-for-user"===window.arkose)return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_IS_OFF_FOR_USER,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose is off for the user"));if(w())return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FRAME_NOT_MOUNTED,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose frame was never mounted"));if(D()||j())return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose challenge failed"));if("completed"===window.arkose)if(void 0===window.arkoseResult||null===window.arkoseResult)return U({event:O.MISSING_ARKOSE_TOKEN_WHEN_GETTING_ARKOSE_TOKEN,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Arkose token missing despite challenge being completed!"));else return U({event:O.GETTING_ARKOSE_TOKEN_SUCCEEDED,prevFormState:t,getArkoseTokenAction:e}),Promise.resolve(window.arkoseResult);return new Promise((i,n)=>{Object.defineProperty(window,"arkoseResult",{set:a=>{k.runExclusive(()=>{null!=a&&(D()||j()?(U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED,prevFormState:t,getArkoseTokenAction:e}),n(Error("Can't get token because Arkose challenge failed"))):(delete window.arkoseResult,window.arkoseResult=a,U({event:O.GETTING_ARKOSE_TOKEN_SUCCEEDED,prevFormState:t,getArkoseTokenAction:e}),i(a)))}).then(null)},configurable:!0,enumerable:!0})})}(e,t)}),i}async function W(e){await k.runExclusive(()=>{n="email"in e?{email:e.email}:{token:e.googleUserInfo.token,token_type:e.googleUserInfo.tokenType}})}async function K(e,t,i){let a,s;if(n&&0!==Object.keys(n).length)try{return(await b._.isArkoseOn({...n,captcha_action:e})).data.meta}catch(t){a=t,s=t.cause?.message||t.data?.message||t.message||"Arkose API call failed",U({event:O.IS_ARKOSE_ON_API_CALL_FAILED,isArkoseOnAPICheckError:{action:e,authParam:"email"in n?"email":"google_token",error:s,status:t.status}})}else a=Error(s=`Arkose API param is not set or empty for '${t}' form state.`),U({event:O.IS_ARKOSE_ON_API_CALL_FAILED,isArkoseOnAPICheckError:{action:e,error:s}});throw i(a,s),L.includes(a.status)||(0,E.$D)(_.FigmaTeam.PRODUCT_SECURITY,Error(s)),a}},202516(e,t,i){i.d(t,{p:()=>s});var n=i(181645),a=i(947541);async function s(e){(0,n.sx)("passkey_support",{flow:e,supports_webauthn:(0,a.D)(),supports_mediation:await (0,a.r)()},{batchRequest:!1})}},747880(e,t,i){i.d(t,{T:()=>o});var n=i(239976),a=i(105652),s=i(408493);let o=a.memo(function(e){let t=e.locale||(0,s.Gq)().getPrimaryLocale(!1),i=a.useMemo(()=>new Intl.ListFormat(t,{style:e.formatStyle||"long",type:e.formatType||"conjunction"}),[t,e.formatStyle,e.formatType]),o=a.Children.toArray(e.children),r=i.formatToParts(o.map((e,t)=>`${t}`)).map((e,t)=>"element"===e.type?o[Number(e.value)]:"literal"===e.type?(0,n.jsx)("span",{children:e.value},`${t}_literal`):null);return(0,n.jsx)("span",{className:e.className||"",children:r})})},203574(e,t,i){i.d(t,{V:()=>b});var n=i(239976),a=i(105652),s=i(270668),o=i(350923),r=i(224542),l=i.n(r),d=i(870527),c=i(275012),u=i(834116),_=i(417826),m=i(343902),h=i(567584),p=i(289886),g=i(282454),f=i(304142);let E=(0,o.eU)({});function b({thumbnailUrl:e,thumbnailType:t,lastTouchedAt:i,clientMeta:r,size:b,borderRadius:y,noBorder:S,addtlStyles:T,draggable:v,disableSmartBackground:R,hideUntilLoaded:I=!0,overlay:x}){let A=!R&&t!==h.F.DEFAULT_DESIGN&&t!==h.F.DEFAULT_WHITEBOARD&&t!==h.F.SLIDES&&t!==h.F.COOPER,{latestThumbnailUrl:O,smartBackgroundColor:N}=function({touchedAt:e,thumbnailUrl:t,needsSmartBackground:i}){let[n,s]=(0,o.fp)(E),r=!e||(0,d.A)(e).isBefore((0,d.A)().subtract(4,"seconds")),l=!i||t&&!!n[t],[c,u]=a.useState(r&&t&&l?t:null),_=a.useCallback(e=>{if(!i||n[e])u(e);else{let t=new Image;t.crossOrigin="anonymous",t.className=p.s.fixed.hidden.$,t.onload=()=>{let i=(0,g.J)(t);i&&s(t=>({...t,[e]:i})),u(e),t.remove()},t.src=e,document.body.appendChild(t)}},[u,i,n,s]);a.useLayoutEffect(()=>{if(t)if(e){let i=(0,d.A)(e).diff((0,d.A)().subtract(4,"seconds"));if(i<=0)return void _(t);{let e=setTimeout(()=>{_(t)},i);return()=>clearTimeout(e)}}else _(t);else u(null)},[e,t,_]);let m=i&&c?n[c]:void 0;return{latestThumbnailUrl:c,smartBackgroundColor:m}}({thumbnailUrl:e,touchedAt:i,needsSmartBackground:A});if(t===h.F.OFFLINE)return(0,n.jsx)(_.A,{size:b,borderRadius:y,noBorder:S});let C=t!==h.F.SLIDES?(0,s.fileBackgroundColor)(r):void 0,L=t===h.F.DEFAULT_DESIGN||t===h.F.DEFAULT_WHITEBOARD||t===h.F.COOPER;return(0,n.jsxs)(m.q,{borderRadius:y,backgroundClassName:l()({[f.Kf]:t===h.F.WHITEBOARD||t===h.F.DEFAULT_WHITEBOARD,[f._k]:t===h.F.DEFAULT_DESIGN&&(!C||"transparent"===C),[f.gc]:t===h.F.PROTOTYPE||t===h.F.SLIDES||t===h.F.SITES&&!(A&&N)&&(!C||"transparent"===C)}),noBorder:S,backgroundColor:A?N:C,children:[null!==O&&(0,n.jsx)(c.B,{enabled:I,children:(0,n.jsx)(u.oW,{src:O,alt:"",draggable:!!v,className:l()(p.s.hFull.wFull.$,f.pQ,{[p.s.p10.$]:L&&b!==h.y.SMALL,[p.s.p4.$]:L&&b===h.y.SMALL,[p.s.py12.$]:L&&t===h.F.COOPER,[p.s.px6.$]:L&&t===h.F.COOPER}),...R?{}:{crossOrigin:"anonymous"},additionalTrackingProperties:{thumbnailFileType:t},style:T})}),x]})}},604038(e,t,i){i.d(t,{Y:()=>u,d:()=>_});var n=i(239976),a=i(105652),s=i(590859),o=i(145906),r=i(497544),l=i(660983);let d="184px";function c({height:e,width:t}){return(0,n.jsx)("div",{style:l.sx.flex.itemsCenter.justifyCenter.add({width:t??d,height:e??"100px"}).$,"data-testid":"popover-loading-state",children:(0,n.jsx)(r.k,{size:"sm"})})}function u({offset:e,type:t="dialog",placement:i="bottom"}){let[n,o]=a.useState(!1);return s.fP({isOpen:n,onOpenChange:o,type:t,openOnHover:!0,offset:e,placement:i,softDismiss:!0})}function _({getContainerProps:e,getArrowProps:t,setToMaxWidth:i,popoverText:r,children:u,loadingStateStyle:_}){return(0,n.jsx)(s.mc,{...e({style:l.sx.colorTextTooltip.colorBgTooltip.fontMedium.radiusMedium.add({boxShadow:"var(--elevation-300-tooltip)",letterSpacing:"0.055px",lineHeight:"var(--body-medium-lineHeight, 16px)",maxWidth:d}).if(i,{minWidth:d}).if(r,{padding:"var(--spacer-1, 0.3rem) var(--spacer-2, 0.5rem)"},{padding:"var(--spacer-2, 0.5rem)"}).$}),children:(0,n.jsxs)(o.J,{mode:"dark",children:[!!t&&(0,n.jsx)(s.i3,{...t()}),(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(c,{height:_?.height,width:_?.width}),children:u})]})})}},230191(e,t,i){i.d(t,{Dy:()=>s,Je:()=>c,MZ:()=>_,NR:()=>r,Pj:()=>l,W0:()=>a,ky:()=>o,pY:()=>u,r0:()=>d});var n=i(990879);let a=(0,n.NC)("SEARCH_SELECTED"),s=(0,n.NC)("SEARCH_START_SESSION"),o=(0,n.NC)("SEARCH_END_SESSION"),r=(0,n.NC)("SEARCH_RESTORE_SESSION"),l=(0,n.NC)("SEARCH_SESSION_SEE_MORE_CLICK"),d=(0,n.NC)("SEARCH_SESSION_ENTERED_SEARCH_VIEW"),c=(0,n.NC)("SEARCH_SESSION_ENTERED_SEARCH_VIEW_VIA_ENTER"),u=(0,n.NC)("SEARCH_INCREMENT_QUERY_COUNT");function _(){return`${Date.now().toString(36)}-${Math.random().toString(36).substring(2)}`}},715464(e,t,i){i.d(t,{v:()=>l});var n=i(350923),a=i(668522),s=i(351823),o=i(487817),r=i(644350);let l=(0,s.Wh)(e=>(0,n.eU)(t=>{let i=t(r.Htb.Query({fileKey:e||""}));if("loaded"!==i.status)return!1;let n=(0,a.oA)(i.data?.file?.plan?.tier);return n===o.Ag.ENTERPRISE||n===o.Ag.ORG}))},695447(e,t,i){i.d(t,{Vg:()=>c,uh:()=>d});var n=i(730351),a=i(350923),s=i(94241),o=i(351823),r=i(704443),l=i(23518);let d=(0,o.Wh)(()=>(0,a.eU)(e=>{let t=e(l.Qy);return t?e(c({id:t})):[]}));(0,a.Rq)(d);let c=(0,a.Iz)(({id:e,onlyFirstViolation:t=!1})=>(0,o.Wh)(()=>(0,a.eU)(i=>(0,r.N0)(i(s.ze),(0,n.UN)(),e,"sites_preview",t),()=>{c.remove({id:e,onlyFirstViolation:t})})))},104564(e,t,i){i.d(t,{g:()=>l});var n=i(350923),a=i(668522),s=i(351823),o=i(644350),r=i(715464);let l=(0,s.Wh)(e=>(0,n.eU)(t=>{let i=t(o.Htb.Query({fileKey:e||""})),n=t(r.v);return"loaded"===i.status&&!!n&&(0,a.oA)(i.data?.siteMount?.hasSso)}))},144157(e,t,i){i.d(t,{C:()=>l});var n=i(350923),a=i(668522),s=i(351823),o=i(644350),r=i(104564);let l=(0,s.Wh)(e=>(0,n.eU)(t=>{let i=t(o.Htb.Query({fileKey:e||""})),n=t(r.g);if("loaded"!==i.status)return!1;let s=(0,a.oA)(i.data?.file?.org);if(s?.sitesPublishingDisabled)return!1;let l=(0,a.oA)(i.data?.siteMount?.hasPassword)??!1,d=(0,a.oA)(i.data?.file?.sharedContainerSetting?.webPublishingRequiresPassword)??!1;return!n&&!l&&d}))},704443(e,t,i){i.d(t,{uU:()=>D,N0:()=>G});var n=i(239976),a=i(554070),s=i(950768),o=i(915181),r=i(529670),l=i(652078),d=i(179219),c=i(563557),u=i(227341),_=i(905404),m=i(235974),h=i(455932),p=i(318114),g=i(939940),f=i(808602),E=i(793816),b=i(553997);let y=(0,i(105652).memo)(function(e){return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:[(0,n.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",fillRule:"evenodd",d:"M7.43 5.434A7.99 7.99 0 0 0 4 12a7.99 7.99 0 0 0 3.43 6.567 7.003 7.003 0 0 0 0-13.133",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M20 12a8 8 0 0 1-11.5 7.196A8 8 0 0 0 13 12a8 8 0 0 0-4.5-7.196A8 8 0 0 1 20 12M4 12a7.99 7.99 0 0 1 3.43-6.567 7.003 7.003 0 0 1 0 13.134A7.99 7.99 0 0 1 4 12m-1 0a9 9 0 1 1 4.287 7.669A9 9 0 0 1 3 12",clipRule:"evenodd"})]})});var S=i(436214),T=i(24995),v=i(688357),R=i(503024),I=i(90708),x=i(850159),A=i(741542),O=i(181645),N=i(289886),C=i(129096),L=i(769577),w=i(990241);let D=()=>({access:{label:(0,x.t)("sites.panel.sites_issues.access"),icon:(0,n.jsx)(o.P,{})},all:{label:(0,x.t)("sites.panel.sites_issues.all_properties"),icon:void 0},autoLayout:{label:(0,x.t)("fullscreen.properties_panel.stack_panel.auto_layout"),icon:(0,n.jsx)(r.v,{})},position:{label:(0,x.t)("sites.panel.position_panel.position"),icon:(0,n.jsx)(l.P,{})},appearance:{label:(0,x.t)("fullscreen.appearance_panel.appearance"),icon:void 0},typography:{label:(0,x.t)("fullscreen.type_panel.typography"),icon:(0,n.jsx)(d.B,{})},stroke:{label:(0,x.t)("fullscreen.properties_panel.fill.stroke"),icon:(0,n.jsx)(c.E,{})},fill:{label:(0,x.t)("fullscreen.properties_panel.fill.fill"),icon:(0,n.jsx)(u.J,{})},effects:{label:(0,x.t)("properties_panel.effects.effects"),icon:(0,n.jsx)(_.A,{})},accessibility:{label:(0,x.t)("sites.panel.accessibility_header"),icon:(0,n.jsx)(m.u,{})},interactions:{label:(0,x.t)("sites.panel.interactions_panel.interactions"),icon:(0,n.jsx)(h.N,{})},link:{label:(0,x.t)("sites.lint.link"),icon:(0,n.jsx)(p.h,{})},objects:{label:(0,x.t)("sites.lint.objects"),icon:(0,n.jsx)(g.x,{})}}),j="a11y/image-is-missing-alt-text",k="a11y/interactive-object-is-missing-label";function P({text:e}){return(0,n.jsx)("span",{className:N.s.colorText.$,children:e})}let M=[{name:"layout/frame/rotated-child-with-stretch-constraints",category:"position",label:(0,x.tx)("sites.lint.layout/frame/rotated-child-with-stretch-constraints"),description:(0,x.tx)("sites.lint.layout/frame/rotated-child-with-stretch-constraints-description",{topBottom:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.constraints_panel.select.top_plus_bottom")}),leftRight:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.constraints_panel.select.left_plus_right")})}),recommendations:[{label:(0,x.tx)("sites.lint.set-position-constraints-center"),action:v.$XN.SET_POSITION_CONSTRAINTS_CENTER},{label:(0,x.tx)("sites.lint.remove-rotation"),action:v.$XN.REMOVE_ROTATION}],isViolation:e=>{let t="STRETCH"===e.horizontalConstraint||"STRETCH"===e.verticalConstraint,i=!!e.parentNode,n=e.rotation;return t&&i&&Math.abs(n)>.01}},{name:"styles/autolayout-negative-item-spacing",label:(0,x.tx)("sites.lint.styles/autolayout-negative-item-spacing"),description:(0,x.tx)("sites.lint.styles/autolayout-negative-item-spacing-description",{gap:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.section_autoLayout.label_gap")})}),category:"autoLayout",recommendations:[],isViolation:e=>{if("FRAME"!==e.type||"NONE"===e.stackMode||e.stackSpacing>=0)return!1;let t="STRETCH"===e.stackChildAlignSelf&&e.childrenNodes.every(e=>e.stackChildPrimaryGrow>0),i=e.childrenNodes.some(e=>e.isGroup),n=e.childrenNodes.some(t=>"INSTANCE"===t.type&&"NONE"!==t.stackMode&&(t.stackMode===e.stackMode&&"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===t.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===t.stackCounterSizing));return t||i||n||"WRAP"===e.stackWrap}},{name:"styles/autolayout-alignment-on-scrollable-horizontal-axis",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-axis"),description:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-horizontal-axis-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-scrollable-axis-alignment"),action:v.$XN.REMOVE_SCROLLABLE_AXIS_ALIGNMENT}],isViolation:e=>"HORIZONTAL"===e.stackMode&&[{overflow:"VERTICAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackCounterAlignItems},{overflow:"HORIZONTAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackPrimaryAlignItems}].some(e=>("CENTER"===e.alignItems||"MAX"===e.alignItems)&&e.overflow)},{name:"styles/autolayout-alignment-on-scrollable-vertical-axis",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-axis"),description:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-vertical-axis-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-scrollable-axis-alignment"),action:v.$XN.REMOVE_SCROLLABLE_AXIS_ALIGNMENT}],isViolation:e=>"VERTICAL"===e.stackMode&&[{overflow:"VERTICAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackPrimaryAlignItems},{overflow:"HORIZONTAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackCounterAlignItems}].some(e=>("CENTER"===e.alignItems||"MAX"===e.alignItems)&&e.overflow)},{name:"layout/autolayout-only-absolutely-positioned-children",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/resizing-position-conflict"),description:(0,x.tx)("sites.lint.layout/autolayout-only-absolutely-positioned-children-description",{hugContents:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),absolute:(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.position_panel.absolute")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-autolayout"),action:v.$XN.REMOVE_AUTOLAYOUT}],isViolation:e=>"NONE"!==e.stackMode&&0!==e.childCount&&("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing)&&e.childrenNodes.every(e=>"ABSOLUTE"===e.stackPositioning)},{name:"styles/autolayout-baseline-alignment",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-baseline-alignment"),description:(0,x.tx)("sites.lint.styles/autolayout-baseline-alignment-description",{alignTextBaseline:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.align_text_baseline")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-alignment"),action:v.$XN.REMOVE_BASELINE_ALIGNMENT}],isViolation:e=>{if("HORIZONTAL"!==e.stackMode||"BASELINE"!==e.stackCounterAlignItems)return!1;let t=e=>e.childrenNodes.some(e=>"TEXT"===e.type||"FRAME"===e.type&&t(e));return e.childrenNodes.some(e=>"FRAME"===e.type&&t(e))}},{name:"scrolling/scrolling-enabled-with-clipped-content",category:"autoLayout",label:(0,x.tx)("sites.lint.scrolling/scrolling-enabled-with-clipped-content"),description:(0,x.tx)("sites.lint.scrolling/scrolling-enabled-with-clipped-content-description",{clipContent:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.transform_panel.clip_content")})}),recommendations:[{label:(0,x.tx)("sites.lint.set-clip-content"),action:v.$XN.SET_CLIP_CONTENT},{label:(0,x.tx)("sites.lint.remove-scrolling"),action:v.$XN.REMOVE_SCROLLING}],isViolation:e=>!e.isResponsiveSetBreakpoint&&!e.isWebpageBreakpoint&&"NONE"!==e.scrollDirection&&!0===e.frameMaskDisabled},{name:"layout/autolayout/rotated-frame-with-hug-contents",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/resizing-position-conflict"),description:(0,x.tx)("sites.lint.layout/rotated-frame-with-hug-contents-description",{hugContents:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),absolute:(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.position_panel.absolute")}),fixed:(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.position_panel.fixed")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.SET_AUTOLAYOUT_SIZING_FIXED}],isViolation:e=>{let t="ABSOLUTE"===e.stackPositioning,i="STRETCH"===e.horizontalConstraint||"MIN"===e.horizontalConstraint||"MAX"===e.horizontalConstraint||"STRETCH"===e.verticalConstraint||"MIN"===e.verticalConstraint||"MAX"===e.verticalConstraint,n="NONE"!==e.stackMode,a="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing,s=Math.abs(e.rotation)>=.01;return t&&i&&n&&a&&s}},{name:"layout/autolayout-child-with-fill-and-rotation",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/autolayout-child-with-fill-and-rotation"),description:(0,x.tx)("sites.lint.layout/autolayout-child-with-fill-and-rotation-description",{fill:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.fill.fill")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-fill-container"),action:v.$XN.REMOVE_FILL_CONTAINER},{label:(0,x.tx)("sites.lint.remove-rotation"),action:v.$XN.REMOVE_ROTATION}],isViolation:e=>"LINE"!==e.type&&!!e.parentNode&&"NONE"!==e.parentNode.stackMode&&"ABSOLUTE"!==e.stackPositioning&&("STRETCH"===e.stackChildAlignSelf||0!==e.stackChildPrimaryGrow)&&Math.abs(e.rotation)>=45&&135>=Math.abs(e.rotation)},{name:"layout/gap/space-between-legacy",category:"autoLayout",label:(0,x.tx)("sites.lint.version-out-of-date"),description:(0,x.tx)("sites.lint.version-out-of-date-description"),recommendations:[{label:(0,x.tx)("sites.lint.set-spacing-auto"),action:v.$XN.SET_AUTOLAYOUT_SPACING_AUTO}],isViolation:e=>"NONE"!==e.stackMode&&"SPACE_EVENLY"===e.stackPrimaryAlignItems},{name:"layout/autolayout-fill-and-hug",category:"autoLayout",label:(0,x.tx)("sites.lint.autolayout-fill-and-hug"),description:(0,x.tx)("sites.lint.autolayout-fill-and-hug-description",{hugContents:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),fill:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.fill.fill")})}),isViolation:e=>"NONE"!==e.stackMode&&0!==e.childCount&&(!(("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"!==e.stackCounterSizing||e.childrenNodes.some(e=>"STRETCH"!==e.stackChildAlignSelf&&e.visible))&&("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"!==e.stackPrimarySizing||e.childrenNodes.some(e=>e.visible&&0===e.stackChildPrimaryGrow)))||!1),recommendations:[{label:(0,x.tx)("sites.lint.set-autolayout-sizing-fixed"),action:v.$XN.SET_AUTOLAYOUT_SIZING_FIXED},{label:(0,x.tx)("sites.lint.remove-autolayout"),action:v.$XN.REMOVE_AUTOLAYOUT}]},{name:"blendmode/plus-darker",category:"appearance",icon:(0,n.jsx)(f.q,{}),label:(0,x.tx)("sites.lint.blendmode/plus-darker"),description:(0,x.tx)("sites.lint.blendmode/plus-darker-description",{multiply:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.multiply")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.USE_BLEND_MODE_MULTIPLY}],isViolation:e=>{let t="LINEAR_BURN";return e.blendMode===t||H(e,e=>e.blendMode===t)}},{name:"strokes/corner-smoothing",category:"appearance",icon:(0,n.jsx)(E.Q,{}),label:(0,x.tx)("sites.lint.strokes/corner-smoothing"),description:(0,x.tx)("sites.lint.strokes/corner-smoothing-description",{cornerSmoothing:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.transform_panel.corner_smoothing")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.SET_CORNER_SMOOTHING_ZERO}],isViolation:e=>!X(e)&&!!e.cornerSmoothing&&0!==e.cornerRadius},{name:"text/vertical-trim",category:"typography",label:(0,x.tx)("sites.lint.text/vertical-trim"),description:(0,x.tx)("sites.lint.text/vertical-trim-description",{capHeight:(0,n.jsx)(P,{text:(0,x.tx)("type_settings.leading_trim.cap_height")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-vertical-trim"),action:v.$XN.REMOVE_VERTICAL_TRIM}],isViolation:e=>"TEXT"===e.type&&"CAP_HEIGHT"===e.leadingTrim},{name:"text/stroke",category:"typography",label:(0,x.tx)("sites.lint.text/stroke"),description:(0,x.tx)("sites.lint.text/stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-stroke"),action:v.$XN.REMOVE_STROKE}],isViolation:e=>"TEXT"===e.type&&z(e)},{name:"styles/texture-pattern-fill",category:"fill",label:(0,x.tx)("sites.lint.styles/texture-pattern-fill"),description:(0,x.tx)("sites.lint.styles/texture-pattern-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture"),action:v.$XN.REMOVE_TEXTURE_PATTERN_FILL}],isViolation:e=>!X(e)&&H(e,e=>"PATTERN"===e.type)},{name:"styles/texture-noise-fill",category:"fill",label:(0,x.tx)("sites.lint.styles/texture-noise-fill"),description:(0,x.tx)("sites.lint.styles/texture-noise-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture"),action:v.$XN.REMOVE_TEXTURE_NOISE_FILL}],isViolation:e=>!X(e)&&H(e,e=>"NOISE"===e.type)},{name:"styles/strokes-blend-mode",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-blend-mode"),description:(0,x.tx)("sites.lint.styles/strokes-blend-mode-description",{normal:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.normal")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.REMOVE_STROKE_BLEND_MODE}],isViolation:e=>z(e,e=>e.blendMode&&"NORMAL"!==e.blendMode)},{name:"styles/strokes-gradient",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-gradient"),description:(0,x.tx)("sites.lint.styles/strokes-gradient-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-gradient"),action:v.$XN.REMOVE_STROKE_GRADIENT}],isViolation:e=>!X(e)&&z(e,B)},{name:"styles/strokes-join-miter",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-join-miter"),description:(0,x.tx)("sites.lint.styles/strokes-join-miter-description",{miter:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.stroke_settings.miter")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.REMOVE_CUSTOM_JOIN}],isViolation:e=>!e.isInImmutableFrame&&(e.strokeGeometry?.length>0&&"MITER"!==e.strokeJoin||4!==e.strokeMiterLimit)},{name:"styles/strokes-image",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-image"),description:(0,x.tx)("sites.lint.styles/strokes-image-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-image"),action:v.$XN.REMOVE_STROKE_IMAGE}],isViolation:e=>!e.isInImmutableFrame&&z(e,e=>"IMAGE"===e.type)},{name:"styles/video-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/video"),description:(0,x.tx)("sites.lint.video-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-video"),action:v.$XN.REMOVE_VIDEO_STROKE}],isViolation:e=>z(e,e=>"VIDEO"===e.type)},{name:"styles/texture-dynamic-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/texture-dynamic-stroke"),description:(0,x.tx)("sites.lint.styles/texture-dynamic-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture-stroke"),action:v.$XN.REMOVE_TEXTURE_DYNAMIC_STROKE}],isViolation:e=>{if(!z(e))return!1;let t=1!==e.dynamicStrokeSettings.interval||0!==e.dynamicStrokeSettings.wiggle||0!==e.dynamicStrokeSettings.smoothen;return!X(e)&&t}},{name:"styles/texture-brush-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/texture-brush-stroke"),description:(0,x.tx)("sites.lint.styles/texture-brush-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture-stroke"),action:v.$XN.REMOVE_TEXTURE_BRUSH_STROKE}],isViolation:e=>{if(!z(e))return!1;let t="-1:-1"!==e.strokeBrushGuid;return!X(e)&&t}},{name:"effects/frames-no-fills",label:(0,x.tx)("sites.lint.effects/frames-no-fills"),description:(0,x.tx)("sites.lint.effects/frames-no-fills-description"),category:"effects",recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:v.$XN.REMOVE_EFFECTS}],isViolation:e=>["FRAME","RECTANGLE","ROUNDED_RECTANGLE","INSTANCE"].includes(e.type)&&!H(e)&&W(e)},{name:"styles/text-background-blur",category:"effects",label:(0,x.tx)("sites.lint.styles/text-background-blur"),description:(0,x.tx)("sites.lint.styles/text-background-blur-description",{backgroundBlur:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.effects.background_blur")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-blur"),action:v.$XN.REMOVE_TEXT_BACKGROUND_BLUR}],isViolation:e=>"TEXT"===e.type&&W(e,e=>"BACKGROUND_BLUR"===e.type)},{name:"styles/text-inner-shadows",category:"effects",label:(0,x.tx)("sites.lint.styles/text-inner-shadows"),description:(0,x.tx)("sites.lint.styles/text-inner-shadows-description",{innerShadow:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.effects.inner_shadow")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-shadow"),action:v.$XN.REMOVE_TEXT_INNER_SHADOW}],isViolation:e=>"TEXT"===e.type&&W(e,e=>"INNER_SHADOW"===e.type)},{name:"styles/shadow-blend-mode",label:(0,x.tx)("sites.lint.styles/shadow-blend-mode"),description:(0,x.tx)("sites.lint.styles/shadow-blend-mode-description",{normal:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.normal")})}),category:"effects",recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.SET_BLEND_MODE_NORMAL}],isViolation:e=>W(e,e=>("DROP_SHADOW"===e.type||"INNER_SHADOW"===e.type)&&e.blendMode&&"NORMAL"!==e.blendMode)},{name:k,category:"accessibility",label:(0,x.tx)("sites.lint.a11y/interactive-object-is-missing-label"),description:(0,x.tx)("sites.lint.a11y/action/add-label-to-interactive-object-params",{aria_label_option:(0,n.jsx)(P,{text:(0,n.jsx)(n.Fragment,{children:w.kp})})}),recommendations:[],isViolation:e=>{if(e.ariaAttributes&&e.ariaAttributes[w.Iz]?.value===!0||e.isDecorativeImage||!e.isAccessibilityAnnotatable||eo(e))return!1;let t=(0,L.xb)(e);return!(t&&(0,L.pQ)(e))&&t}},{name:j,category:"accessibility",label:(0,x.tx)("sites.lint.a11y/image-is-missing-alt-text"),description:(0,x.tx)("sites.lint.a11y/images-have-no-alt-text-description",{alt_text:(0,n.jsx)(P,{text:(0,n.jsx)(n.Fragment,{children:w.XM})})}),recommendations:[],isViolation:e=>!!e.isAccessibilityAnnotatable&&(!e.ariaAttributes||e.ariaAttributes[w.Iz]?.value!==!0)&&!e.isDecorativeImage&&!!(!eo(e)&&(0,L.pQ)(e))},{name:"interactions/close_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.action_close_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_CLOSE_OVERLAY_ACTIONS}],isViolation:e=>K(e,"CLOSE")},{name:"interactions/open_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.action_open_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_OPEN_OVERLAY_ACTIONS}],isViolation:e=>q(e,"OVERLAY")},{name:"interactions/set_variable_mode",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.action_set_variable_mode")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_SET_VARIABLE_MODE_ACTIONS}],isViolation:e=>K(e,"SET_VARIABLE_MODE")},{name:"interactions/links",category:"interactions",label:(0,x.tx)("sites.lint.trigger-conflict"),description:(0,x.tx)("sites.lint.interactions/links",{onClick:(0,n.jsx)(P,{text:(0,x.tx)("proto.interaction.type.on_click")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:v.$XN.REMOVE_ON_CLICK_ACTIONS}],isViolation:e=>ea(e)},{name:"interactions/nested",category:"interactions",label:(0,x.tx)("sites.lint.nested_interactions_title"),description:(0,x.tx)("sites.lint.nested_interactions_description"),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().sts_a11y_nested_interaction_lint,isViolation:(e,t)=>{let i=es(e),n=t?.ancestorIsInteractive??!1,a={...t,ancestorIsInteractive:i||n};return[i&&n,a]}},{name:"animation/smart_animate_navigate_to",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-animation"),description:(0,x.tx)("sites.lint.animation/smart_animate_navigate_to_description",{smartAnimate:(0,n.jsx)(P,{text:(0,x.tx)("proto.transition_behavior.smart_animate")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.REMOVE_NAVIGATE_ACTIONS_WITH_SMART_ANIMATE}],isViolation:e=>en(e,"NAVIGATE","SMART_ANIMATE")},{name:"interactions/gamepad",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.interaction.type.key_gamepad")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:v.$XN.REMOVE_GAMEPAD_ACTIONS}],isViolation:e=>J(e)},{name:"interactions/mouse_in",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.interaction.type.mouse_enter_deprecated")})}),recommendations:[{label:(0,x.tx)("sites.lint.replace-trigger"),action:v.$XN.REMOVE_MOUSE_IN_ACTIONS}],isViolation:e=>Y(e,"MOUSE_IN")},{name:"interactions/mouse_out",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.interaction.type.mouse_leave_deprecated")})}),recommendations:[{label:(0,x.tx)("sites.lint.replace-trigger"),action:v.$XN.REMOVE_MOUSE_OUT_ACTIONS}],isViolation:e=>Y(e,"MOUSE_OUT")},{name:"behaviors/marquee_without_autolayout",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.behaviors/marquee-without-autolayout-description",{marquee:(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.marquee_behavior")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.ADD_AUTOLAYOUT}],isViolation:e=>"FRAME"===e.type&&!e.isStack&&Z(e,a.Xc.Marquee)},{name:"behaviors/reveal_and_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.mouse_parallax.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:v.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.mouse_parallax.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Z(e,a.Xc.Appear),i=Q(e,"MouseParallax");return t&&i}},{name:"behaviors/cursor_and_typewriter",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.typewriter.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior"),action:v.$XN.REMOVE_CURSOR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.typewriter.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Z(e,a.Xc.Cursor),i=Q(e,"Typewriter");return t&&i}},{name:"behaviors/cursor_and_scramble_text",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.text_scramble.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior"),action:v.$XN.REMOVE_CURSOR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.text_scramble.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Z(e,a.Xc.Cursor),i=Q(e,"ScrambleText");return t&&i}},{name:"behaviors/reveal_and_typewriter",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.typewriter.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:v.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.typewriter.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Z(e,a.Xc.Appear),i=Q(e,"Typewriter");return t&&i}},{name:"behaviors/reveal_and_scramble",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.text_scramble.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:v.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.text_scramble.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Z(e,a.Xc.Appear),i=Q(e,"ScrambleText");return t&&i}},{name:"behaviors/mouse_and_scroll_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.code_behaviors.mouse_parallax.name")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.code_behaviors.mouse_parallax.name"),action:v.$XN.REMOVE_CODE_BEHAVIORS},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior"),action:v.$XN.REMOVE_SCROLL_PARALLAX_BEHAVIOR}],isViolation:e=>{let t=Q(e,"MouseParallax"),i=Z(e,a.Xc.ScrollParallax);return t&&i}},{name:"behaviors/reveal_and_scroll_transform",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:v.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior"),action:v.$XN.REMOVE_SCROLL_TRANSFORM_BEHAVIOR}],isViolation:e=>{let t=Z(e,a.Xc.Appear),i=Z(e,a.Xc.ScrollTransform);return t&&i}},{name:"behaviors/scroll_transform_and_scroll_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior"),action:v.$XN.REMOVE_SCROLL_TRANSFORM_BEHAVIOR},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior"),action:v.$XN.REMOVE_SCROLL_PARALLAX_BEHAVIOR}],isViolation:e=>{let t=Z(e,a.Xc.ScrollTransform),i=Z(e,a.Xc.ScrollParallax);return t&&i}},{name:"behaviors/on_hover_and_hover",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.lint.behaviors/hover-behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.lint.behaviors/hover-interaction-trigger")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.lint.behaviors/hover-behavior"),action:v.$XN.REMOVE_HOVER_BEHAVIOR},{label:(0,x.tx)("sites.lint.behaviors/hover-interaction-trigger"),action:v.$XN.REMOVE_ON_HOVER_ACTIONS}],isViolation:e=>{let t=Z(e,a.Xc.Hover),i=Y(e,"ON_HOVER");return t&&i}},{name:"behaviors/on_press_and_press",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{text:(0,x.tx)("sites.lint.behaviors/press-behavior")}),(0,n.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,n.jsx)(P,{text:(0,x.tx)("sites.lint.behaviors/press-interaction-trigger")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.lint.behaviors/press-behavior"),action:v.$XN.REMOVE_PRESS_BEHAVIOR},{label:(0,x.tx)("sites.lint.behaviors/press-interaction-trigger"),action:v.$XN.REMOVE_ON_PRESS_ACTIONS}],isViolation:e=>{let t=Z(e,a.Xc.Press),i=Y(e,"ON_PRESS");return t&&i}},{name:"interactions/swap_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.action_swap_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_SWAP_OVERLAY_ACTIONS}],isViolation:e=>q(e,"SWAP")},{name:"interactions/on_drag",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.interaction.type.on_drag")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:v.$XN.REMOVE_ON_DRAG_ACTIONS}],isViolation:e=>Y(e,"DRAG")},{name:"animation/dissolve",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-animation"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,n.jsx)(P,{text:(0,x.tx)("proto.transition_behavior.dissolve")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-animation"),action:v.$XN.REMOVE_DISSOLVE_ANIMATIONS}],isViolation:e=>$(e,"DISSOLVE")},{name:"nodetype/connector",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/connector")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_CONNECTOR}],isViolation:e=>"CONNECTOR"===e.type},{name:"nodetype/shape-with-text",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/shape-with-text")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_SHAPE_WITH_TEXT}],isViolation:e=>"SHAPE_WITH_TEXT"===e.type},{name:"nodetype/sticky",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/sticky")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_STICKY}],isViolation:e=>"STICKY"===e.type},{name:"nodetype/washi-tape",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,x.tx)("sites.lint.nodetype/washi-tape")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_WASHI_TAPE}],isViolation:e=>"WASHI_TAPE"===e.type},{name:"nodetype/highlight",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/highlight")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_HIGHLIGHT}],isViolation:e=>"HIGHLIGHT"===e.type},{name:"nodetype/stamp",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/stamp")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_STAMP}],isViolation:e=>"STAMP"===e.type},{name:"nodetype/table",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/table")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_TABLE}],isViolation:e=>"TABLE"===e.type},{name:"nodetype/widget",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/widget")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:v.$XN.REMOVE_WIDGET}],isViolation:e=>"WIDGET"===e.type&&!e.isHTMLWidget},{name:"vector/variable-binding",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.vectors/variable-binding-unsupported-description",{setVariable:(0,n.jsx)(P,{text:(0,x.tx)("proto.action_set_variable")}),fill:(0,n.jsx)(P,{text:(0,x.tx)("proto.frame_preset_panel.fill")}),stroke:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.fill.stroke")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_VECTOR_SET_VARIABLE_ACTIONS}],isViolation:e=>{let t=e.prototypeInteractions.flatMap(e=>e.actions).filter(e=>e?.connectionType==="SET_VARIABLE").map(e=>e?.targetVariable?.id).filter(e=>void 0!==e);if(0===t.length)return!1;let i=new Set(["fills","strokes"]),n=[];for(let e of t){let t;t=e.assetRef&&e.assetRef.key&&e.assetRef.version?S.sD.fromRef({key:(0,T.ey)(e.assetRef.key),version:(0,T.nK)(e.assetRef.version)}):S.sD.fromLocalNodeIdObj(e.guid??I.Hr);let i=v.glU?.transitiveConsumersOfVariable(t);i&&(n=n.concat(Array.from(i)))}let a=t.map(e=>{let t=S.sD.INVALID;return e.guid?t=S.sD.fromLocalNodeIdObj(e.guid):e.assetRef&&void 0!==e.assetRef.key&&void 0!==e.assetRef.version&&(t=S.sD.fromRef({key:(0,T.ey)(e.assetRef.key),version:(0,T.nK)(e.assetRef.version)})),t?.toString()});for(let t of n){let n=e.sceneGraph.get(t);if(n?.type==="VECTOR")for(let e of Object.entries(n?.boundVariables)){let[t,n]=e;if(Array.isArray(n))for(let e=0;e<n.length;e++){let s=n[e];if(s&&!i.has(t)&&a.includes(s.id))return!0}else if(!i.has(t)&&a.includes(n.id))return!0}}return!1}},{name:"nodetype/text-path",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/text-path")}),recommendations:[],isViolation:e=>"TEXT_PATH"===e.type},{name:"effects/grain",category:"effects",label:(0,x.tx)("sites.lint.effects/grain"),description:(0,x.tx)("sites.lint.effects/grain-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:v.$XN.REMOVE_GRAIN_EFFECT}],isViolation:e=>!X(e)&&W(e,e=>"GRAIN"===e.type)},{name:"effects/noise",category:"effects",label:(0,x.tx)("sites.lint.effects/noise"),description:(0,x.tx)("sites.lint.effects/noise-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:v.$XN.REMOVE_NOISE_EFFECT}],isViolation:e=>!X(e)&&W(e,e=>"NOISE"===e.type)},{name:"effects/progressive-blur",category:"effects",label:(0,x.tx)("sites.lint.effects/progressive-blur"),description:(0,x.tx)("sites.lint.effects/progressive-blur-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:v.$XN.REMOVE_PROGRESSIVE_BLUR}],isViolation:e=>!X(e)&&W(e,e=>("FOREGROUND_BLUR"===e.type||"BACKGROUND_BLUR"===e.type)&&"PROGRESSIVE"===e.blurOpType)},{name:"effects/glass",category:"effects",label:(0,x.tx)("sites.lint.effects/glass"),description:(0,x.tx)("sites.lint.effects/glass-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:v.$XN.REMOVE_GLASS}],isViolation:e=>!X(e)&&W(e,e=>"GLASS"===e.type)},{name:"link/link-to-deleted-object",category:"link",label:(0,x.tx)("sites.lint.missing_hyperlink"),description:(0,x.tx)("sites.lint.missing_hyperlink_description"),recommendations:[{label:(0,x.tx)("sites.lint.missing_hyperlink.remove_link"),action:v.$XN.REMOVE_LINKS_TO_DELETED_NODES}],isViolation:e=>{if(!e.hyperlink)return!1;if("mixed"===e.hyperlink){let t=e.textData?.characters;if(!t)return!1;let i=0,n=null;for(;i<t.length;){let t=e.getRangeHyperlink(i,i+1);if(t!==n&&null!==t&&(n=t,"NODE"===t.type&&null==e.sceneGraph.get(t.value)))return!0;i++}}else if("NODE"===e.hyperlink.type){let t=e.hyperlink.value;return null==e.sceneGraph.get(t)}return!1}},{name:"interactions/scroll_to_in_component_instance",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.interactions/scroll-to-in-component-instance-unsupported"),category:"interactions",recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:v.$XN.REMOVE_SCROLL_TO_ACTIONS}],isViolation:e=>ee(e,t=>{if("SCROLL_TO"!==t.navigationType)return!1;let i=t.transitionNodeID;if(!i)return!1;let n=e.sceneGraph.get(I.dI(i));return!!n&&!!n.isInstanceSublayer})},{name:"appearance/image-adjustments",category:"appearance",icon:(0,n.jsx)(b.s,{}),label:(0,x.tx)("sites.lint.appearance/image-adjustments"),description:(0,x.tx)("sites.lint.appearance/image-adjustments-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-image-adjustments"),action:v.$XN.REMOVE_IMAGE_ADJUSTMENTS}],isViolation:e=>H(e,e=>{if("IMAGE"!==e.type||!e.paintFilter)return!1;let t=e.paintFilter;return!!t&&["exposure","contrast","vibrance","temperature","tint","highlights","shadows"].some(e=>{let i=t[e];return void 0!==i&&!(0,s.xN)(i,0)})})},{name:"appearance/transformed-mask",category:"appearance",label:(0,x.tx)("sites.lint.appearance/transformed-mask"),description:(0,x.tx)("sites.lint.appearance/transformed-mask-description"),icon:(0,n.jsx)(y,{}),recommendations:[{label:(0,x.tx)("sites.lint.appearance/remove-mask-transform"),action:v.$XN.REMOVE_MASK_TRANSFORM}],isViolation:e=>{if(!(e.childrenNodes&&e.childrenNodes.some(e=>e.mask)))return!1;let t=R.s.identity().toFigMatrix(),i=e=>{let{m00:i,m01:n,m10:a,m11:o}=e.relativeTransform;return!(((0,s.xN)(i,1)||(0,s.xN)(i,-1))&&((0,s.xN)(o,1)||(0,s.xN)(o,-1))&&(0,s.xN)(n,0)&&(0,s.xN)(a,0))&&(!(0,s.xN)(i,t.m00)||!(0,s.xN)(n,t.m01)||!(0,s.xN)(a,t.m10)||!(0,s.xN)(o,t.m11))};return!!i(e)||e.childrenNodes.some(i)}},{name:"fills/rotated-image",category:"fill",label:(0,x.tx)("sites.lint.fills/rotated-image"),description:(0,x.tx)("sites.lint.fills/rotated-image-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-rotation"),action:v.$XN.REMOVE_IMAGE_ROTATION},{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:v.$XN.REMOVE_ROTATED_IMAGE_FILL}],isViolation:e=>H(e,e=>{if("IMAGE"!==e.type)return!1;if(0!==e.rotation)return!0;if("STRETCH"===e.imageScaleMode&&e.transform){let t=R.s.fromFigMatrix(e.transform);if(!(0,s.xN)(t.toRadians(),0))return!0}return!1})},{name:"fills/rotated-video",category:"fill",label:(0,x.tx)("sites.lint.fills/rotated-video"),description:(0,x.tx)("sites.lint.fills/rotated-video-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-rotation"),action:v.$XN.REMOVE_VIDEO_ROTATION},{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:v.$XN.REMOVE_ROTATED_VIDEO_FILL}],isViolation:e=>H(e,e=>{if("VIDEO"!==e.type)return!1;if(0!==e.rotation)return!0;if("STRETCH"===e.imageScaleMode&&e.transform){let t=R.s.fromFigMatrix(e.transform);if(!(0,s.xN)(t.toRadians(),0))return!0}return!1})},{name:"fills/video-fill-exclusive",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-exclusive"),description:(0,x.tx)("sites.lint.fills/video-fill-exclusive-description"),recommendations:[],isViolation:e=>{let t=H(e,e=>"VIDEO"===e.type),i=e.fills.filter(e=>V(e)).length>1;return t&&i}},{name:"fills/video-fill-unsupported-node",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-unsupported-node"),description:(0,x.tx)("sites.lint.fills/video-fill-unsupported-node-description"),recommendations:[],isViolation:e=>{let t=["RECTANGLE","ROUNDED_RECTANGLE","FRAME"].includes(e.type);return H(e,e=>"VIDEO"===e.type)&&!t}},{name:"fills/video-fill-invalid-scale-mode",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-invalid-scale-mode"),description:(0,x.tx)("sites.lint.fills/video-fill-invalid-scale-mode-description",{Tile:(0,n.jsx)(P,{text:(0,x.tx)("fullscreen.properties_panel.image_scale.tile")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:v.$XN.SET_VIDEO_FILL_SCALE_MODE_FILL}],isViolation:e=>H(e,e=>"VIDEO"===e.type&&"TILE"===e.imageScaleMode)},{name:"fills/video-settings-controls-autoplay-invalid",category:"fill",label:(0,x.tx)("sites.lint.fills/video-playback-warning"),description:(0,x.tx)("sites.lint.fills/video-settings-controls-autoplay-invalid-description"),recommendations:[{label:(0,x.tx)("sites.lint.turn-on-autoplay"),action:v.$XN.SET_VIDEO_AUTOPLAY},{label:(0,x.tx)("sites.lint.show-controls"),action:v.$XN.SET_VIDEO_CONTROLS}],isViolation:e=>H(e,t=>{if("VIDEO"!==t.type)return!1;let i=e.videoPlayback;return!e.videoPlayback.showControls&&!i.autoplay})},{name:"fills/video-settings-muted-autoplay-invalid",category:"fill",label:(0,x.tx)("sites.lint.fills/video-playback-warning"),description:(0,x.tx)("sites.lint.fills/video-settings-muted-autoplay-invalid-description"),recommendations:[],isViolation:e=>H(e,t=>{if("VIDEO"!==t.type)return!1;let i=e.videoPlayback;return!i.muted&&i.autoplay})},{name:"nodetype/component-set-in-responsive-set",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.component-sets-in-pages"),recommendations:[],isViolation:e=>e.isStateGroup},{name:"nodetype/component-in-responsive-set",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.components-in-pages"),recommendations:[],isViolation:e=>e.isLooseComponent&&e.isInResponsiveSetOrWebpage},{name:"layout/fixed-child-outside-of-tlf",category:"position",label:(0,x.tx)("sites.lint.layout/fixed-child-outside-of-tlf"),description:(0,x.tx)("sites.lint.layout/fixed-child-outside-of-tlf-description"),recommendations:[{label:(0,x.tx)("sites.lint.set-position-absolute"),action:v.$XN.SET_POSITION_ABSOLUTE}],isViolation:e=>{if("FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==e.scrollBehavior)return!1;if(e.parentGuid){let t=e.sceneGraph.get(e.parentGuid);if(t&&t.parentGuid){let e=t.parentNode;if(!e?.isResponsiveSetOrWebpage)return!0}}return!1}},{name:"fills/cms-rich-text-gradient-fill",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-rich-text-gradient-fill"),description:(0,x.tx)("sites.lint.fills/cms-rich-text-gradient-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:v.$XN.REMOVE_GRADIENT_FILL}],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>"CMS_RICH_TEXT"===e.type&&H(e,e=>B(e))},{name:"fills/cms-rich-text-image-fill",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-rich-text-image-fill"),description:(0,x.tx)("sites.lint.fills/cms-rich-text-image-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:v.$XN.REMOVE_IMAGE_FILL}],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>"CMS_RICH_TEXT"===e.type&&H(e,e=>"IMAGE"===e.type)},{name:"fills/cms-bound-image-with-mask",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-bound-image-with-mask"),description:(0,x.tx)("sites.lint.fills/cms-bound-image-with-mask-description"),icon:(0,n.jsx)(y,{}),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>!!H(e,C.i2)&&!!(!0===e.mask||e.parentNode?.childrenNodes?.some(e=>e.mask))},{name:"fills/cms-bound-image-on-vector",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-bound-image-on-vector"),description:(0,x.tx)("sites.lint.fills/cms-bound-image-on-vector-description"),icon:(0,n.jsx)(g.x,{}),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>X(e)&&H(e,C.i2)}],F=e=>{let t=new Set,i=[e];for(;i.length>0;){let e=i.pop();t.add(e),i.push(...e.childrenNodes)}return t};function U(e,t){if(!e)return!1;let i=e.containingCanvas,n=i&&t.get(i);return!!n&&!n.isInternalOnlyNode}async function G(e,t,i,n,a=!1){var s,o;let r=[];for(let e of M){if(!(!("enabled"in e)||e.enabled()))continue;let n=t.get(i),s=function(e,t,i,n,a=!1){if(!t)return[];let s=[{node:t,context:n}],o=new Set,r=new Set,l=new Set;for(;s.length>0;){let{node:t,context:n}=s.shift();if(!(t.visible||t.boundVariables.visible)||r.has(t.guid))continue;let d=i.isViolation(t,n),[c,u]="boolean"==typeof d?[d,void 0]:d,_=t.isInstanceSublayer||"INSTANCE"===t.type,m=t.isInstance?t.symbolId:t.isInstanceSublayer?t.overrideKey:null;if(c&&(_&&m?(l.has(m)&&!o.has(m)?o.add(t.guid):function(e,t,i,n){let a=t.get(e);if(!U(a,t))return!1;let s=i.isViolation(a,n),[o]="boolean"==typeof s?[s,void 0]:s;return o}(m,e,i,n)&&o.add(m),l.add(m)):o.add(t.guid)),a&&o.size>0)break;if(["INSTANCE","SYMBOL"].includes(t.type)){if(m){let t=e.get(m);U(t,e)&&s.push({node:t,context:n})}[...F(t)].flatMap(t=>et(t,e=>"SWAP_STATE"===e.navigationType).map(t=>{if(!t.transitionNodeID)return;let i=I.dI(t.transitionNodeID);if(U(e.get(i),e))return i}).filter(Boolean)).forEach(t=>{let i=e.get(t);i&&s.push({node:i,context:n})})}r.add(t.guid),t.childrenNodes.forEach(e=>{s.push({node:e,context:u})})}let d=Array.from(o);return(i.name===j||i.name===k)&&d.length>1?d.slice(0,1):d}(t,n,e,void 0,a);if(s.length>0&&(r.push({...e,nodeIds:s}),a))break;await new Promise(e=>setTimeout(e,0))}return s=r,o=n,Object.entries(s.reduce((e,t)=>(e[t.name]=(e[t.name]||0)+1,e),{})).map(([e,t])=>{O.az.trackDefinedEvent("sites.linting_errors",{lintRule:e,count:t,source:o})}),r}let V=e=>!!e.visible&&0!==(e.opacity||1)&&(!!("SOLID"===e.type&&(e.color?.a||1)>0)||!B(e)||e.stops?.some(e=>e.color.a>0));function B(e){return"GRADIENT_ANGULAR"===e.type||"GRADIENT_DIAMOND"===e.type||"GRADIENT_LINEAR"===e.type||"GRADIENT_RADIAL"===e.type}function X(e){return"ELLIPSE"===e.type||"REGULAR_POLYGON"===e.type||"STAR"===e.type||"VECTOR"===e.type||"LINE"===e.type||"BOOLEAN_OPERATION"===e.type}function H(e,t=()=>!0){return e.fills.length>0&&e.fills.some(e=>t(e)&&V(e))}function z(e,t=()=>!0){return e.strokePaints.data.length>0&&e.strokePaints.data.some(e=>t(e)&&V(e))}function W(e,t=()=>!0){return e.effects.some(e=>t(e)&&e.visible)}let K=(e,t)=>ee(e,e=>e.connectionType===t),q=(e,t)=>ee(e,e=>e.navigationType===t),$=(e,t)=>ee(e,e=>e.transitionType===t),Y=(e,t)=>ei(e,e=>e.event?.interactionType===t),J=e=>ei(e,e=>e.event?.interactionType==="ON_KEY_DOWN"&&e.event?.keyTrigger?.triggerDevice!=="KEYBOARD"),Z=(e,t)=>!!e.behaviors&&t in e.behaviors;function Q(e,t){if(!e.behaviors?.code||0===e.behaviors.code.length)return!1;let i=S._H.fromString(e.behaviors.code[0].codeComponentId);if(!i)return!1;let n=e.sceneGraph.getCodeComponentNode(i);return!!n?.isCodeBehavior&&n?.name===t}let ee=(e,t)=>e.prototypeInteractions.some(e=>e.actions?.some(e=>t(e)||e.conditionalActions?.some(e=>e.actions?.some(t)))),et=(e,t)=>{let i=[];return e.prototypeInteractions.forEach(e=>{e.actions?.forEach(e=>{t(e)&&i.push(e),e.conditionalActions?.forEach(e=>{e.actions?.forEach(e=>{t(e)&&i.push(e)})})})}),i},ei=(e,t)=>e.prototypeInteractions.some(e=>t(e)),en=(e,t,i)=>ee(e,e=>{let n="ANY"===i?"INSTANT_TRANSITION"!==e.transitionType:e.transitionType===i;return e.navigationType===t&&n}),ea=e=>!!e.hyperlink&&Y(e,"ON_CLICK"),es=e=>!!e.hyperlink||Y(e,"ON_CLICK")||"BUTTON"===e.accessibleHTMLTag;function eo(e){let t=[e];for(;t.length>0;){let e=t.pop();if(e.characters&&e.characters.length>0||e.accessibleLabel&&e.accessibleLabel.length>0||e.fills.some(e=>"IMAGE"===e.type&&e.imageVar?.dataType==="CMS_ALIAS"&&e.imageVar?.value?.cmsAliasValue&&e.altText&&e.altText.length>0))return!0;e.childrenNodes&&t.push(...e.childrenNodes)}return!1}},550325(e,t,i){i.d(t,{pq:()=>h,CS:()=>u,iF:()=>m});var n=i(850159),a=i(350923),s=i(861427),o=i(351823),r=i(644350);let l=(0,i(899477).d)(null,e=>{let t=e.getCurrentPage();return t?.siteHomepageId??null}),d=(0,o.Wh)(e=>(0,a.eU)(t=>{let i=t(r.Vny.Query({fileKey:e||""}));if("loaded"!==i.status)return!1;let n=i.data?.siteMount,a=n?.pwdConfig?.webpageGuids||[];if(0===a.length)return!1;let s=t(l);return!!s&&a.includes(s)}));var c=i(144157);let u="_site_wide";function _(){setTimeout(()=>{window.dispatchEvent(new CustomEvent("scrollToSiteAccessSection"))},300)}let m=(0,a.eU)(e=>{let t=[];e(c.C)&&t.push({name:"access/password-required",category:"access",publishBlocking:!0,label:(0,n.tx)("sites.lint.access/password-required"),description:(0,n.tx)("sites.lint.access/password-required-description"),recommendations:[{label:(0,n.tx)("sites.lint.add_password"),action:_,shouldOpenSettings:!0}],nodeIds:[],hideSelectionTarget:!0}),e(d)&&t.push({name:"access/homepage-protected",category:"access",publishBlocking:!0,label:(0,n.tx)("sites.lint.access/homepage-protected"),description:(0,n.tx)("sites.lint.access/homepage-protected-description"),recommendations:[{label:(0,n.tx)("sites.lint.remove_homepage_protection"),action:_,shouldOpenSettings:!0}],nodeIds:[],hideSelectionTarget:!0});let i=e(s.Z6);return i&&t.push(i),t});function h(e){let t=e(m);return t.length>0?[u,t]:null}},562961(e,t,i){i.d(t,{R:()=>o,a:()=>s});var n=i(350923),a=i(351823);let s=(0,i(899477).d)([],e=>e.getRoot().childrenNodes.filter(e=>!e.isInternalOnlyNode).flatMap(e=>e.childrenNodes.filter(e=>e.isResponsiveSetOrWebpage).map(e=>e.guid))),o=(0,a.Wh)(()=>(0,n.eU)([]),{preserveValue:!0})},766205(e,t,i){i.d(t,{H:()=>o});var n=i(239976),a=i(170665);let s={default:{duration:1,ease:"linear",repeat:1/0},rotate:{duration:2,ease:[.6,-1,.4,2],repeat:1/0}};function o(){return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,n.jsx)(a.P.ellipse,{animate:{ry:[2.5,0,2.5],strokeDashoffset:[-10,10],rotate:[0,45,90]},cx:"12",cy:"12",fill:"transparent",initial:{strokeDashoffset:-10,ry:2.5,rotate:0},rx:"8.5",ry:"2.5",stroke:"var(--color-icon)",strokeDasharray:"14 5",strokeDashoffset:"-10",strokeLinecap:"round",strokeWidth:"1",transition:s}),(0,n.jsx)(a.P.ellipse,{animate:{ry:[2.5,0,2.5],strokeDashoffset:[-10,10],rotate:[-90,-45,0]},cx:"12",cy:"12",fill:"transparent",initial:{strokeDashoffset:-8,ry:4,rotate:-45},rx:"8.5",ry:"2.5",stroke:"var(--color-icon)",strokeDasharray:"14 5",strokeDashoffset:"-10",strokeLinecap:"round",strokeWidth:"1",transition:s})]})}},808884(e,t,i){let n;i.d(t,{qm:()=>_});var a=i(523924),s=i(914597);let o=0,r=new Map,l=new Map;function d(){if(!n){let e=Fig.codeSandboxWorkerURL;e&&((n=(0,s.x)(e)).onmessage=e=>{var t,i,n,s;switch(e.data.type){case"SNAPSHOT_LAYERS_FOR_CANVAS_RESULT":let o;t=e.data.messageId,i={operationBatch:e.data.operationBatch},(o=r.get(t))&&(o(i),r.delete(t),l.delete(t));break;case"ERROR_RESULT":let d;n=e.data.messageId,s=Error(e.data.error),(d=l.get(n))&&(d(s),r.delete(n),l.delete(n));break;default:(0,a.xb)(e.data)}})}return n}let c=[],u=[];function _(){function e(){let e=new m;return c.push(e),e}return c.length<4?Promise.resolve(e()):new Promise(t=>{u.push(()=>{t(e())})})}class m{constructor(){if(this.isConsumed=!1,this.isDestroyed=!1,!d())throw Error("Sandbox worker not available")}async snapshotLayersForCanvas({guid:e,code:t,codeBuildId:i,exportName:n,props:a}){try{return this.consume(),await function({guid:e,code:t,codeBuildId:i,exportName:n,props:a}){return function(e){let t=o++,i=new Promise((e,i)=>{r.set(t,e),l.set(t,i)});var n={...e,messageId:t};let a=d();if(!a)throw Error("Sandbox worker not available");return a.postMessage(n),i}({type:"SNAPSHOT_LAYERS_FOR_CANVAS",guid:e,code:t,codeBuildId:i,exportName:n,props:a})}({guid:e,code:t,codeBuildId:i,exportName:n,props:a})}finally{this.destroy()}}consume(){if(this.isConsumed)throw Error("Attempting to reuse a sandbox worker instance");this.isConsumed=!0}destroy(){if(this.isConsumed&&!this.isDestroyed){let e;this.isDestroyed=!0,-1!==(e=c.indexOf(this))&&c.splice(e,1),u.length>0&&u.shift()()}}}},728086(e,t,i){i.d(t,{hB:()=>b,wn:()=>E});var n=i(97004),a=i(350923),s=i(575254),o=i(249593),r=i(200492),l=i(367539),d=i(655799),c=i(370472),u=i(448955),_=i(554070);let m=[],h=[],p=[],g=[],f=[];function E(){let e=2-(m?.length??0)-(h?.length??0);if(e<=0)return;let t=Array.from({length:e},()=>new y({previewSurfaceForLogging:"offscreen_sandbox",productType:"unknown"}));m.push(...t)}function b({renderOptions:e,usePlaygroundScene:t=!1,d2rSessionId:i,assets:n,activeBreakpoint:a,previewSurfaceForLogging:s,productType:o}){if(e?.preset==="mcp"||e?.preset==="code_layer"){let r=function(){let r=new y({assets:n,renderOptions:e,usePlaygroundScene:t,previewSurfaceForLogging:s,productType:o,d2rSessionId:i});return r.configure(void 0,a),g.push(r),r};return g.length<4?Promise.resolve(r()):new Promise(e=>{f.push(()=>{e(r())})})}{let e=function(){let e=m.pop();return h.push(e),E(),e.configure(n,a),e.updateLoggingContext(s,o),e};return(E(),m.length>0)?Promise.resolve(e()):new Promise(t=>{p.push(()=>{t(e())})})}}class y{constructor({renderOptions:e,usePlaygroundScene:t,assets:i,previewSurfaceForLogging:n,productType:s,d2rSessionId:o}){this.isConsumed=!1,this.isDestroyed=!1,this.renderOptions=e,this.usingD2R=e?.preset==="mcp"||e?.preset==="code_layer",this.assets=i??new Map,this.usePlaygroundScene=t,this.history=new d.a({url:"/_snapshot"}),this.previewSurfaceForLogging=n,this.productType=s,this.d2rSessionId=o,this.sitePreviewIframeManager=new c.fj({productType:s,previewSurfaceForLogging:n}),this.usingD2R?this.sitesPreview=this.sitePreviewIframeManager.createSitesPreview({history:this.history,options:{renderOptions:this.renderOptions,useGuidUrls:!0,skipPreviewUpdateListener:!0,ignorePreviewClosedWhenGeneratingAssets:!0,neverCombineSVGAndPNG:!0,onlyFlattenSVGIfVectorLike:!0,generateFullAssets:!0,labs:{runtimeDebugTools:!1}},imageAssetsHolder:this.assets,skipSetPreviewedNode:!0,skipInitialHeartbeat:!0}):this.sitesPreview=this.sitePreviewIframeManager.createSitesPreview({history:this.history,options:{skipPreviewUpdateListener:!0,generateFullAssets:!0,labs:{runtimeDebugTools:!1}},imageAssetsHolder:this.assets,skipSetPreviewedNode:!0,skipInitialHeartbeat:!0}),this.iframe=document.createElement("iframe"),this.iframe.style.position="fixed",this.iframe.style.pointerEvents="none",this.iframe.style.opacity="0",this.iframe.style.top="0px",this.iframe.style.left="0px",this.iframe.allow=(0,u.P)({minimalPermissions:!0}),this.iframe.src=a.zl.get(c.jD),this.sitePreviewIframeManager.mountIframe(this.iframe,{preset:this.renderOptions?.preset,useReactDev:!0}),document.body.appendChild(this.iframe)}configure(e,t){for(let[i,n]of(this.activeBreakpoint=t,this.iframe.style.width=`${this.activeBreakpoint?.width??1200}px`,this.iframe.style.height=`${this.activeBreakpoint?.height??1080}px`,e??[]))this.assets.set(i,n)}updateLoggingContext(e,t){this.previewSurfaceForLogging=e,this.productType=t,this.sitePreviewIframeManager.updateTrackingContext(e,t)}async snapshot({guid:e,entrypoint:t,codeBuildId:i,exportName:n,width:a,height:r,minWidth:l,maxWidth:d,minHeight:c,maxHeight:u,props:_,styles:m,instanceSwapProps:h,isDirectManipulationOnCanvasEnabled:p,additionalOverflowDistance:g,maxOverflowDistance:f}){try{this.consume();let E=await S(e,h??{}),b=E.bundle,y=E.assetInstructions,T=await (0,o.Ct)(y);b.files={...b.files,...T};let v=new Blob([m??""],{type:"text/css"}),R=await this.sitesPreview.snapshotDOMToPNG({entrypoint:t,codeBuildId:i,codeInstanceGuid:e,exportName:n,width:a,height:r,minWidth:l,maxWidth:d,minHeight:c,maxHeight:u,props:_,activeBreakpoint:this.activeBreakpoint,styles:v,instanceSwapProps:h,referencedWebsiteBundle:b,isDirectManipulationOnCanvasEnabled:p,additionalOverflowDistance:g,maxOverflowDistance:f});return{imageSet:await (0,s.UD)(new Uint8Array(await R.png.arrayBuffer()),"image/png","Code Component Preview "+Date.now()),totalWidth:R.totalWidth,totalHeight:R.totalHeight,layoutWidth:R.layoutWidth,layoutHeight:R.layoutHeight,offsetX:R.offsetX,offsetY:R.offsetY,directManipulationSnapshot:R.directManipulationSnapshot}}finally{this.destroy()}}async analyzeCodeFile({code:e,codeBuildId:t}){try{return this.consume(),await this.sitesPreview.analyzeCodeFile({code:e,codeBuildId:t})}finally{this.destroy()}}async serializeHTMLMulti(e){if(!this.usingD2R)throw Error("Attempting to serialize HTML from a non-compact DOM sandbox");try{this.consume();let t=await (0,r.LE)(e,{neverCombineSVGAndPNG:!0,onlyFlattenSVGIfVectorLike:!0,skipCodeFilesystem:!0,includeRootUntrackedSublayers:this.renderOptions?.preset==="mcp",usePlaygroundScene:this.usePlaygroundScene,skipInstanceUpdate:!0,runId:this.d2rSessionId}),i=await (0,o.Ct)(t.assetInstructions),n=await this.sitesPreview.getHTMLForD2R({bundle:t.bundle,assets:i,renderOptions:this.renderOptions});for(let e of Object.keys(n)){let t=n[e];t&&(t.styles=t.styles.filter(e=>e.id!==_.Tl))}return n}finally{this.destroy()}}async serializeHTMLForH2D(e){if(!this.usingD2R)throw Error("Attempting to serialize HTML from a non-compact DOM sandbox");try{return this.consume(),this.history.restartAt({url:e}),await this.sitesPreview.getHTMLForH2D()}finally{this.destroy()}}async serializeHTMLForLinguaFigma(e,t,i){try{this.consume();let a=(0,n.ft)(),s=(await (0,l.pS)({entrypointsOrIdentifierToFileName:[e],tailwind:!1,shadcn:!1,noWrapper:!1,minify:!1,jsxDev:!1,filesystem:t,codeLibraryFormat:a})).esm;return await this.sitesPreview.renderComponent({entrypoint:{type:"local",code:s},codeBuildId:i,props:{}}),(await this.sitesPreview.getHTMLForElement()).html}finally{this.destroy()}}async unsafeEval(e,...t){try{return await this.sitesPreview.unsafeEval(e,...t)}finally{this.destroy()}}consume(){if(this.isConsumed)throw Error("Attempting to reuse an offscreen sandbox");this.isConsumed=!0}destroy(){if(this.isConsumed){this.isDestroyed=!0,this.sitePreviewIframeManager.reset(),document.body.removeChild(this.iframe);if(this.usingD2R){let e=g.indexOf(this);-1!==e&&g.splice(e,1),f.length>0&&f.shift()()}else{let e=h.indexOf(this);-1!==e&&h.splice(e,1),E(),p.length>0&&p.shift()()}}}}async function S(e,t){return await (0,r.LE)(Object.entries(t??{}).filter(([e,t])=>"-1:-1"!==t).map(([e,t])=>t).concat([e]),{skipCodeFilesystem:!0,skipInstanceUpdate:!0})}},618511(e,t,i){i.d(t,{Ae:()=>c});var n=i(105652),a=i(805590),s=i(140979),o=i(94241),r=i(644350),l=i(72655);i(683383);var d=i(575030);function c(){let e=(0,o.q5)(),t=(0,l.Vc)(e?.key??null),i=(0,n.useMemo)(()=>"loaded"===t.status&&t.data?.planRecordId?t.data.planRecordId:null,[t.status,t.data?.planRecordId]),c=(0,s.Rs)((0,r.StJ)({planId:i}),{enabled:!!i}).transform(({npmPrivateRegistry:e})=>e&&"loaded"===e.status?e.data?.scope??null:null).unwrapOr(null);return(0,n.useMemo)(()=>!!c&&!!e&&function(e,t=(0,a.N)()){let i,n=t.getFileByPath(`/${d.mO}`);if(!n?.contents)return!1;try{i=JSON.parse(n.contents)}catch(e){return!1}return[...Object.keys(i.dependencies||{}),...Object.keys(i.devDependencies||{}),...Object.keys(i.peerDependencies||{}),...Object.keys(i.optionalDependencies||{})].some(t=>!!t.startsWith("@")&&t.split("/")[0]===e)}(c),[c,e])}},40900(e,t,i){i.d(t,{O:()=>a});var n=i(645186);function a(){return(0,n.d4)(e=>e.mirror.appModel.pagesList[0]?.nodeId||e.mirror.appModel.currentPage)}},405618(e,t,i){i.d(t,{C:()=>s});var n=i(949038),a=i(40900);function s(){let e=(0,a.O)();return(0,n.$I)((e,t)=>e.get(t)?.siteHomepageId||null,e)}},659379(e,t,i){i.d(t,{QG:()=>_,_I:()=>h,r$:()=>m});var n=i(688357),a=i(491852),s=i(350923),o=i(295815),r=i(354991),l=i(944493),d=i(870088),c=i(173851),u=i(743514);i(526865);let _=8,m=12;function h(){let e=(0,c.GQ)()+(0,l.B)(),t=(0,s.md)(u.s0),i=(0,d.ut)(n.Ez5?.editorPreferences().renderRulers,!1)&&t===a.Nfd.FILE,h=(0,o.jz)("20px");return[new r.Mi((i?h:0)+_+e,(i?h:0)+m),{x:"left",y:"top"}]}},226431(e,t,i){i.d(t,{$1:()=>l,CJ:()=>r,pB:()=>o});var n,a=i(350923),s=i(818381),o=((n=o||{}).DEFAULT="default",n.EXPERIMENTAL="experimental",n.GOOGLE_GEMINI_3_PRO="google-gemini-3-pro",n.GOOGLE_GEMINI_3_FLASH="google-gemini-3-flash",n.CARAMEL="caramel",n.MYSTERY="mystery",n.CUSTOM="custom",n);let r=(0,a.E2)("figmake_selected_model","default",s.z.nativeEnum(o),{subscribeToChanges:!1},{parse:e=>{let t=JSON.parse(e);return"experimental"===t?"google-gemini-3-pro":"custom"===t?"default":t}}),l=(0,a.E2)("figmake_internal_only_model_id","",s.z.string())},234709(e,t,i){i.d(t,{B:()=>o,H:()=>s});var n=i(350923),a=i(351823);let s=(0,a.Wh)(()=>(0,n.eU)(null)),o=(0,a.Wh)(()=>(0,n.eU)(!1))},747811(e,t,i){i.d(t,{l:()=>c,x:()=>d});var n,a=i(239976),s=i(224542),o=i.n(s),r=i(289886),l=i(170569),d=((n=d||{}).SECONDARY="secondary",n.DANGER="danger",n.WARNING="warning",n);function c({icon:e,bannerType:t,title:i,children:n,legacyMargin:s,inLine:d}){return(0,a.jsxs)("div",{className:o()(r.s.case([["secondary"===t,r.s.colorBgSecondary],["danger"===t,r.s.colorBgDangerTertiary],["warning"===t,r.s.colorBgWarningTertiary]]).if(s,r.s.mx16.mt16.mb20,r.s.mb12).if(d,r.s.flex.flexRow.itemsCenter.p8,r.s.pt4.pb8.px8).bRadius5.$),children:[e&&(0,a.jsx)("div",{className:o()(l.N_,r.s.if(d,r.s.mbAuto,r.s.mb4).$),children:e}),i&&(0,a.jsx)("h4",{className:r.s.textBodyMediumStrong.$,children:i}),n]})}},269350(e,t,i){i.d(t,{b:()=>f});var n=i(239976),a=i(97004),s=i(828289),o=i(850159),r=i(741542),l=i(350923),d=i(865804),c=i(289886),u=i(517436),_=i(252881),m=i(98721),h=i(27261),p=i(534592),g=i(747811);function f(){let e,t,i,f=(e=(0,h.Oc)(),t=(0,p.cJ)(),i=(0,l.md)(_.Mk[m.P.CODE_COMPONENT].local),e&&(0,r.getFeatureFlags)().make_clf0_publish_warning&&0===(0,a.ft)()?"figmake":t&&!e&&(0,r.getFeatureFlags)().sites_clf0_publish_warning&&Object.keys(i).length>0?"sites":null);if(!f)return null;let E="figmake"===f?"figmake.publish_modal.clf0_warning":"sites.toolbar.publish_modal.clf0_warning";return(0,n.jsx)(d.fu,{name:"CLF0 Publish Warning Banner",children:(0,n.jsx)(g.l,{bannerType:g.x.WARNING,children:(0,n.jsxs)("p",{className:c.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,n.jsx)(s.z,{style:{flexShrink:0}}),(0,n.jsxs)("span",{children:[(0,o.tx)(`${E}.message`)," ",(0,n.jsx)(u.Ph,{href:"https://www.figma.com/status",target:"_blank",children:(0,o.tx)(`${E}.read_more`)})]})]})})})}},612364(e,t,i){i.d(t,{Q:()=>o});var n=i(306831),a=i(354621),s=i(949038);function o(){let e=(0,a.p8)("currentPage");return(0,s.$I)((e,t)=>(0,n.Pv)(e,t).map(e=>e.guid),e)}},959738(e,t,i){i.d(t,{$D:()=>v,HB:()=>S,MT:()=>T,up:()=>y});var n=i(105652),a=i(645186),s=i(523924),o=i(741542),r=i(350923),l=i(181645),d=i(198788),c=i(613629),u=i(508295),_=i(351823),m=i(180196),h=i(475262),p=i(86140),g=i(982745),f=i(27261),E=i(108832),b=i(834802);let y=(0,_.Wh)(()=>(0,r.eU)({inProgress:!1,bundleId:null,error:!1}));function S({fileKey:e}){let t=(0,E.JW)(e),{allWebpageGuids:i,selectedWebpageGuids:n}=(0,b.P)(t),a=(0,o.getFeatureFlags)().sts_ppp?Array.from(n||[]):i,s={fileKey:e,responsiveSetsToPublish:a},{onPublishChanges:r}=T(s);return{publishStatus:t,publishPayload:s,onPublishChanges:()=>r(a)}}function T({fileKey:e}){let t=(0,r.Xr)(y),i=(0,a.wA)(),s=(0,u.iZ)()?.id,o=(0,f.Oc)();return{onPublishChanges:(0,n.useCallback)(async n=>{let a;(0,l.sx)("sites_publish_started",{fileKey:e,productType:o?"figmake":"sites"}),t({inProgress:!0,bundleId:null,error:!1});try{a=await (0,h.b)(i,{fileKey:e,publishedByUserId:s||"",responsiveSetGuids:n})}catch(e){t({inProgress:!1,bundleId:null,error:!0});return}t({inProgress:!0,bundleId:a,error:!1})},[i,e,o,t,s]),onUpdateBundle:(0,n.useCallback)(async i=>{if(i.siteBundle?.id&&e){try{t({inProgress:!0,bundleId:null,error:!1}),await m.z.updateBundle({fileKey:e,bundleId:i.siteBundle.id})}catch(e){console.error(e),t({inProgress:!1,bundleId:null,error:!0});return}t({inProgress:!0,bundleId:i.siteBundle.id,error:!1})}},[e,t])}}function v({fileKey:e}){let{Sprig:t}=(0,d.A)(),i=(0,p._t)(e),s=(0,E.JW)(e),o=(0,r.md)(y),l=(0,r.Xr)(y),u=(0,a.wA)(),_=(0,n.useCallback)(()=>{l({inProgress:!1,bundleId:null,error:!1})},[l]),m=(0,n.useCallback)(()=>{Object.values(g.V7).forEach(e=>{u(c.F.dequeue({matchType:e}))})},[u]),h=(0,f.Oc)();(0,n.useEffect)(()=>{let e=R({publishProgress:o,publishStatus:s,domainInfo:i});("Published"===e||"Failed"===e)&&_(),I({visualBellManagerState:e,domainInfo:i,dequeuePublishVisualBells:m,Sprig:t,isFigmakeFile:h,publishStatus:s})},[t,m,u,i,o,s,_,h]),(0,n.useEffect)(()=>()=>{m()},[m])}let R=({publishProgress:e,publishStatus:t,domainInfo:i})=>t.isLoading?"None":e.error?"Failed":e.inProgress&&!e.bundleId?"Publishing":e.inProgress&&e.bundleId&&t.lastAttemptedPublish?.id===e.bundleId?t.lastAttemptedPublish?.status==="succeeded"&&i?.fullURL?"Published":t.lastAttemptedPublish?.status==="failed"?"Failed":"Publishing":"None",I=({visualBellManagerState:e,domainInfo:t,dequeuePublishVisualBells:i,Sprig:n,isFigmakeFile:a,publishStatus:r})=>{switch(e){case"Publishing":i();break;case"Published":t?.fullURL&&((0,o.getFeatureFlags)().sts_sprig_targeted_feedback&&n("track","sites_publish",{source:a?"make":"sites"}),(0,g.TI)({domainInfo:t,onDismiss:()=>{i()},isFigmake:a}));break;case"Failed":let l=null;!r.isLoading&&r?.lastPublishFailedErrorType&&(l=(0,E.w6)(r?.lastPublishFailedErrorType)),(0,g.uV)({onDismiss:()=>{i()},isFigmake:a,errorMessage:l});break;case"None":break;default:(0,s.xb)(e)}}},108832(e,t,i){i.d(t,{JW:()=>l,w6:()=>r});var n=i(850159),a=i(668522),s=i(493094),o=i(644350);function r(e){return"total_video_asset_size_limit_error"===e?(0,n.t)("sites.toolbar.publish_modal.sites_publish_video_asset_size_limit_exceeded"):null}function l(e){var t,i;let n,r,[l]=(0,s.IT)(o.DuV.Query(e?{fileKey:e}:null)),[d]=(0,s.IT)(o.lPt.Query(e?{fileKey:e}:null));if("loaded"!==l.status||"loaded"!==d.status)return{isLoading:!0};let c=(0,a.oA)(l.data?.siteBundles),u=(0,a.oA)(d.data?.siteMount),_=c?.find(e=>"succeeded"===e.status)||null,m=c?.find(e=>"pending"===e.status)||null,h=u?.status==="published",p=u?.publishEvents??[],g=(t=c||[],n=null,(i=p).length>0&&(n=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action))),r=t?.find(e=>null!=e.completedAt)||null,n?r&&r.completedAt?n.createdAt>=r.completedAt?n.siteBundle:n.createdAt<r.completedAt?r:null:n.siteBundle:r);return{isLoading:!1,isPublishing:null!==m,lastPublishedAt:function(e,t){if(!e)return null;let i=e?.publishEvents??[];if(i.length>0){let e=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.createdAt}return t?t.completedAt:null}(u||null,_),publishedBy:function(e,t){if(!e)return null;let i=e?.publishEvents??[];if(i.length>0){let e=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.actor}return t?.publishedByUser||null}(u||null,_),lastAttemptedPublish:g,lastSuccessfulPublishedResponsiveSetGuids:function(e,t,i){if(e)return null;if(t.length>0){let e=t.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.siteBundle?.responsiveSetGuids??null}return i?.responsiveSetGuids??null}(!u,p,_),isPublished:h,hasPublishEvents:p.length>0,lastPublishEvent:p[0]||null,lastPublishFailedErrorType:g?.errorType||null}}},834802(e,t,i){i.d(t,{P:()=>c});var n=i(105652),a=i(741542),s=i(350923),o=i(351823),r=i(405618),l=i(612364);let d=(0,o.Wh)(()=>(0,s.eU)(new Map));function c(e){let[t,i]=(0,n.useState)(null),o=(0,l.Q)(),c=(0,n.useMemo)(()=>new Set(o),[o]),u=(0,s.Xr)(d),_=(0,s.md)(d),m=!e.isLoading,h=m&&!!e.lastSuccessfulPublishedResponsiveSetGuids,p=(0,r.C)(),g=null;e.isLoading||(g=e.lastSuccessfulPublishedResponsiveSetGuids);let f=null;e.isLoading||(f=e.lastPublishedAt);let E=(0,n.useCallback)((e,t)=>{u(i=>(i.set(e,t),new Map(i)))},[u]);return(0,n.useEffect)(()=>{e.isLoading||f===t||(u(new Map),i(f))},[e,t,f,u]),(0,n.useMemo)(()=>{let e=new Set;return(0,a.getFeatureFlags)().sts_ppp?m?(h?(g?.forEach(t=>{c.has(t)&&e.add(t)}),_.forEach((t,i)=>{!0===t?e.add(i):e.delete(i)})):o.forEach(t=>{!1!==_.get(t)&&e.add(t)}),p&&(e.add(p),_.set(p,!0)),{allWebpageGuids:o,selectedWebpageGuids:e,updateGuidSelectionState:E}):{allWebpageGuids:o,selectedWebpageGuids:new Set,updateGuidSelectionState:E}:{allWebpageGuids:o,selectedWebpageGuids:c,updateGuidSelectionState:E}},[m,p,h,o,E,c,_,g])}},970025(e,t,i){i.d(t,{Z:()=>b,s:()=>E});var n=i(239976),a=i(828289),s=i(850159),o=i(741542),r=i(350923),l=i(865804),d=i(289886),c=i(517436),u=i(144157),_=i(572121),m=i(216563),h=i(176554),p=i(487016),g=i(747811);function f(){let{componentPreviewState:e}=(0,m.k)(),t=(0,r.md)(u.C);return{hasBuildErrors:e===m.d.BUILD_ERROR,isPasswordRequiredAndMissing:t}}function E(){let{hasBuildErrors:e,isPasswordRequiredAndMissing:t}=f();return(0,o.getFeatureFlags)().make_block_publish_on_build_error&&e||t}function b({onClose:e}){let{hasBuildErrors:t,isPasswordRequiredAndMissing:i}=f(),u=(0,p.y2)(h.p.WEBSITE),m=(0,r.Xr)(_.YD);return(0,o.getFeatureFlags)().make_block_publish_on_build_error&&t||i?(0,n.jsx)(l.fu,{name:"Make Publish Modal Error Banner",properties:{hasBuildErrors:t,isPasswordRequiredAndMissing:i},children:(0,n.jsx)(g.l,{bannerType:g.x.DANGER,children:(0,n.jsxs)("p",{className:d.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,n.jsx)(a.z,{style:{flexShrink:0}}),(0,n.jsxs)("span",{children:[(0,s.tx)(t?"figmake.publish_modal.console_errors_banner.message":"figmake.publish_modal.password_required_banner.message")," ",(0,n.jsx)(c.Ph,{href:"#",onClick:i=>{i.preventDefault(),t?m(!0):u(),e()},children:(0,s.tx)(t?"figmake.publish_modal.console_errors_banner.cta":"figmake.publish_modal.password_required_banner.cta")})]})]})})}):null}},198584(e,t,i){i.d(t,{P:()=>b});var n=i(239976),a=i(105652),s=i(629626),o=i(555355),r=i(73751),l=i(402631),d=i(69628),c=i(850159),u=i(350923),_=i(42053),m=i(289886),h=i(949038),p=i(328151),g=i(405618),f=i(959738),E=i(17368);function b({isSitePublished:e,allResponsiveSetGuids:t,selectedResponsiveSetGuids:i,lastSuccessfulPublishedResponsiveSetGuids:a,updateGuidSelectionState:s}){let o=(0,g.C)();return(0,n.jsxs)("div",{className:m.s.maxH400.$,children:[(0,n.jsx)("div",{className:m.s.h32.flex.itemsCenter.colorTextSecondary.$,children:(0,c.t)("sites.toolbar.publish_modal.ready_to_publish")}),o&&(0,n.jsx)(S,{guid:o,isHomepage:!0,isSelected:i.has(o),onChange:s,isSitePublished:e,isPagePublished:a?.includes(o)??!1}),Array.from(i).filter(e=>e!==o).map(t=>(0,n.jsx)(S,{guid:t,isSelected:!0,onChange:s,isSitePublished:e,isPagePublished:a?.includes(t)??!1},t)),t.some(e=>!i.has(e))&&(0,n.jsx)("div",{className:m.s.h32.flex.itemsCenter.colorTextSecondary.$,children:(0,c.t)("sites.toolbar.publish_modal.hide_from_publish")}),t.filter(e=>!i.has(e)).map(t=>(0,n.jsx)(S,{guid:t,isSelected:!1,onChange:s,isSitePublished:e,isPagePublished:a?.includes(t)??!1},t))]})}function y({isSitePublished:e,isPagePublished:t}){return e?(0,n.jsx)("div",{className:m.s.ml8.$,children:(0,n.jsx)(E.x,{isPublished:t,dataTestId:"sitesPagePublishStatusBadge"})}):null}function S({guid:e,isSelected:t,onChange:i,isHomepage:g=!1,isSitePublished:E,isPagePublished:b}){let y=(0,h.$I)(t=>t.get(e)?.name,e),S=(0,h.$I)(t=>t.get(e)?.webMetadata?.title??"",e),v=(0,u.md)(f.up).inProgress,R=`checkbox-${(0,a.useId)()}`,I=`label-${(0,a.useId)()}`;return y?(0,n.jsxs)("div",{className:m.s.h48.flex.flexRow.itemsCenter.$,children:[(0,n.jsx)(s.W,{"data-testid":`${y}-checkbox`,id:R,disabled:v||g,checked:t,onChange:t=>i(e,t),"aria-describedby":I}),(0,n.jsx)("div",{className:m.s.ml4.$,children:g?(0,n.jsx)(r.L,{}):(0,n.jsx)(l.p,{})}),(0,n.jsx)(o.J,{id:I,className:m.s.maxW250.ml4.$,children:S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{labelText:S,isSitePublished:E,isPagePublished:b}),(0,n.jsx)("div",{className:m.s.colorTextSecondary.maxW250.truncate.$,children:y})]}):(0,n.jsx)(T,{labelText:y,isSitePublished:E,isPagePublished:b})}),!t&&E&&b&&(0,n.jsx)(d.M,{className:m.s.mlAuto.colorIconWarningPressed.$,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("sites.toolbar.publish_modal.page_will_unpublish_at_next_update"),"data-tooltip-show-above":!0,"data-tooltip-max-width":300,"data-testid":"page-unpublish-warning"})]},e):((0,_.x1)("sites_publish_modal","node_not_found",{guid:e}),null)}function T({labelText:e,isSitePublished:t,isPagePublished:i}){return(0,n.jsxs)("div",{className:m.s.flex.flexRow.itemsCenter.$,children:[(0,n.jsx)("div",{className:m.s.truncate.maxW150.$,children:e}),(0,n.jsx)("div",{children:(0,n.jsx)(y,{isSitePublished:t,isPagePublished:i})})]})}},260153(e,t,i){i.d(t,{a:()=>N});var n=i(239976),a=i(105652),s=i(645186),o=i(859978),r=i(408694),l=i(15369),d=i(850159),c=i(741542),u=i(574988),_=i(181645),m=i(668522),h=i(493094),p=i(601335),g=i(645724),f=i(497544),E=i(412427),b=i(985373),y=i(38900),S=i(636773),T=i(94241),v=i(644350),R=i(42504),I=i(279378),x=i(27261),A=i(959738),O=i(108832);function N({fileKey:e,onClose:t}){let[i]=(0,h.IT)(v.lPt.Query({fileKey:e}));if(i.status===p.H.LOADING)return(0,n.jsx)(f.k,{"data-testid":"loading-spinner"});if(i.status===p.H.ERRORS)return(0,n.jsx)("div",{children:(0,d.t)("sites.toolbar.publish_modal.error_loading_publish_history")});let a=(0,m.oA)(i.data?.siteMount),s=a?.publishEvents??[];return 0===s.length?(0,n.jsx)("div",{children:(0,d.t)("sites.toolbar.publish_modal.no_publish_history")}):(0,n.jsx)("div",{children:s.map(e=>(0,n.jsx)(C,{publishEvent:e,isLatest:e.id===s[0]?.id,isOldest:e.id===s[s.length-1]?.id,onClose:t},e.id))})}function C({publishEvent:e,isLatest:t,isOldest:i,onClose:m}){let h,p=(0,x.Oc)(),f=p?(0,d.t)("figmake.publish_modal.publish_history_dropdown.published_app"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_site"),v=p?(0,d.t)("figmake.toolbar.publish_modal.publish_history_dropdown.unpublished_app"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.unpublished_site"),N=()=>{if("unpublish"!==e.action&&e.siteBundle?.fileVersion?.label)return e.siteBundle.fileVersion.label;switch(e.action){case"publish_new_bundle":return i?f:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_changes");case"publish_preexisting_bundle":return(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.republished_previous_version");case"unpublish":return v;default:return console.error(`Unknown publish event action: ${e.action}`),null}},C=(0,s.wA)(),w=(0,S.Um)(),D=a.useRef(null),j=`site-publish-history-dropdown-${e.id}`,k=w?.type===j,P=(0,T.tS)(),{onUpdateBundle:M}=(0,A.MT)({fileKey:P??""}),F=(0,O.JW)(P);if((0,A.$D)({fileKey:P??""}),!N()||!P)return null;let U=[];"unpublish"!==e.action&&(0,c.getFeatureFlags)().sites_named_versions&&U.push((0,n.jsx)(g.c$,{onClick:()=>{let{label:t,description:i,id:n}=e.siteBundle?.fileVersion??{};n&&C((0,y.to)({type:I.y,data:{label:t??void 0,description:i??void 0,savepointID:n,hideShowFullVersionHistoryCTA:!0}}))},children:(0,n.jsx)("span",{"data-testid":"name-this-version-button",children:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.name_this_version")})},0)),"unpublish"!==e.action&&!t&&e.siteBundle?.id&&U.push((0,n.jsx)(g.c$,{onClick:()=>void((0,_.sx)("sites_publish_history_republish_clicked",{fileKey:P,siteBundleId:e.siteBundle?.id,productType:p?"figmake":"sites"}),M(e),m()),children:(0,n.jsx)("span",{"data-testid":"republish-button",children:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.republish")})},1));let G=U.length>0;return h=t?L.timelineLineFirst:i?L.timelineLineLast:L.timelineLine,(0,n.jsxs)("div",{...{className:"x1n2onr6"},children:[(0,n.jsx)("div",{...u.xk(h)}),(0,n.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x1qjc9v5 x1jnr06f x1n2onr6 x12nagc"},"data-testid":"publish-event-row",children:[(0,n.jsx)("div",{...{className:"x78zum5 xdt5ytf x1nhvcw1 x5yr21d xkh2ocl x1vjfegm"},children:(0,n.jsx)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k xezl2tj xlrawln x167g77z x2lah0s x1d36bvo x1v8gsql x1gslohp"},children:(0,n.jsx)(r.z,{})})}),(0,n.jsxs)("div",{...{className:"x78zum5 x1qughib x19y5rnk xt0e3qv x163pfp xmzs88n x1iorvi4 xjkvuk6 xh8yej3 xv2f06h"},children:[(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1jnr06f"},children:[(0,n.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x6s0dn4 xbcm6b9"},children:[(0,n.jsx)("div",{...{className:"x1j6dyjg x6xwguf x1akne3o"},children:N()}),"\xb7",(0,n.jsx)("div",{...{className:"x1j6dyjg x1n0bwc9"},children:t?(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.latest"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_date",{publishedDate:e.createdAt})})]}),(0,n.jsx)("div",{...{className:"x1j6dyjg x1n0bwc9"},children:"unpublish"!==e.action&&e.siteBundle?.fileVersion?.description?e.siteBundle.fileVersion.description:t?(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.from_date",{publishedDate:e.createdAt}):null}),(0,n.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1jnr06f"},children:[(0,n.jsx)(E.H8,{size:E.Pf.SMALL,user:e.actor||{handle:" "}}),(0,n.jsx)("span",{children:e.actor?.handle})]})]}),k&&D.current&&(0,n.jsx)(R.Jz,{options:U,hideDropdown:()=>{C(b.oB())},targetRect:D.current.getBoundingClientRect(),lean:"left"}),G&&(0,n.jsx)(o.E,{ref:D,...{className:"x1717udv xvy4d1p xxk0z11 x1epfdc xwbv1nw"},"aria-label":(0,d.t)("sites.toolbar.publish_modal.version_operations",{publishedDate:e.createdAt,user:e.actor?.handle??(0,d.t)("sites.toolbar.publish_modal.unknown_user")}),onClick:e=>{C(b.j7({type:j,data:{targetRect:e.currentTarget.getBoundingClientRect()}}))},"data-testid":"more-button",disabled:F.isLoading||F.isPublishing,children:(0,n.jsx)(l.J,{})})]})]})]})}let L={timelineLine:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,kGO01o:"xjkvuk6",kY2c9j:"x1ja2u2z",kZKoxP:"x5yr21d",$$css:!0},timelineLineFirst:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,keoZOQ:"x1xmf6yo",kY2c9j:"x1ja2u2z",kZKoxP:"x5yr21d",$$css:!0},timelineLineLast:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,kY2c9j:"x1ja2u2z",kZKoxP:"x1kpxq89",$$css:!0}}},428033(e,t,i){i.d(t,{j:()=>c});var n=i(239976),a=i(105652),s=i(350923),o=i(964536),r=i(550325),l=i(934178);function d(e){let{selectedResponsiveSetGuids:t}=e,i=(0,s.md)(o.Yj),a=new Set(t);return a.add(r.CS),(0,n.jsx)(l.F8,{lintingResults:i,onlyShowWebpageGuids:Array.from(a),recordingKey:"sites-publish-modal"})}function c(e){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(l.j$,{}),children:(0,n.jsx)(d,{selectedResponsiveSetGuids:e.selectedResponsiveSetGuids})})}},828756(e,t,i){i.d(t,{Y2:()=>g});var n=i(239976),a=i(683579),s=i(688357),o=i(491852),r=i(850159),l=i(741542),d=i(350923);i(574988);var c=i(921424),u=i(331850),_=i(27261),m=i(234709);let h="/legal/creator-agreement/",p="https://www.figma.com/product-specific-terms/";function g({isPublishing:e,isUpdating:t}){let i=null;return(e?i=(0,n.jsx)(f,{}):t||(i=(0,n.jsxs)("div",{children:[(0,n.jsx)(b,{}),(0,n.jsx)(E,{})]})),i)?(0,n.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xod5an3 x1n0bwc9","data-testid":"publishing-subtext",children:i}):null}function f(){return(0,r.tx)("sites.toolbar.publish_modal.publish_in_progress_description")}function E(){let e=(0,d.md)(m.H),t=(0,_.Oc)(),i=(0,u.No)(),a=(0,u.iW)(i).unwrapOr(!0);return t&&e&&(0,l.getFeatureFlags)().cmty_make_publishing?a?(0,r.tx)("sites.toolbar.publish_modal.community_publish_disclaimer",{creator_agreement:(0,n.jsx)(c.CY,{href:h,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.creator_agreement")})}):(0,r.tx)("sites.toolbar.publish_modal.community_publish_disclaimer_with_web",{creator_agreement:(0,n.jsx)(c.CY,{href:h,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.creator_agreement")}),beta_terms:(0,n.jsx)(c.CY,{href:p,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.beta_terms")})}):(0,r.tx)("sites.toolbar.publish_modal.terms_agreement",{figmas_beta_terms:(0,n.jsx)(c.CY,{href:p,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.beta_terms")}),acceptable_use_policy:(0,n.jsx)(c.CY,{href:"https://www.figma.com/legal/aup/",target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.acceptable_use_policy")})})}function b(){return(0,_.Oc)()&&0!==(s.t8O?.getLocalTextStyleFontInfo()||[]).filter(e=>e.source!==o.jXp.GOOGLE).length?(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1jnr06f"},children:[(0,n.jsx)(a.B,{style:{"--color-icon":"var(--color-icon-secondary)"}}),(0,n.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xod5an3 x1n0bwc9"},children:(0,r.tx)("sites.toolbar.publish_modal.make_fonts_warning")})]}):null}},431410(e,t,i){i.d(t,{C:()=>l});var n=i(239976),a=i(69628),s=i(850159),o=i(289886),r=i(747811);function l({isSitePublished:e}){return(0,n.jsx)(r.l,{bannerType:e?r.x.DANGER:r.x.SECONDARY,children:(0,n.jsxs)("p",{className:o.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,n.jsx)(a.M,{style:{minWidth:"24px"}}),(0,s.tx)("sites.toolbar.publish_modal.publish_disabled_incident")]})})}},854991(e,t,i){i.d(t,{T:()=>S});var n=i(239976),a=i(297151),s=i(67548),o=i(850159);i(574988);var r=i(865804),l=i(838719),d=i(493094),c=i(834116),u=i(204736),_=i(540769),m=i(186396),h=i(663727),p=i(374628),g=i(113641),f=i(842014),E=i(687478),b=i(874895);function y({hubFileId:e}){let[t]=(0,d.IT)((0,p.Z)({apiResourceType:"file",id:e})),i=t.data?.creator.name||t.data?.creator.handle,a=t.data?(0,m.K2)(t.data):"";return"errors"===t.status?null:(0,n.jsx)("div",{className:"show_love_modal--rowContainer--BJZ5t",children:"loaded"===t.status&&t.data&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"show_love_modal--leftColumn--hcWen",children:[(0,n.jsx)(u.e,{size:16,entity:t.data.creator}),(0,n.jsx)("div",{children:(0,n.jsxs)("a",{href:(0,h.Sv)(t.data)?(0,_.VJ)({resource:t.data}):(0,_._t)({resource:t.data}),target:"_blank",className:"show_love_modal--resourceLink--wtalN",tabIndex:0,children:[(0,n.jsx)("span",{className:"show_love_modal--resourceName--ZhCAJ",children:a}),(0,n.jsx)("span",{className:"show_love_modal--creatorName--EMIc1",children:(0,o.tx)("community.figma_make.show_love.attribution_row",{author:i})})]})})]}),(0,n.jsx)("div",{className:"show_love_modal--rightColumn--zbmUL",children:(0,n.jsx)(r.fu,{name:g.e0.FIGMA_MAKE_COMMUNITY_ATTRIBUTION,children:(0,n.jsx)(f.Q,{resource:t.data,viewContext:"Figma Make Community Attribution",removeButtonBorder:!0})})})]})})}function S(){let e=(0,E.YP)({}),t=(0,s.G)(),i=(0,b.yj)(e),r=i.map(({hubFileId:e})=>(0,p.Z)({apiResourceType:"file",id:e})),u=(0,d.En)(r);if(0===i.length||u.some(e=>"loading"===e.status)||u.every(e=>"errors"===e.status))return null;let _="dark"===t.color;return(0,n.jsxs)(a.Wk,{...{className:"x1w7iyvz xdz8niu xa3vuyk x10e4vud"},children:[(0,n.jsxs)("div",{className:"show_love_modal--header--H18lG",children:[(0,n.jsx)("div",{className:"show_love_modal--imgContainer---TT7R",children:(0,n.jsx)(c.oW,{src:(0,l.staticAssetWithUploadsPath)(_?"8c5f36e7686970472553e5da4650c78cb52673b0":"5181875ecee4c670077941a2e262b305b425f77b")})}),(0,n.jsx)("div",{className:"show_love_modal--headerText--HUq01",children:(0,o.t)("community.figma_make.show_love.header")})]}),i.map(e=>(0,n.jsx)(y,{hubFileId:e.hubFileId},e.hubFileId))]})}},969704(e,t,i){i.d(t,{F:()=>eS});var n=i(239976),a=i(105652),s=i(645186),o=i(147911),r=i(555235),l=i(846692),d=i(60177),c=i(555355),u=i(106619),_=i(828289),m=i(850159),h=i(741542),p=i(350923);i(574988);var g=i(214030),f=i(436174),E=i(921424),b=i(289886),y=i(220117),S=i(186396),T=i(634993),v=i(126909),R=i(38900),I=i(694371),x=i(534016),A=i(336134),O=i(70321),N=i(406995),C=i(94241),L=i(508295),w=i(205663),D=i(83522),j=i(487817),k=i(331850),P=i(458983),M=i(640818),F=i(990639),U=i(944990),G=i(618511),V=i(27261),B=i(234709),X=i(747811),H=i(497935),z=i(577005),W=i.n(z),K=i(838719),q=i(834116),$=i(622954),Y=i(932630),J=i(560532),Z=i(483718),Q=i(921122),ee=i(195003),et=i(886213);function ei({name:e,authorName:t,imageUrl:i,isLoading:a=!1,handleThumbnailChange:s}){return a||!i?(0,n.jsxs)("div",{...{className:"x35muul x185x1x2 x1yjdb4r x330v8y xf7z5ut x3nfvp2 xdt5ytf x1cy8zhl xsik4n6 x67bb7w"},children:[(0,n.jsx)("div",{className:"xh8yej3 x1xjupan x176lpz5 x192jxwq x1iyjqo2 xs83m0k x1t1x2f9 x2lwn1j"}),(0,n.jsx)("div",{className:"x78zum5 xdt5ytf x1cy8zhl x1ed6fcf x1ta3ar0"})]}):(0,n.jsxs)("div",{...{className:"x35muul x185x1x2 x1yjdb4r x330v8y xf7z5ut x3nfvp2 xdt5ytf x1cy8zhl xsik4n6 x67bb7w"},children:[(0,n.jsx)("div",{...{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 x8nyqqu x1iyjqo2 xs83m0k x1t1x2f9 x2lwn1j"},children:(0,n.jsx)($.v,{size:"small",defaultImageUrl:i,onThumbnailChange:s})}),(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1cy8zhl x1ed6fcf"},children:[e&&(0,n.jsx)("div",{className:"xb3r6kr x1akne3o xlyipyv x122x9cr x6ijxsv x1j61x8r xk50ysn x1emllf5 x1tabuse xuxw1ft",children:e}),t&&(0,n.jsx)("div",{...{className:"xb3r6kr x1n0bwc9 xlyipyv x122x9cr x3ek0n1 x1j61x8r x10p5zqr x4ei82o x1117g4y xuxw1ft"},children:(0,m.t)("community.publishing.by_author",{authorName:t})})]})]})}function en({fileKey:e,setCommunityPublishingState:t}){let{data:i}=et.M4.useFile(e),o=(0,L.Pc)(),r=(0,Y.DP)(),l=function(e){let t=(0,s.d4)(t=>(0,J.Rv)(e?.team_id??null,t,null,e?.parent_org_id??null),H.c2),{status:i,allowedAuthors:n}=(0,J.d0)(e?.team_id??null,null,e?.parent_org_id??null),o=(0,ee.u8)({oldValue:t,oldValueReady:!0,newValue:n,newValueReady:"loaded"===i,label:Q.A.UseAuthorNameForPreview.CommunityMakeCollectionPreview,enableFullRead:(0,Z.UZ)(Z.CF.GROUP_5),enableShadowRead:(0,Z.hc)(Z.CF.GROUP_5)}),r=(0,s.d4)(e=>e.authedActiveCommunityProfile??void 0);return a.useMemo(()=>{if(W()(o))return null;let e=(0,J.Tn)(r);if(e&&o.some(t=>(0,J.f7)(t,e)))return(0,J.j4)(e)?.name??null;let t=o.find(J.jr);if(t)return(0,J.j4)(t)?.name??null;let i=o.find(J.MO);if(i)return(0,J.j4)(i)?.name??null;let n=o.find(J.Z7);return n?(0,J.j4)(n)?.name??null:null},[o,r])}(i??void 0),[d,c]=a.useState(""),[u,_]=a.useState(null),[h,p]=a.useState(!0),g=a.useCallback(e=>{t(t=>({...t,customThumbnailMedium:e}))},[t]);return(a.useEffect(()=>{i&&o&&(c(i?.name||""),(0,I.DM)(i,o).then(e=>{_(e?.url??null),p(!1)}))},[i,o]),o&&i)?(0,n.jsxs)("div",{...{className:"x19y5rnk xi4r6k5 x1vamu9a xkh2ocl x78zum5 xdt5ytf x7hzu26 x1n2onr6 xi48r6d"},children:[(0,n.jsx)("div",{...{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x1ja2u2z x47corl"},"aria-hidden":!0,children:(0,n.jsx)(q.oW,{...{className:"xh8yej3 x5yr21d xl1xv1r x1lliihq x12oqio5"},src:"dark"===r?(0,K.staticAssetWithUploadsPath)("4fe99e99b6a48341b63d11ce5bc04027aad155fc"):(0,K.staticAssetWithUploadsPath)("ac076abed86197d3d44d544606669829ab45bd47"),alt:(0,m.t)("sites.toolbar.publish_modal.make_collection_label")})}),(0,n.jsx)("div",{...{className:"x10l6tqk x1wpqvuw x1uk3ckw xvxbajc x1iawlzt x1vjfegm x47corl"},children:(0,n.jsx)(ei,{name:d,authorName:l,imageUrl:u,isLoading:h,handleThumbnailChange:g})})]}):null}var ea=i(605047),es=i(12818);function eo({existingHubFile:e,onThumbnailChange:t}){let i=(0,S.lT)(e)?(0,m.t)("sites.toolbar.publish_modal.blocked_community_status"):(0,S.AC)(e)?(0,m.t)("sites.toolbar.publish_modal.in_review_community_status"):(0,m.t)("sites.toolbar.publish_modal.published_community_status"),a=!(0,S.lT)(e)&&!(0,S.AC)(e);return(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1pulhmw"},children:[(0,n.jsxs)("div",{...{className:"xf7z5ut x1mxnbhz x1yjdb4r x1vqtdw0 x78zum5 xdt5ytf x1nfngrj"},children:[(0,n.jsx)($.v,{size:"large",existingHubFile:e,onThumbnailChange:a?t:void 0}),(0,n.jsxs)("div",{...{className:"x78zum5 x1qughib x6s0dn4 xh8yej3"},children:[(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k x1t1x2f9"},children:[(0,n.jsx)("div",{...{className:"x1w7y96w x1akne3o x78zum5 xb3r6kr xuxw1ft xlyipyv x152haby"},children:(0,es.oA)(e)}),(0,n.jsx)("div",{...{className:"x1w7y96w x1n0bwc9 x78zum5 xb3r6kr xuxw1ft xlyipyv x152haby"},children:(0,m.t)("community.publishing.by_author",{authorName:e.publisher.name})})]}),(0,n.jsx)("div",{...{className:"x78zum5 x6s0dn4 x2lah0s xv2w18j"},children:(0,n.jsx)(ea.F,{...{0:{className:"x1rg5ohu x8rdmch xctkrei x19y5rnk x17akokd x1qxcl5b xno9bf3 x1mt81i5 x12fzf0q"},1:{className:"x1rg5ohu x8rdmch xctkrei x19y5rnk x17akokd x1qxcl5b xno9bf3 xcr9a89 x1quhyk7"}}[0|!!a],children:i})})]})]}),(0,n.jsx)(er,{existingHubFile:e})]})}function er({existingHubFile:e}){return(0,S.lT)(e)?(0,n.jsxs)("div",{...{className:"x1n0bwc9 x17akokd x1qxcl5b xno9bf3"},children:[(0,m.t)("sites.toolbar.publish_modal.blocked_community_status_description")," "]}):(0,S.AC)(e)?(0,n.jsxs)("div",{...{className:"x1n0bwc9 x17akokd x1qxcl5b xno9bf3"},children:[(0,m.t)("sites.toolbar.publish_modal.in_review_community_status_description")," "]}):null}var el=i(732632),ed=i(274222),ec=i(365075),eu=i(124434),e_=i(277242),em=i(109988),eh=i(231484),ep=i(302110),eg=i(297398);function ef(e){let{setCommunityPublishingState:t,fileKey:i}=e,{data:s}=et.M4.useFile(i),o=s?.name,[r,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(!1),u=(0,eg.Ay)(),[{data:_,status:h}]=(0,et.IT)((0,em.Zp)({categorySlug:ec.LJ.make})),p=(0,a.useMemo)(()=>(_?.tags??[]).sort((e,t)=>(0,ed.Yd)(e.i18n_meta?.text,e.text).localeCompare((0,ed.Yd)(t.i18n_meta?.text,t.text))),[_]),[g,f]=(0,a.useState)(!1),E="loading"===h||g,[b,y]=(0,a.useState)([]);(0,a.useEffect)(()=>{t(e=>({...e,tagsV2:r}))},[r,t]);let S=(0,a.useMemo)(()=>b.map(e=>{let t=p.find(t=>t.text===e.tag);return t||null}).filter(e=>null!==e),[p,b]),T=(0,a.useMemo)(()=>p.filter(e=>!S.some(t=>t.text===e.text)),[S,p]);(0,a.useEffect)(()=>{(async()=>{if(p.length&&o&&!g&&!b.length){f(!0);let e=(await ep.Ay.community.suggestResourceTags({resourceType:"Figma Make template",title:o??"",description:"",tagOptions:p.map(e=>e.text)},u)).tagSuggestions.filter(e=>p.some(t=>t.text===e.tag)).sort((e,t)=>t.confidence-e.confidence),t=e.filter(e=>e.confidence>.7).map(e=>p.find(t=>t.text===e.tag)).filter(e=>void 0!==e);y(e),l(t),f(!1)}})()},[u,o,g,b,p]);let v=(0,a.useCallback)(e=>{r.find(t=>(0,e_.s)(t,e))?l(r.filter(t=>!(0,e_.s)(t,e))):l([...r,e])},[r]),R=(0,a.useRef)(null);return 0===p.length&&"loading"!==h?null:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x7hzu26 x1ef8nbk"},children:[(0,m.t)("community.publishing.select_up_to_n_tags_error",{maxTagsPerResource:5}),!g&&b.length>0&&(0,n.jsx)(n.Fragment,{children:" ("+(0,m.t)("ai.n_selected",{n:r.length})+")"})]}),(0,n.jsxs)("div",{...{className:"x78zum5 x1a02dak x17d4w8g"},children:[E&&(0,n.jsx)(n.Fragment,{children:Array.from({length:3}).map((e,t)=>(0,n.jsx)("div",{className:"xp5n9r8 xxk0z11 x19y5rnk x1v8gsql"},t))}),!E&&(0,n.jsx)(n.Fragment,{children:(d?[...S,...T]:S).map(e=>{let t=!!r.find(t=>(0,e_.s)(t,e)),i=(0,ed.Yd)(e.i18n_meta?.text,e.text);return(0,n.jsx)(eu.o2,{tag:e,isDisabled:!t&&r.length>=eh.jI,isSelected:t,toggleTag:v,firstNonDisabledCheckboxRef:R,translatedTag:i,useSecondaryStyles:!0},e.text)})}),!E&&(0,n.jsx)(el.$n,{variant:"secondary",onClick:()=>{c(!d)},children:(0,n.jsx)("span",{...{className:"x1n0bwc9"},children:d?(0,m.t)("community.detail_view.show_less"):(0,m.t)("community.shelves.show_more")})})]})]})}function eE({isFirst:e=!1,name:t,authorName:i,imageUrl:a,isLoading:s=!1}){return!e||s?(0,n.jsxs)("div",{...{className:"x1yjdb4r x19y5rnk x1mh6rdz x1sh0mly x78zum5 xdt5ytf xg2d0mh x193iq5w xeuugli"},children:[(0,n.jsx)("div",{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 xn6wvy2"}),(0,n.jsx)("div",{className:"x78zum5 xdt5ytf x195vfkc xe0p6wg"})]}):(0,n.jsxs)("div",{...{className:"x1yjdb4r x19y5rnk x1mh6rdz x1sh0mly x78zum5 xdt5ytf xg2d0mh x193iq5w xeuugli"},children:[(0,n.jsx)("div",{...{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 xn6wvy2"},children:a&&(0,n.jsx)("img",{...{className:"xh8yej3 x5yr21d x193iq5w xeuugli xl1xv1r x1lliihq x2lah0s"},src:a,loading:"lazy",alt:(0,m.t)("community.publishing.thumbnail_image"),draggable:!1})}),(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x195vfkc xe0p6wg x15hkz2h"},children:[t&&(0,n.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o xb3r6kr xlyipyv xuxw1ft",children:t}),i&&(0,n.jsx)("div",{...{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1n0bwc9 xb3r6kr xlyipyv xuxw1ft"},children:(0,m.t)("community.publishing.by_author",{authorName:i})})]})]})}function eb({fileKey:e}){let{data:t}=et.M4.useFile(e),i=(0,L.Pc)(),o=function(e){let t=(0,s.d4)(t=>(0,J.Rv)(e?.team_id??null,t,null,e?.parent_org_id??null),H.c2),{status:i,allowedAuthors:n}=(0,J.d0)(e?.team_id??null,null,e?.parent_org_id??null),o=(0,ee.u8)({oldValue:t,oldValueReady:!0,newValue:n,newValueReady:"loaded"===i,label:Q.A.UseAuthorNameForPreview.SitesPublishCommunityPreviewTile,enableFullRead:(0,Z.UZ)(Z.CF.GROUP_5),enableShadowRead:(0,Z.hc)(Z.CF.GROUP_5)}),r=(0,s.d4)(e=>e.authedActiveCommunityProfile??void 0);return a.useMemo(()=>{if(W()(o))return null;let e=(0,J.Tn)(r);if(e&&o.some(t=>(0,J.f7)(t,e)))return(0,J.j4)(e)?.name??null;let t=o.find(J.jr);if(t)return(0,J.j4)(t)?.name??null;let i=o.find(J.MO);if(i)return(0,J.j4)(i)?.name??null;let n=o.find(J.Z7);return n?(0,J.j4)(n)?.name??null:null},[o,r])}(t??void 0),[r,l]=a.useState(""),[d,c]=a.useState(null),[u,_]=a.useState(!0);return(a.useEffect(()=>{t&&i&&(l(t?.name||""),(0,I.DM)(t,i).then(e=>{c(e?.url??null),_(!1)}))},[t,i]),i&&t)?(0,n.jsxs)("div",{...{className:"x1v8gsql x19y5rnk xi4r6k5 x18d9i69 xkh2ocl x78zum5 xdt5ytf x7hzu26"},children:[(0,n.jsx)("div",{...{className:"xxrns5j x1q8tae1 xh88oxj x1eab18d x1yyillh x3vvef7 xkdneqi"},children:(0,m.t)("sites.toolbar.publish_modal.make_collection_label")}),(0,n.jsxs)("div",{...{className:"xrvj5dj x1p9eum2 x1nfngrj xzp6m1v xb3r6kr"},children:[(0,n.jsx)(eE,{isFirst:!0,name:r,authorName:o,imageUrl:d,isLoading:u}),(0,n.jsx)(eE,{}),(0,n.jsx)(eE,{}),(0,n.jsx)(eE,{})]})]}):null}function ey({fileKey:e,setCommunityPublishingState:t}){let i=(0,s.wA)(),n=(0,V.Oc)(),o=(0,C.q5)(),r=(0,h.getFeatureFlags)().cmty_make_publishing??!1,l=(0,p.md)(B.H)??!1,d=function(){let[e]=(0,p.fp)(B.H),t=(0,k.S2)(),i=(0,k.YY)(t);return!!(0,V.Oc)()&&!!(0,h.getFeatureFlags)().cmty_make_publishing&&("loaded"!==i.status||i.data&&!e)}(),c=(0,p.md)(U.td)??!1,u=n&&l&&r&&c,{canPublishAsHubFile:_,reason:m}=(0,x.Of)("SitesPublishModalCommunityUpsell",o),g=n&&l&&r&&!1===_,f=o?.publishedHubFile??null,E=f?.publishingStatus===j.KB.APPROVED_PUBLIC,b=f?.isChatHistoryRemoved;(0,a.useEffect)(()=>{i((0,T.rH)({fileKey:e}))},[i,e]),(0,a.useEffect)(()=>{t(e=>({...e,isCommunityPublishingToggledOffForStarter:d,isCommunityPublishingDisabledForEmptyFigmakeFile:u,cannotPublishAsHubFileReason:m,isHubFileRestrictionBlockingCommunityPublish:g,isUpdatingCommunity:E,shouldShowChatHistory:e.shouldShowChatHistory??(b?.status==="loaded"?!b.data:null)}))},[t,d,u,m,g,E,b])}function eS({fileKey:e,setCommunityPublishingState:t,shouldShowChatHistory:i}){let a=(0,k.S2)(),o=(0,k.YY)(a).unwrapOr(!1),r=(0,y.FT)(),l=(0,s.d4)(t=>{let i=t.figFilePublishedAsHubFile[e];return i?t.hubFiles[i]:void 0});return(0,V.Oc)()&&(0,h.getFeatureFlags)().cmty_make_publishing?l&&(0,w.HF)(l)&&r?(0,n.jsx)(eT,{fileKey:e,existingHubFile:l,setCommunityPublishingState:t,shouldShowChatHistory:i}):(0,n.jsx)(eR,{fileKey:e,isCommunityPublishingEnabledByDefault:o,setCommunityPublishingState:t,shouldShowChatHistory:i}):null}function eT({fileKey:e,existingHubFile:t,setCommunityPublishingState:i,shouldShowChatHistory:s}){ey({fileKey:e,setCommunityPublishingState:i});let[,o]=(0,p.fp)(B.H),r=(0,S.AC)(t)||(0,S.lT)(t);(0,a.useEffect)(()=>{r?o(!1):o(!0)},[t,o,r]);let l=a.useCallback(e=>{i(t=>({...t,customThumbnailMedium:e}))},[i]),d=s??(t?.is_chat_history_removed==null||!t.is_chat_history_removed);return r?(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[(0,n.jsx)(eI,{}),(0,n.jsx)(eo,{existingHubFile:t})]}):(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[(0,n.jsx)(ev,{existingHubFile:t}),(0,n.jsx)(eo,{existingHubFile:t,onThumbnailChange:l}),(0,n.jsx)(eA,{setCommunityPublishingState:i,isChecked:d})]})}function ev({existingHubFile:e}){let t=(0,s.wA)(),i=(0,C.q5)(),l=(0,L.Pc)(),{getTriggerProps:d,manager:c}=o.b(),_=(0,a.useCallback)(()=>{i&&l&&(t(R.Ce()),t((0,v.t)({fileKey:i.key,entryPoint:F.k2.EDITOR,canvasThumbnailPromise:(0,I.DM)(i,l)})))},[i,l,t]),h=(0,a.useCallback)(()=>{if(e?.id){let t=(0,D.X$)(e.id);f.Ay.redirect(t,"_blank")}},[e]);return(0,n.jsx)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,n.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.tx)("sites.toolbar.publish_modal.live_on_figma_community")}),(0,n.jsxs)(o.bL,{manager:c,children:[(0,n.jsx)(r.K,{variant:"ghost","aria-label":(0,m.t)("sites.toolbar.publish_modal.live_on_figma_community"),...d(),children:(0,n.jsx)(u.P,{})}),(0,n.jsxs)(o.mc,{children:[(0,n.jsx)(o.q7,{onClick:_,children:(0,m.tx)("sites.toolbar.publish_modal.update_community_page")}),(0,n.jsx)(o.q7,{onClick:h,children:(0,m.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})]})]})})}function eR({fileKey:e,isCommunityPublishingEnabledByDefault:t,setCommunityPublishingState:i,shouldShowChatHistory:s}){ey({fileKey:e,setCommunityPublishingState:i});let[o,r]=(0,p.fp)(B.H),[l,d]=(0,p.fp)(B.B),c=(0,y.FT)(),u=(0,G.Ae)();(0,a.useEffect)(()=>{l||(r(t),d(!0))},[t,l,r,d]),(0,a.useEffect)(()=>{u&&r(!1)},[u,r]);let g=(0,h.getFeatureFlags)().cmty_ai_tagging;return null===o?null:(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[u?(0,n.jsx)(eI,{}):(0,n.jsx)(ex,{}),(0,n.jsx)(eO,{}),u&&(0,n.jsx)(X.l,{bannerType:X.x.WARNING,children:(0,n.jsxs)("p",{className:b.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,n.jsx)(_.z,{style:{minWidth:"16px"}}),(0,m.t)("sites.toolbar.publish_modal.community_private_npm_disabled")]})}),o&&(0,n.jsxs)(n.Fragment,{children:[c?(0,n.jsx)(en,{fileKey:e,setCommunityPublishingState:i}):(0,n.jsx)(eb,{fileKey:e}),g&&(0,n.jsx)(ef,{fileKey:e,setCommunityPublishingState:i}),(0,n.jsx)(eA,{setCommunityPublishingState:i,isChecked:s??!0})]})]})}function eI(){return(0,n.jsx)("button",{"data-testid":"community-toggle",...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,n.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.t)("sites.toolbar.publish_modal.allow_others_to_remix_on_community")}),(0,n.jsx)(l.v,{checked:!1,disabled:!0})]})})}function ex(){let[e,t]=(0,p.fp)(B.H),i=(0,a.useId)(),s=(0,a.useCallback)(e=>{e?.stopPropagation?.(),t(e=>!e)},[t]);return(0,n.jsx)("button",{"data-testid":"community-toggle",onClick:s,...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,n.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.t)("sites.toolbar.publish_modal.allow_others_to_remix_on_community")}),(0,n.jsx)(l.v,{id:i,checked:e??!1})]})})}function eA({setCommunityPublishingState:e,isChecked:t}){let i=(0,a.useCallback)(()=>{e(e=>({...e,shouldShowChatHistory:!e.shouldShowChatHistory}))},[e]);return(0,h.getFeatureFlags)().cmty_make_publishing_chat_history_toggle?(0,n.jsxs)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl x7hzu26 x1ah0xmj"},children:[(0,n.jsx)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 x1nfngrj"},children:(0,n.jsx)(d.S,{checked:t,label:(0,n.jsx)(c.J,{children:(0,m.t)("sites.toolbar.publish_modal.show_chat_history")}),onChange:i,...{0:{},1:{className:"x1rkom68"}}[0|!!t]})}),(0,n.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 xdpxx8g"},children:(0,m.t)("sites.toolbar.publish_modal.show_chat_history.description")})]}):null}function eO(){let[e]=(0,p.fp)(B.H),t=(0,P.ol)(),i=A.h.useTrackingContext({trigger:M.b.FIGMAKE_PUBLISH_SITE}),a=(0,k.S2)(),s=(0,k.YY)(a),o=(0,O.y)(t?.id||"",N.C.MAKE_PUBLISH_WITHOUT_COMMUNITY_UPSELL);return e||!s.data?null:(0,n.jsx)("div",{children:(0,m.tx)("sites.toolbar.publish_modal.allow_others_to_remix_on_community.description",{upgradePlanLink:(0,n.jsx)(E.Us,{className:b.s.noWrap.cursorDefault.$,onClick:o,trackingProperties:{trackingDescriptor:g.c.PROFESSIONAL_PLAN,...i},trusted:!0,children:(0,m.tx)("sites.toolbar.publish_modal.allow_others_to_remix_on_community.upgrade_plan_link")})})})}},440073(e,t,i){i.d(t,{K:()=>K});var n=i(239976),a=i(859978),s=i(129416),o=i(850159),r=i(741542),l=i(224542),d=i.n(l),c=i(181645),u=i(883652),_=i(289886),m=i(412427),h=i(314812),p=i(105652),g=i(208650),f=i(350923);i(574988);var E=i(497544),b=i(964536),y=i(550325),S=i(170569);function T({label:e,content:t,action:i,forceShortContentStyle:a}){return(0,n.jsxs)("div",{className:_.s.flex.justifyBetween.itemsCenter.minH24.$,children:[(0,n.jsxs)("div",{className:_.s.flex.itemsCenter.$,children:[(0,n.jsx)("div",{className:S.Dm,children:(0,n.jsx)("span",{className:_.s.colorTextSecondary.$,children:e})}),(0,n.jsx)("div",{className:i||a?S.GK:S.WR,children:t})]}),i&&(0,n.jsx)("div",{className:_.s.maxW32.$,children:i})]})}function v(e){let{selectedResponsiveSetGuids:t,onViewErrors:i}=e,l=(0,f.md)((0,r.getFeatureFlags)().sites_publish_blocking_lints?b.zI:b.Yj),{blockingErrorsByGuid:c,regularErrorsByGuid:u}=(0,b.$0)(l),m=new Set(t);m.add(y.CS);let h=Array.from(m).reduce((e,t)=>e+(c[t]?.length??0),0),p=h+Array.from(m).reduce((e,t)=>e+(u[t]?.length??0),0);return(0,n.jsx)("div",{"data-testid":"site-review-issues-row",className:_.s.py4.$,children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.issues_label"),content:p>0?(0,n.jsx)("div",{className:_.s.flex.justifyBetween.itemsCenter.overflowHidden.$,children:(0,n.jsx)(a.E,{className:d()(_.s.wFull.flex.justifyBetween.py4.bRadius5.$),onClick:i,children:(0,n.jsx)(g.E,{variant:h>0?"dangerFilled":"warningFilled",children:h>0?(0,o.tx)("sites.toolbar.publish_modal.num_issues_need_attention",{numIssues:h}):(0,o.tx)("sites.toolbar.publish_modal.num_issues_to_review",{numIssues:p})})})}):(0,n.jsx)("span",{children:(0,o.tx)("sites.lint.no-issues")}),action:p>0?(0,n.jsx)(a.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.review_issues_aria"),className:d()(_.s.wFull.flex.justifyBetween.bRadius5.$,S.vo),onClick:i,children:(0,n.jsx)(s.a,{style:{minWidth:"fit-content"}})}):null})})}function R(){return(0,n.jsx)("div",{className:_.s.py4.$,children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.issues_label"),content:(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np"},children:[(0,n.jsx)(E.k,{size:"sm"}),(0,n.jsx)("span",{...{className:"x1iog12x x1n0bwc9"},children:(0,o.tx)("sites.lint.looking-for-issues")})]})})})}function I(e){return(0,n.jsx)(p.Suspense,{fallback:(0,n.jsx)(R,{}),children:(0,n.jsx)(v,{selectedResponsiveSetGuids:e.selectedResponsiveSetGuids,onViewErrors:e.onViewErrors})})}var x=i(645186),A=i(567019),O=i(878521),N=i(555235),C=i(683579),L=i(442325),w=i(904511),D=i(328151),j=i(86140),k=i(197730),P=i(27261);function M({fileKey:e}){let t=(0,x.wA)(),i=(0,P.Oc)(),a=(0,j._t)(e),s=A.iv({placement:"top"}),r=a?(0,n.jsx)(O.N,{href:(0,j.uw)(a),newTab:!0,children:(0,n.jsx)("span",{className:_.s.overflowHidden.ellipsis.colorTextBrand.$,children:(0,j.RT)(a)})}):(0,n.jsx)("div",{className:_.s.flex.itemsStart.gap4.$,children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("span",{className:_.s.overflowHidden.ellipsis.colorTextSecondary.$,children:`example.${(0,k.nC)()}`}),(0,n.jsx)(A.Uj,{"data-testid":"info-icon","aria-label":(0,o.t)("sites.toolbar.publish_modal.publish_your_site_to_get_your_figma_site_subdomain",{domain:(0,k.nC)()}),...s.getTriggerProps(),children:(0,n.jsx)(C.B,{})}),(0,n.jsx)(A.mc,{manager:s,children:(0,n.jsx)(A.UC,{"data-testid":"info-icon-content",children:(0,o.t)("sites.toolbar.publish_modal.publish_your_site_to_get_your_figma_site_subdomain",{domain:(0,k.nC)()})})})]})}),l=a?(0,n.jsx)(N.K,{onClick:()=>{t(w.lW({stringToCopy:(0,j.uw)(a),ignoreLineBreaks:!1}))},"aria-label":(0,o.t)("sites.toolbar.publish_modal.copy_label_to_clipboard",{label:(0,o.t)("sites.toolbar.publish_modal.domain_header")}),"data-tooltip":(0,o.t)("sites.toolbar.publish_modal.copy_to_clipboard"),"data-tooltip-type":D.Ib.TEXT,"data-tooltip-show-immediately":"true",children:(0,n.jsx)(L.h,{})}):void 0;return(0,n.jsx)(T,{label:i?(0,o.t)("figmake.toolbar.publish_modal.url_header"):(0,o.t)("sites.toolbar.publish_modal.site_url"),content:r,action:l})}var F=i(915181),U=i(140979),G=i(94241),V=i(644350),B=i(418994),X=i(487016);function H({}){let e=(0,G.q5)(),t=e?.key,i=e?.org?.name,r=(0,X.y2)(),{accessLevel:l,isLoading:d}=(0,B.nJ)(e),u=(0,U.Rs)((0,V.Vny)({fileKey:t||""}),{enabled:!0}),_=p.useMemo(()=>!!("loaded"===u.status&&u.data?.siteMount?.pwdConfig?.id),[u]),m=p.useCallback(()=>{r(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scrollToSiteAccessSection"))},300),(0,c.sx)("sites_open_site_access_settings",{source:"publish_modal_who_can_view"})},[r]);return t&&i&&!d?(0,n.jsx)("div",{"data-testid":"site-who-can-view-row",...{className:"x1gskr33 x1ihwiht"},children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.who_can_view_label"),content:(0,n.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x6s0dn4 xg2d0mh xb3r6kr xeuugli"},children:[(0,n.jsx)("span",{...{className:"xb3r6kr xlyipyv xuxw1ft xeuugli xs83m0k"},children:(e=>{switch(e){case B.hx.ORG:return(0,o.tx)("sites.toolbar.publish_modal.visibility_org",{orgName:i});case B.hx.ANYONE:default:return(0,o.tx)("sites.toolbar.publish_modal.visibility_public")}})(l)}),_&&(0,n.jsx)(F.P,{"data-testid":"password-protected-icon"})]}),action:(0,n.jsx)(a.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.change_visibility_aria"),...{className:"xh8yej3 x78zum5 x1qughib x19y5rnk xv2f06h"},onClick:m,children:(0,n.jsx)(s.a,{className:"x1pshirs"})})})}):null}var z=i(17368);function W({isFigmake:e}){let t=e?(0,o.t)("figmake.publish_modal.site_title_label"):(0,o.t)("sites.metadata.controls.title_site.label");return(0,n.jsx)("div",{"data-testid":"site-title-row",className:_.s.py4.$,children:(0,n.jsx)(T,{label:t,content:(0,n.jsx)(h.qE,{}),forceShortContentStyle:!0})})}function K({fileKey:e,isFigmake:t,isSitePublished:i,selectedResponsiveSetGuids:l,lastSuccessfulPublishAt:h,publishedBy:p,hasPublishEvents:g,setPublishModalView:f}){let E=(0,r.getFeatureFlags)().sts_ppp&&!t;return(0,n.jsxs)("div",{className:_.s.flex.flexColumn.py4.$,children:[(0,n.jsx)(W,{isFigmake:t}),(0,n.jsx)("div",{"data-testid":"site-domain-row",className:_.s.py4.$,children:(0,n.jsx)(M,{fileKey:e})}),(0,n.jsx)("div",{"data-testid":"site-status-row",className:_.s.py4.$,children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.status_header"),content:(0,n.jsx)("div",{className:_.s.flex.itemsCenter.h24.$,children:(0,n.jsx)(z.x,{isPublished:i,dataTestId:"sitesPublishStatusBadge"})})})}),E&&(0,n.jsx)("div",{"data-testid":"site-pages-row",className:_.s.py4.$,children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.pages_label"),content:(0,n.jsx)("div",{className:_.s.flex.justifyBetween.itemsCenter.overflowHidden.$,children:(0,n.jsx)(a.E,{className:d()(_.s.wFull.flex.justifyBetween.py4.bRadius5.$),onClick:()=>f("page-selection"),children:(0,o.tx)("sites.toolbar.publish_modal.num_pages",{numPages:l.size})})}),action:(0,n.jsx)(a.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.select_pages_to_publish"),className:d()(_.s.wFull.flex.justifyBetween.bRadius5.$,S.vo),onClick:()=>f("page-selection"),children:(0,n.jsx)(s.a,{style:{minWidth:"fit-content"}})})})}),!t&&(0,n.jsx)(I,{selectedResponsiveSetGuids:l,onViewErrors:()=>{f("review-issues"),(0,c.sx)("sites_open_lint_modal",{source:"publish_modal"})}}),h&&(0,n.jsx)("div",{"data-testid":"site-last-published-row",className:_.s.py4.$,children:(0,n.jsx)(T,{label:(0,o.t)("sites.toolbar.publish_modal.last_published_header"),content:(0,n.jsxs)("div",{className:_.s.flex.itemsCenter.$,children:[(0,n.jsx)(u.h1,{date:h,capitalize:!0}),p&&(0,n.jsxs)("span",{className:_.s.flex.justifyCenter.itemsCenter.ml4.$,children:[" \xb7 ",(0,n.jsxs)("div",{className:_.s.flex.justifyCenter.itemsCenter.$,children:[(0,n.jsx)("div",{className:_.s.flex.itemsCenter.justifyCenter.h24.w24.$,children:(0,n.jsx)(m.H8,{size:m.Pf.SMALL,user:p||{handle:" "}})}),(0,n.jsx)("span",{className:S.er,children:p.handle})]})]})]}),action:(0,r.getFeatureFlags)().sts_revert_publish&&g?(0,n.jsx)(a.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.publish_history"),className:d()(_.s.wFull.flex.justifyBetween.bRadius5.$,S.vo),onClick:()=>{f("publish-history"),(0,c.sx)("sites_publish_history_opened",{productType:t?"figmake":"sites"})},children:(0,n.jsx)(s.a,{style:{minWidth:"fit-content"}})}):null})}),(0,n.jsx)(H,{})]})}},17368(e,t,i){i.d(t,{x:()=>r});var n=i(239976),a=i(605047),s=i(850159),o=i(289886);function r({isPublished:e,dataTestId:t}){return(0,n.jsx)(a.F,{className:o.s.inlineBlock.px4.bRadius5.textBodyMedium.if(e,o.s.colorBgSelected.colorTextBrand,o.s.colorBgSecondary.colorText).$,"data-testid":t,children:e?(0,s.tx)("sites.metadata.controls.publish_status.published"):(0,s.tx)("sites.metadata.controls.publish_status.not_published")})}},177164(e,t,i){i.d(t,{m:()=>b});var n=i(239976),a=i(105652),s=i(645186),o=i(850159),r=i(865804),l=i(83569),d=i(978474),c=i(936652),u=i(701156),_=i(865780),m=i(508295),h=i(487817),p=i(886213),g=i(357661),f=i(113641),E=i(89393);let b=(0,c.Ju)(function({figFileKey:e,entryPoint:t,shouldShowChatHistory:i,customThumbnailMedium:c,tagsV2:b}){let y=(0,m.iZ)(),S=(0,_.sZ)(),{status:T,data:v}=p.M4.useFile(e),R=(0,E.$S)({fileKey:e,file:v??null}),I=a.useMemo(()=>v?"loaded"===R.status&&R.data.file?(0,u.Jj)(R.data.file):(0,u.bY)(v):void 0,[v,R]),x=(0,s.d4)(t=>{let i=t.figFilePublishedAsHubFile[e];return i?t.hubFiles[i]:void 0});return"loading"===T||"loading"===R.status?null:I?(0,n.jsx)(r.fu,{name:f.e0.COMMUNITY_HUB_FILE_PUBLISH_MODAL_V2,properties:{userId:y?.id,orgId:S?.id,resourceType:g.vt.HUB_FILE,resourceId:x?.id,fileKey:e,editorType:h._Y.FIGMAKE,entryPoint:t},children:(0,n.jsx)(d.S,{figFile:I,existingHubFile:x,createNewVersionOnSubmit:!0,shouldShowChatHistory:i,customThumbnailMedium:c,tagsV2:b})}):(0,n.jsx)(l.r,{title:(0,o.t)("community.publishing.publish_your_file_to_community")})})},900331(e,t,i){i.d(t,{h:()=>r});var n=i(239976),a=i(69628),s=i(850159),o=i(747811);function r({numUnpublishingPages:e}){return(0,n.jsx)(o.l,{bannerType:o.x.WARNING,icon:(0,n.jsx)(a.M,{}),inLine:!0,children:(0,n.jsx)("p",{children:(0,s.t)("sites.toolbar.publish_modal.pages_will_unpublish_with_the_next_update",{numPages:e})})})}},110899(e,t,i){i.d(t,{K:()=>r});var n=i(818381);let a=n.z.enum(["lightbox","spin","typewriter","scramble","drag","mouseParallax"]),s=n.z.enum(["motion","mouse","scrolling"]),o=n.z.object({name:n.z.string(),icon:a.optional(),category:s.optional(),nodeTypes:n.z.array(n.z.string()).optional(),apiVersion:n.z.number()}).omit({apiVersion:!0});function r(e){let t=o.safeParse(e);if(!t.success){let{fieldErrors:e}=t.error.flatten(),i=Object.entries(e).filter(([e,t])=>t?.length).map(([e,t])=>`${e}: ${t.join(", ")}`);throw Error(i.length>0?`Interaction configuration is invalid:
  - ${i.join("\n  - ")}`:"Interaction configuration is missing.")}}},16412(e,t,i){function n(e){return function(e){let t={};for(let i in e){let n=e[i],a=i.substring(0,i.lastIndexOf("#"));a&&n&&(t[a]="value"in n?n.value:n.defaultValue)}return t}(e.canHaveBackingCodeComponent?e.componentProperties():e.isState?e.parentNode.componentPropertyDefinitions():e.componentPropertyDefinitions())}function a(e){return Object.entries(e.isCodeInstance?e.componentProperties():e.isState?e.parentNode.componentPropertyDefinitions():e.componentPropertyDefinitions()).filter(([e,t])=>"INSTANCE_SWAP"===t.type).reduce((e,[t,i])=>{let n=t.substring(0,t.lastIndexOf("#"));return{...e,[n]:"value"in i?i.value:i.defaultValue}},{})}i.d(t,{K8:()=>a,jT:()=>n})},59224(e,t,i){i.d(t,{T:()=>s,f:()=>o});var n=i(350923),a=i(351823);let s=(0,a.Wh)(()=>(0,n.eU)(!1)),o=(0,a.Wh)(()=>(0,n.eU)(!1))},823405(e,t,i){i(850159),i(901326),i(949038)},159356(e,t,i){i(239976),i(105652),i(850159),i(574988),i(823405)},214024(e,t,i){i.d(t,{h:()=>o});var n=i(350923),a=i(261096),s=i(922087);let o=new class{clearSlideThemeStylePreview(e){n.zl.set(a.q0,t=>{let i={...t};for(let t of e)delete i[t];return i})}syncSlideThemeAtom(e,t){(0,a.i1)(e).syncFromFullscreen({id:e,data:t}),(0,s.X_)(e)&&(a.TN.syncFromFullscreen(i=>t?i.includes(e)?i:[...i,e]:i.filter(t=>t!==e)),a.Dq.syncFromFullscreen(i=>{if(t){if(!(e in i)||i[e]!==t.name)return{...i,[e]:t.name}}else{let{[e]:t,...n}=i;return n}return i}))}chainShuffle(e){let t=0,i=[];for(let t=1;t<e.length;t++)i.push(t);for(;i.length>0;){let n=Math.floor(Math.random()*i.length),a=i[n];i.splice(n,1);let s=e[a];e[a]=e[t],e[t]=s,t=a}}computeThemeSwapColorVariableMapping(e,t){let i=Array.from(e.keys()),n=Array.from(t.keys());this.chainShuffle(n);let a=new Map;for(let t=0;t<e.size;t++){let e=i[t],s=n[t%n.length];e&&s&&a.set(e,s)}return a}}},261096(e,t,i){i.d(t,{Dh:()=>d,Dq:()=>r,E_:()=>u,TN:()=>o,i1:()=>l,q0:()=>c});var n=i(350923),a=i(351823),s=i(521464);let o=(0,s.hR)([],{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),r=(0,s.hR)({},{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),l=(0,n.Iz)(e=>(0,s.hR)({id:e,data:null},{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}));function d(e){let t=l(e);return n.zl.get(t).data}let c=(0,a.Wh)(()=>(0,n.M2)((0,n.eU)({}))),u=(0,a.Wh)(()=>(0,n.eU)(null))},802602(e,t,i){var n,a,s,o,r,l;i.d(t,{Et:()=>s,G3:()=>a,_N:()=>n}),(o=n||(n={})).MAKE_CHAT="make_chat",o.MCP="mcp",o.SITES_CODE_LAYER="sites_code_layer",o.REMOTE_MCP="remote_mcp",o.HEADLESS_WORKBENCH="headless_workbench",o.UNKNOWN="unknown",(r=a||(a={})).START="start",r.SERIALIZE_TO_HTML="serialize_to_html",r.TRANSFORM_IMAGE_ASSETS="transform_image_assets",r.BUILD_COMPONENTS="build_components",r.ASSEMBLE_REACT_CODE="assemble_react_code",r.REPLACE_PLACEHOLDERS_WITH_INSTANCES="replace_placeholders_with_instances",r.OPTIMIZE_CODE="optimize_code",r.FORMAT_REACT_TSX="format_react_tsx",r.VALIDATE_REACT_CODE="validate_react_code",r.END_SUCCESS="end_success",r.END_FAILURE="end_failure",(l=s||(s={})).HAS_INSTANCE_SCALE_FACTOR="has_instance_scale_factor",l.INSTANCE_SWAPS_DISABLED="instance_swaps_are_disabled",l.UNSUPPORTED_OVERRIDES="unsupported_overrides"},436478(e,t,i){i.d(t,{G$:()=>p,HM:()=>g,Mj:()=>f,PM:()=>h,Yv:()=>_,mK:()=>m,pv:()=>u});var n=i(239976),a=i(105652),s=i(805242),o=i(384147),r=i(273520),l=i(234667);let d=new Set,c=(0,a.createContext)(r.A?document.body:null);function u(){return Array.from(d)}function _(){return(0,a.useContext)(c)}function m(){let e=_();if(null==e)throw Error("Attempted to use PersistentPopupOutlet before it was rendered. If you need to use this hook before the PersistentPopupOutletProvider has rendered, use `usePersistentPopupOutletOrNull` instead.");return e}function h({children:e}){let t=_();return t?(0,s.createPortal)(e,t):null}function p({children:e}){let[t,i]=(0,a.useState)(null);return(0,n.jsxs)(c.Provider,{value:t,children:[e,(0,n.jsx)("div",{className:l.D,ref:i})]})}function g({children:e,container:t}){let[i,s]=(0,a.useState)(null);return(0,a.useLayoutEffect)(()=>{let e="string"==typeof t?document.querySelector(t):t;e instanceof HTMLElement&&s(e)},[t]),(0,n.jsx)(c.Provider,{value:i,children:e})}function f(e){let t=(0,a.useRef)(null);return(0,a.useCallback)(i=>{(0,o.c)(e,i),null==i?d.delete(t.current):d.add(i),t.current=i},[e])}h.displayName="PersistentPopupOutlet",p.displayName="PersistentPopupOutletProvider",g.displayName="CustomPersistentPopupOutletProvider"},793816(e,t,i){i.d(t,{Q:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.9 6h-.02c-.403 0-.735 0-1.006.022-.28.023-.54.072-.782.196a2 2 0 0 0-.874.874c-.124.243-.173.501-.196.782C6 8.144 6 8.477 6 8.88v.62a.5.5 0 0 0 1 0v-.6c0-.428 0-.72.019-.944.018-.22.05-.332.09-.41a1 1 0 0 1 .437-.437c.078-.04.19-.072.41-.09C8.18 7 8.472 7 8.9 7h.6a.5.5 0 0 0 0-1zm6.2 0h.02c.403 0 .735 0 1.006.022.281.023.54.072.782.196a2 2 0 0 1 .874.874c.124.243.173.501.196.782.022.27.022.603.022 1.005V9.5a.5.5 0 0 1-1 0v-.6c0-.428 0-.72-.019-.944-.018-.22-.05-.332-.09-.41a1 1 0 0 0-.437-.437c-.078-.04-.19-.072-.41-.09A13 13 0 0 0 15.1 7h-.6a.5.5 0 0 1 0-1zm.02 12h-.62a.5.5 0 0 1 0-1h.6c.428 0 .72 0 .944-.019.22-.018.332-.05.41-.09a1 1 0 0 0 .437-.437c.04-.078.072-.19.09-.41.019-.225.019-.516.019-.944v-.6a.5.5 0 0 1 1 0v.62c0 .403 0 .735-.022 1.006-.023.281-.072.54-.196.782a2 2 0 0 1-.874.874c-.243.124-.501.173-.782.196-.27.022-.603.022-1.005.022M8.9 18h-.02c-.403 0-.735 0-1.006-.022-.281-.023-.54-.072-.782-.196a2 2 0 0 1-.874-.874c-.124-.243-.173-.501-.196-.782A13 13 0 0 1 6 15.12v-.62a.5.5 0 0 1 1 0v.6c0 .428 0 .72.019.944.018.22.05.332.09.41a1 1 0 0 0 .437.437c.078.04.19.072.41.09.225.019.516.019.944.019h.6a.5.5 0 0 1 0 1z",clipRule:"evenodd"})})})},77495(e,t,i){i.d(t,{Q:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M13.646 8.146a.5.5 0 0 0 0 .708L16.793 12l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0m-3.292 0a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L7.207 12l3.147-3.146a.5.5 0 0 0 0-.708",clipRule:"evenodd"})})})},753966(e,t,i){i.d(t,{r:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M6.5 5a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5M17 6a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H8.5a.5.5 0 0 1 0-1H17V7H8.5a.5.5 0 0 1 0-1z"})})})},73751(e,t,i){i.d(t,{L:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.404 5.196a1 1 0 0 1 1.265.06l5 4.5A1 1 0 0 1 18 10.5V17a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1v-4h-2v4a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-6.5a1 1 0 0 1 .331-.743l5-4.5zM7 10.5V17h3v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4h3v-6.5L12 6z"})})})},455932(e,t,i){i.d(t,{N:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12 9a2 2 0 0 1 2 2v.27a2 2 0 0 1 2.886 1.07A2 2 0 0 1 20 14v.999l-.002.066.003.229c.006.54.025 1.435-.285 2.346-.326.956-.995 1.887-2.251 2.546a7.12 7.12 0 0 1-4.43.726c-1.31-.206-2.475-.762-3.176-1.463-.764-.765-1.935-1.907-2.761-2.72a2 2 0 0 1 2.804-2.852l.098.096V11a2 2 0 0 1 2-2m0 1a1 1 0 0 0-1 1v4.008a.598.598 0 0 1-.943.415l-.069-.059-.787-.773a1 1 0 0 0-1.414.011l-.068.078a1 1 0 0 0 .08 1.338c.82.807 2 1.956 2.768 2.724 1.005 1.004 3.642 1.875 6.187.68l.246-.121c1.78-.934 1.987-2.444 2.002-3.548l-.001-.446-.003-.24L19 15v-1a1 1 0 0 0-2 0v.48a.5.5 0 0 1-.517.5l-.098-.013a.5.5 0 0 1-.385-.488V13a1 1 0 0 0-2 0v1.375a.5.5 0 0 1-.517.5l-.098-.013a.5.5 0 0 1-.385-.487V11a1 1 0 0 0-1-1m0-7a8 8 0 0 1 7.919 6.854.5.5 0 0 1-.99.142 7.002 7.002 0 1 0-13.687 2.835.5.5 0 0 1-.966.26A8 8 0 0 1 12 3m0 3a5 5 0 0 1 4.538 2.9.5.5 0 1 1-.907.42A4 4 0 0 0 8 11a.5.5 0 0 1-1 0 5 5 0 0 1 5-5"})})})},402631(e,t,i){i.d(t,{p:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.598 5.01a.5.5 0 0 1 .255.136l4 4A.5.5 0 0 1 16.5 10h-4a.5.5 0 0 1-.5-.5V6H8.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 1 1 0v6a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 7 17.5v-11A1.5 1.5 0 0 1 8.5 5h4zM13 9h2.293L13 6.707z"})})})},939940(e,t,i){i.d(t,{x:()=>s});var n=i(105652),a=i(239976);let s=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M3 9c0 1.521.566 2.91 1.5 3.968a6 6 0 0 0 4 2.011.47.47 0 0 0 .5-.479.536.536 0 0 0-.49-.524H8.5a5 5 0 0 1-3.218-1.632A5 5 0 1 1 13.975 8.5l.001.008.013.073A.536.536 0 0 0 14.5 9a.47.47 0 0 0 .48-.5 6 6 0 0 0-2.012-4A6 6 0 0 0 3 9m9 2h7a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1m-2 1a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},106681(e,t,i){i.d(t,{q:()=>l});var n=i(862784),a=i(686144),s=i(659793),o=i(706354);let r=new class{register(e){a.z.set(this.registryAtom,t=>t.has(e.json_name)?((0,s.N7)(o.FigmaTeam.FULLSCREEN_PLATFORM,Error(`Action with json_name "${e.json_name}" is already registered.`)),t):new Map([...t,[e.json_name,e]]))}registerAll(e){a.z.set(this.registryAtom,t=>{let i=new Map(t);for(let t of e){if(i.has(t.json_name)){(0,s.N7)(o.FigmaTeam.FULLSCREEN_PLATFORM,Error(`Action with json_name "${t.json_name}" is already registered.`));continue}i.set(t.json_name,t)}return i})}get(e){return a.z.get(this.registryAtom).get(e)??null}getAll(){return a.z.get(this.registryAtom)}clear_TEST_ONLY(){a.z.set(this.registryAtom,new Map)}constructor(){!function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"registryAtom",(0,n.eU)(new Map))}};function l(){return r}},506608(e,t,i){i.d(t,{f:()=>o});var n=i(862784),a=i(491852);let s={editorType:a._YF.DESIGN,isReadOnly:!1,currentTool:a.NLJ.NONE,editMode:a.m1T.DESIGN_LAYOUT,selectedNodeCount:0,selectedFrameCount:0,selectedTextNodeCount:0,selectedSectionCount:0,selectedWidgetCount:0,directlySelectedNodeCount:0,directlySelectedSymbolCount:0,directlySelectedInstanceSublayerCount:0,hasInteractionsInSelection:!1,areAnyNodesHidden:!1,hasRasterPaint:!1,hasGradientPaint:!1},o=(0,n.eU)(s)},107418(e,t,i){i.d(t,{G:()=>n});let n=Symbol("CURRENT_DOCUMENT")},688071(e,t,i){i.d(t,{G:()=>r});var n=i(741542),a=i(813662),s=i(730351);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{async exportVideo(e,t){if(!(0,n.getFeatureFlags)().panama)throw Error("Export failed");let o=new AbortController;this._eventEmitter?.trigger("started",{nodeId:e,abortController:o});try{if(!this._videoExporter){let{VideoExporter:e}=await Promise.all([i.e("6440"),i.e("7364"),i.e("590"),i.e("1176")]).then(i.bind(i,90597));this._videoExporter=new e}let n=(0,s.UN)(),r=n.get(e);r&&await (0,a.Y)?.(r,[],(t,i)=>{this._eventEmitter?.trigger("imageLoading",{nodeId:e,loadedImages:t,totalImages:i})});let l=await this._videoExporter.exportVideo({nodeId:e,sceneGraph:n,resolveVideoUrls:this._videoUrlResolver,resolveGifData:this._gifDataResolver,enableAudio:!0,...t,signal:o.signal,onProgress:t=>{this._eventEmitter?.trigger("progress",{nodeId:e,percent:100*t})}}),d=new Uint8Array(l);return this._eventEmitter?.trigger("complete",{nodeId:e,buffer:d}),d}catch(t){if(t instanceof Error&&"AbortError"===t.name)throw this._eventEmitter?.trigger("cancelled",{nodeId:e}),t;throw this._eventEmitter?.trigger("error",{nodeId:e,error:t instanceof Error?t:Error(String(t))}),t}}constructor(e={}){o(this,"_videoExporter",null),o(this,"_eventEmitter",void 0),o(this,"_videoUrlResolver",void 0),o(this,"_gifDataResolver",void 0),this._eventEmitter=e.eventEmitter,this._videoUrlResolver=e.videoUrlResolver,this._gifDataResolver=e.gifDataResolver}}},877312(e,t,i){i.d(t,{E:()=>a});var n=i(899735);class a{fontResourceStatusChanged(e,t,i){(0,n.dF)(e,t,i)}}},115519(e,t,i){i.d(t,{G:()=>g,w:()=>c});var n=i(745463),a=i(436214),s=i(24995),o=i(688357),r=i(653421),l=i(303327),d=i(214227);function c(e){return class extends(0,r.fB)(e){get idForPluginApi(){return this.styleKeyForPublish?(0,d.nM)({key:this.styleKeyForPublish,version:this.isLocalStyle?(0,s.IA)(""):this.getStyleVersion()}):""}get styleAssetId(){return a.PK.fromBindingsObj(this.styleId)}get styleId(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.styleId(this.sceneGraph.nodeContext)}get consumers(){return this.setGlobalNodeID(),o.CUU?.getStyleConsumers()??[]}getStyleVersion(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getStyleVersion(this.sceneGraph.nodeContext)}get styleKey(){let e=this.assetKey;return e===s.sg.INVALID?null:e}get styleKeyForPublish(){let e=this.assetKeyForPublish;return e===s.sg.INVALID?null:e}get isLocalStyle(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getIsLocalStyle(this.sceneGraph.nodeContext)}get styleVersionHash(){this.setGlobalNodeID();let e=this.bindings.NodeTsApi.getStyleVersionHash(this.sceneGraph.nodeContext);return e===s.IA.INVALID?null:e}get overriddenInheritedFillStyles(){this.setGlobalNodeID();let e=this.bindings.NodeTsApi.getOverriddenInheritedFillStyles(this.sceneGraph.nodeContext)??{};for(let t in e)e[t]?.fills&&(e[t].fills=(0,n.sR)((0,l.dG)("fillPaints",e[t].fills),"Figma Internal Error: fillPaints not found"));return e}get inheritedFillStyle(){return u(this,"inheritFillStyleKey")}set inheritedFillStyle(e){m(this,"inheritFillStyleKey",e)}get inheritedFillStyleOrMixed(){return _(this,"inheritFillStyleKey")}get inheritedFillStyleForStroke(){return u(this,"inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){m(this,"inheritFillStyleKeyForStroke",e)}get inheritedEffectStyle(){return u(this,"inheritEffectStyleKey")}set inheritedEffectStyle(e){m(this,"inheritEffectStyleKey",e)}get inheritedTextStyle(){return u(this,"inheritTextStyleKey")}set inheritedTextStyle(e){m(this,"inheritTextStyleKey",e)}get inheritedTextStyleOrMixed(){return _(this,"inheritTextStyleKey")}get inheritedGridStyle(){return u(this,"inheritGridStyleKey")}set inheritedGridStyle(e){m(this,"inheritGridStyleKey",e)}getRangeInheritedFillStyle(e,t){return h(this,e,t,"inheritFillStyleKey")}setRangeInheritedFillStyle(e,t,i){p(this,e,t,"inheritFillStyleKey",i)}getRangeInheritedTextStyle(e,t){return h(this,e,t,"inheritTextStyleKey")}setRangeInheritedTextStyle(e,t,i){p(this,e,t,"inheritTextStyleKey",i)}}}function u(e,t){e.setGlobalNodeID();let i=e.bindings.NodeTsApi.getInheritedStyle(t);return i&&(0,d.$P)(i)?i:null}function _(e,t){e.setGlobalNodeID();let i=e.bindings.NodeTsApi.getRangeInheritedStyle(0,-1,t,e.sceneGraph.nodeContext)??null;return"mixed"===i?"mixed":(0,d.$P)(i)?i:null}function m(e,t,i){if(i&&!(0,d.$P)(i))throw Error(`Invalid style key ${i.key} and version ${i.version}`);let n=i??{key:s.n3.INVALID,version:s.IA.INVALID};e.setGlobalNodeID();let a=o.CUU?.setRangeInheritedStyle(0,-1,t,n.key,n.version,e.sceneGraph.nodeContext);if(a)throw Error(`Cannot set style successfully: ${a}`)}function h(e,t,i,n){e.setGlobalNodeID();let a=e.bindings.NodeTsApi.getRangeInheritedStyle(t,i,n,e.sceneGraph.nodeContext);return"mixed"===a||(0,d.$P)(a)?a:null}function p(e,t,i,n,a){if(a&&!(0,d.$P)(a))throw Error(`Invalid style key ${a.key} and version ${a.version}`);let r=a??{key:s.n3.INVALID,version:s.IA.INVALID};e.setGlobalNodeID();let l=o.CUU?.setRangeInheritedStyle(t,i,n,r.key,r.version,e.sceneGraph.nodeContext)??"SceneNodeCpp is null";if(l)throw Error(`Cannot set style successfully: ${l}`)}function g(e){return"NONE"!==e.styleType}},866656(e,t,i){i.d(t,{B:()=>o,v:()=>r});var n=i(436214),a=i(688357),s=i(653421);function o(e){return class extends(0,s.iC)(e){get variableID(){this.setGlobalNodeID();let e=n.sD.fromString(this.bindings.NodeTsApi.getVariableID(this.sceneGraph.nodeContext));if(!e)throw Error("Invalid variable id");return e}get variableCodeSyntax(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableCodeSyntax(this.sceneGraph.nodeContext)}get variableCollectionId(){this.setGlobalNodeID();let e=n.gr.fromString(this.bindings.NodeTsApi.getVariableSetID(this.sceneGraph.nodeContext));if(!e)throw Error("Invalid variable collection id");return e}get variableKey(){let e=this.assetKey;return null===e?null:e}get variableKeyForPublish(){let e=this.assetKeyForPublish;return null===e?null:e}setVariableKeyForTest(e){this.setAssetKeyForTest(e)}get variableResolvedType(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableResolvedType(this.sceneGraph.nodeContext)}set variableScopes(e){this.setGlobalNodeID(),this.bindings.NodeTsApi.setVariableScopes(e,this.sceneGraph.nodeContext)}get variableScopes(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableScopes(this.sceneGraph.nodeContext)}setVariableCodeSyntax(e,t){this.setGlobalNodeID(),this.bindings.NodeTsApi.setVariableCodeSyntax(e,t,this.sceneGraph.nodeContext)}removeVariableCodeSyntax(e){this.setGlobalNodeID(),this.bindings.NodeTsApi.removeVariableCodeSyntax(e,this.sceneGraph.nodeContext)}get boundVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getBoundVariables(this.sceneGraph.nodeContext)}get inferredVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getInferredVariables(this.sceneGraph.nodeContext)}get availableInferredVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getAvailableInferredVariables(this.sceneGraph.nodeContext)}setBoundVariable(e,t){this.setGlobalNodeID();let{errorMsg:i}=this.bindings.NodeTsApi.setBoundVariable(e,t,this.sceneGraph.nodeContext);if(i)throw Error(i)}get boundVariablesForStyle(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getBoundVariablesForStyle(this.sceneGraph.nodeContext)}resolveVariable(e){return this.setGlobalNodeID(),a.CUU?.resolveVariable(e)??null}getVariableResolvedValue(e){return this.setGlobalNodeID(),a.CUU?.getVariableResolvedValue(e)??null}}}function r(e){return"VARIABLE"===e.type}},899735(e,t,i){i.d(t,{$2:()=>h,EV:()=>p,FP:()=>g,VC:()=>u,dF:()=>c,uW:()=>m,vt:()=>E,ye:()=>f});var n=i(688357),a=i(491852);let s=new Map,o=new Map;function r({family:e,style:t}){let i=a.vXe?.getRenamedFontOrNull({family:e,style:t})??null;return{family:i?.family??e,style:i?.style??t}}function l(e,t,i){let n=r({family:e,style:t}),a=s.get(n.family);void 0===a&&(a=new Map,s.set(n.family,a));let o=a.get(n.style);void 0===o&&(o=[],a.set(n.style,o)),o.push(i)}function d(e,t,i){let n=r({family:e,style:t}),a=s.get(n.family);if(void 0!==a){let e=a.get(n.style);if(void 0!==e){let t=e.indexOf(i);-1!==t&&e.splice(t,1)}}}function c(e,t,i){let a=s.get(e);if(void 0!==a){let e=a.get(t);if(void 0!==e)for(let t of e.slice())t(i)}let r=o.get(e);void 0===r&&(r=new Map,o.set(e,r)),i===n.bk.LOADING?r.set(t,n.bk.LOADING):r.delete(t)}function u(e,t){return new Promise((i,s)=>{a.vXe&&a.vXe.fontIsLoaded(e,t)&&i();let o=a=>{a===n.bk.LOADED?(d(e,t,o),i()):a===n.bk.FAILED&&(d(e,t,o),s(Error(`Failed to load font: ${e} ${t}`)))};l(e,t,o)})}function _(e,{family:t,style:i}){return new Promise((a,s)=>{if(void 0===n.hwI)return void s(Error("FontManualLoader is not initialized"));let o=n.hwI.loadFont(e,t,i);if(o===n.bk.LOADED)return void a();if(o===n.bk.LOADING){let e=o=>{o===n.bk.LOADED?(d(t,i,e),a()):o===n.bk.FAILED&&(d(t,i,e),s(Error(`Failed to load font: ${t} ${i}`)))};l(t,i,e);return}s(Error(`Failed to load font: ${t} ${i}`))})}async function m(e){await _(n.rLd.PLUGIN,e)}function h(){n.hwI?.clearLoadedFonts(n.rLd.NON_PLUGIN)}async function p(e){await _(n.rLd.NON_PLUGIN,e)}async function g(){let e=o.entries();await Promise.allSettled(Array.from(e).map(async([e,t])=>{let i=t.keys();await Promise.allSettled(Array.from(i).map(async t=>{await u(e,t)}))}))}function f(e,t,i,a=null){return n.hwI?.getClosestFontName(e,t,i,a)??null}function E(e,t){return n.hwI?.getFontName(e,t)??null}},862784(e,t,i){i.d(t,{FZ:()=>g.F,oA:()=>n.oA,Hj:()=>d.H,Iz:()=>f,eU:()=>a.eU,tx:()=>n.tx,yu:()=>u.y,zl:()=>s.z,S_:()=>m.S,t_:()=>n.t_,Rq:()=>n.Rq,Mt:()=>l,xP:()=>p.x,p6:()=>o.p6,tP:()=>o.tP,Ut:()=>n.Ut,Zb:()=>c.Z,LJ:()=>h.L,um:()=>n.um,mg:()=>n.mg,M2:()=>_.M});var n=i(30709),a=i(346439),s=i(686144),o=i(5595);let r=Symbol();function l(e){let t=(0,n.oA)(e,(...e)=>e.length?e[0]:r),i=i=>i(t)===r?i(e):i(t);return"write"in e?(0,a.eU)(i,e.write):(0,a.eU)(i)}var d=i(670828),c=i(985986),u=i(10807),_=i(667485),m=i(24630),h=i(896302),p=i(928201),g=i(65693);function f(e,t){let i=(0,n.Iz)(e,t);return i.removeAll=()=>{i.setShouldRemove(()=>!0),i.setShouldRemove(null)},i}},797266(e,t,i){i.d(t,{g:()=>r});var n=i(688357),a=i(730351),s=i(114459),o=i(805590);async function r({node:e,tailwind:t,jsxDev:i,shadcn:r,noWrapper:l,bundleFlags:d,clientDependencies:c}){if(!e.isAlive||!n.glU)return null;let u=e.codeFileFullPath,_=(0,s.og)(u),m=(0,o.N)().asTransferableEntries(),h=(0,a.UN)().getLocalCodeLibraryOrNull()?.codeLibraryFormat??0,p=d?.codeObjectType||e.backingCodeComponent?.codeObjectType;return{...await c.bundleCode({entrypointsOrIdentifierToFileName:[u],filesystem:{objectPath:_,entries:m},tailwind:t,minify:!1,shadcn:r,jsxDev:i,noWrapper:l,bundleFlags:d,codeLibraryFormat:h,codeObjectType:p}),objectPath:_,entries:m,codeBuildId:c.generateUniqueId()}}},704619(e,t,i){i.d(t,{J8:()=>s,f3:()=>o,iP:()=>a,tF:()=>n});let n="google-gemini-3-pro",a="google-gemini-3-flash",s="caramel",o="mystery"},211357(e,t,i){i.d(t,{X:()=>u,Z:()=>c});var n=i(140855),a=i(350016),s=i(935759),o=i(646719);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l=class extends n.T{constructor(e,t){super(e),r(this,"statusCode",void 0),this.statusCode=t}};function d(e){if(!(e instanceof l))return!0;let{statusCode:t}=e;return 0===t||429===t||!!(t>=500)&&!!(t<=504)}class c{async uploadBlobs(e,t,i){try{let a=i.map(({content:e})=>e instanceof Uint8Array?(0,s.Et)(e):(0,s.yS)(e)),r=Object.fromEntries(a.map((e,t)=>[e,i[t]])),l=await this.initUploadsWithRetry(e,t,a),d=[],c=[];for(let e of a){let t=l.uploadPackages[e]?.contentKey;if(!t)throw new n.T(`Content key not found for contentSha1: ${e}`);let i=l.uploadPackages[e]?.package;if(i){let t=r[e];c.push({contentSha1:e,uploadContent:t,uploadPackage:i})}d.push({contentKey:t,entityAlreadyExisted:null==i})}let u=(await Promise.all(c.map(({contentSha1:e,uploadContent:t,uploadPackage:i})=>{let{fields:a,uploadUrl:s}=i,{content:r,contentType:l}=t;if(void 0===r)throw new n.T(`Content not found for contentSha1: ${e}`);return(0,o.hl)({presignedData:{fields:a,uploadUrl:s},content:r,contentSha1:e,contentType:l})}))).filter(e=>!e.success);if(u.length>0)throw new n.T(`S3 upload(s) failed:
- ${u.map(e=>e.error).join("\n- ")}`);let _=c.map(({uploadPackage:e})=>e.commitKey);return _.length>0&&await this.commitUploadsWithRetry(e,_),{success:!0,resultItems:d}}catch(e){return{success:!1,error:`uploadBlobs failed: ${e instanceof Error?e.message:String(e)}`}}}async uploadJsonBlobs(e,t,i){let n=i.map(e=>({content:JSON.stringify(e),contentType:"application/json"}));return await this.uploadBlobs(e,t,n)}async listBlobs(e,t){let i=await this.apiClient.listBlobs({fileKey:e,threadId:t});if(200!==i.status||void 0===i.data)throw new n.T(`listBlobs failed: ${i.status} - ${i.cause}`);return i.data.contentBlobs}async fetchBlob(e,t,i){let a=(await this.listBlobs(e,t))[i];if(!a)throw new n.T(`Blob not found for contentKey: ${i}`);let s=await fetch(a);if(!s.ok)throw new n.T(`Failed to fetch blob: ${s.status} - ${s.statusText}`);return s.blob()}async initUploadsWithRetry(e,t,i){return await (0,a.backOff)(async()=>{let n=await this.apiClient.initUploads({fileKey:e,threadId:t,contentSha1s:i});if(200!==n.status||void 0===n.data)throw new l(`initUploads failed: ${n.status} - ${n.cause}`,n.status);return n.data},{...o.wH,retry:d})}async commitUploadsWithRetry(e,t){let i,s=t;if(await (0,a.backOff)(async()=>{let t=await this.apiClient.commitUploads({fileKey:e,commitKeys:s});if(200!==t.status||void 0===t.data)throw i=new l(`commitUploads failed: ${t.status} - ${t.cause}`,t.status);i=t.data;let a=Object.entries(t.data.commitKeyToResult).filter(([e,t])=>!t.success).map(([e])=>e);if(a.length>0)throw s=a,new n.T(`commitUploads had ${a.length} failures; retrying subset`)},{...o.wH,retry:d}),!i||i instanceof n.T)throw new n.T(i?i.message:"commitUploads failed");let r=Object.entries(i.commitKeyToResult).filter(([e,t])=>!t.success).map(([e,t])=>e);if(r.length>0)throw new n.T(`commitUploads failed for some commit keys: ${r.join(", ")}`)}constructor(e){r(this,"apiClient",void 0),this.apiClient=e}}class u{clearCacheIfFileKeyChanged(e){this.currFileKey!==e&&(this.cache.clear(),this.log("Cleared blobstore cache because file key changed",{fileKey:e}),this.currFileKey=e)}async fetchBlobs({fileKey:e,threadId:t,contentKeys:i}){let a=new Map,s=new Set;for(let e of i)this.cache.has(e)?a.set(e,this.cache.get(e)):s.add(e);if(0===s.size)return a;let o=await this.blobstoreHelper.listBlobs(e,t),r=new Set,l=[];for(let e of s){let t=o[e];t?l.push({contentKey:e,blobUrl:t}):r.add(e)}r.size>0&&this.reportError(new n.T("Some blobs were not found in blobstore"),{missingBlobKeys:JSON.stringify(Array.from(r)),fileKey:e,threadId:t});let d=await Promise.all(l.map(async({contentKey:e,blobUrl:t})=>{let{blob:i,error:n}=await this.fetchBlobUrl(t);return{contentKey:e,blob:i,error:n}})),c=[];for(let{contentKey:e,blob:t,error:i}of d)if(t){let i=await t.arrayBuffer();this.cache.set(e,i),a.set(e,i)}else c.push({contentKey:e,error:i});return c.length>0&&this.reportError(new n.T("Failed to fetch some blobs from blobstore"),{failedBlobs:JSON.stringify(c),fileKey:e,threadId:t}),this.log(`Fetched ${a.size} blobs from blobstore`,{fileKey:e,threadId:t}),a}constructor(e,t,i,n){r(this,"blobstoreHelper",void 0),r(this,"reportError",void 0),r(this,"fetchBlobUrl",void 0),r(this,"log",void 0),r(this,"cache",void 0),r(this,"currFileKey",void 0),this.blobstoreHelper=e,this.reportError=t,this.fetchBlobUrl=i,this.log=n,this.cache=new Map}}},825204(e,t,i){i.d(t,{H:()=>l,pQ:()=>o});var n=i(123339),a=i(140855),s=i(902847);function o(e){return s.g.includes(e)}function r(e,t){let i=(function(e){let t=s.l[e];if(null==t)throw new a.T(`Unknown message part type: ${e}. Did you add a new message part type to a proto file? Run \`pnpm --filter @figma/synapse-global generate-ai-chat-proto\` to regenerate Typescript bindings.`);return t})(e).decode(t);return{type:e,...i}}function l(e,t,i){try{let a=function(e){let t=atob(e),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}(t);return i?.isContentCompressed&&(a=(0,n.UD)(a)),r(e,a)}catch(s){let a=function(e){let t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2){let n=e.slice(i,i+2);t[i/2]=parseInt(n,16)}return t}(t);return i?.isContentCompressed&&(a=(0,n.UD)(a)),r(e,a)}}},140855(e,t,i){i.d(t,{T:()=>n,f:()=>a});class n extends Error{constructor(e,t={}){super(`[make-chat-sdk] ${e}`),function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"uiChatErrorType",void 0),this.name="ChatSdkError",this.uiChatErrorType=t.uiChatErrorType}}class a extends Error{constructor(e){super(`[assistant-chat-sdk] ${e}`),this.name="AssistantChatSdkError"}}},902847(e,t,i){i.d(t,{g:()=>ta,l:()=>ts});var n=i(822072);function a(){return{selectedNodeIds:[]}}let s={encode(e,t=new n.fI){for(let i of e.selectedNodeIds)t.uint32(10).string(i);return t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),s=void 0===t?i.len:i.pos+t,o=a();for(;i.pos<s;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.selectedNodeIds.push(i.string());continue}if((7&e)==4||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({selectedNodeIds:u.Array.isArray(e?.selectedNodeIds)?e.selectedNodeIds.map(e=>u.String(e)):[]}),toJSON(e){let t={};return e.selectedNodeIds?.length&&(t.selectedNodeIds=e.selectedNodeIds),t},create:e=>s.fromPartial(e??{}),fromPartial(e){let t=a();return t.selectedNodeIds=e.selectedNodeIds?.map(e=>e)||[],t}};function o(){return{libraries:[]}}let r={encode(e,t=new n.fI){for(let i of e.libraries)d.encode(i,t.uint32(10).fork()).join();return t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=o();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.libraries.push(d.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({libraries:u.Array.isArray(e?.libraries)?e.libraries.map(e=>d.fromJSON(e)):[]}),toJSON(e){let t={};return e.libraries?.length&&(t.libraries=e.libraries.map(e=>d.toJSON(e))),t},create:e=>r.fromPartial(e??{}),fromPartial(e){let t=o();return t.libraries=e.libraries?.map(e=>d.fromPartial(e))||[],t}};function l(){return{libraryKey:"",libraryName:""}}let d={encode:(e,t=new n.fI)=>(""!==e.libraryKey&&t.uint32(10).string(e.libraryKey),""!==e.libraryName&&t.uint32(18).string(e.libraryName),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=l();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.libraryKey=i.string();continue;case 2:if(18!==e)break;s.libraryName=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({libraryKey:null!=e.libraryKey?u.String(e.libraryKey):"",libraryName:null!=e.libraryName?u.String(e.libraryName):""}),toJSON(e){let t={};return""!==e.libraryKey&&(t.libraryKey=e.libraryKey),""!==e.libraryName&&(t.libraryName=e.libraryName),t},create:e=>d.fromPartial(e??{}),fromPartial(e){let t=l();return t.libraryKey=e.libraryKey??"",t.libraryName=e.libraryName??"",t}},c={encode:(e,t=new n.fI)=>(""!==e.jsx&&t.uint32(10).string(e.jsx),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s={jsx:""};for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.jsx=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({jsx:null!=e.jsx?u.String(e.jsx):""}),toJSON(e){let t={};return""!==e.jsx&&(t.jsx=e.jsx),t},create:e=>c.fromPartial(e??{}),fromPartial(e){let t={jsx:""};return t.jsx=e.jsx??"",t}},u=(()=>{if("u">typeof globalThis)return globalThis;if("u">typeof self)return self;if("u">typeof window)return window;if("u">typeof global)return global;throw"Unable to locate global object"})();function _(){return{text:"",providerOptions:{}}}let m={encode:(e,t=new n.fI)=>(""!==e.text&&t.uint32(10).string(e.text),Object.entries(e.providerOptions).forEach(([e,i])=>{p.encode({key:e,value:i},t.uint32(18).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=_();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.text=i.string();continue;case 2:{if(18!==e)break;let t=p.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({text:ea(e.text)?ei.String(e.text):"",providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.text&&(t.text=e.text),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>m.fromPartial(e??{}),fromPartial(e){let t=_();return t.text=e.text??"",t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function h(){return{key:"",value:""}}let p={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=h();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>p.fromPartial(e??{}),fromPartial(e){let t=h();return t.key=e.key??"",t.value=e.value??"",t}};function g(){return{textBlobstoreKey:"",providerOptions:{}}}let f={encode:(e,t=new n.fI)=>(""!==e.textBlobstoreKey&&t.uint32(10).string(e.textBlobstoreKey),Object.entries(e.providerOptions).forEach(([e,i])=>{b.encode({key:e,value:i},t.uint32(18).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=g();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.textBlobstoreKey=i.string();continue;case 2:{if(18!==e)break;let t=b.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({textBlobstoreKey:ea(e.textBlobstoreKey)?ei.String(e.textBlobstoreKey):"",providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.textBlobstoreKey&&(t.textBlobstoreKey=e.textBlobstoreKey),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>f.fromPartial(e??{}),fromPartial(e){let t=g();return t.textBlobstoreKey=e.textBlobstoreKey??"",t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function E(){return{key:"",value:""}}let b={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=E();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>b.fromPartial(e??{}),fromPartial(e){let t=E();return t.key=e.key??"",t.value=e.value??"",t}};function y(){return{mimeType:void 0,providerOptions:{}}}let S={encode:(e,t=new n.fI)=>(void 0!==e.mimeType&&t.uint32(18).string(e.mimeType),Object.entries(e.providerOptions).forEach(([e,i])=>{v.encode({key:e,value:i},t.uint32(26).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=y();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 2:if(18!==e)break;s.mimeType=i.string();continue;case 3:{if(26!==e)break;let t=v.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({mimeType:ea(e.mimeType)?ei.String(e.mimeType):void 0,providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(void 0!==e.mimeType&&(t.mimeType=e.mimeType),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>S.fromPartial(e??{}),fromPartial(e){let t=y();return t.mimeType=e.mimeType??void 0,t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function T(){return{key:"",value:""}}let v={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=T();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>v.fromPartial(e??{}),fromPartial(e){let t=T();return t.key=e.key??"",t.value=e.value??"",t}};function R(){return{text:"",signature:void 0,providerOptions:{}}}let I={encode:(e,t=new n.fI)=>(""!==e.text&&t.uint32(10).string(e.text),void 0!==e.signature&&t.uint32(18).string(e.signature),Object.entries(e.providerOptions).forEach(([e,i])=>{A.encode({key:e,value:i},t.uint32(26).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=R();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.text=i.string();continue;case 2:if(18!==e)break;s.signature=i.string();continue;case 3:{if(26!==e)break;let t=A.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({text:ea(e.text)?ei.String(e.text):"",signature:ea(e.signature)?ei.String(e.signature):void 0,providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.text&&(t.text=e.text),void 0!==e.signature&&(t.signature=e.signature),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>I.fromPartial(e??{}),fromPartial(e){let t=R();return t.text=e.text??"",t.signature=e.signature??void 0,t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function x(){return{key:"",value:""}}let A={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=x();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>A.fromPartial(e??{}),fromPartial(e){let t=x();return t.key=e.key??"",t.value=e.value??"",t}};function O(){return{providerOptions:{}}}let N={encode:(e,t=new n.fI)=>(Object.entries(e.providerOptions).forEach(([e,i])=>{L.encode({key:e,value:i},t.uint32(18).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=O();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 2:{if(18!==e)break;let t=L.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>N.fromPartial(e??{}),fromPartial(e){let t=O();return t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function C(){return{key:"",value:""}}let L={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=C();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>L.fromPartial(e??{}),fromPartial(e){let t=C();return t.key=e.key??"",t.value=e.value??"",t}};function w(){return{data:"",providerOptions:{}}}let D={encode:(e,t=new n.fI)=>(""!==e.data&&t.uint32(10).string(e.data),Object.entries(e.providerOptions).forEach(([e,i])=>{k.encode({key:e,value:i},t.uint32(18).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=w();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.data=i.string();continue;case 2:{if(18!==e)break;let t=k.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({data:ea(e.data)?ei.String(e.data):"",providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.data&&(t.data=e.data),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>D.fromPartial(e??{}),fromPartial(e){let t=w();return t.data=e.data??"",t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function j(){return{key:"",value:""}}let k={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=j();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>k.fromPartial(e??{}),fromPartial(e){let t=j();return t.key=e.key??"",t.value=e.value??"",t}};function P(){return{providerOptions:{}}}let M={encode:(e,t=new n.fI)=>(Object.entries(e.providerOptions).forEach(([e,i])=>{U.encode({key:e,value:i},t.uint32(18).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=P();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 2:{if(18!==e)break;let t=U.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>M.fromPartial(e??{}),fromPartial(e){let t=P();return t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function F(){return{key:"",value:""}}let U={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=F();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>U.fromPartial(e??{}),fromPartial(e){let t=F();return t.key=e.key??"",t.value=e.value??"",t}};function G(){return{toolCallId:"",toolName:"",providerOptions:{}}}let V={encode:(e,t=new n.fI)=>(""!==e.toolCallId&&t.uint32(10).string(e.toolCallId),""!==e.toolName&&t.uint32(18).string(e.toolName),Object.entries(e.providerOptions).forEach(([e,i])=>{X.encode({key:e,value:i},t.uint32(34).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=G();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.toolCallId=i.string();continue;case 2:if(18!==e)break;s.toolName=i.string();continue;case 4:{if(34!==e)break;let t=X.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({toolCallId:ea(e.toolCallId)?ei.String(e.toolCallId):"",toolName:ea(e.toolName)?ei.String(e.toolName):"",providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.toolCallId&&(t.toolCallId=e.toolCallId),""!==e.toolName&&(t.toolName=e.toolName),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>V.fromPartial(e??{}),fromPartial(e){let t=G();return t.toolCallId=e.toolCallId??"",t.toolName=e.toolName??"",t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function B(){return{key:"",value:""}}let X={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=B();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>X.fromPartial(e??{}),fromPartial(e){let t=B();return t.key=e.key??"",t.value=e.value??"",t}};function H(){return{toolCallId:"",toolName:"",isError:void 0,providerOptions:{}}}let z={encode:(e,t=new n.fI)=>(""!==e.toolCallId&&t.uint32(10).string(e.toolCallId),""!==e.toolName&&t.uint32(18).string(e.toolName),void 0!==e.isError&&t.uint32(32).bool(e.isError),Object.entries(e.providerOptions).forEach(([e,i])=>{K.encode({key:e,value:i},t.uint32(42).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=H();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.toolCallId=i.string();continue;case 2:if(18!==e)break;s.toolName=i.string();continue;case 4:if(32!==e)break;s.isError=i.bool();continue;case 5:{if(42!==e)break;let t=K.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({toolCallId:ea(e.toolCallId)?ei.String(e.toolCallId):"",toolName:ea(e.toolName)?ei.String(e.toolName):"",isError:ea(e.isError)?ei.Boolean(e.isError):void 0,providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.toolCallId&&(t.toolCallId=e.toolCallId),""!==e.toolName&&(t.toolName=e.toolName),void 0!==e.isError&&(t.isError=e.isError),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>z.fromPartial(e??{}),fromPartial(e){let t=H();return t.toolCallId=e.toolCallId??"",t.toolName=e.toolName??"",t.isError=e.isError??void 0,t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function W(){return{key:"",value:""}}let K={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=W();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>K.fromPartial(e??{}),fromPartial(e){let t=W();return t.key=e.key??"",t.value=e.value??"",t}};function q(){return{toolCallId:"",toolName:"",argsJson:"",providerOptions:{}}}let $={encode:(e,t=new n.fI)=>(""!==e.toolCallId&&t.uint32(10).string(e.toolCallId),""!==e.toolName&&t.uint32(18).string(e.toolName),""!==e.argsJson&&t.uint32(26).string(e.argsJson),Object.entries(e.providerOptions).forEach(([e,i])=>{J.encode({key:e,value:i},t.uint32(34).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=q();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.toolCallId=i.string();continue;case 2:if(18!==e)break;s.toolName=i.string();continue;case 3:if(26!==e)break;s.argsJson=i.string();continue;case 4:{if(34!==e)break;let t=J.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({toolCallId:ea(e.toolCallId)?ei.String(e.toolCallId):"",toolName:ea(e.toolName)?ei.String(e.toolName):"",argsJson:ea(e.argsJson)?ei.String(e.argsJson):"",providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.toolCallId&&(t.toolCallId=e.toolCallId),""!==e.toolName&&(t.toolName=e.toolName),""!==e.argsJson&&(t.argsJson=e.argsJson),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>$.fromPartial(e??{}),fromPartial(e){let t=q();return t.toolCallId=e.toolCallId??"",t.toolName=e.toolName??"",t.argsJson=e.argsJson??"",t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function Y(){return{key:"",value:""}}let J={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=Y();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>J.fromPartial(e??{}),fromPartial(e){let t=Y();return t.key=e.key??"",t.value=e.value??"",t}};function Z(){return{toolCallId:"",toolName:"",resultJson:"",isError:void 0,providerOptions:{}}}let Q={encode:(e,t=new n.fI)=>(""!==e.toolCallId&&t.uint32(10).string(e.toolCallId),""!==e.toolName&&t.uint32(18).string(e.toolName),""!==e.resultJson&&t.uint32(26).string(e.resultJson),void 0!==e.isError&&t.uint32(32).bool(e.isError),Object.entries(e.providerOptions).forEach(([e,i])=>{et.encode({key:e,value:i},t.uint32(42).fork()).join()}),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=Z();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.toolCallId=i.string();continue;case 2:if(18!==e)break;s.toolName=i.string();continue;case 3:if(26!==e)break;s.resultJson=i.string();continue;case 4:if(32!==e)break;s.isError=i.bool();continue;case 5:{if(42!==e)break;let t=et.decode(i,i.uint32());void 0!==t.value&&(s.providerOptions[t.key]=t.value);continue}}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({toolCallId:ea(e.toolCallId)?ei.String(e.toolCallId):"",toolName:ea(e.toolName)?ei.String(e.toolName):"",resultJson:ea(e.resultJson)?ei.String(e.resultJson):"",isError:ea(e.isError)?ei.Boolean(e.isError):void 0,providerOptions:en(e.providerOptions)?Object.entries(e.providerOptions).reduce((e,[t,i])=>(e[t]=String(i),e),{}):{}}),toJSON(e){let t={};if(""!==e.toolCallId&&(t.toolCallId=e.toolCallId),""!==e.toolName&&(t.toolName=e.toolName),""!==e.resultJson&&(t.resultJson=e.resultJson),void 0!==e.isError&&(t.isError=e.isError),e.providerOptions){let i=Object.entries(e.providerOptions);i.length>0&&(t.providerOptions={},i.forEach(([e,i])=>{t.providerOptions[e]=i}))}return t},create:e=>Q.fromPartial(e??{}),fromPartial(e){let t=Z();return t.toolCallId=e.toolCallId??"",t.toolName=e.toolName??"",t.resultJson=e.resultJson??"",t.isError=e.isError??void 0,t.providerOptions=Object.entries(e.providerOptions??{}).reduce((e,[t,i])=>(void 0!==i&&(e[t]=ei.String(i)),e),{}),t}};function ee(){return{key:"",value:""}}let et={encode:(e,t=new n.fI)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ee();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({key:ea(e.key)?ei.String(e.key):"",value:ea(e.value)?ei.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>et.fromPartial(e??{}),fromPartial(e){let t=ee();return t.key=e.key??"",t.value=e.value??"",t}},ei=(()=>{if("u">typeof globalThis)return globalThis;if("u">typeof self)return self;if("u">typeof window)return window;if("u">typeof global)return global;throw"Unable to locate global object"})();function en(e){return"object"==typeof e&&null!==e}function ea(e){return null!=e}let es={encode:(e,t=new n.fI)=>(""!==e.foo&&t.uint32(10).string(e.foo),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s={foo:""};for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.foo=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({foo:tn(e.foo)?ti.String(e.foo):""}),toJSON(e){let t={};return""!==e.foo&&(t.foo=e.foo),t},create:e=>es.fromPartial(e??{}),fromPartial(e){let t={foo:""};return t.foo=e.foo??"",t}};function eo(){return{requestUuid:""}}let er={encode:(e,t=new n.fI)=>(""!==e.requestUuid&&t.uint32(10).string(e.requestUuid),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eo();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.requestUuid=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({requestUuid:tn(e.requestUuid)?ti.String(e.requestUuid):""}),toJSON(e){let t={};return""!==e.requestUuid&&(t.requestUuid=e.requestUuid),t},create:e=>er.fromPartial(e??{}),fromPartial(e){let t=eo();return t.requestUuid=e.requestUuid??"",t}};function el(){return{text:"",textMode:""}}let ed={encode:(e,t=new n.fI)=>(""!==e.text&&t.uint32(10).string(e.text),""!==e.textMode&&t.uint32(18).string(e.textMode),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=el();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.text=i.string();continue;case 2:if(18!==e)break;s.textMode=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({text:tn(e.text)?ti.String(e.text):"",textMode:tn(e.textMode)?ti.String(e.textMode):""}),toJSON(e){let t={};return""!==e.text&&(t.text=e.text),""!==e.textMode&&(t.textMode=e.textMode),t},create:e=>ed.fromPartial(e??{}),fromPartial(e){let t=el();return t.text=e.text??"",t.textMode=e.textMode??"",t}};function ec(){return{code:"",codeFilePath:""}}let eu={encode:(e,t=new n.fI)=>(""!==e.code&&t.uint32(10).string(e.code),""!==e.codeFilePath&&t.uint32(18).string(e.codeFilePath),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ec();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.code=i.string();continue;case 2:if(18!==e)break;s.codeFilePath=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({code:tn(e.code)?ti.String(e.code):"",codeFilePath:tn(e.codeFilePath)?ti.String(e.codeFilePath):""}),toJSON(e){let t={};return""!==e.code&&(t.code=e.code),""!==e.codeFilePath&&(t.codeFilePath=e.codeFilePath),t},create:e=>eu.fromPartial(e??{}),fromPartial(e){let t=ec();return t.code=e.code??"",t.codeFilePath=e.codeFilePath??"",t}};function e_(){return{modelConfigVersion:""}}let em={encode:(e,t=new n.fI)=>(""!==e.modelConfigVersion&&t.uint32(10).string(e.modelConfigVersion),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e_();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.modelConfigVersion=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({modelConfigVersion:tn(e.modelConfigVersion)?ti.String(e.modelConfigVersion):""}),toJSON(e){let t={};return""!==e.modelConfigVersion&&(t.modelConfigVersion=e.modelConfigVersion),t},create:e=>em.fromPartial(e??{}),fromPartial(e){let t=e_();return t.modelConfigVersion=e.modelConfigVersion??"",t}};function eh(){return{title:""}}let ep={encode:(e,t=new n.fI)=>(""!==e.title&&t.uint32(10).string(e.title),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eh();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.title=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({title:tn(e.title)?ti.String(e.title):""}),toJSON(e){let t={};return""!==e.title&&(t.title=e.title),t},create:e=>ep.fromPartial(e??{}),fromPartial(e){let t=eh();return t.title=e.title??"",t}};function eg(){return{providerMetadataJson:""}}let ef={encode:(e,t=new n.fI)=>(""!==e.providerMetadataJson&&t.uint32(10).string(e.providerMetadataJson),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eg();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.providerMetadataJson=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({providerMetadataJson:tn(e.providerMetadataJson)?ti.String(e.providerMetadataJson):""}),toJSON(e){let t={};return""!==e.providerMetadataJson&&(t.providerMetadataJson=e.providerMetadataJson),t},create:e=>ef.fromPartial(e??{}),fromPartial(e){let t=eg();return t.providerMetadataJson=e.providerMetadataJson??"",t}},eE={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>eE.fromPartial(e??{}),fromPartial:e=>({})},eb={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>eb.fromPartial(e??{}),fromPartial:e=>({})},ey={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ey.fromPartial(e??{}),fromPartial:e=>({})},eS={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>eS.fromPartial(e??{}),fromPartial:e=>({})};function eT(){return{guid:"",imageHash:void 0}}let ev={encode:(e,t=new n.fI)=>(""!==e.guid&&t.uint32(10).string(e.guid),void 0!==e.imageHash&&t.uint32(18).string(e.imageHash),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eT();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.guid=i.string();continue;case 2:if(18!==e)break;s.imageHash=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({guid:tn(e.guid)?ti.String(e.guid):"",imageHash:tn(e.imageHash)?ti.String(e.imageHash):void 0}),toJSON(e){let t={};return""!==e.guid&&(t.guid=e.guid),void 0!==e.imageHash&&(t.imageHash=e.imageHash),t},create:e=>ev.fromPartial(e??{}),fromPartial(e){let t=eT();return t.guid=e.guid??"",t.imageHash=e.imageHash??void 0,t}};function eR(){return{guid:"",codeFiles:[],communityAttribution:void 0}}let eI={encode(e,t=new n.fI){for(let i of(""!==e.guid&&t.uint32(10).string(e.guid),e.codeFiles))eA.encode(i,t.uint32(18).fork()).join();return void 0!==e.communityAttribution&&eN.encode(e.communityAttribution,t.uint32(26).fork()).join(),t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eR();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.guid=i.string();continue;case 2:if(18!==e)break;s.codeFiles.push(eA.decode(i,i.uint32()));continue;case 3:if(26!==e)break;s.communityAttribution=eN.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({guid:tn(e.guid)?ti.String(e.guid):"",codeFiles:ti.Array.isArray(e?.codeFiles)?e.codeFiles.map(e=>eA.fromJSON(e)):[],communityAttribution:tn(e.communityAttribution)?eN.fromJSON(e.communityAttribution):void 0}),toJSON(e){let t={};return""!==e.guid&&(t.guid=e.guid),e.codeFiles?.length&&(t.codeFiles=e.codeFiles.map(e=>eA.toJSON(e))),void 0!==e.communityAttribution&&(t.communityAttribution=eN.toJSON(e.communityAttribution)),t},create:e=>eI.fromPartial(e??{}),fromPartial(e){let t=eR();return t.guid=e.guid??"",t.codeFiles=e.codeFiles?.map(e=>eA.fromPartial(e))||[],t.communityAttribution=void 0!==e.communityAttribution&&null!==e.communityAttribution?eN.fromPartial(e.communityAttribution):void 0,t}};function ex(){return{codeFileGuid:"",fullFilePath:""}}let eA={encode:(e,t=new n.fI)=>(""!==e.codeFileGuid&&t.uint32(10).string(e.codeFileGuid),""!==e.fullFilePath&&t.uint32(18).string(e.fullFilePath),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ex();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.codeFileGuid=i.string();continue;case 2:if(18!==e)break;s.fullFilePath=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({codeFileGuid:tn(e.codeFileGuid)?ti.String(e.codeFileGuid):"",fullFilePath:tn(e.fullFilePath)?ti.String(e.fullFilePath):""}),toJSON(e){let t={};return""!==e.codeFileGuid&&(t.codeFileGuid=e.codeFileGuid),""!==e.fullFilePath&&(t.fullFilePath=e.fullFilePath),t},create:e=>eA.fromPartial(e??{}),fromPartial(e){let t=ex();return t.codeFileGuid=e.codeFileGuid??"",t.fullFilePath=e.fullFilePath??"",t}};function eO(){return{hubFileId:"",hubFileName:"",creatorName:""}}let eN={encode:(e,t=new n.fI)=>(""!==e.hubFileId&&t.uint32(10).string(e.hubFileId),""!==e.hubFileName&&t.uint32(18).string(e.hubFileName),""!==e.creatorName&&t.uint32(26).string(e.creatorName),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eO();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.hubFileId=i.string();continue;case 2:if(18!==e)break;s.hubFileName=i.string();continue;case 3:if(26!==e)break;s.creatorName=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({hubFileId:tn(e.hubFileId)?ti.String(e.hubFileId):"",hubFileName:tn(e.hubFileName)?ti.String(e.hubFileName):"",creatorName:tn(e.creatorName)?ti.String(e.creatorName):""}),toJSON(e){let t={};return""!==e.hubFileId&&(t.hubFileId=e.hubFileId),""!==e.hubFileName&&(t.hubFileName=e.hubFileName),""!==e.creatorName&&(t.creatorName=e.creatorName),t},create:e=>eN.fromPartial(e??{}),fromPartial(e){let t=eO();return t.hubFileId=e.hubFileId??"",t.hubFileName=e.hubFileName??"",t.creatorName=e.creatorName??"",t}};function eC(){return{guid:"",diffs:""}}let eL={encode:(e,t=new n.fI)=>(""!==e.guid&&t.uint32(10).string(e.guid),""!==e.diffs&&t.uint32(18).string(e.diffs),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eC();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.guid=i.string();continue;case 2:if(18!==e)break;s.diffs=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({guid:tn(e.guid)?ti.String(e.guid):"",diffs:tn(e.diffs)?ti.String(e.diffs):""}),toJSON(e){let t={};return""!==e.guid&&(t.guid=e.guid),""!==e.diffs&&(t.diffs=e.diffs),t},create:e=>eL.fromPartial(e??{}),fromPartial(e){let t=eC();return t.guid=e.guid??"",t.diffs=e.diffs??"",t}};function ew(){return{codeSnapshotKey:""}}let eD={encode:(e,t=new n.fI)=>(""!==e.codeSnapshotKey&&t.uint32(10).string(e.codeSnapshotKey),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ew();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.codeSnapshotKey=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({codeSnapshotKey:tn(e.codeSnapshotKey)?ti.String(e.codeSnapshotKey):""}),toJSON(e){let t={};return""!==e.codeSnapshotKey&&(t.codeSnapshotKey=e.codeSnapshotKey),t},create:e=>eD.fromPartial(e??{}),fromPartial(e){let t=ew();return t.codeSnapshotKey=e.codeSnapshotKey??"",t}},ej={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ej.fromPartial(e??{}),fromPartial:e=>({})};function ek(){return{errors:[]}}let eP={encode(e,t=new n.fI){for(let i of e.errors)t.uint32(10).string(i);return t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ek();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.errors.push(i.string());continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({errors:ti.Array.isArray(e?.errors)?e.errors.map(e=>ti.String(e)):[]}),toJSON(e){let t={};return e.errors?.length&&(t.errors=e.errors),t},create:e=>eP.fromPartial(e??{}),fromPartial(e){let t=ek();return t.errors=e.errors?.map(e=>e)||[],t}};function eM(){return{libraryKeys:[]}}let eF={encode(e,t=new n.fI){for(let i of e.libraryKeys)t.uint32(10).string(i);return t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eM();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.libraryKeys.push(i.string());continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({libraryKeys:ti.Array.isArray(e?.libraryKeys)?e.libraryKeys.map(e=>ti.String(e)):[]}),toJSON(e){let t={};return e.libraryKeys?.length&&(t.libraryKeys=e.libraryKeys),t},create:e=>eF.fromPartial(e??{}),fromPartial(e){let t=eM();return t.libraryKeys=e.libraryKeys?.map(e=>e)||[],t}};function eU(){return{filePath:"",snippetStartLine:0,tagLine:0,tagName:""}}let eG={encode:(e,t=new n.fI)=>(""!==e.filePath&&t.uint32(10).string(e.filePath),0!==e.snippetStartLine&&t.uint32(16).int32(e.snippetStartLine),0!==e.tagLine&&t.uint32(24).int32(e.tagLine),""!==e.tagName&&t.uint32(34).string(e.tagName),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eU();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.filePath=i.string();continue;case 2:if(16!==e)break;s.snippetStartLine=i.int32();continue;case 3:if(24!==e)break;s.tagLine=i.int32();continue;case 4:if(34!==e)break;s.tagName=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({filePath:tn(e.filePath)?ti.String(e.filePath):"",snippetStartLine:tn(e.snippetStartLine)?ti.Number(e.snippetStartLine):0,tagLine:tn(e.tagLine)?ti.Number(e.tagLine):0,tagName:tn(e.tagName)?ti.String(e.tagName):""}),toJSON(e){let t={};return""!==e.filePath&&(t.filePath=e.filePath),0!==e.snippetStartLine&&(t.snippetStartLine=Math.round(e.snippetStartLine)),0!==e.tagLine&&(t.tagLine=Math.round(e.tagLine)),""!==e.tagName&&(t.tagName=e.tagName),t},create:e=>eG.fromPartial(e??{}),fromPartial(e){let t=eU();return t.filePath=e.filePath??"",t.snippetStartLine=e.snippetStartLine??0,t.tagLine=e.tagLine??0,t.tagName=e.tagName??"",t}};function eV(){return{filePath:"",snippetStartLine:0,tagLine:0,snippet:"",tagName:"",fileImports:void 0,componentHeader:void 0}}let eB={encode:(e,t=new n.fI)=>(""!==e.filePath&&t.uint32(10).string(e.filePath),0!==e.snippetStartLine&&t.uint32(16).int32(e.snippetStartLine),0!==e.tagLine&&t.uint32(24).int32(e.tagLine),""!==e.snippet&&t.uint32(34).string(e.snippet),""!==e.tagName&&t.uint32(42).string(e.tagName),void 0!==e.fileImports&&t.uint32(50).string(e.fileImports),void 0!==e.componentHeader&&t.uint32(58).string(e.componentHeader),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eV();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.filePath=i.string();continue;case 2:if(16!==e)break;s.snippetStartLine=i.int32();continue;case 3:if(24!==e)break;s.tagLine=i.int32();continue;case 4:if(34!==e)break;s.snippet=i.string();continue;case 5:if(42!==e)break;s.tagName=i.string();continue;case 6:if(50!==e)break;s.fileImports=i.string();continue;case 7:if(58!==e)break;s.componentHeader=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({filePath:tn(e.filePath)?ti.String(e.filePath):"",snippetStartLine:tn(e.snippetStartLine)?ti.Number(e.snippetStartLine):0,tagLine:tn(e.tagLine)?ti.Number(e.tagLine):0,snippet:tn(e.snippet)?ti.String(e.snippet):"",tagName:tn(e.tagName)?ti.String(e.tagName):"",fileImports:tn(e.fileImports)?ti.String(e.fileImports):void 0,componentHeader:tn(e.componentHeader)?ti.String(e.componentHeader):void 0}),toJSON(e){let t={};return""!==e.filePath&&(t.filePath=e.filePath),0!==e.snippetStartLine&&(t.snippetStartLine=Math.round(e.snippetStartLine)),0!==e.tagLine&&(t.tagLine=Math.round(e.tagLine)),""!==e.snippet&&(t.snippet=e.snippet),""!==e.tagName&&(t.tagName=e.tagName),void 0!==e.fileImports&&(t.fileImports=e.fileImports),void 0!==e.componentHeader&&(t.componentHeader=e.componentHeader),t},create:e=>eB.fromPartial(e??{}),fromPartial(e){let t=eV();return t.filePath=e.filePath??"",t.snippetStartLine=e.snippetStartLine??0,t.tagLine=e.tagLine??0,t.snippet=e.snippet??"",t.tagName=e.tagName??"",t.fileImports=e.fileImports??void 0,t.componentHeader=e.componentHeader??void 0,t}};function eX(){return{filePath:"",tagName:""}}let eH={encode:(e,t=new n.fI)=>(""!==e.filePath&&t.uint32(10).string(e.filePath),""!==e.tagName&&t.uint32(18).string(e.tagName),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eX();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.filePath=i.string();continue;case 2:if(18!==e)break;s.tagName=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({filePath:tn(e.filePath)?ti.String(e.filePath):"",tagName:tn(e.tagName)?ti.String(e.tagName):""}),toJSON(e){let t={};return""!==e.filePath&&(t.filePath=e.filePath),""!==e.tagName&&(t.tagName=e.tagName),t},create:e=>eH.fromPartial(e??{}),fromPartial(e){let t=eX();return t.filePath=e.filePath??"",t.tagName=e.tagName??"",t}};function ez(){return{folderPath:"",libraryName:void 0}}let eW={encode:(e,t=new n.fI)=>(""!==e.folderPath&&t.uint32(10).string(e.folderPath),void 0!==e.libraryName&&t.uint32(18).string(e.libraryName),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=ez();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.folderPath=i.string();continue;case 2:if(18!==e)break;s.libraryName=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({folderPath:tn(e.folderPath)?ti.String(e.folderPath):"",libraryName:tn(e.libraryName)?ti.String(e.libraryName):void 0}),toJSON(e){let t={};return""!==e.folderPath&&(t.folderPath=e.folderPath),void 0!==e.libraryName&&(t.libraryName=e.libraryName),t},create:e=>eW.fromPartial(e??{}),fromPartial(e){let t=ez();return t.folderPath=e.folderPath??"",t.libraryName=e.libraryName??void 0,t}};function eK(){return{origin:""}}let eq={encode:(e,t=new n.fI)=>(""!==e.origin&&t.uint32(10).string(e.origin),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eK();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.origin=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({origin:tn(e.origin)?ti.String(e.origin):""}),toJSON(e){let t={};return""!==e.origin&&(t.origin=e.origin),t},create:e=>eq.fromPartial(e??{}),fromPartial(e){let t=eK();return t.origin=e.origin??"",t}};function e$(){return{toolCallId:"",toolName:"",resultJson:""}}let eY={encode:(e,t=new n.fI)=>(""!==e.toolCallId&&t.uint32(10).string(e.toolCallId),""!==e.toolName&&t.uint32(18).string(e.toolName),""!==e.resultJson&&t.uint32(26).string(e.resultJson),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e$();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.toolCallId=i.string();continue;case 2:if(18!==e)break;s.toolName=i.string();continue;case 3:if(26!==e)break;s.resultJson=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({toolCallId:tn(e.toolCallId)?ti.String(e.toolCallId):"",toolName:tn(e.toolName)?ti.String(e.toolName):"",resultJson:tn(e.resultJson)?ti.String(e.resultJson):""}),toJSON(e){let t={};return""!==e.toolCallId&&(t.toolCallId=e.toolCallId),""!==e.toolName&&(t.toolName=e.toolName),""!==e.resultJson&&(t.resultJson=e.resultJson),t},create:e=>eY.fromPartial(e??{}),fromPartial(e){let t=e$();return t.toolCallId=e.toolCallId??"",t.toolName=e.toolName??"",t.resultJson=e.resultJson??"",t}};function eJ(){return{changedFilesJson:"",title:"",legacyS3CodeSnapshotKey:void 0}}let eZ={encode:(e,t=new n.fI)=>(""!==e.changedFilesJson&&t.uint32(10).string(e.changedFilesJson),""!==e.title&&t.uint32(18).string(e.title),void 0!==e.legacyS3CodeSnapshotKey&&t.uint32(26).string(e.legacyS3CodeSnapshotKey),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eJ();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.changedFilesJson=i.string();continue;case 2:if(18!==e)break;s.title=i.string();continue;case 3:if(26!==e)break;s.legacyS3CodeSnapshotKey=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({changedFilesJson:tn(e.changedFilesJson)?ti.String(e.changedFilesJson):"",title:tn(e.title)?ti.String(e.title):"",legacyS3CodeSnapshotKey:tn(e.legacyS3CodeSnapshotKey)?ti.String(e.legacyS3CodeSnapshotKey):void 0}),toJSON(e){let t={};return""!==e.changedFilesJson&&(t.changedFilesJson=e.changedFilesJson),""!==e.title&&(t.title=e.title),void 0!==e.legacyS3CodeSnapshotKey&&(t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey),t},create:e=>eZ.fromPartial(e??{}),fromPartial(e){let t=eJ();return t.changedFilesJson=e.changedFilesJson??"",t.title=e.title??"",t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey??void 0,t}};function eQ(){return{plainText:"",fileKeyHash:""}}let e0={encode:(e,t=new n.fI)=>(""!==e.plainText&&t.uint32(10).string(e.plainText),""!==e.fileKeyHash&&t.uint32(18).string(e.fileKeyHash),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=eQ();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.plainText=i.string();continue;case 2:if(18!==e)break;s.fileKeyHash=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({plainText:tn(e.plainText)?ti.String(e.plainText):"",fileKeyHash:tn(e.fileKeyHash)?ti.String(e.fileKeyHash):""}),toJSON(e){let t={};return""!==e.plainText&&(t.plainText=e.plainText),""!==e.fileKeyHash&&(t.fileKeyHash=e.fileKeyHash),t},create:e=>e0.fromPartial(e??{}),fromPartial(e){let t=eQ();return t.plainText=e.plainText??"",t.fileKeyHash=e.fileKeyHash??"",t}};function e1(){return{plainText:void 0,legacyS3CodeSnapshotKey:void 0,blobstoreContentKey:void 0}}let e2={encode:(e,t=new n.fI)=>(void 0!==e.plainText&&t.uint32(10).string(e.plainText),void 0!==e.legacyS3CodeSnapshotKey&&t.uint32(18).string(e.legacyS3CodeSnapshotKey),void 0!==e.blobstoreContentKey&&t.uint32(26).string(e.blobstoreContentKey),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e1();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.plainText=i.string();continue;case 2:if(18!==e)break;s.legacyS3CodeSnapshotKey=i.string();continue;case 3:if(26!==e)break;s.blobstoreContentKey=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({plainText:tn(e.plainText)?ti.String(e.plainText):void 0,legacyS3CodeSnapshotKey:tn(e.legacyS3CodeSnapshotKey)?ti.String(e.legacyS3CodeSnapshotKey):void 0,blobstoreContentKey:tn(e.blobstoreContentKey)?ti.String(e.blobstoreContentKey):void 0}),toJSON(e){let t={};return void 0!==e.plainText&&(t.plainText=e.plainText),void 0!==e.legacyS3CodeSnapshotKey&&(t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey),void 0!==e.blobstoreContentKey&&(t.blobstoreContentKey=e.blobstoreContentKey),t},create:e=>e2.fromPartial(e??{}),fromPartial(e){let t=e1();return t.plainText=e.plainText??void 0,t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey??void 0,t.blobstoreContentKey=e.blobstoreContentKey??void 0,t}};function e5(){return{userId:"",timestamp:""}}let e3={encode:(e,t=new n.fI)=>(""!==e.userId&&t.uint32(10).string(e.userId),""!==e.timestamp&&t.uint32(18).string(e.timestamp),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e5();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.userId=i.string();continue;case 2:if(18!==e)break;s.timestamp=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({userId:tn(e.userId)?ti.String(e.userId):"",timestamp:tn(e.timestamp)?ti.String(e.timestamp):""}),toJSON(e){let t={};return""!==e.userId&&(t.userId=e.userId),""!==e.timestamp&&(t.timestamp=e.timestamp),t},create:e=>e3.fromPartial(e??{}),fromPartial(e){let t=e5();return t.userId=e.userId??"",t.timestamp=e.timestamp??"",t}};function e4(){return{title:"",legacyS3CodeSnapshotKey:void 0,blobstoreContentKey:void 0}}let e8={encode:(e,t=new n.fI)=>(""!==e.title&&t.uint32(10).string(e.title),void 0!==e.legacyS3CodeSnapshotKey&&t.uint32(18).string(e.legacyS3CodeSnapshotKey),void 0!==e.blobstoreContentKey&&t.uint32(26).string(e.blobstoreContentKey),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e4();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.title=i.string();continue;case 2:if(18!==e)break;s.legacyS3CodeSnapshotKey=i.string();continue;case 3:if(26!==e)break;s.blobstoreContentKey=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({title:tn(e.title)?ti.String(e.title):"",legacyS3CodeSnapshotKey:tn(e.legacyS3CodeSnapshotKey)?ti.String(e.legacyS3CodeSnapshotKey):void 0,blobstoreContentKey:tn(e.blobstoreContentKey)?ti.String(e.blobstoreContentKey):void 0}),toJSON(e){let t={};return""!==e.title&&(t.title=e.title),void 0!==e.legacyS3CodeSnapshotKey&&(t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey),void 0!==e.blobstoreContentKey&&(t.blobstoreContentKey=e.blobstoreContentKey),t},create:e=>e8.fromPartial(e??{}),fromPartial(e){let t=e4();return t.title=e.title??"",t.legacyS3CodeSnapshotKey=e.legacyS3CodeSnapshotKey??void 0,t.blobstoreContentKey=e.blobstoreContentKey??void 0,t}};function e7(){return{mcpMentions:[]}}let e6={encode(e,t=new n.fI){for(let i of e.mcpMentions)te.encode(i,t.uint32(10).fork()).join();return t},decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e7();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.mcpMentions.push(te.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({mcpMentions:ti.Array.isArray(e?.mcpMentions)?e.mcpMentions.map(e=>te.fromJSON(e)):[]}),toJSON(e){let t={};return e.mcpMentions?.length&&(t.mcpMentions=e.mcpMentions.map(e=>te.toJSON(e))),t},create:e=>e6.fromPartial(e??{}),fromPartial(e){let t=e7();return t.mcpMentions=e.mcpMentions?.map(e=>te.fromPartial(e))||[],t}};function e9(){return{serverId:"",serverName:"",iconUrl:""}}let te={encode:(e,t=new n.fI)=>(""!==e.serverId&&t.uint32(10).string(e.serverId),""!==e.serverName&&t.uint32(18).string(e.serverName),""!==e.iconUrl&&t.uint32(26).string(e.iconUrl),t),decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t,s=e9();for(;i.pos<a;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.serverId=i.string();continue;case 2:if(18!==e)break;s.serverName=i.string();continue;case 3:if(26!==e)break;s.iconUrl=i.string();continue}if((7&e)==4||0===e)break;i.skip(7&e)}return s},fromJSON:e=>({serverId:tn(e.serverId)?ti.String(e.serverId):"",serverName:tn(e.serverName)?ti.String(e.serverName):"",iconUrl:tn(e.iconUrl)?ti.String(e.iconUrl):""}),toJSON(e){let t={};return""!==e.serverId&&(t.serverId=e.serverId),""!==e.serverName&&(t.serverName=e.serverName),""!==e.iconUrl&&(t.iconUrl=e.iconUrl),t},create:e=>te.fromPartial(e??{}),fromPartial(e){let t=e9();return t.serverId=e.serverId??"",t.serverName=e.serverName??"",t.iconUrl=e.iconUrl??"",t}},tt={encode:(e,t=new n.fI)=>t,decode(e,t){let i=e instanceof n.V5?e:new n.V5(e),a=void 0===t?i.len:i.pos+t;for(;i.pos<a;){let e=i.uint32();if((7&e)==4||0===e)break;i.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>tt.fromPartial(e??{}),fromPartial:e=>({})},ti=(()=>{if("u">typeof globalThis)return globalThis;if("u">typeof self)return self;if("u">typeof window)return window;if("u">typeof global)return global;throw"Unable to locate global object"})();function tn(e){return null!=e}let ta=["selected-node-ids","enabled-libraries","jsx","text","text-ref","image-ref","reasoning","reasoning-ref","redacted-reasoning","redacted-reasoning-ref","tool-call-ref","tool-result-ref","tool-call-json-DO-NOT-USE-IN-PROD","tool-result-json-DO-NOT-USE-IN-PROD","figmake-test-part","cortex-request-uuid","code-chat-assistant-text","code-chat-assistant-code","code-chat-model-config-version","code-chat-assistant-title","code-chat-provider-metadata","code-chat-code-import-ref","code-chat-image-import-ref","code-chat-diff-import-ref","code-chat-text-import-ref","code-chat-backfill-image-import","code-chat-backfill-code-import","code-chat-backfill-diff-import","code-chat-legacy-s3-code-snapshot","code-chat-code-snapshot","code-chat-errors","code-chat-library-keys","code-chat-inspected-element-ref","code-chat-backfill-inspected-element","code-chat-inspected-component","code-chat-inspected-library","code-chat-origin","code-chat-legacy-assistant-tool-result","code-chat-manual-edit","code-chat-duplicated-file","code-chat-inserted-template","code-chat-deleted-chat-history","code-chat-snapshot-restore","code-chat-mcp-mention","no-op"],ts={"selected-node-ids":s,"enabled-libraries":r,jsx:c,text:m,"text-ref":f,"image-ref":S,reasoning:I,"reasoning-ref":N,"redacted-reasoning":D,"redacted-reasoning-ref":M,"tool-call-ref":V,"tool-result-ref":z,"tool-call-json-DO-NOT-USE-IN-PROD":$,"tool-result-json-DO-NOT-USE-IN-PROD":Q,"figmake-test-part":es,"cortex-request-uuid":er,"code-chat-assistant-text":ed,"code-chat-assistant-code":eu,"code-chat-model-config-version":em,"code-chat-assistant-title":ep,"code-chat-provider-metadata":ef,"code-chat-code-import-ref":eE,"code-chat-image-import-ref":eb,"code-chat-diff-import-ref":ey,"code-chat-text-import-ref":eS,"code-chat-backfill-image-import":ev,"code-chat-backfill-code-import":eI,"code-chat-backfill-diff-import":eL,"code-chat-legacy-s3-code-snapshot":eD,"code-chat-code-snapshot":ej,"code-chat-errors":eP,"code-chat-library-keys":eF,"code-chat-inspected-element-ref":eG,"code-chat-backfill-inspected-element":eB,"code-chat-inspected-component":eH,"code-chat-inspected-library":eW,"code-chat-origin":eq,"code-chat-legacy-assistant-tool-result":eY,"code-chat-manual-edit":eZ,"code-chat-duplicated-file":e0,"code-chat-inserted-template":e2,"code-chat-deleted-chat-history":e3,"code-chat-snapshot-restore":e8,"code-chat-mcp-mention":e6,"no-op":tt}},10879(e,t,i){i.d(t,{e:()=>s});var n=i(130729);let a=Symbol("unset");function s(e,t,i=200,o=!1){let r=a,l=(0,n.s)(()=>{r!==a&&(e(r),r=a)},i,o),d=function(e){r=r===a?e:t(r,e),l()};return d.cancel=()=>{l.cancel(),r=a},d.flush=()=>{l.flush(),r=a},d}},350923(e,t,i){i.d(t,{AY:()=>l.AY,An:()=>d.A,E2:()=>c.l,E3:()=>c.E,FZ:()=>r.FZ,Hj:()=>r.Hj,Iz:()=>r.Iz,LJ:()=>r.LJ,M2:()=>r.M2,Mt:()=>r.Mt,Pj:()=>a.Pj,Rq:()=>r.Rq,S_:()=>r.S_,Ut:()=>r.Ut,Xr:()=>a.Xr,Zb:()=>r.Zb,eU:()=>r.eU,fp:()=>_,mC:()=>m,md:()=>u,mg:()=>r.mg,oA:()=>r.oA,p6:()=>r.p6,tP:()=>r.tP,t_:()=>r.t_,tx:()=>r.tx,um:()=>r.um,xP:()=>r.xP,yu:()=>r.yu,zl:()=>r.zl});var n=i(105652),a=i(961039),s=i(346439),o=i(871779),r=i(862784),l=i(933421),d=i(296358),c=i(849018);function u(e,t){let i=(0,a.Pj)(),[[s,r,l],d]=(0,n.useReducer)(t=>{let n=i.get(e);return Object.is(t[0],n)&&t[1]===i&&t[2]===e?t:[n,i,e]},void 0,()=>[i.get(e),i,e]),c=i.get(e);(r!==i||l!==e)&&(d(),c=i.get(e));let u=t?.deferToFrame??!1;return(0,n.useEffect)(()=>{let t,n=i.sub(e,()=>{u?(void 0!==t&&cancelAnimationFrame(t),t=requestAnimationFrame(d)):d()});return d(),()=>{void 0!==t&&cancelAnimationFrame(t),n()}},[i,e,u]),(0,n.useDebugValue)(c),c instanceof Promise?(0,o.Y)(c):c}function _(e,t){return[u(e,t),(0,a.Xr)(e)]}function m(e,t){let i=(0,n.useMemo)(()=>(0,s.eU)(e),[e]);return u(t||i)}},150956(e,t,i){i.d(t,{Ay:()=>a,SV:()=>s,cZ:()=>o});var n=i(105652);function a(...e){return t=>{e.forEach(e=>{o(e,t)})}}function s(...e){return n.useMemo(()=>a(...e),e)}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}}]);

//# debugId=13bd7e1c-4944-5b6c-91e9-e1d6a5ee30cb

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c630b69dcd4a5f754ac4e8b42d11b0576da6a44f/9543-23edc3bda33540c0.min.js.map